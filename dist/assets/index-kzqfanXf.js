const __vite__fileDeps=["assets/embedded-wallet-5Sd4F2Bi.js","assets/if-defined-DOGcsOOe.js","assets/index-DIlERNXg.js","assets/index-vxX1E91M.js","assets/ref-BiJRpoBm.js","assets/index-DV2p36pn.js","assets/index-BotWcc3t.js","assets/index-bwR0BKbJ.js","assets/index-DGuW_nsp.js","assets/index-Bkqzb4wQ.js","assets/index-CjQyJJ7j.js","assets/index-Dn9wYPRB.js","assets/email-D0qwpMvK.js","assets/index-B34JZdai.js","assets/socials-5Otk3VgL.js","assets/index-BepVrb2O.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-DNtnM4a-.js","assets/index-Bacb8VyM.js","assets/index-TL39HMEc.js","assets/index-CGK7ZNkq.js","assets/swaps-nY2dwqM3.js","assets/index-mucbpOu6.js","assets/index-CO5X2l1u.js","assets/index-Cti7NBOf.js","assets/send-DRVZ3rNR.js","assets/index-Cdjxmg0B.js","assets/index-xq1kBUCS.js","assets/receive-CeD2wL3A.js","assets/index--JXutEtd.js","assets/onramp-CYM7hR36.js","assets/index-DFiBWzax.js","assets/index-DEYac1Ig.js","assets/index-CyvBdObY.js","assets/transactions-CepvJWAt.js","assets/index-B01LT1S1.js","assets/index-Dpd1hpPk.js","assets/index-RzGAndaN.js","assets/index-77N3VRLU.js","assets/index-BYwDRpIF.js","assets/w3m-modal-Cwy4CrsD.js","assets/swipe-back-DIDMQV5C.js","assets/index3-BtSDVHqQ.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var nM=Object.defineProperty;var rM=(t,e,n)=>e in t?nM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ar=(t,e,n)=>(rM(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ws(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var XO={exports:{}},Kb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM=Symbol.for("react.transitional.element"),sM=Symbol.for("react.fragment");function QO(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:iM,type:t,key:r,ref:e!==void 0?e:null,props:n}}Kb.Fragment=sM;Kb.jsx=QO;Kb.jsxs=QO;XO.exports=Kb;var ie=XO.exports;const oM=Symbol(),pS=Symbol(),cf="a",Qf="w";let aM=(t,e)=>new Proxy(t,e);const KE=Object.getPrototypeOf,GE=new WeakMap,JO=t=>t&&(GE.has(t)?GE.get(t):KE(t)===Object.prototype||KE(t)===Array.prototype),Cy=t=>typeof t=="object"&&t!==null,cM=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(KE(t),e)},gS=t=>t[pS]||t,e3=(t,e,n,r)=>{if(!JO(t))return t;let i=r&&r.get(t);if(!i){const c=gS(t);i=(u=>Object.values(Object.getOwnPropertyDescriptors(u)).some(h=>!h.configurable&&!h.writable))(c)?[c,cM(c)]:[c],r?.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((c,u)=>{const h={f:u};let f=!1;const g=(_,x)=>{if(!f){let C=h[cf].get(c);if(C||(C={},h[cf].set(c,C)),_===Qf)C[Qf]=!0;else{let S=C[_];S||(S=new Set,C[_]=S),S.add(x)}}},m={get:(_,x)=>x===pS?c:(g("k",x),e3(Reflect.get(_,x),h[cf],h.c,h.t)),has:(_,x)=>x===oM?(f=!0,h[cf].delete(c),!0):(g("h",x),Reflect.has(_,x)),getOwnPropertyDescriptor:(_,x)=>(g("o",x),Reflect.getOwnPropertyDescriptor(_,x)),ownKeys:_=>(g(Qf),Reflect.ownKeys(_))};return u&&(m.set=m.deleteProperty=()=>!1),[m,h]})(s,!!o),a[1].p=aM(o||s,a[0]),n&&n.set(s,a)),a[1][cf]=e,a[1].c=n,a[1].t=r,a[1].p},t3=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!Cy(t)||!Cy(e))return!0;const s=n.get(gS(t));if(!s)return!0;if(r){const a=r.get(t);if(a&&a.n===e)return a.g;r.set(t,{n:e,g:!1})}let o=null;try{for(const a of s.h||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[Qf]===!0){if(o=((a,c)=>{const u=Reflect.ownKeys(a),h=Reflect.ownKeys(c);return u.length!==h.length||u.some((f,g)=>f!==h[g])})(t,e),o)return o}else for(const a of s.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,a)!=!!Reflect.getOwnPropertyDescriptor(e,a),o)return o;for(const a of s.k||[])if(o=t3(t[a],e[a],n,r,i),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(t,{n:e,g:o})}},lM=t=>JO(t)&&t[pS]||null,o2=(t,e=!0)=>{GE.set(t,e)},uM=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;Cy(o)&&i.add(o);const c=Cy(o)&&e.get(gS(o));if(c){var u,h;if((u=c.h)==null||u.forEach(g=>{const m=`:has(${String(g)})`;r.push(a?[...a,m]:[m])}),c[Qf]===!0){const g=":ownKeys";r.push(a?[...a,g]:[g])}else{var f;(f=c.o)==null||f.forEach(g=>{const m=`:hasOwn(${String(g)})`;r.push(a?[...a,m]:[m])})}(h=c.k)==null||h.forEach(g=>{!("value"in(Object.getOwnPropertyDescriptor(o,g)||{}))||s(o[g],a?[...a,g]:[g])})}else a&&r.push(a)};return s(t),r};var Ty={};const Av=t=>typeof t=="object"&&t!==null,hc=new WeakMap,Mf=new WeakSet,dM=(t=Object.is,e=(u,h)=>new Proxy(u,h),n=u=>Av(u)&&!Mf.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,h,f=r)=>{const g=i.get(u);if(g?.[0]===h)return g[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return o2(m,!0),i.set(u,[h,m]),Reflect.ownKeys(u).forEach(_=>{if(Object.getOwnPropertyDescriptor(m,_))return;const x=Reflect.get(u,_),{enumerable:C}=Reflect.getOwnPropertyDescriptor(u,_),S={value:x,enumerable:C,configurable:!0};if(Mf.has(x))o2(x,!1);else if(x instanceof Promise)delete S.value,S.get=()=>f(x);else if(hc.has(x)){const[T,I]=hc.get(x);S.value=s(T,I(),f)}Object.defineProperty(m,_,S)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],c=u=>{if(!Av(u))throw new Error("object required");const h=o.get(u);if(h)return h;let f=a[0];const g=new Set,m=(q,X=++a[0])=>{f!==X&&(f=X,g.forEach(Y=>Y(q,X)))};let _=a[1];const x=(q=++a[1])=>(_!==q&&!g.size&&(_=q,S.forEach(([X])=>{const Y=X[1](q);Y>f&&(f=Y)})),f),C=q=>(X,Y)=>{const ee=[...X];ee[1]=[q,...ee[1]],m(ee,Y)},S=new Map,T=(q,X)=>{if((Ty?"production":void 0)!=="production"&&S.has(q))throw new Error("prop listener already exists");if(g.size){const Y=X[3](C(q));S.set(q,[X,Y])}else S.set(q,[X])},I=q=>{var X;const Y=S.get(q);Y&&(S.delete(q),(X=Y[1])==null||X.call(Y))},P=q=>(g.add(q),g.size===1&&S.forEach(([Y,ee],j)=>{if((Ty?"production":void 0)!=="production"&&ee)throw new Error("remove already exists");const w=Y[3](C(j));S.set(j,[Y,w])}),()=>{g.delete(q),g.size===0&&S.forEach(([Y,ee],j)=>{ee&&(ee(),S.set(j,[Y]))})}),z=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),L=e(z,{deleteProperty(q,X){const Y=Reflect.get(q,X);I(X);const ee=Reflect.deleteProperty(q,X);return ee&&m(["delete",[X],Y]),ee},set(q,X,Y,ee){const j=Reflect.has(q,X),w=Reflect.get(q,X,ee);if(j&&(t(w,Y)||o.has(Y)&&t(w,o.get(Y))))return!0;I(X),Av(Y)&&(Y=lM(Y)||Y);let b=Y;if(Y instanceof Promise)Y.then(v=>{Y.status="fulfilled",Y.value=v,m(["resolve",[X],v])}).catch(v=>{Y.status="rejected",Y.reason=v,m(["reject",[X],v])});else{!hc.has(Y)&&n(Y)&&(b=c(Y));const v=!Mf.has(b)&&hc.get(b);v&&T(X,v)}return Reflect.set(q,X,b,ee),m(["set",[X],Y,w]),!0}});o.set(u,L);const V=[z,x,s,P];return hc.set(L,V),Reflect.ownKeys(u).forEach(q=>{const X=Object.getOwnPropertyDescriptor(u,q);"value"in X&&(L[q]=u[q],delete X.value,delete X.writable),Object.defineProperty(z,q,X)}),L})=>[c,hc,Mf,t,e,n,r,i,s,o,a],[hM]=dM();function vn(t={}){return hM(t)}function ti(t,e,n){const r=hc.get(t);(Ty?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const u=o(h=>{s.push(h),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function Jl(t,e){const n=hc.get(t);(Ty?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function Vc(t){return Mf.add(t),t}function yi(t,e,n,r){let i=t[e];return ti(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function fM(t){const e=vn({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const n3={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var pM=20,gM=1,Ph=1e6,mM=1e6,yM=-7,bM=21,wM=!1,Zg="[big.js] ",mu=Zg+"Invalid ",Gb=mu+"decimal places",vM=mu+"rounding mode",r3=Zg+"Division by zero",Vt={},Fo=void 0,EM=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function i3(){function t(e){var n=this;if(!(n instanceof t))return e===Fo?i3():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(mu+"value");e=e===0&&1/e<0?"-0":String(e)}_M(n,e)}n.constructor=t}return t.prototype=Vt,t.DP=pM,t.RM=gM,t.NE=yM,t.PE=bM,t.strict=wM,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function _M(t,e){var n,r,i;if(!EM.test(e))throw Error(mu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function yu(t,e,n,r){var i=t.c;if(n===Fo&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(vM);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Fo))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==Fo||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function bu(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}Vt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Vt.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Vt.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Ph)throw Error(Gb);if(!i[0])throw Error(r3);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,u,h,f,g=i.slice(),m=a=i.length,_=r.length,x=r.slice(0,a),C=x.length,S=t,T=S.c=[],I=0,P=o+(S.e=e.e-t.e)+1;for(S.s=s,s=P<0?0:P,g.unshift(0);C++<a;)x.push(0);do{for(u=0;u<10;u++){if(a!=(C=x.length))h=a>C?1:-1;else for(f=-1,h=0;++f<a;)if(i[f]!=x[f]){h=i[f]>x[f]?1:-1;break}if(h<0){for(c=C==a?i:g;C;){if(x[--C]<c[C]){for(f=C;f&&!x[--f];)x[f]=9;--x[f],x[C]+=10}x[C]-=c[C]}for(;!x[0];)x.shift()}else break}T[I++]=h?u:++u,x[0]&&h?x[C]=r[m]||0:x=[r[m]]}while((m++<_||x[0]!==Fo)&&s--);return!T[0]&&I!=1&&(T.shift(),S.e--,P--),I>P&&yu(S,P,n.RM,x[0]!==Fo),S};Vt.eq=function(t){return this.cmp(t)===0};Vt.gt=function(t){return this.cmp(t)>0};Vt.gte=function(t){return this.cmp(t)>-1};Vt.lt=function(t){return this.cmp(t)<0};Vt.lte=function(t){return this.cmp(t)<1};Vt.minus=Vt.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var u=s.c.slice(),h=s.e,f=t.c,g=t.e;if(!u[0]||!f[0])return f[0]?t.s=-c:u[0]?t=new o(s):t.s=1,t;if(a=h-g){for((i=a<0)?(a=-a,r=u):(g=h,r=f),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<f.length)?u:f).length,a=c=0;c<n;c++)if(u[c]!=f[c]){i=u[c]<f[c];break}if(i&&(r=u,u=f,f=r,t.s=-t.s),(c=(n=f.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;n>a;){if(u[--n]<f[n]){for(e=n;e&&!u[--e];)u[e]=9;--u[e],u[n]+=10}u[n]-=f[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--g;return u[0]||(t.s=1,u=[g=0]),t.c=u,t.e=g,t};Vt.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(r3);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};Vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Vt.plus=Vt.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=u):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-u.length<0&&(r=u,u=a,a=r),e=u.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+u[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Vt.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-1e6||t>mM)throw Error(mu+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};Vt.prec=function(t,e){if(t!==~~t||t<1||t>Ph)throw Error(mu+"precision");return yu(new this.constructor(this),t,e)};Vt.round=function(t,e){if(t===Fo)t=0;else if(t!==~~t||t<-1e6||t>Ph)throw Error(Gb);return yu(new this.constructor(this),t+this.e+1,e)};Vt.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Zg+"No square root");s=Math.sqrt(+bu(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return yu(t,(i.DP-=4)+t.e+1,i.RM)};Vt.times=Vt.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=i,i=s,s=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+s[c]*i[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Vt.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==Fo){if(t!==~~t||t<0||t>Ph)throw Error(Gb);for(n=yu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return bu(n,!0,!!r)};Vt.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==Fo){if(t!==~~t||t<0||t>Ph)throw Error(Gb);for(n=yu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return bu(n,!1,!!r)};Vt[Symbol.for("nodejs.util.inspect.custom")]=Vt.toJSON=Vt.toString=function(){var t=this,e=t.constructor;return bu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Vt.toNumber=function(){var t=+bu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Zg+"Imprecise conversion");return t};Vt.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==Fo){if(t!==~~t||t<1||t>Ph)throw Error(mu+"precision");for(n=yu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return bu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};Vt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Zg+"valueOf disallowed");return bu(t,t.e<=e.NE||t.e>=e.PE,!0)};var lf=i3();const xM={bigNumber(t){return t?new lf(t):new lf(0)},multiply(t,e){if(t===void 0||e===void 0)return new lf(0);const n=new lf(t),r=new lf(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},SM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],AM=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],CM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var a2={};const Ce={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof a2<"u"?a2.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},TM={getERC20Abi:t=>Ce.USDT_CONTRACT_ADDRESSES.includes(t)?CM:SM,getSwapAbi:()=>AM},ya={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},ht={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function Cv(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const lt={setItem(t,e){Uf()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Uf())return localStorage.getItem(t)||void 0},removeItem(t){Uf()&&localStorage.removeItem(t)},clear(){Uf()&&localStorage.clear()}};function Uf(){return typeof window<"u"&&typeof localStorage<"u"}function ka(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var c2={};const Tv=(typeof process<"u"&&typeof c2<"u"?c2.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Pbe=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],$be="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Or={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE:Tv,SECURE_SITE_DASHBOARD:`${Tv}/dashboard`,SECURE_SITE_FAVICON:`${Tv}/images/favicon.png`,WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},De={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=De.getActiveNamespace(),e=De.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{lt.setItem(ht.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=lt.getItem(ht.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{lt.removeItem(ht.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{lt.setItem(ht.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{lt.setItem(ht.ACTIVE_CAIP_NETWORK_ID,t),De.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return lt.getItem(ht.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{lt.removeItem(ht.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Cv(t);lt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=De.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),lt.setItem(ht.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=lt.getItem(ht.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=Cv(t);lt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return lt.getItem(ht.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Cv(t);return lt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{lt.setItem(ht.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return lt.getItem(ht.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{lt.removeItem(ht.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return lt.getItem(ht.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return lt.getItem(ht.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{lt.setItem(ht.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return lt.getItem(ht.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=lt.getItem(ht.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));lt.setItem(ht.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=De.getConnectedNamespaces();e.includes(t)||(e.push(t),De.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=De.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),De.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return lt.getItem(ht.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{lt.setItem(ht.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{lt.removeItem(ht.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=lt.getItem(ht.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=De.getBalanceCache();lt.setItem(ht.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=De.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;De.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=De.getBalanceCache();e[t.caipAddress]=t,lt.setItem(ht.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=lt.getItem(ht.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=De.getBalanceCache();lt.setItem(ht.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=De.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),De.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=De.getNativeBalanceCache();e[t.caipAddress]=t,lt.setItem(ht.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=lt.getItem(ht.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=De.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;De.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=De.getEnsCache();e[t.address]=t,lt.setItem(ht.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=De.getEnsCache();lt.setItem(ht.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=lt.getItem(ht.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=De.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;De.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=De.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},lt.setItem(ht.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=De.getIdentityCache();lt.setItem(ht.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{lt.removeItem(ht.PORTFOLIO_CACHE),lt.removeItem(ht.NATIVE_BALANCE_CACHE),lt.removeItem(ht.ENS_CACHE),lt.removeItem(ht.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{lt.setItem(ht.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=lt.getItem(ht.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...De.getConnections(),[e]:t};lt.setItem(ht.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=lt.getItem(ht.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},tt={isMobile(){return this.isClient()?!!(window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return tt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Or.TEN_SEC_MS:!0},isAllowedRetry(t,e=Or.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},getPairingExpiry(){return Date.now()+Or.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(tt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!tt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?De.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window.matchMedia?.("(display-mode: standalone)")?.matches,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,tt.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){let n;if(t==="0")n="0";else if(typeof t=="string"){const r=Number(t);r&&(n=r.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Ce.W3M_API_URL},getBlockchainApiUrl(){return Ce.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ce.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?Or.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Ce.CHAIN_NAME_MAP},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),u=t.substring(i),h=c+n;return a+h+u}};async function uf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Xg{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await uf(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await uf(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await uf(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await uf(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await uf(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const IM={getFeatureValue(t,e){const n=e?.[t];return n===void 0?Or.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(tt.isTelegram()){if(tt.isIos())return t.filter(e=>e!=="google");if(tt.isMac())return t.filter(e=>e!=="x");if(tt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},nt=vn({features:Or.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Or.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1}),we={state:nt,subscribeKey(t,e){return yi(nt,t,e)},setOptions(t){Object.assign(nt,t)},setFeatures(t){if(!t)return;nt.features||(nt.features=Or.DEFAULT_FEATURES);const e={...nt.features,...t};nt.features=e,nt.features.socials&&(nt.features.socials=IM.filterSocialsByPlatform(nt.features.socials))},setProjectId(t){nt.projectId=t},setCustomRpcUrls(t){nt.customRpcUrls=t},setAllWallets(t){nt.allWallets=t},setIncludeWalletIds(t){nt.includeWalletIds=t},setExcludeWalletIds(t){nt.excludeWalletIds=t},setFeaturedWalletIds(t){nt.featuredWalletIds=t},setTokens(t){nt.tokens=t},setTermsConditionsUrl(t){nt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){nt.privacyPolicyUrl=t},setCustomWallets(t){nt.customWallets=t},setIsSiweEnabled(t){nt.isSiweEnabled=t},setIsUniversalProvider(t){nt.isUniversalProvider=t},setSdkVersion(t){nt.sdkVersion=t},setMetadata(t){nt.metadata=t},setDisableAppend(t){nt.disableAppend=t},setEIP6963Enabled(t){nt.enableEIP6963=t},setDebug(t){nt.debug=t},setEnableWalletConnect(t){nt.enableWalletConnect=t},setEnableWalletGuide(t){nt.enableWalletGuide=t},setEnableAuthLogger(t){nt.enableAuthLogger=t},setEnableWallets(t){nt.enableWallets=t},setPreferUniversalLinks(t){nt.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){nt.hasMultipleAddresses=t},setSIWX(t){nt.siwx=t},setConnectMethodsOrder(t){nt.features={...nt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){nt.features={...nt.features,walletFeaturesOrder:t}},setSocialsOrder(t){nt.features={...nt.features,socials:t}},setCollapseWallets(t){nt.features={...nt.features,collapseWallets:t}},setEnableEmbedded(t){nt.enableEmbedded=t},setAllowUnsupportedChain(t){nt.allowUnsupportedChain=t},setManualWCControl(t){nt.manualWCControl=t},setEnableNetworkSwitch(t){nt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(nt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){nt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return nt.universalProviderConfigOverride},getSnapshot(){return Jl(nt)}},RM=Object.freeze({enabled:!0,events:[]}),kM=new Xg({baseUrl:tt.getAnalyticsUrl(),clientId:null}),NM=5,OM=60*1e3,Xa=vn({...RM}),BM={state:Xa,subscribeKey(t,e){return yi(Xa,t,e)},async sendError(t,e){if(!Xa.enabled)return;const n=Date.now();if(Xa.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<OM}).length>=NM)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Xa.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=we.state;await kM.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:tt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch(s){console.error("Error sending telemetry event:",s)}},enable(){Xa.enabled=!0},disable(){Xa.enabled=!1},clearEvents(){Xa.events=[]}};class kp extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Error.captureStackTrace&&Error.captureStackTrace(this,kp)}}function l2(t,e){const n=t instanceof kp?t:new kp(t instanceof Error?t.message:String(t),e,t);throw BM.sendError(n,n.category),n}function Ys(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return l2(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return l2(a,e)}},n[r]=s}else n[r]=i}),n}const DM={handleMobileDeeplinkRedirect(t){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}Z.state.activeChain===Ce.CHAIN.SOLANA&&t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}},Xi=vn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),PM={state:Xi,subscribeNetworkImages(t){return ti(Xi.networkImages,()=>t(Xi.networkImages))},subscribeKey(t,e){return yi(Xi,t,e)},subscribe(t){return ti(Xi,()=>t(Xi))},setWalletImage(t,e){Xi.walletImages[t]=e},setNetworkImage(t,e){Xi.networkImages[t]=e},setChainImage(t,e){Xi.chainImages[t]=e},setConnectorImage(t,e){Xi.connectorImages={...Xi.connectorImages,[t]:e}},setTokenImage(t,e){Xi.tokenImages[t]=e},setCurrencyImage(t,e){Xi.currencyImages[t]=e}},ao=Ys(PM),$M={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},Iv=vn({networkImagePromises:{}}),s3={async fetchWalletImage(t){if(t)return await rt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Iv.networkImagePromises[t]||(Iv.networkImagePromises[t]=rt._fetchNetworkImage(t)),await Iv.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return ao.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return ao.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return ao.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return ao.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.imageId)return ao.state.connectorImages[t.imageId]},getChainImage(t){return ao.state.networkImages[$M[t]]}},Qa=vn({message:"",variant:"info",open:!1}),MM={state:Qa,subscribeKey(t,e){return yi(Qa,t,e)},open(t,e){const{debug:n}=we.state,{shortMessage:r,longMessage:i}=t;n&&(Qa.message=r,Qa.variant=e,Qa.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Qa.open=!1,Qa.message="",Qa.variant="info"}},$o=Ys(MM),UM=tt.getAnalyticsUrl(),LM=new Xg({baseUrl:UM,clientId:null}),zM=["MODAL_CREATED"],ra=vn({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),yn={state:ra,subscribe(t){return ti(ra,()=>t(ra))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=we.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Ve.state.address;if(zM.includes(t.data.event)||typeof window>"u")return;await LM.post({path:"/e",params:yn.getSdkProperties(),body:{eventId:tt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ra.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ce.HTTP_STATUS_CODES.FORBIDDEN&&!ra.reportedErrors.FORBIDDEN&&($o.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Uf()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ra.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){ra.timestamp=Date.now(),ra.data=t,we.state.features?.analytics&&yn._sendAnalyticsEvent(ra)}},Rv={PHANTOM:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",COINBASE:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"},FM=tt.getApiUrl(),Qi=new Xg({baseUrl:FM,clientId:null}),jM=40,u2=4,HM=20,ft=vn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),rt={state:ft,subscribeKey(t,e){return yi(ft,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=we.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return we.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Qi.baseUrl}/getWalletImage/${t}`,n=await Qi.getBlob({path:e,params:rt._getSdkProperties()});ao.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Qi.baseUrl}/public/getAssetImage/${t}`,n=await Qi.getBlob({path:e,params:rt._getSdkProperties()});ao.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Qi.baseUrl}/public/getAssetImage/${t}`,n=await Qi.getBlob({path:e,params:rt._getSdkProperties()});ao.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Qi.baseUrl}/public/getCurrencyImage/${t}`,n=await Qi.getBlob({path:e,params:rt._getSdkProperties()});ao.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Qi.baseUrl}/public/getTokenImage/${t}`,n=await Qi.getBlob({path:e,params:rt._getSdkProperties()});ao.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return tt.isMobile()?t?.filter(n=>n.mobile_link||n.id===Rv.COINBASE||n.id===Rv.PHANTOM&&Z.state.activeChain==="solana"):t},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Qi.get({path:"/projects/v1/origins",params:rt._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const e=Z.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!s3.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>rt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ue.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>rt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>rt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>rt._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];rt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(Rv));const r=await Qi.get({path:"/getWallets",params:{...rt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:rt._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=we.state;if(t?.length){const e={...rt._getSdkProperties(),page:1,entries:t?.length??u2,include:t},{data:n}=await rt.fetchWallets(e);n.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const r=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(r.map(i=>rt._fetchWalletImage(i))),ft.featured=n,ft.allFeatured=n}},async fetchRecommendedWallets(){try{ft.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=we.state,r=[...e??[],...n??[]].filter(Boolean),i=Z.getRequestedCaipNetworkIds().join(","),s={page:1,entries:u2,include:t,exclude:r,chains:i},{data:o,count:a}=await rt.fetchWallets(s),c=De.getRecentWallets(),u=o.map(f=>f.image_id).filter(Boolean),h=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u,...h].map(f=>rt._fetchWalletImage(f))),ft.recommended=o,ft.allRecommended=o,ft.count=a??0}catch{}finally{ft.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=we.state,i=Z.getRequestedCaipNetworkIds().join(","),s=[...ft.recommended.map(({id:h})=>h),...n??[],...r??[]].filter(Boolean),o={page:t,entries:jM,include:e,exclude:s,chains:i},{data:a,count:c}=await rt.fetchWallets(o),u=a.slice(0,HM).map(h=>h.image_id).filter(Boolean);await Promise.allSettled(u.map(h=>rt._fetchWalletImage(h))),ft.wallets=tt.uniqueBy([...ft.wallets,...rt._filterOutExtensions(a)],"id").filter(h=>h.chains?.some(f=>i.includes(f))),ft.count=c>ft.count?c:ft.count,ft.page=t},async initializeExcludedWallets({ids:t}){const e=Z.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await rt.fetchWallets(n);r&&r.forEach(i=>{ft.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=we.state,i=Z.getRequestedCaipNetworkIds().join(",");ft.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await rt.fetchWallets(s);yn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>rt._fetchWalletImage(c)),tt.wait(300)]),ft.search=rt._filterOutExtensions(o)},initPromise(t,e){const n=ft.promises[t];return n||(ft.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&rt.initPromise("connectorImages",rt.fetchConnectorImages),e&&rt.initPromise("featuredWallets",rt.fetchFeaturedWallets),n&&rt.initPromise("recommendedWallets",rt.fetchRecommendedWallets),r&&rt.initPromise("networkImages",rt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){we.state.features?.analytics&&rt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Qi.get({path:"/getAnalyticsConfig",params:rt._getSdkProperties()});we.setFeatures({analytics:t})}catch{we.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){ft.featured=ft.allFeatured,ft.recommended=ft.allRecommended;return}const e=Z.getRequestedCaipNetworkIds().join(",");ft.featured=ft.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),ft.recommended=ft.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),ft.filteredWallets=ft.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){ft.filteredWallets=[]},setFilterByNamespace(t){if(!t){ft.featured=ft.allFeatured,ft.recommended=ft.allRecommended;return}const e=Z.getRequestedCaipNetworkIds().join(",");ft.featured=ft.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),ft.recommended=ft.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),ft.filteredWallets=ft.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},Ft=vn({view:"Connect",history:["Connect"],transactionStack:[]}),qM={state:Ft,subscribeKey(t,e){return yi(Ft,t,e)},pushTransactionStack(t){Ft.transactionStack.push(t)},popTransactionStack(t){const e=Ft.transactionStack.pop();if(e)if(t)Tt.goBack(),e?.onCancel?.();else{if(e.goBack)Tt.goBack();else if(e.replace){const r=Ft.history.indexOf("ConnectingSiwe");r>0?Tt.goBackToIndex(r-1):(or.close(!0),Ft.history=[])}else e.view&&Tt.reset(e.view);e?.onSuccess?.()}},push(t,e){t!==Ft.view&&(Ft.view=t,Ft.history.push(t),Ft.data=e)},reset(t,e){Ft.view=t,Ft.history=[t],Ft.data=e},replace(t,e){Ft.history.at(-1)===t||(Ft.view=t,Ft.history[Ft.history.length-1]=t,Ft.data=e)},goBack(){const t=!Z.state.activeCaipAddress&&Tt.state.view==="ConnectingFarcaster";if(Ft.history.length>1&&!Ft.history.includes("UnsupportedChain")){Ft.history.pop();const[e]=Ft.history.slice(-1);e&&(Ft.view=e)}else or.close();Ft.data?.wallet&&(Ft.data.wallet=void 0),setTimeout(()=>{if(t){Ve.setFarcasterUrl(void 0,Z.state.activeChain);const e=Ue.getAuthConnector();e?.provider?.reload();const n=Jl(we.state);e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType})}},100)},goBackToIndex(t){if(Ft.history.length>1){Ft.history=Ft.history.slice(0,t+1);const[e]=Ft.history.slice(-1);e&&(Ft.view=e)}}},Tt=Ys(qM),ia=vn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),YE={state:ia,subscribe(t){return ti(ia,()=>t(ia))},setThemeMode(t){ia.themeMode=t;try{const e=Ue.getAuthConnector();if(e){const n=YE.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:ka(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ia.themeVariables={...ia.themeVariables,...t};try{const e=Ue.getAuthConnector();if(e){const n=YE.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:ka(ia.themeVariables,ia.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Jl(ia)}},Ui=Ys(YE),o3={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Ot=vn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...o3},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),VM={state:Ot,subscribe(t){return ti(Ot,()=>{t(Ot)})},subscribeKey(t,e){return yi(Ot,t,e)},initialize(t){t.forEach(e=>{const n=De.getConnectedConnectorId(e);n&&Ue.setConnectorId(n,e)})},setActiveConnector(t){t&&(Ot.activeConnector=Vc(t))},setConnectors(t){t.filter(i=>!Ot.allConnectors.some(s=>s.id===i.id&&Ue.getConnectorName(s.name)===Ue.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Ot.allConnectors.push(Vc(i))});const n=Ue.getEnabledNamespaces(),r=Ue.getEnabledConnectors(n);Ot.connectors=Ue.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Ot.filterByNamespaceMap).forEach(e=>{Ot.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Ot.filterByNamespaceMap[e]=!0}),Ue.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Ot.filterByNamespaceMap[t]=e,Ue.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ue.getEnabledNamespaces(),e=Ue.getEnabledConnectors(t),n=Ue.areAllNamespacesEnabled();Ot.connectors=Ue.mergeMultiChainConnectors(e),n?rt.clearFilterByNamespaces():rt.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Ot.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Ot.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Ot.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ue.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=i?.id===Ce.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=Ue.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===Ce.CONNECTOR_ID.AUTH){const e=t,n=Jl(we.state),r=Ui.getSnapshot().themeMode,i=Ui.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:ka(i,r)}),Ue.setConnectors([t])}else Ue.setConnectors([t])},getAuthConnector(t){const e=t||Z.state.activeChain,n=Ot.connectors.find(r=>r.id===Ce.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return Ot.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Ot.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Ot.allConnectors.filter(r=>r.chain===Z.state.activeChain).find(r=>r.explorerId===t||r.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=Jl(we.state),r=Ui.getSnapshot().themeMode,i=Ui.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:ka(i,r)})},getConnectorsByNamespace(t){const e=Ot.allConnectors.filter(n=>n.chain===t);return Ue.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ue.getConnector(t.id,t.rdns);DM.handleMobileDeeplinkRedirect(e?.name||t.name||""),e?Tt.push("ConnectingExternal",{connector:e}):Tt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Ue.getConnectorsByNamespace(t):Ue.mergeMultiChainConnectors(Ot.allConnectors)},setFilterByNamespace(t){Ot.filterByNamespace=t,Ot.connectors=Ue.getConnectors(t),rt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Ot.activeConnectorIds={...Ot.activeConnectorIds,[e]:t},De.setConnectedConnectorId(e,t))},removeConnectorId(t){Ot.activeConnectorIds={...Ot.activeConnectorIds,[t]:void 0},De.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Ot.activeConnectorIds[t]},isConnected(t){return t?!!Ot.activeConnectorIds[t]:Object.values(Ot.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Ot.activeConnectorIds={...o3}}},Ue=Ys(VM);function Xm(t,e){return Ue.getConnectorId(t)===e}function WM(t){const e=Array.from(Z.state.chains.keys());let n=[];return t?(n.push([t,Z.state.chains.get(t)]),Xm(t,Ce.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Xm(r,Ce.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,Z.state.chains.get(r)])}):Xm(t,Ce.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Xm(r,Ce.CONNECTOR_ID.AUTH)&&n.push([r,Z.state.chains.get(r)])})):n=Array.from(Z.state.chains.entries()),n}var mS={exports:{}},zd=typeof Reflect=="object"?Reflect:null,d2=zd&&typeof zd.apply=="function"?zd.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Q0;zd&&typeof zd.ownKeys=="function"?Q0=zd.ownKeys:Object.getOwnPropertySymbols?Q0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Q0=function(e){return Object.getOwnPropertyNames(e)};function KM(t){console&&console.warn&&console.warn(t)}var a3=Number.isNaN||function(e){return e!==e};function Qt(){Qt.init.call(this)}mS.exports=Qt;mS.exports.once=XM;Qt.EventEmitter=Qt;Qt.prototype._events=void 0;Qt.prototype._eventsCount=0;Qt.prototype._maxListeners=void 0;var h2=10;function Yb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Qt,"defaultMaxListeners",{enumerable:!0,get:function(){return h2},set:function(t){if(typeof t!="number"||t<0||a3(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");h2=t}});Qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Qt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||a3(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function c3(t){return t._maxListeners===void 0?Qt.defaultMaxListeners:t._maxListeners}Qt.prototype.getMaxListeners=function(){return c3(this)};Qt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")d2(c,this,n);else for(var u=c.length,h=f3(c,u),r=0;r<u;++r)d2(h[r],this,n);return!0};function l3(t,e,n,r){var i,s,o;if(Yb(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=c3(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,KM(a)}return t}Qt.prototype.addListener=function(e,n){return l3(this,e,n,!1)};Qt.prototype.on=Qt.prototype.addListener;Qt.prototype.prependListener=function(e,n){return l3(this,e,n,!0)};function GM(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u3(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=GM.bind(r);return i.listener=n,r.wrapFn=i,i}Qt.prototype.once=function(e,n){return Yb(n),this.on(e,u3(this,e,n)),this};Qt.prototype.prependOnceListener=function(e,n){return Yb(n),this.prependListener(e,u3(this,e,n)),this};Qt.prototype.removeListener=function(e,n){var r,i,s,o,a;if(Yb(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():YM(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Qt.prototype.off=Qt.prototype.removeListener;Qt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function d3(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?ZM(i):f3(i,i.length)}Qt.prototype.listeners=function(e){return d3(this,e,!0)};Qt.prototype.rawListeners=function(e){return d3(this,e,!1)};Qt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):h3.call(t,e)};Qt.prototype.listenerCount=h3;function h3(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Qt.prototype.eventNames=function(){return this._eventsCount>0?Q0(this._events):[]};function f3(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function YM(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function ZM(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function XM(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}p3(t,e,s,{once:!0}),e!=="error"&&QM(t,i,{once:!0})})}function QM(t,e,n){typeof t.on=="function"&&p3(t,"error",e,n)}function p3(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Zs=mS.exports;const yS=ws(Zs);var xe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZE=function(t,e){return ZE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ZE(t,e)};function JM(t,e){ZE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var XE=function(){return XE=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},XE.apply(this,arguments)};function eU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tU(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function nU(t,e){return function(n,r){e(n,r,t)}}function rU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function iU(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function sU(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oU(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function aU(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function QE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g3(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function cU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g3(arguments[e]));return t}function lU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Np(t){return this instanceof Np?(this.v=t,this):new Np(t)}function uU(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(m){return new Promise(function(_,x){s.push([g,m,_,x])>1||a(g,m)})})}function a(g,m){try{c(r[g](m))}catch(_){f(s[0][3],_)}}function c(g){g.value instanceof Np?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){a("next",g)}function h(g){a("throw",g)}function f(g,m){g(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function dU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Np(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function hU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof QE=="function"?QE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function fU(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function pU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function gU(t){return t&&t.__esModule?t:{default:t}}function mU(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function yU(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const bU=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return XE},__asyncDelegator:dU,__asyncGenerator:uU,__asyncValues:hU,__await:Np,__awaiter:iU,__classPrivateFieldGet:mU,__classPrivateFieldSet:yU,__createBinding:oU,__decorate:tU,__exportStar:aU,__extends:JM,__generator:sU,__importDefault:gU,__importStar:pU,__makeTemplateObject:fU,__metadata:rU,__param:nU,__read:g3,__rest:eU,__spread:cU,__spreadArrays:lU,__values:QE},Symbol.toStringTag,{value:"Module"})),Zb=Yg(bU);var kv={},df={},f2;function wU(){if(f2)return df;f2=1,Object.defineProperty(df,"__esModule",{value:!0}),df.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return df.delay=t,df}var cl={},Nv={},ll={},p2;function vU(){return p2||(p2=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.ONE_THOUSAND=ll.ONE_HUNDRED=void 0,ll.ONE_HUNDRED=100,ll.ONE_THOUSAND=1e3),ll}var Ov={},g2;function EU(){return g2||(g2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Ov)),Ov}var m2;function m3(){return m2||(m2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Zb;e.__exportStar(vU(),t),e.__exportStar(EU(),t)}(Nv)),Nv}var y2;function _U(){if(y2)return cl;y2=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.fromMiliseconds=cl.toMiliseconds=void 0;const t=m3();function e(r){return r*t.ONE_THOUSAND}cl.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return cl.fromMiliseconds=n,cl}var b2;function xU(){return b2||(b2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Zb;e.__exportStar(wU(),t),e.__exportStar(_U(),t)}(kv)),kv}var Mu={},w2;function SU(){if(w2)return Mu;w2=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Mu.Watch=t,Mu.default=t,Mu}var Bv={},hf={},v2;function AU(){if(v2)return hf;v2=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.IWatch=void 0;class t{}return hf.IWatch=t,hf}var E2;function CU(){return E2||(E2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Zb.__exportStar(AU(),t)}(Bv)),Bv}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Zb;e.__exportStar(xU(),t),e.__exportStar(SU(),t),e.__exportStar(CU(),t),e.__exportStar(m3(),t)})(xe);class wu{}let TU=class extends wu{constructor(e){super()}};const _2=xe.FIVE_SECONDS,$h={pulse:"heartbeat_pulse"};let IU=class y3 extends TU{constructor(e){super(e),this.events=new Zs.EventEmitter,this.interval=_2,this.interval=e?.interval||_2}static async init(e){const n=new y3(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),xe.toMiliseconds(this.interval))}pulse(){this.events.emit($h.pulse)}};const RU=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,kU=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,NU=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function OU(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){BU(t);return}return e}function BU(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Qm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!NU.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(RU.test(t)||kU.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,OU)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function DU(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Sr(t,...e){try{return DU(t(...e))}catch(n){return Promise.reject(n)}}function PU(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function $U(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function J0(t){if(PU(t))return String(t);if($U(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return J0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const JE="base64:";function MU(t){return typeof t=="string"?t:JE+zU(t)}function UU(t){return typeof t!="string"||!t.startsWith(JE)?t:LU(t.slice(JE.length))}function LU(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function zU(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function $i(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function FU(...t){return $i(t.join(":"))}function Jm(t){return t=$i(t),t?t+":":""}function jU(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function HU(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const qU="memory",VU=()=>{const t=new Map;return{name:qU,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function WU(t={}){const e={mounts:{"":t.driver||VU()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const h of e.mountpoints)if(u.startsWith(h))return{base:h,relativeKey:u.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:u,driver:e.mounts[""]}},r=(u,h)=>e.mountpoints.filter(f=>f.startsWith(u)||h&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(u,h)=>{if(e.watching){h=$i(h);for(const f of e.watchListeners)f(u,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await x2(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,h,f)=>{const g=new Map,m=_=>{let x=g.get(_.base);return x||(x={driver:_.driver,base:_.base,items:[]},g.set(_.base,x)),x};for(const _ of u){const x=typeof _=="string",C=$i(x?_:_.key),S=x?void 0:_.value,T=x||!_.options?h:{...h,..._.options},I=n(C);m(I).items.push({key:C,value:S,relativeKey:I.relativeKey,options:T})}return Promise.all([...g.values()].map(_=>f(_))).then(_=>_.flat())},c={hasItem(u,h={}){u=$i(u);const{relativeKey:f,driver:g}=n(u);return Sr(g.hasItem,f,h)},getItem(u,h={}){u=$i(u);const{relativeKey:f,driver:g}=n(u);return Sr(g.getItem,f,h).then(m=>Qm(m))},getItems(u,h={}){return a(u,h,f=>f.driver.getItems?Sr(f.driver.getItems,f.items.map(g=>({key:g.relativeKey,options:g.options})),h).then(g=>g.map(m=>({key:FU(f.base,m.key),value:Qm(m.value)}))):Promise.all(f.items.map(g=>Sr(f.driver.getItem,g.relativeKey,g.options).then(m=>({key:g.key,value:Qm(m)})))))},getItemRaw(u,h={}){u=$i(u);const{relativeKey:f,driver:g}=n(u);return g.getItemRaw?Sr(g.getItemRaw,f,h):Sr(g.getItem,f,h).then(m=>UU(m))},async setItem(u,h,f={}){if(h===void 0)return c.removeItem(u);u=$i(u);const{relativeKey:g,driver:m}=n(u);m.setItem&&(await Sr(m.setItem,g,J0(h),f),m.watch||i("update",u))},async setItems(u,h){await a(u,h,async f=>{if(f.driver.setItems)return Sr(f.driver.setItems,f.items.map(g=>({key:g.relativeKey,value:J0(g.value),options:g.options})),h);f.driver.setItem&&await Promise.all(f.items.map(g=>Sr(f.driver.setItem,g.relativeKey,J0(g.value),g.options)))})},async setItemRaw(u,h,f={}){if(h===void 0)return c.removeItem(u,f);u=$i(u);const{relativeKey:g,driver:m}=n(u);if(m.setItemRaw)await Sr(m.setItemRaw,g,h,f);else if(m.setItem)await Sr(m.setItem,g,MU(h),f);else return;m.watch||i("update",u)},async removeItem(u,h={}){typeof h=="boolean"&&(h={removeMeta:h}),u=$i(u);const{relativeKey:f,driver:g}=n(u);g.removeItem&&(await Sr(g.removeItem,f,h),(h.removeMeta||h.removeMata)&&await Sr(g.removeItem,f+"$",h),g.watch||i("remove",u))},async getMeta(u,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),u=$i(u);const{relativeKey:f,driver:g}=n(u),m=Object.create(null);if(g.getMeta&&Object.assign(m,await Sr(g.getMeta,f,h)),!h.nativeOnly){const _=await Sr(g.getItem,f+"$",h).then(x=>Qm(x));_&&typeof _=="object"&&(typeof _.atime=="string"&&(_.atime=new Date(_.atime)),typeof _.mtime=="string"&&(_.mtime=new Date(_.mtime)),Object.assign(m,_))}return m},setMeta(u,h,f={}){return this.setItem(u+"$",h,f)},removeMeta(u,h={}){return this.removeItem(u+"$",h)},async getKeys(u,h={}){u=Jm(u);const f=r(u,!0);let g=[];const m=[];let _=!0;for(const C of f){C.driver.flags?.maxDepth||(_=!1);const S=await Sr(C.driver.getKeys,C.relativeBase,h);for(const T of S){const I=C.mountpoint+$i(T);g.some(P=>I.startsWith(P))||m.push(I)}g=[C.mountpoint,...g.filter(T=>!T.startsWith(C.mountpoint))]}const x=h.maxDepth!==void 0&&!_;return m.filter(C=>(!x||jU(C,h.maxDepth))&&HU(C,u))},async clear(u,h={}){u=Jm(u),await Promise.all(r(u,!1).map(async f=>{if(f.driver.clear)return Sr(f.driver.clear,f.relativeBase,h);if(f.driver.removeItem){const g=await f.driver.getKeys(f.relativeBase||"",h);return Promise.all(g.map(m=>f.driver.removeItem(m,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>S2(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,h){if(u=Jm(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((f,g)=>g.length-f.length)),e.mounts[u]=h,e.watching&&Promise.resolve(x2(h,i,u)).then(f=>{e.unwatch[u]=f}).catch(console.error),c},async unmount(u,h=!0){u=Jm(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&(e.unwatch[u]?.(),delete e.unwatch[u]),h&&await S2(e.mounts[u]),e.mountpoints=e.mountpoints.filter(f=>f!==u),delete e.mounts[u])},getMount(u=""){u=$i(u)+":";const h=n(u);return{driver:h.driver,base:h.base}},getMounts(u="",h={}){return u=$i(u),r(u,h.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(u,h={})=>c.getKeys(u,h),get:(u,h={})=>c.getItem(u,h),set:(u,h,f={})=>c.setItem(u,h,f),has:(u,h={})=>c.hasItem(u,h),del:(u,h={})=>c.removeItem(u,h),remove:(u,h={})=>c.removeItem(u,h)};return c}function x2(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function S2(t){typeof t.dispose=="function"&&await Sr(t.dispose)}function vu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function b3(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=vu(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(o=>s(o.transaction(e,i).objectStore(e)))}let Dv;function Qg(){return Dv||(Dv=b3("keyval-store","keyval")),Dv}function A2(t,e=Qg()){return e("readonly",n=>vu(n.get(t)))}function KU(t,e,n=Qg()){return n("readwrite",r=>(r.put(e,t),vu(r.transaction)))}function GU(t,e=Qg()){return e("readwrite",n=>(n.delete(t),vu(n.transaction)))}function YU(t=Qg()){return t("readwrite",e=>(e.clear(),vu(e.transaction)))}function ZU(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},vu(t.transaction)}function XU(t=Qg()){return t("readonly",e=>{if(e.getAllKeys)return vu(e.getAllKeys());const n=[];return ZU(e,r=>n.push(r.key)).then(()=>n)})}const QU=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),JU=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function eu(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JU(t)}catch{return t}}function Fa(t){return typeof t=="string"?t:QU(t)||""}const eL="idb-keyval";var tL=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=b3(t.dbName,t.storeName)),{name:eL,options:t,async hasItem(i){return!(typeof await A2(n(i),r)>"u")},async getItem(i){return await A2(n(i),r)??null},setItem(i,s){return KU(n(i),s,r)},removeItem(i){return GU(n(i),r)},getKeys(){return XU(r)},clear(){return YU(r)}}};const nL="WALLET_CONNECT_V2_INDEXED_DB",rL="keyvaluestorage";let iL=class{constructor(){this.indexedDb=WU({driver:tL({dbName:nL,storeName:rL})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Fa(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ey={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Pv<"u"&&Pv.localStorage?ey.exports=Pv.localStorage:typeof window<"u"&&window.localStorage?ey.exports=window.localStorage:ey.exports=new e})();function sL(t){var e;return[t[0],eu((e=t[1])!=null?e:"")]}let oL=class{constructor(){this.localStorage=ey.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(sL)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return eu(n)}async setItem(e,n){this.localStorage.setItem(e,Fa(n))}async removeItem(e){this.localStorage.removeItem(e)}};const aL="wc_storage_version",C2=1,cL=async(t,e,n)=>{const r=aL,i=await e.getItem(r);if(i&&i>=C2){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(r,C2),n(e),lL(t,o)},lL=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let uL=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new oL;this.storage=e;try{const n=new iL;cL(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function dL(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var hL=fL;function fL(t,e,n){var r=n&&n.stringify||dL,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var u="",h=1-i,f=-1,g=t&&t.length||0,m=0;m<g;){if(t.charCodeAt(m)===37&&m+1<g){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(h>=c||e[h]==null)break;f<m&&(u+=t.slice(f,m)),u+=Number(e[h]),f=m+2,m++;break;case 105:if(h>=c||e[h]==null)break;f<m&&(u+=t.slice(f,m)),u+=Math.floor(Number(e[h])),f=m+2,m++;break;case 79:case 111:case 106:if(h>=c||e[h]===void 0)break;f<m&&(u+=t.slice(f,m));var _=typeof e[h];if(_==="string"){u+="'"+e[h]+"'",f=m+2,m++;break}if(_==="function"){u+=e[h].name||"<anonymous>",f=m+2,m++;break}u+=r(e[h]),f=m+2,m++;break;case 115:if(h>=c)break;f<m&&(u+=t.slice(f,m)),u+=String(e[h]),f=m+2,m++;break;case 37:f<m&&(u+=t.slice(f,m)),u+="%",f=m+2,m++,h--;break}++h}++m}return f===-1?t:(f<g&&(u+=t.slice(f)),u)}const T2=hL;var dd=jo;const Op=xL().console||{},pL={mapHttpRequest:e0,mapHttpResponse:e0,wrapRequestSerializer:$v,wrapResponseSerializer:$v,wrapErrorSerializer:$v,req:e0,res:e0,err:wL};function gL(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function jo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Op;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=gL(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=Bp),Object.defineProperty(c,"levelVal",{get:h}),Object.defineProperty(c,"level",{get:f,set:g});const u={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:vL(t)};c.levels=jo.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Bp,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=m,e&&(c._logEvent=e_());function h(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function g(_){if(_!=="silent"&&!this.levels.values[_])throw Error("unknown level "+_);this._level=_,Uu(u,c,"error","log"),Uu(u,c,"fatal","error"),Uu(u,c,"warn","error"),Uu(u,c,"info","log"),Uu(u,c,"debug","log"),Uu(u,c,"trace","log")}function m(_,x){if(!_)throw new Error("missing bindings for child Pino");x=x||{},i&&_.serializers&&(x.serializers=_.serializers);const C=x.serializers;if(i&&C){var S=Object.assign({},r,C),T=t.browser.serialize===!0?Object.keys(S):i;delete _.serializers,Xb([_],T,S,this._stdErrSerialize)}function I(P){this._childLevel=(P._childLevel|0)+1,this.error=Lu(P,_,"error"),this.fatal=Lu(P,_,"fatal"),this.warn=Lu(P,_,"warn"),this.info=Lu(P,_,"info"),this.debug=Lu(P,_,"debug"),this.trace=Lu(P,_,"trace"),S&&(this.serializers=S,this._serialize=T),e&&(this._logEvent=e_([].concat(P._logEvent.bindings,_)))}return I.prototype=this,new I(this)}return c}jo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};jo.stdSerializers=pL;jo.stdTimeFunctions=Object.assign({},{nullTime:w3,epochTime:v3,unixTime:EL,isoTime:_L});function Uu(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?Bp:i[n]?i[n]:Op[n]||Op[r]||Bp,mL(t,e,n)}function mL(t,e,n){!t.transmit&&e[n]===Bp||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Op?Op:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&Xb(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,yL(this,n,o,s)):r.apply(a,o),t.transmit){const u=t.transmit.level||e.level,h=jo.levels.values[u],f=jo.levels.values[n];if(f<h)return;bL(this,{ts:s,methodLevel:n,methodValue:f,transmitValue:jo.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function yL(t,e,n,r){t._serialize&&Xb(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=jo.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?T2(i.shift(),i):void 0}else typeof s=="string"&&(s=T2(i.shift(),i));return s!==void 0&&(o.msg=s),o}function Xb(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=jo.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function Lu(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function bL(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;Xb(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=e_(c)}function e_(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function wL(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function vL(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?w3:v3}function e0(){return{}}function $v(t){return t}function Bp(){}function w3(){return!1}function v3(){return Date.now()}function EL(){return Math.round(Date.now()/1e3)}function _L(){return new Date(Date.now()).toISOString()}function xL(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Jg=ws(dd),SL={level:"info"},em="custom_context",bS=1e3*1024;let AL=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},I2=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new AL(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},E3=class{constructor(e,n=bS){this.level=e??"error",this.levelValue=dd.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new I2(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===dd.levels.values.error?console.error(e):n===dd.levels.values.warn?console.warn(e):n===dd.levels.values.debug?console.debug(e):n===dd.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Fa({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new I2(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Fa({extraMetadata:e})),new Blob(n,{type:"application/json"})}},CL=class{constructor(e,n=bS){this.baseChunkLogger=new E3(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},TL=class{constructor(e,n=bS){this.baseChunkLogger=new E3(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var IL=Object.defineProperty,RL=Object.defineProperties,kL=Object.getOwnPropertyDescriptors,R2=Object.getOwnPropertySymbols,NL=Object.prototype.hasOwnProperty,OL=Object.prototype.propertyIsEnumerable,k2=(t,e,n)=>e in t?IL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Iy=(t,e)=>{for(var n in e||(e={}))NL.call(e,n)&&k2(t,n,e[n]);if(R2)for(var n of R2(e))OL.call(e,n)&&k2(t,n,e[n]);return t},Ry=(t,e)=>RL(t,kL(e));function Mh(t){return Ry(Iy({},t),{level:t?.level||SL.level})}function BL(t,e=em){return t[e]||""}function DL(t,e,n=em){return t[n]=e,t}function Gi(t,e=em){let n="";return typeof t.bindings>"u"?n=BL(t,e):n=t.bindings().context||"",n}function PL(t,e,n=em){const r=Gi(t,n);return r.trim()?`${r}/${e}`:e}function bi(t,e,n=em){const r=PL(t,e,n),i=t.child({context:r});return DL(i,r,n)}function $L(t){var e,n;const r=new CL((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Jg(Ry(Iy({},t.opts),{level:"trace",browser:Ry(Iy({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function ML(t){var e;const n=new TL((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Jg(Ry(Iy({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function wS(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?$L(t):ML(t)}var UL=Object.defineProperty,LL=(t,e,n)=>e in t?UL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N2=(t,e,n)=>LL(t,typeof e!="symbol"?e+"":e,n);let zL=class extends wu{constructor(e){super(),this.opts=e,N2(this,"protocol","wc"),N2(this,"version",2)}};var FL=Object.defineProperty,jL=(t,e,n)=>e in t?FL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HL=(t,e,n)=>jL(t,e+"",n);let qL=class extends wu{constructor(e,n){super(),this.core=e,this.logger=n,HL(this,"records",new Map)}},VL=class{constructor(e,n){this.logger=e,this.core=n}},WL=class extends wu{constructor(e,n){super(),this.relayer=e,this.logger=n}},KL=class extends wu{constructor(e){super()}},GL=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},YL=class extends wu{constructor(e,n){super(),this.relayer=e,this.logger=n}},ZL=class extends wu{constructor(e,n){super(),this.core=e,this.logger=n}},XL=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},QL=class{constructor(e,n){this.projectId=e,this.logger=n}},JL=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var e7=Object.defineProperty,t7=(t,e,n)=>e in t?e7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O2=(t,e,n)=>t7(t,typeof e!="symbol"?e+"":e,n);let n7=class{constructor(e){this.opts=e,O2(this,"protocol","wc"),O2(this,"version",2)}},r7=class{constructor(e){this.client=e}};function i7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _3(t,...e){if(!i7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function B2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function s7(t,e){_3(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function o7(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function x3(t){return typeof t=="string"&&(t=o7(t)),_3(t),t}let a7=class{clone(){return this._cloneInto()}};function c7(t){const e=r=>t().update(x3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function S3(t=32){if(zu&&typeof zu.getRandomValues=="function")return zu.getRandomValues(new Uint8Array(t));if(zu&&typeof zu.randomBytes=="function")return zu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function l7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let u7=class extends a7{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mv(this.buffer)}update(e){B2(this);const{view:n,buffer:r,blockLen:i}=this;e=x3(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Mv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){B2(this),s7(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;l7(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Mv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const t0=BigInt(2**32-1),t_=BigInt(32);function A3(t,e=!1){return e?{h:Number(t&t0),l:Number(t>>t_&t0)}:{h:Number(t>>t_&t0)|0,l:Number(t&t0)|0}}function d7(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=A3(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const h7=(t,e)=>BigInt(t>>>0)<<t_|BigInt(e>>>0),f7=(t,e,n)=>t>>>n,p7=(t,e,n)=>t<<32-n|e>>>n,g7=(t,e,n)=>t>>>n|e<<32-n,m7=(t,e,n)=>t<<32-n|e>>>n,y7=(t,e,n)=>t<<64-n|e>>>n-32,b7=(t,e,n)=>t>>>n-32|e<<64-n,w7=(t,e)=>e,v7=(t,e)=>t,E7=(t,e,n)=>t<<n|e>>>32-n,_7=(t,e,n)=>e<<n|t>>>32-n,x7=(t,e,n)=>e<<n-32|t>>>64-n,S7=(t,e,n)=>t<<n-32|e>>>64-n;function A7(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const C7=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),T7=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,I7=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),R7=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,k7=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),N7=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,mt={fromBig:A3,split:d7,toBig:h7,shrSH:f7,shrSL:p7,rotrSH:g7,rotrSL:m7,rotrBH:y7,rotrBL:b7,rotr32H:w7,rotr32L:v7,rotlSH:E7,rotlSL:_7,rotlBH:x7,rotlBL:S7,add:A7,add3L:C7,add3H:T7,add4L:I7,add4H:R7,add5H:N7,add5L:k7},[O7,B7]=mt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ja=new Uint32Array(80),ec=new Uint32Array(80);let D7=class extends u7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:g,Gh:m,Gl:_,Hh:x,Hl:C}=this;return[e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,C]}set(e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,C){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=m|0,this.Gl=_|0,this.Hh=x|0,this.Hl=C|0}process(e,n){for(let I=0;I<16;I++,n+=4)Ja[I]=e.getUint32(n),ec[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const P=Ja[I-15]|0,z=ec[I-15]|0,W=mt.rotrSH(P,z,1)^mt.rotrSH(P,z,8)^mt.shrSH(P,z,7),L=mt.rotrSL(P,z,1)^mt.rotrSL(P,z,8)^mt.shrSL(P,z,7),V=Ja[I-2]|0,q=ec[I-2]|0,X=mt.rotrSH(V,q,19)^mt.rotrBH(V,q,61)^mt.shrSH(V,q,6),Y=mt.rotrSL(V,q,19)^mt.rotrBL(V,q,61)^mt.shrSL(V,q,6),ee=mt.add4L(L,Y,ec[I-7],ec[I-16]),j=mt.add4H(ee,W,X,Ja[I-7],Ja[I-16]);Ja[I]=j|0,ec[I]=ee|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:g,Fh:m,Fl:_,Gh:x,Gl:C,Hh:S,Hl:T}=this;for(let I=0;I<80;I++){const P=mt.rotrSH(f,g,14)^mt.rotrSH(f,g,18)^mt.rotrBH(f,g,41),z=mt.rotrSL(f,g,14)^mt.rotrSL(f,g,18)^mt.rotrBL(f,g,41),W=f&m^~f&x,L=g&_^~g&C,V=mt.add5L(T,z,L,B7[I],ec[I]),q=mt.add5H(V,S,P,W,O7[I],Ja[I]),X=V|0,Y=mt.rotrSH(r,i,28)^mt.rotrBH(r,i,34)^mt.rotrBH(r,i,39),ee=mt.rotrSL(r,i,28)^mt.rotrBL(r,i,34)^mt.rotrBL(r,i,39),j=r&s^r&a^s&a,w=i&o^i&c^o&c;S=x|0,T=C|0,x=m|0,C=_|0,m=f|0,_=g|0,{h:f,l:g}=mt.add(u|0,h|0,q|0,X|0),u=a|0,h=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const b=mt.add3L(X,ee,w);r=mt.add3H(b,q,Y,j),i=b|0}({h:r,l:i}=mt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=mt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=mt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=mt.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=mt.add(this.Eh|0,this.El|0,f|0,g|0),{h:m,l:_}=mt.add(this.Fh|0,this.Fl|0,m|0,_|0),{h:x,l:C}=mt.add(this.Gh|0,this.Gl|0,x|0,C|0),{h:S,l:T}=mt.add(this.Hh|0,this.Hl|0,S|0,T|0),this.set(r,i,s,o,a,c,u,h,f,g,m,_,x,C,S,T)}roundClean(){Ja.fill(0),ec.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const P7=c7(()=>new D7);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vS=BigInt(0),C3=BigInt(1),$7=BigInt(2);function ES(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function _S(t){if(!ES(t))throw new Error("Uint8Array expected")}function Uv(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const M7=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xS(t){_S(t);let e="";for(let n=0;n<t.length;n++)e+=M7[t[n]];return e}function T3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?vS:BigInt("0x"+t)}const sa={_0:48,_9:57,A:65,F:70,a:97,f:102};function D2(t){if(t>=sa._0&&t<=sa._9)return t-sa._0;if(t>=sa.A&&t<=sa.F)return t-(sa.A-10);if(t>=sa.a&&t<=sa.f)return t-(sa.a-10)}function I3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=D2(t.charCodeAt(s)),a=D2(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function U7(t){return T3(xS(t))}function ty(t){return _S(t),T3(xS(Uint8Array.from(t).reverse()))}function R3(t,e){return I3(t.toString(16).padStart(e*2,"0"))}function n_(t,e){return R3(t,e).reverse()}function oa(t,e,n){let r;if(typeof e=="string")try{r=I3(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ES(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function P2(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_S(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Lv=t=>typeof t=="bigint"&&vS<=t;function L7(t,e,n){return Lv(t)&&Lv(e)&&Lv(n)&&e<=t&&t<n}function ff(t,e,n,r){if(!L7(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function z7(t){let e;for(e=0;t>vS;t>>=C3,e+=1);return e}const F7=t=>($7<<BigInt(t-1))-C3,j7={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ES(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function SS(t,e,n={}){const r=(i,s,o)=>{const a=j7[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function $2(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Br=BigInt(0),ir=BigInt(1),El=BigInt(2),H7=BigInt(3),r_=BigInt(4),M2=BigInt(5),U2=BigInt(8);function br(t,e){const n=t%e;return n>=Br?n:e+n}function q7(t,e,n){if(e<Br)throw new Error("invalid exponent, negatives unsupported");if(n<=Br)throw new Error("invalid modulus");if(n===ir)return Br;let r=ir;for(;e>Br;)e&ir&&(r=r*t%n),t=t*t%n,e>>=ir;return r}function Co(t,e,n){let r=t;for(;e-- >Br;)r*=r,r%=n;return r}function L2(t,e){if(t===Br)throw new Error("invert: expected non-zero number");if(e<=Br)throw new Error("invert: expected positive modulus, got "+e);let n=br(t,e),r=e,i=Br,s=ir;for(;n!==Br;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==ir)throw new Error("invert: does not exist");return br(i,e)}function V7(t){const e=(t-ir)/El;let n,r,i;for(n=t-ir,r=0;n%El===Br;n/=El,r++);for(i=El;i<t&&q7(i,e,t)!==t-ir;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+ir)/r_;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+ir)/El;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),h=o.pow(a,s),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let g=1;for(let _=o.sqr(f);g<c&&!o.eql(_,o.ONE);g++)_=o.sqr(_);const m=o.pow(u,ir<<BigInt(c-g-1));u=o.sqr(m),h=o.mul(h,m),f=o.mul(f,u),c=g}return h}}function W7(t){if(t%r_===H7){const e=(t+ir)/r_;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%U2===M2){const e=(t-M2)/U2;return function(n,r){const i=n.mul(r,El),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,El),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return V7(t)}const K7=(t,e)=>(br(t,e)&ir)===ir,G7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Y7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=G7.reduce((r,i)=>(r[i]="function",r),e);return SS(t,n)}function Z7(t,e,n){if(n<Br)throw new Error("invalid exponent, negatives unsupported");if(n===Br)return t.ONE;if(n===ir)return e;let r=t.ONE,i=e;for(;n>Br;)n&ir&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ir;return r}function X7(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function k3(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function N3(t,e,n=!1,r={}){if(t<=Br)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=k3(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:F7(i),ZERO:Br,ONE:ir,create:c=>br(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Br<=c&&c<t},is0:c=>c===Br,isOdd:c=>(c&ir)===ir,neg:c=>br(-c,t),eql:(c,u)=>c===u,sqr:c=>br(c*c,t),add:(c,u)=>br(c+u,t),sub:(c,u)=>br(c-u,t),mul:(c,u)=>br(c*u,t),pow:(c,u)=>Z7(a,c,u),div:(c,u)=>br(c*L2(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>L2(c,t),sqrt:r.sqrt||(c=>(o||(o=W7(t)),o(a,c))),invertBatch:c=>X7(a,c),cmov:(c,u,h)=>h?u:c,toBytes:c=>n?n_(c,s):R3(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?ty(c):U7(c)}});return Object.freeze(a)}const z2=BigInt(0),n0=BigInt(1);function zv(t,e){const n=e.negate();return t?n:e}function O3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Fv(t,e){O3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Q7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function J7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const jv=new WeakMap,B3=new WeakMap;function Hv(t){return B3.get(t)||1}function e9(t,e){return{constTimeNegate:zv,hasPrecomputes(n){return Hv(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>z2;)r&n0&&(i=i.add(s)),s=s.double(),r>>=n0;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Fv(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let h=1;h<s;h++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Fv(n,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let g=0;g<s;g++){const m=g*o;let _=Number(i&u);i>>=f,_>o&&(_-=h,i+=n0);const x=m,C=m+Math.abs(_)-1,S=g%2!==0,T=_<0;_===0?c=c.add(zv(S,r[x])):a=a.add(zv(T,r[C]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Fv(n,e),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<o;f++){const g=f*a;if(i===z2)break;let m=Number(i&c);if(i>>=h,m>a&&(m-=u,i+=n0),m===0)continue;let _=r[g+Math.abs(m)-1];m<0&&(_=_.negate()),s=s.add(_)}return s},getPrecomputes(n,r,i){let s=jv.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&jv.set(r,i(s))),s},wNAFCached(n,r,i){const s=Hv(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Hv(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){O3(r,e),B3.set(n,r),jv.delete(n)}}}function t9(t,e,n,r){if(Q7(n,t),J7(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=z7(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let h=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let m=0;m<r.length;m++){const _=r[m],x=Number(_>>BigInt(f)&BigInt(a));c[x]=c[x].add(n[m])}let g=i;for(let m=c.length-1,_=i;m>0;m--)_=_.add(c[m]),g=g.add(_);if(h=h.add(g),f!==0)for(let m=0;m<o;m++)h=h.double()}return h}function n9(t){return Y7(t.Fp),SS(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...k3(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const eo=BigInt(0),Ni=BigInt(1),r0=BigInt(2),r9=BigInt(8),i9={zip215:!0};function s9(t){const e=n9(t);return SS(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function o9(t){const e=s9(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=r0<<BigInt(a*8)-Ni,h=n.create,f=N3(e.n,e.nBitLength),g=e.uvRatio||((b,v)=>{try{return{isValid:!0,value:n.sqrt(b*n.inv(v))}}catch{return{isValid:!1,value:eo}}}),m=e.adjustScalarBytes||(b=>b),_=e.domain||((b,v,O)=>{if(Uv("phflag",O),v.length||O)throw new Error("Contexts/pre-hash are not supported");return b});function x(b,v){ff("coordinate "+b,v,eo,u)}function C(b){if(!(b instanceof I))throw new Error("ExtendedPoint expected")}const S=$2((b,v)=>{const{ex:O,ey:B,ez:R}=b,M=b.is0();v==null&&(v=M?r9:n.inv(R));const k=h(O*v),E=h(B*v),U=h(R*v);if(M)return{x:eo,y:Ni};if(U!==Ni)throw new Error("invZ was invalid");return{x:k,y:E}}),T=$2(b=>{const{a:v,d:O}=e;if(b.is0())throw new Error("bad point: ZERO");const{ex:B,ey:R,ez:M,et:k}=b,E=h(B*B),U=h(R*R),Q=h(M*M),te=h(Q*Q),oe=h(E*v),pe=h(Q*h(oe+U)),ue=h(te+h(O*h(E*U)));if(pe!==ue)throw new Error("bad point: equation left != right (1)");const me=h(B*R),et=h(M*k);if(me!==et)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(v,O,B,R){this.ex=v,this.ey=O,this.ez=B,this.et=R,x("x",v),x("y",O),x("z",B),x("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v){if(v instanceof I)throw new Error("extended point not allowed");const{x:O,y:B}=v||{};return x("x",O),x("y",B),new I(O,B,Ni,h(O*B))}static normalizeZ(v){const O=n.invertBatch(v.map(B=>B.ez));return v.map((B,R)=>B.toAffine(O[R])).map(I.fromAffine)}static msm(v,O){return t9(I,f,v,O)}_setWindowSize(v){W.setWindowSize(this,v)}assertValidity(){T(this)}equals(v){C(v);const{ex:O,ey:B,ez:R}=this,{ex:M,ey:k,ez:E}=v,U=h(O*E),Q=h(M*R),te=h(B*E),oe=h(k*R);return U===Q&&te===oe}is0(){return this.equals(I.ZERO)}negate(){return new I(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:v}=e,{ex:O,ey:B,ez:R}=this,M=h(O*O),k=h(B*B),E=h(r0*h(R*R)),U=h(v*M),Q=O+B,te=h(h(Q*Q)-M-k),oe=U+k,pe=oe-E,ue=U-k,me=h(te*pe),et=h(oe*ue),qe=h(te*ue),ke=h(pe*oe);return new I(me,et,ke,qe)}add(v){C(v);const{a:O,d:B}=e,{ex:R,ey:M,ez:k,et:E}=this,{ex:U,ey:Q,ez:te,et:oe}=v;if(O===BigInt(-1)){const G=h((M-R)*(Q+U)),J=h((M+R)*(Q-U)),se=h(J-G);if(se===eo)return this.double();const ce=h(k*r0*oe),Be=h(E*r0*te),Ge=Be+ce,Ye=J+G,at=Be-ce,p=h(Ge*se),l=h(Ye*at),d=h(Ge*at),y=h(se*Ye);return new I(p,l,y,d)}const pe=h(R*U),ue=h(M*Q),me=h(E*B*oe),et=h(k*te),qe=h((R+M)*(U+Q)-pe-ue),ke=et-me,je=et+me,Pe=h(ue-O*pe),st=h(qe*ke),K=h(je*Pe),N=h(qe*Pe),D=h(ke*je);return new I(st,K,D,N)}subtract(v){return this.add(v.negate())}wNAF(v){return W.wNAFCached(this,v,I.normalizeZ)}multiply(v){const O=v;ff("scalar",O,Ni,r);const{p:B,f:R}=this.wNAF(O);return I.normalizeZ([B,R])[0]}multiplyUnsafe(v,O=I.ZERO){const B=v;return ff("scalar",B,eo,r),B===eo?z:this.is0()||B===Ni?this:W.wNAFCachedUnsafe(this,B,I.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return W.unsafeLadder(this,r).is0()}toAffine(v){return S(this,v)}clearCofactor(){const{h:v}=e;return v===Ni?this:this.multiplyUnsafe(v)}static fromHex(v,O=!1){const{d:B,a:R}=e,M=n.BYTES;v=oa("pointHex",v,M),Uv("zip215",O);const k=v.slice(),E=v[M-1];k[M-1]=E&-129;const U=ty(k),Q=O?u:n.ORDER;ff("pointHex.y",U,eo,Q);const te=h(U*U),oe=h(te-Ni),pe=h(B*te-R);let{isValid:ue,value:me}=g(oe,pe);if(!ue)throw new Error("Point.fromHex: invalid y coordinate");const et=(me&Ni)===Ni,qe=(E&128)!==0;if(!O&&me===eo&&qe)throw new Error("Point.fromHex: x=0 and x_0=1");return qe!==et&&(me=h(-me)),I.fromAffine({x:me,y:U})}static fromPrivateKey(v){return q(v).point}toRawBytes(){const{x:v,y:O}=this.toAffine(),B=n_(O,n.BYTES);return B[B.length-1]|=v&Ni?128:0,B}toHex(){return xS(this.toRawBytes())}}I.BASE=new I(e.Gx,e.Gy,Ni,h(e.Gx*e.Gy)),I.ZERO=new I(eo,Ni,Ni,eo);const{BASE:P,ZERO:z}=I,W=e9(I,a*8);function L(b){return br(b,r)}function V(b){return L(ty(b))}function q(b){const v=n.BYTES;b=oa("private key",b,v);const O=oa("hashed private key",s(b),2*v),B=m(O.slice(0,v)),R=O.slice(v,2*v),M=V(B),k=P.multiply(M),E=k.toRawBytes();return{head:B,prefix:R,scalar:M,point:k,pointBytes:E}}function X(b){return q(b).pointBytes}function Y(b=new Uint8Array,...v){const O=P2(...v);return V(s(_(O,oa("context",b),!!i)))}function ee(b,v,O={}){b=oa("message",b),i&&(b=i(b));const{prefix:B,scalar:R,pointBytes:M}=q(v),k=Y(O.context,B,b),E=P.multiply(k).toRawBytes(),U=Y(O.context,E,M,b),Q=L(k+U*R);ff("signature.s",Q,eo,r);const te=P2(E,n_(Q,n.BYTES));return oa("result",te,n.BYTES*2)}const j=i9;function w(b,v,O,B=j){const{context:R,zip215:M}=B,k=n.BYTES;b=oa("signature",b,2*k),v=oa("message",v),O=oa("publicKey",O,k),M!==void 0&&Uv("zip215",M),i&&(v=i(v));const E=ty(b.slice(k,2*k));let U,Q,te;try{U=I.fromHex(O,M),Q=I.fromHex(b.slice(0,k),M),te=P.multiplyUnsafe(E)}catch{return!1}if(!M&&U.isSmallOrder())return!1;const oe=Y(R,Q.toRawBytes(),U.toRawBytes(),v);return Q.add(U.multiplyUnsafe(oe)).subtract(te).clearCofactor().equals(I.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:X,sign:ee,verify:w,ExtendedPoint:I,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(n.BYTES),precompute(b=8,v=I.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}}}}BigInt(0),BigInt(1);const AS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),F2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const a9=BigInt(1),j2=BigInt(2);BigInt(3);const c9=BigInt(5),l9=BigInt(8);function u9(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=AS,o=t*t%s*t%s,a=Co(o,j2,s)*o%s,c=Co(a,a9,s)*t%s,u=Co(c,c9,s)*c%s,h=Co(u,e,s)*u%s,f=Co(h,n,s)*h%s,g=Co(f,r,s)*f%s,m=Co(g,i,s)*g%s,_=Co(m,i,s)*g%s,x=Co(_,e,s)*u%s;return{pow_p_5_8:Co(x,j2,s)*t%s,b2:o}}function d9(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function h9(t,e){const n=AS,r=br(e*e*e,n),i=br(r*r*e,n),s=u9(t*i).pow_p_5_8;let o=br(t*r*s,n);const a=br(e*o*o,n),c=o,u=br(o*F2,n),h=a===t,f=a===br(-t,n),g=a===br(-t*F2,n);return h&&(o=c),(f||g)&&(o=u),K7(o,n)&&(o=br(-o,n)),{isValid:h||f,value:o}}const f9=N3(AS,void 0,!0),p9={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:f9,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:l9,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:P7,randomBytes:S3,adjustScalarBytes:d9,uvRatio:h9},D3=o9(p9),g9="EdDSA",m9="JWT",ky=".",Qb="base64url",P3="utf8",$3="utf8",y9=":",b9="did",w9="key",H2="base58btc",v9="z",E9="K36",_9=32;function CS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function M3(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?CS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function U3(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=M3(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return CS(n)}function x9(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,C=0,S=0,T=_.length;S!==T&&_[S]===0;)S++,x++;for(var I=(T-S)*h+1>>>0,P=new Uint8Array(I);S!==T;){for(var z=_[S],W=0,L=I-1;(z!==0||W<C)&&L!==-1;L--,W++)z+=256*P[L]>>>0,P[L]=z%a>>>0,z=z/a>>>0;if(z!==0)throw new Error("Non-zero carry");C=W,S++}for(var V=I-C;V!==I&&P[V]===0;)V++;for(var q=c.repeat(x);V<I;++V)q+=t.charAt(P[V]);return q}function g(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var x=0;if(_[x]!==" "){for(var C=0,S=0;_[x]===c;)C++,x++;for(var T=(_.length-x)*u+1>>>0,I=new Uint8Array(T);_[x];){var P=n[_.charCodeAt(x)];if(P===255)return;for(var z=0,W=T-1;(P!==0||z<S)&&W!==-1;W--,z++)P+=a*I[W]>>>0,I[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=z,x++}if(_[x]!==" "){for(var L=T-S;L!==T&&I[L]===0;)L++;for(var V=new Uint8Array(C+(T-L)),q=C;L!==T;)V[q++]=I[L++];return V}}}function m(_){var x=g(_);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:m}}var S9=x9,A9=S9;const L3=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},C9=t=>new TextEncoder().encode(t),T9=t=>new TextDecoder().decode(t);let I9=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},R9=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return z3(this,e)}},k9=class{constructor(e){this.decoders=e}or(e){return z3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const z3=(t,e)=>new k9({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let N9=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new I9(e,n,r),this.decoder=new R9(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Jb=({name:t,prefix:e,encode:n,decode:r})=>new N9(t,e,n,r),tm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=A9(n,e);return Jb({prefix:t,name:e,encode:r,decode:s=>L3(i(s))})},O9=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},B9=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ri=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Jb({prefix:e,name:t,encode(i){return B9(i,r,n)},decode(i){return O9(i,r,n,t)}}),D9=Jb({prefix:"\0",name:"identity",encode:t=>T9(t),decode:t=>C9(t)});var P9=Object.freeze({__proto__:null,identity:D9});const $9=ri({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var M9=Object.freeze({__proto__:null,base2:$9});const U9=ri({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var L9=Object.freeze({__proto__:null,base8:U9});const z9=tm({prefix:"9",name:"base10",alphabet:"0123456789"});var F9=Object.freeze({__proto__:null,base10:z9});const j9=ri({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),H9=ri({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var q9=Object.freeze({__proto__:null,base16:j9,base16upper:H9});const V9=ri({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),W9=ri({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),K9=ri({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G9=ri({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Y9=ri({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Z9=ri({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),X9=ri({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Q9=ri({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),J9=ri({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ez=Object.freeze({__proto__:null,base32:V9,base32upper:W9,base32pad:K9,base32padupper:G9,base32hex:Y9,base32hexupper:Z9,base32hexpad:X9,base32hexpadupper:Q9,base32z:J9});const tz=tm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nz=tm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var rz=Object.freeze({__proto__:null,base36:tz,base36upper:nz});const iz=tm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sz=tm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var oz=Object.freeze({__proto__:null,base58btc:iz,base58flickr:sz});const az=ri({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cz=ri({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lz=ri({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),uz=ri({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var dz=Object.freeze({__proto__:null,base64:az,base64pad:cz,base64url:lz,base64urlpad:uz});const F3=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),hz=F3.reduce((t,e,n)=>(t[n]=e,t),[]),fz=F3.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function pz(t){return t.reduce((e,n)=>(e+=hz[n],e),"")}function gz(t){const e=[];for(const n of t){const r=fz[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const mz=Jb({prefix:"🚀",name:"base256emoji",encode:pz,decode:gz});var yz=Object.freeze({__proto__:null,base256emoji:mz}),bz=j3,q2=128,wz=-128,vz=Math.pow(2,31);function j3(t,e,n){e=e||[],n=n||0;for(var r=n;t>=vz;)e[n++]=t&255|q2,t/=128;for(;t&wz;)e[n++]=t&255|q2,t>>>=7;return e[n]=t|0,j3.bytes=n-r+1,e}var Ez=i_,_z=128,V2=127;function i_(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw i_.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&V2)<<i:(o&V2)*Math.pow(2,i),i+=7}while(o>=_z);return i_.bytes=s-r,n}var xz=Math.pow(2,7),Sz=Math.pow(2,14),Az=Math.pow(2,21),Cz=Math.pow(2,28),Tz=Math.pow(2,35),Iz=Math.pow(2,42),Rz=Math.pow(2,49),kz=Math.pow(2,56),Nz=Math.pow(2,63),Oz=function(t){return t<xz?1:t<Sz?2:t<Az?3:t<Cz?4:t<Tz?5:t<Iz?6:t<Rz?7:t<kz?8:t<Nz?9:10},Bz={encode:bz,decode:Ez,encodingLength:Oz},H3=Bz;const W2=(t,e,n=0)=>(H3.encode(t,e,n),e),K2=t=>H3.encodingLength(t),s_=(t,e)=>{const n=e.byteLength,r=K2(t),i=r+K2(n),s=new Uint8Array(i+n);return W2(t,s,0),W2(n,s,r),s.set(e,i),new Dz(t,n,e,s)};let Dz=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const q3=({name:t,code:e,encode:n})=>new Pz(t,e,n);let Pz=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?s_(this.code,n):n.then(r=>s_(this.code,r))}else throw Error("Unknown type, must be binary type")}};const V3=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$z=q3({name:"sha2-256",code:18,encode:V3("SHA-256")}),Mz=q3({name:"sha2-512",code:19,encode:V3("SHA-512")});var Uz=Object.freeze({__proto__:null,sha256:$z,sha512:Mz});const W3=0,Lz="identity",K3=L3,zz=t=>s_(W3,K3(t)),Fz={code:W3,name:Lz,encode:K3,digest:zz};var jz=Object.freeze({__proto__:null,identity:Fz});new TextEncoder,new TextDecoder;const G2={...P9,...M9,...L9,...F9,...q9,...ez,...rz,...oz,...dz,...yz};({...Uz,...jz});function G3(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Y2=G3("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),qv=G3("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=M3(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Y3={utf8:Y2,"utf-8":Y2,hex:G2.base16,latin1:qv,ascii:qv,binary:qv,...G2};function ew(t,e="utf8"){const n=Y3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Uh(t,e="utf8"){const n=Y3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?CS(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Z2(t){return eu(ew(Uh(t,Qb),P3))}function Ny(t){return ew(Uh(Fa(t),P3),Qb)}function Z3(t){const e=Uh(E9,H2),n=v9+ew(U3([e,t]),H2);return[b9,w9,n].join(y9)}function Hz(t){return ew(t,Qb)}function qz(t){return Uh(t,Qb)}function Vz(t){return Uh([Ny(t.header),Ny(t.payload)].join(ky),$3)}function Wz(t){return[Ny(t.header),Ny(t.payload),Hz(t.signature)].join(ky)}function o_(t){const e=t.split(ky),n=Z2(e[0]),r=Z2(e[1]),i=qz(e[2]),s=Uh(e.slice(0,2).join(ky),$3);return{header:n,payload:r,signature:i,data:s}}function X2(t=S3(_9)){const e=D3.getPublicKey(t);return{secretKey:U3([t,e]),publicKey:e}}async function Kz(t,e,n,r,i=xe.fromMiliseconds(Date.now())){const s={alg:g9,typ:m9},o=Z3(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},u=Vz({header:s,payload:c}),h=D3.sign(u,r.secretKey.slice(0,32));return Wz({header:s,payload:c,signature:h})}var Q2=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Gz=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),Yz=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Zz=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),Xz=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Qz=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Jz=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,eF=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,J2=3,tF=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Jz]],eT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function nF(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Qz:typeof navigator<"u"?iF(navigator.userAgent):oF()}function rF(t){return t!==""&&tF.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function iF(t){var e=rF(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Xz;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<J2&&(i=Q2(Q2([],i,!0),aF(J2-i.length),!0)):i=[];var s=i.join("."),o=sF(t),a=eF.exec(t);return a&&a[1]?new Zz(n,s,o,a[1]):new Gz(n,s,o)}function sF(t){for(var e=0,n=eT.length;e<n;e++){var r=eT[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function oF(){var t=typeof process<"u"&&process.version;return t?new Yz(process.version.slice(1)):null}function aF(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.getLocalStorage=ln.getLocalStorageOrThrow=ln.getCrypto=ln.getCryptoOrThrow=X3=ln.getLocation=ln.getLocationOrThrow=TS=ln.getNavigator=ln.getNavigatorOrThrow=nm=ln.getDocument=ln.getDocumentOrThrow=ln.getFromWindowOrThrow=ln.getFromWindow=void 0;function Eu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}ln.getFromWindow=Eu;function Lh(t){const e=Eu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}ln.getFromWindowOrThrow=Lh;function cF(){return Lh("document")}ln.getDocumentOrThrow=cF;function lF(){return Eu("document")}var nm=ln.getDocument=lF;function uF(){return Lh("navigator")}ln.getNavigatorOrThrow=uF;function dF(){return Eu("navigator")}var TS=ln.getNavigator=dF;function hF(){return Lh("location")}ln.getLocationOrThrow=hF;function fF(){return Eu("location")}var X3=ln.getLocation=fF;function pF(){return Lh("crypto")}ln.getCryptoOrThrow=pF;function gF(){return Eu("crypto")}ln.getCrypto=gF;function mF(){return Lh("localStorage")}ln.getLocalStorageOrThrow=mF;function yF(){return Eu("localStorage")}ln.getLocalStorage=yF;var IS={};Object.defineProperty(IS,"__esModule",{value:!0});var Q3=IS.getWindowMetadata=void 0;const tT=ln;function bF(){let t,e;try{t=tT.getDocumentOrThrow(),e=tT.getLocationOrThrow()}catch{return null}function n(){const f=t.getElementsByTagName("link"),g=[];for(let m=0;m<f.length;m++){const _=f[m],x=_.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const C=_.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let S=e.protocol+"//"+e.host;if(C.indexOf("/")===0)S+=C;else{const T=e.pathname.split("/");T.pop();const I=T.join("/");S+=I+"/"+C}g.push(S)}else if(C.indexOf("//")===0){const S=e.protocol+C;g.push(S)}else g.push(C)}}return g}function r(...f){const g=t.getElementsByTagName("meta");for(let m=0;m<g.length;m++){const _=g[m],x=["itemprop","property","name"].map(C=>_.getAttribute(C)).filter(C=>C?f.includes(C):!1);if(x.length&&x){const C=_.getAttribute("content");if(C)return C}}return""}function i(){let f=r("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,u=n();return{description:a,url:c,icons:u,name:o}}Q3=IS.getWindowMetadata=bF;function Dp(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function nT(t){return Dp(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const J3="2.23.2";let Vv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${J3}`},tw=class a_ extends Error{constructor(e,n={}){const r=n.cause instanceof a_?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof a_&&n.cause.docsPath||n.docsPath,s=Vv.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Vv.version?[`Version: ${Vv.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=J3}walk(e){return e8(this,e)}};function e8(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?e8(t.cause,e):e?null:t}let t8=class extends tw{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function zh(t,{dir:e,size:n=32}={}){return typeof t=="string"?wF(t,{dir:e,size:n}):vF(t,{dir:e,size:n})}function wF(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new t8({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function vF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new t8({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let EF=class extends tw{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},_F=class extends tw{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Fh(t,{size:e}){if(nT(t)>e)throw new _F({givenSize:nT(t),maxSize:e})}function c_(t,e={}){const{signed:n}=e;e.size&&Fh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function xF(t,e={}){return Number(c_(t,e))}const SF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function l_(t,e={}){return typeof t=="number"||typeof t=="bigint"?r8(t,e):typeof t=="string"?TF(t,e):typeof t=="boolean"?AF(t,e):n8(t,e)}function AF(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Fh(n,{size:e.size}),zh(n,{size:e.size})):n}function n8(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=SF[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Fh(r,{size:e.size}),zh(r,{dir:"right",size:e.size})):r}function r8(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new EF({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?zh(a,{size:r}):a}const CF=new TextEncoder;function TF(t,e={}){const n=CF.encode(t);return n8(n,e)}const IF=new TextEncoder;function RF(t,e={}){return typeof t=="number"||typeof t=="bigint"?NF(t,e):typeof t=="boolean"?kF(t,e):Dp(t)?i8(t,e):s8(t,e)}function kF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Fh(n,{size:e.size}),zh(n,{size:e.size})):n}const aa={zero:48,nine:57,A:65,F:70,a:97,f:102};function rT(t){if(t>=aa.zero&&t<=aa.nine)return t-aa.zero;if(t>=aa.A&&t<=aa.F)return t-(aa.A-10);if(t>=aa.a&&t<=aa.f)return t-(aa.a-10)}function i8(t,e={}){let n=t;e.size&&(Fh(n,{size:e.size}),n=zh(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=rT(r.charCodeAt(a++)),u=rT(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new tw(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function NF(t,e){const n=r8(t,e);return i8(n)}function s8(t,e={}){const n=IF.encode(t);return typeof e.size=="number"?(Fh(n,{size:e.size}),zh(n,{dir:"right",size:e.size})):n}function Oy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function OF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function nw(t,...e){if(!OF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ywe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Oy(t.outputLen),Oy(t.blockLen)}function iT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BF(t,e){nw(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const i0=BigInt(2**32-1),sT=BigInt(32);function DF(t,e=!1){return e?{h:Number(t&i0),l:Number(t>>sT&i0)}:{h:Number(t>>sT&i0)|0,l:Number(t&i0)|0}}function PF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=DF(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const $F=(t,e,n)=>t<<n|e>>>32-n,MF=(t,e,n)=>e<<n|t>>>32-n,UF=(t,e,n)=>e<<n-32|t>>>64-n,LF=(t,e,n)=>t<<n-32|e>>>64-n,Fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function bwe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wwe(t,e){return t<<32-e|t>>>e}const oT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function FF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function aT(t){for(let e=0;e<t.length;e++)t[e]=FF(t[e])}function jF(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function o8(t){return typeof t=="string"&&(t=jF(t)),nw(t),t}function vwe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];nw(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let HF=class{clone(){return this._cloneInto()}};function qF(t){const e=r=>t().update(o8(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function _we(t=32){if(Fu&&typeof Fu.getRandomValues=="function")return Fu.getRandomValues(new Uint8Array(t));if(Fu&&typeof Fu.randomBytes=="function")return Fu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const a8=[],c8=[],l8=[],VF=BigInt(0),pf=BigInt(1),WF=BigInt(2),KF=BigInt(7),GF=BigInt(256),YF=BigInt(113);for(let t=0,e=pf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],a8.push(2*(5*r+n)),c8.push((t+1)*(t+2)/2%64);let i=VF;for(let s=0;s<7;s++)e=(e<<pf^(e>>KF)*YF)%GF,e&WF&&(i^=pf<<(pf<<BigInt(s))-pf);l8.push(i)}const[ZF,XF]=PF(l8,!0),cT=(t,e,n)=>n>32?UF(t,e,n):$F(t,e,n),lT=(t,e,n)=>n>32?LF(t,e,n):MF(t,e,n);function QF(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],h=n[c+1],f=cT(u,h,1)^n[a],g=lT(u,h,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=g}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=c8[o],c=cT(i,s,a),u=lT(i,s,a),h=a8[o];i=t[h],s=t[h+1],t[h]=c,t[h+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=ZF[r],t[1]^=XF[r]}n.fill(0)}class RS extends HF{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Oy(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zF(this.state)}keccak(){oT||aT(this.state32),QF(this.state32,this.rounds),oT||aT(this.state32),this.posOut=0,this.pos=0}update(e){iT(this);const{blockLen:n,state:r}=this;e=o8(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){iT(this,!1),nw(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Oy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(BF(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new RS(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const JF=(t,e,n)=>qF(()=>new RS(e,t,n)),ej=JF(1,136,256/8);function u8(t,e){const n=e||"hex",r=ej(Dp(t,{strict:!1})?RF(t):t);return n==="bytes"?r:l_(r)}let tj=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Wv=new tj(8192);function nj(t,e){if(Wv.has(`${t}.${e}`))return Wv.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=u8(s8(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Wv.set(`${t}.${e}`,s),s}function rj(t){const e=u8(`0x${t.substring(4)}`).substring(26);return nj(`0x${e}`)}const ij="modulepreload",sj=function(t){return"/"+t},uT={},Nn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=Promise.all(n.map(a=>{if(a=sj(a),a in uT)return;uT[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ij,c||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function oj({hash:t,signature:e}){const n=Dp(t)?t:l_(t),{secp256k1:r}=await Nn(()=>import("./secp256k1-DlOjAMqf.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:h,v:f,yParity:g}=e,m=Number(g??f),_=dT(m);return new r.Signature(c_(u),c_(h)).addRecoveryBit(_)}const o=Dp(e)?e:l_(e),a=xF(`0x${o.slice(130)}`),c=dT(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function dT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function aj({hash:t,signature:e}){return rj(await oj({hash:t,signature:e}))}function cj(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const h=t.charAt(u),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=u}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,g=0;const m=u.length;for(;g!==m&&u[g]===0;)g++,h++;const _=(m-g)*s+1>>>0,x=new Uint8Array(_);for(;g!==m;){let T=u[g],I=0;for(let P=_-1;(T!==0||I<f)&&P!==-1;P--,I++)T+=256*x[P]>>>0,x[P]=T%n>>>0,T=T/n>>>0;if(T!==0)throw new Error("Non-zero carry");f=I,g++}let C=_-f;for(;C!==_&&x[C]===0;)C++;let S=r.repeat(h);for(;C<_;++C)S+=t.charAt(x[C]);return S}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,g=0;for(;u[h]===r;)f++,h++;const m=(u.length-h)*i+1>>>0,_=new Uint8Array(m);for(;h<u.length;){const T=u.charCodeAt(h);if(T>255)return;let I=e[T];if(I===255)return;let P=0;for(let z=m-1;(I!==0||P<g)&&z!==-1;z--,P++)I+=n*_[z]>>>0,_[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");g=P,h++}let x=m-g;for(;x!==m&&_[x]===0;)x++;const C=new Uint8Array(f+(m-x));let S=f;for(;x!==m;)C[S++]=_[x++];return C}function c(u){const h=a(u);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var lj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Fi=cj(lj);function d8(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Jf(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=d8(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function uj(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,C=0,S=0,T=_.length;S!==T&&_[S]===0;)S++,x++;for(var I=(T-S)*h+1>>>0,P=new Uint8Array(I);S!==T;){for(var z=_[S],W=0,L=I-1;(z!==0||W<C)&&L!==-1;L--,W++)z+=256*P[L]>>>0,P[L]=z%a>>>0,z=z/a>>>0;if(z!==0)throw new Error("Non-zero carry");C=W,S++}for(var V=I-C;V!==I&&P[V]===0;)V++;for(var q=c.repeat(x);V<I;++V)q+=t.charAt(P[V]);return q}function g(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var x=0;if(_[x]!==" "){for(var C=0,S=0;_[x]===c;)C++,x++;for(var T=(_.length-x)*u+1>>>0,I=new Uint8Array(T);_[x];){var P=n[_.charCodeAt(x)];if(P===255)return;for(var z=0,W=T-1;(P!==0||z<S)&&W!==-1;W--,z++)P+=a*I[W]>>>0,I[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=z,x++}if(_[x]!==" "){for(var L=T-S;L!==T&&I[L]===0;)L++;for(var V=new Uint8Array(C+(T-L)),q=C;L!==T;)V[q++]=I[L++];return V}}}function m(_){var x=g(_);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:m}}var dj=uj,hj=dj;const fj=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},pj=t=>new TextEncoder().encode(t),gj=t=>new TextDecoder().decode(t);class mj{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class yj{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return h8(this,e)}}class bj{constructor(e){this.decoders=e}or(e){return h8(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const h8=(t,e)=>new bj({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class wj{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new mj(e,n,r),this.decoder=new yj(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rw=({name:t,prefix:e,encode:n,decode:r})=>new wj(t,e,n,r),rm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=hj(n,e);return rw({prefix:t,name:e,encode:r,decode:s=>fj(i(s))})},vj=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Ej=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ii=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>rw({prefix:e,name:t,encode(i){return Ej(i,r,n)},decode(i){return vj(i,r,n,t)}}),_j=rw({prefix:"\0",name:"identity",encode:t=>gj(t),decode:t=>pj(t)}),xj=Object.freeze(Object.defineProperty({__proto__:null,identity:_j},Symbol.toStringTag,{value:"Module"})),Sj=ii({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Aj=Object.freeze(Object.defineProperty({__proto__:null,base2:Sj},Symbol.toStringTag,{value:"Module"})),Cj=ii({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Tj=Object.freeze(Object.defineProperty({__proto__:null,base8:Cj},Symbol.toStringTag,{value:"Module"})),Ij=rm({prefix:"9",name:"base10",alphabet:"0123456789"}),Rj=Object.freeze(Object.defineProperty({__proto__:null,base10:Ij},Symbol.toStringTag,{value:"Module"})),kj=ii({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nj=ii({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Oj=Object.freeze(Object.defineProperty({__proto__:null,base16:kj,base16upper:Nj},Symbol.toStringTag,{value:"Module"})),Bj=ii({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Dj=ii({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pj=ii({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$j=ii({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mj=ii({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Uj=ii({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lj=ii({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zj=ii({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Fj=ii({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),jj=Object.freeze(Object.defineProperty({__proto__:null,base32:Bj,base32hex:Mj,base32hexpad:Lj,base32hexpadupper:zj,base32hexupper:Uj,base32pad:Pj,base32padupper:$j,base32upper:Dj,base32z:Fj},Symbol.toStringTag,{value:"Module"})),Hj=rm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),qj=rm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Vj=Object.freeze(Object.defineProperty({__proto__:null,base36:Hj,base36upper:qj},Symbol.toStringTag,{value:"Module"})),Wj=rm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Kj=rm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Gj=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Wj,base58flickr:Kj},Symbol.toStringTag,{value:"Module"})),Yj=ii({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Zj=ii({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xj=ii({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Qj=ii({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Jj=Object.freeze(Object.defineProperty({__proto__:null,base64:Yj,base64pad:Zj,base64url:Xj,base64urlpad:Qj},Symbol.toStringTag,{value:"Module"})),f8=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),eH=f8.reduce((t,e,n)=>(t[n]=e,t),[]),tH=f8.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function nH(t){return t.reduce((e,n)=>(e+=eH[n],e),"")}function rH(t){const e=[];for(const n of t){const r=tH[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const iH=rw({prefix:"🚀",name:"base256emoji",encode:nH,decode:rH}),sH=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:iH},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const hT={...xj,...Aj,...Tj,...Rj,...Oj,...jj,...Vj,...Gj,...Jj,...sH};function p8(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const fT=p8("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Kv=p8("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=d8(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),g8={utf8:fT,"utf-8":fT,hex:hT.base16,latin1:Kv,ascii:Kv,binary:Kv,...hT};function Hs(t,e="utf8"){const n=g8[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Vi(t,e="utf8"){const n=g8[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const oH={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var aH={};const cH=":";function Fd(t){const[e,n]=t.split(cH);return{namespace:e,reference:n}}function m8(t,e){return t.includes(":")?[t]:e.chains||[]}var lH=Object.defineProperty,uH=Object.defineProperties,dH=Object.getOwnPropertyDescriptors,pT=Object.getOwnPropertySymbols,hH=Object.prototype.hasOwnProperty,fH=Object.prototype.propertyIsEnumerable,gT=(t,e,n)=>e in t?lH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mT=(t,e)=>{for(var n in e||(e={}))hH.call(e,n)&&gT(t,n,e[n]);if(pT)for(var n of pT(e))fH.call(e,n)&&gT(t,n,e[n]);return t},pH=(t,e)=>uH(t,dH(e));const gH="ReactNative",hs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},mH="js";function By(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function il(){return!nm()&&!!TS()&&navigator.product===gH}function yH(){return il()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function bH(){return il()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function im(){return!By()&&!!TS()&&!!nm()}function sm(){return il()?hs.reactNative:By()?hs.node:im()?hs.browser:hs.unknown}function yT(){var t;try{return il()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function wH(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function vH(t){var e,n;const r=y8();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),pH(mT(mT({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function y8(){return Q3()||{name:"",description:"",url:"",icons:[""]}}function EH(){if(sm()===hs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=nF();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function _H(){var t;const e=sm();return e===hs.browser?[e,((t=X3())==null?void 0:t.host)||"unknown"].join(":"):e}function b8(t,e,n){const r=EH(),i=_H();return[[t,e].join("-"),[mH,n].join("-"),r,i].join("/")}function xH({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=n.split("?"),h=b8(t,e,r),f={auth:i,ua:h,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},g=wH(u[1]||"",f);return u[0]+"?"+g}function Rl(t,e){return t.filter(n=>e.includes(n)).length===t.length}function u_(t){return Object.fromEntries(t.entries())}function d_(t){return new Map(Object.entries(t))}function gl(t=xe.FIVE_MINUTES,e){const n=xe.toMiliseconds(t||xe.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},n),r=a,i=c})}}function xc(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function w8(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function SH(t){return w8("topic",t)}function AH(t){return w8("id",t)}function v8(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function mr(t,e){return xe.fromMiliseconds(Date.now()+xe.toMiliseconds(t))}function fc(t){return Date.now()>=xe.toMiliseconds(t)}function jt(t,e){return`${t}${e?`:${e}`:""}`}function ny(t=[],e=[]){return[...new Set([...t,...e])]}async function CH({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=TH(s,t,e),a=sm();if(a===hs.browser){if(!((r=nm())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}IH(o)}else a===hs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function TH(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${OH(r,!0)}`}else i=`${i}/wc?${r}`;return i}function IH(t){let e="_self";NH()?e="_top":(kH()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function RH(t,e){let n="";try{if(im()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function bT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function wT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function kS(){return typeof process<"u"&&aH.IS_VITEST==="true"}function kH(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function NH(){try{return window.self!==window.top}catch{return!1}}function OH(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function E8(t){return Buffer.from(t,"base64").toString("utf-8")}function BH(t){return new Promise(e=>setTimeout(e,t))}function Pp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function DH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function om(t,...e){if(!DH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function NS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Pp(t.outputLen),Pp(t.blockLen)}function rh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _8(t,e){om(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const s0=BigInt(2**32-1),vT=BigInt(32);function PH(t,e=!1){return e?{h:Number(t&s0),l:Number(t>>vT&s0)}:{h:Number(t>>vT&s0)|0,l:Number(t&s0)|0}}function $H(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=PH(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const MH=(t,e,n)=>t<<n|e>>>32-n,UH=(t,e,n)=>e<<n|t>>>32-n,LH=(t,e,n)=>e<<n-32|t>>>64-n,zH=(t,e,n)=>t<<n-32|e>>>64-n,ju=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function FH(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Gv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function To(t,e){return t<<32-e|t>>>e}const ET=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function _T(t){for(let e=0;e<t.length;e++)t[e]=jH(t[e])}function HH(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function ih(t){return typeof t=="string"&&(t=HH(t)),om(t),t}function qH(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];om(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let OS=class{clone(){return this._cloneInto()}};function x8(t){const e=r=>t().update(ih(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function jh(t=32){if(ju&&typeof ju.getRandomValues=="function")return ju.getRandomValues(new Uint8Array(t));if(ju&&typeof ju.randomBytes=="function")return ju.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const S8=[],A8=[],C8=[],VH=BigInt(0),gf=BigInt(1),WH=BigInt(2),KH=BigInt(7),GH=BigInt(256),YH=BigInt(113);for(let t=0,e=gf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],S8.push(2*(5*r+n)),A8.push((t+1)*(t+2)/2%64);let i=VH;for(let s=0;s<7;s++)e=(e<<gf^(e>>KH)*YH)%GH,e&WH&&(i^=gf<<(gf<<BigInt(s))-gf);C8.push(i)}const[ZH,XH]=$H(C8,!0),xT=(t,e,n)=>n>32?LH(t,e,n):MH(t,e,n),ST=(t,e,n)=>n>32?zH(t,e,n):UH(t,e,n);function QH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],h=n[c+1],f=xT(u,h,1)^n[a],g=ST(u,h,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=g}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=A8[o],c=xT(i,s,a),u=ST(i,s,a),h=S8[o];i=t[h],s=t[h+1],t[h]=c,t[h+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=ZH[r],t[1]^=XH[r]}n.fill(0)}let JH=class T8 extends OS{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pp(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=FH(this.state)}keccak(){ET||_T(this.state32),QH(this.state32,this.rounds),ET||_T(this.state32),this.posOut=0,this.pos=0}update(e){rh(this);const{blockLen:n,state:r}=this;e=ih(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){rh(this,!1),om(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Pp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new T8(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const eq=(t,e,n)=>x8(()=>new JH(e,t,n)),tq=eq(1,136,256/8),nq="https://rpc.walletconnect.org/v1";function I8(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(tq(n)).toString("hex")}async function rq(t,e,n,r,i,s){switch(n.t){case"eip191":return await iq(t,e,n.s);case"eip1271":return await sq(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function iq(t,e,n){return(await aj({hash:I8(e),signature:n})).toLowerCase()===t.toLowerCase()}async function sq(t,e,n,r,i,s){const o=Fd(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",h=n.substring(2),f=I8(e).substring(2),g=a+f+c+u+h,m=await fetch(`${s||nq}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:oq(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:_}=await m.json();return _?_.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function oq(){return Date.now()+Math.floor(Math.random()*1e3)}function aq(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Fi.encode(s)}var cq=Object.defineProperty,lq=Object.defineProperties,uq=Object.getOwnPropertyDescriptors,AT=Object.getOwnPropertySymbols,dq=Object.prototype.hasOwnProperty,hq=Object.prototype.propertyIsEnumerable,CT=(t,e,n)=>e in t?cq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fq=(t,e)=>{for(var n in e||(e={}))dq.call(e,n)&&CT(t,n,e[n]);if(AT)for(var n of AT(e))hq.call(e,n)&&CT(t,n,e[n]);return t},pq=(t,e)=>lq(t,uq(e));const gq="did:pkh:",BS=t=>t?.split(":"),mq=t=>{const e=t&&BS(t);if(e)return t.includes(gq)?e[3]:e[1]},h_=t=>{const e=t&&BS(t);if(e)return e[2]+":"+e[3]},Dy=t=>{const e=t&&BS(t);if(e)return e.pop()};async function TT(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=R8(i,i.iss),o=Dy(i.iss);return await rq(o,s,r,h_(i.iss),n)}const R8=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Dy(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${mq(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(x=>`
- ${x}`).join("")}`:void 0,_=ry(t.resources);if(_){const x=$p(_);i=Aq(i,x)}return[n,r,"",i,"",s,o,a,c,u,h,f,g,m].filter(x=>x!=null).join(`
`)};function yq(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function bq(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function tu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function wq(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:vq(e,n,r)}}}function vq(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function k8(t){return tu(t),`urn:recap:${yq(t).replace(/=/g,"")}`}function $p(t){const e=bq(t.replace("urn:recap:",""));return tu(e),e}function Eq(t,e,n){const r=wq(t,e,n);return k8(r)}function _q(t){return t&&t.includes("urn:recap:")}function xq(t,e){const n=$p(t),r=$p(e),i=Sq(n,r);return k8(i)}function Sq(t,e){tu(t),tu(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;r.att[i]=pq(fq({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),r}function Aq(t="",e){tu(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,g)=>f.action.localeCompare(g.action));const u={};c.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const h=Object.keys(u).map(f=>(i++,`(${i}) '${f}': '${u[f].join("', '")}' for '${a}'.`));r.push(h.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function IT(t){var e;const n=$p(t);tu(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function RT(t){const e=$p(t);tu(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function ry(t){if(!t)return;const e=t?.[t.length-1];return _q(e)?e:void 0}function Yv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function N8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ss(t,...e){if(!N8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Cq(t,e){ss(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function NT(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Rc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Tq=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Iq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Iq)throw new Error("Non little-endian hardware is not supported");function Rq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function f_(t){if(typeof t=="string")t=Rq(t);else if(N8(t))t=p_(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function kq(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Nq(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Oq=(t,e)=>{function n(r,...i){if(ss(r),t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?ss(u):ss(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&ss(i[1]);const o=e(r,...i),a=(u,h)=>{if(h!==void 0){if(u!==2)throw new Error("cipher output not supported");ss(h)}};let c=!1;return{encrypt(u,h){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ss(u),a(o.encrypt.length,h),o.encrypt(u,h)},decrypt(u,h){if(ss(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,h),o.decrypt(u,h)}}}return Object.assign(n,t),n};function OT(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Bq(e))throw new Error("invalid output, must be aligned");return e}function BT(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Bq(t){return t.byteOffset%4===0}function p_(t){return Uint8Array.from(t)}function sh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const O8=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Dq=O8("expand 16-byte k"),Pq=O8("expand 32-byte k"),$q=Rc(Dq),Mq=Rc(Pq);function Bt(t,e){return t<<e|t>>>32-e}function g_(t){return t.byteOffset%4===0}const o0=64,Uq=16,B8=2**32-1,DT=new Uint32Array;function Lq(t,e,n,r,i,s,o,a){const c=i.length,u=new Uint8Array(o0),h=Rc(u),f=g_(i)&&g_(s),g=f?Rc(i):DT,m=f?Rc(s):DT;for(let _=0;_<c;o++){if(t(e,n,r,h,o,a),o>=B8)throw new Error("arx: counter overflow");const x=Math.min(o0,c-_);if(f&&x===o0){const C=_/4;if(_%4!==0)throw new Error("arx: invalid block position");for(let S=0,T;S<Uq;S++)T=C+S,m[T]=g[T]^h[S];_+=o0;continue}for(let C=0,S;C<x;C++)S=_+C,s[S]=i[S]^u[C];_+=x}}function zq(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=kq({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Yv(i),Yv(o),NT(s),NT(n),(a,c,u,h,f=0)=>{ss(a),ss(c),ss(u);const g=u.length;if(h===void 0&&(h=new Uint8Array(g)),ss(h),Yv(f),f<0||f>=B8)throw new Error("arx: counter overflow");if(h.length<g)throw new Error(`arx: output (${h.length}) is shorter than data (${g})`);const m=[];let _=a.length,x,C;if(_===32)m.push(x=p_(a)),C=Mq;else if(_===16&&n)x=new Uint8Array(32),x.set(a),x.set(a,16),C=$q,m.push(x);else throw new Error(`arx: invalid 32-byte key, got length=${_}`);g_(c)||m.push(c=p_(c));const S=Rc(x);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(C,S,Rc(c.subarray(0,16)),S),c=c.subarray(16)}const T=16-i;if(T!==c.length)throw new Error(`arx: nonce must be ${T} or 16 bytes`);if(T!==12){const P=new Uint8Array(12);P.set(c,s?0:12-c.length),c=P,m.push(c)}const I=Rc(c);return Lq(t,C,S,I,u,h,f,o),sh(...m),h}}const Lr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Fq{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=f_(e),ss(e,32);const n=Lr(e,0),r=Lr(e,2),i=Lr(e,4),s=Lr(e,6),o=Lr(e,8),a=Lr(e,10),c=Lr(e,12),u=Lr(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Lr(e,16+2*h)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],h=o[3],f=o[4],g=o[5],m=o[6],_=o[7],x=o[8],C=o[9],S=Lr(e,n+0),T=Lr(e,n+2),I=Lr(e,n+4),P=Lr(e,n+6),z=Lr(e,n+8),W=Lr(e,n+10),L=Lr(e,n+12),V=Lr(e,n+14);let q=s[0]+(S&8191),X=s[1]+((S>>>13|T<<3)&8191),Y=s[2]+((T>>>10|I<<6)&8191),ee=s[3]+((I>>>7|P<<9)&8191),j=s[4]+((P>>>4|z<<12)&8191),w=s[5]+(z>>>1&8191),b=s[6]+((z>>>14|W<<2)&8191),v=s[7]+((W>>>11|L<<5)&8191),O=s[8]+((L>>>8|V<<8)&8191),B=s[9]+(V>>>5|i),R=0,M=R+q*a+X*(5*C)+Y*(5*x)+ee*(5*_)+j*(5*m);R=M>>>13,M&=8191,M+=w*(5*g)+b*(5*f)+v*(5*h)+O*(5*u)+B*(5*c),R+=M>>>13,M&=8191;let k=R+q*c+X*a+Y*(5*C)+ee*(5*x)+j*(5*_);R=k>>>13,k&=8191,k+=w*(5*m)+b*(5*g)+v*(5*f)+O*(5*h)+B*(5*u),R+=k>>>13,k&=8191;let E=R+q*u+X*c+Y*a+ee*(5*C)+j*(5*x);R=E>>>13,E&=8191,E+=w*(5*_)+b*(5*m)+v*(5*g)+O*(5*f)+B*(5*h),R+=E>>>13,E&=8191;let U=R+q*h+X*u+Y*c+ee*a+j*(5*C);R=U>>>13,U&=8191,U+=w*(5*x)+b*(5*_)+v*(5*m)+O*(5*g)+B*(5*f),R+=U>>>13,U&=8191;let Q=R+q*f+X*h+Y*u+ee*c+j*a;R=Q>>>13,Q&=8191,Q+=w*(5*C)+b*(5*x)+v*(5*_)+O*(5*m)+B*(5*g),R+=Q>>>13,Q&=8191;let te=R+q*g+X*f+Y*h+ee*u+j*c;R=te>>>13,te&=8191,te+=w*a+b*(5*C)+v*(5*x)+O*(5*_)+B*(5*m),R+=te>>>13,te&=8191;let oe=R+q*m+X*g+Y*f+ee*h+j*u;R=oe>>>13,oe&=8191,oe+=w*c+b*a+v*(5*C)+O*(5*x)+B*(5*_),R+=oe>>>13,oe&=8191;let pe=R+q*_+X*m+Y*g+ee*f+j*h;R=pe>>>13,pe&=8191,pe+=w*u+b*c+v*a+O*(5*C)+B*(5*x),R+=pe>>>13,pe&=8191;let ue=R+q*x+X*_+Y*m+ee*g+j*f;R=ue>>>13,ue&=8191,ue+=w*h+b*u+v*c+O*a+B*(5*C),R+=ue>>>13,ue&=8191;let me=R+q*C+X*x+Y*_+ee*m+j*g;R=me>>>13,me&=8191,me+=w*f+b*h+v*u+O*c+B*a,R+=me>>>13,me&=8191,R=(R<<2)+R|0,R=R+M|0,M=R&8191,R=R>>>13,k+=R,s[0]=M,s[1]=k,s[2]=E,s[3]=U,s[4]=Q,s[5]=te,s[6]=oe,s[7]=pe,s[8]=ue,s[9]=me}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;sh(r)}update(e){kT(this);const{buffer:n,blockLen:r}=this;e=f_(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){sh(this.h,this.r,this.buffer,this.pad)}digestInto(e){kT(this),Cq(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function jq(t){const e=(r,i)=>t(i).update(f_(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Hq=jq(t=>new Fq(t));function qq(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],u=t[3],h=e[0],f=e[1],g=e[2],m=e[3],_=e[4],x=e[5],C=e[6],S=e[7],T=i,I=n[0],P=n[1],z=n[2],W=o,L=a,V=c,q=u,X=h,Y=f,ee=g,j=m,w=_,b=x,v=C,O=S,B=T,R=I,M=P,k=z;for(let U=0;U<s;U+=2)W=W+X|0,B=Bt(B^W,16),w=w+B|0,X=Bt(X^w,12),W=W+X|0,B=Bt(B^W,8),w=w+B|0,X=Bt(X^w,7),L=L+Y|0,R=Bt(R^L,16),b=b+R|0,Y=Bt(Y^b,12),L=L+Y|0,R=Bt(R^L,8),b=b+R|0,Y=Bt(Y^b,7),V=V+ee|0,M=Bt(M^V,16),v=v+M|0,ee=Bt(ee^v,12),V=V+ee|0,M=Bt(M^V,8),v=v+M|0,ee=Bt(ee^v,7),q=q+j|0,k=Bt(k^q,16),O=O+k|0,j=Bt(j^O,12),q=q+j|0,k=Bt(k^q,8),O=O+k|0,j=Bt(j^O,7),W=W+Y|0,k=Bt(k^W,16),v=v+k|0,Y=Bt(Y^v,12),W=W+Y|0,k=Bt(k^W,8),v=v+k|0,Y=Bt(Y^v,7),L=L+ee|0,B=Bt(B^L,16),O=O+B|0,ee=Bt(ee^O,12),L=L+ee|0,B=Bt(B^L,8),O=O+B|0,ee=Bt(ee^O,7),V=V+j|0,R=Bt(R^V,16),w=w+R|0,j=Bt(j^w,12),V=V+j|0,R=Bt(R^V,8),w=w+R|0,j=Bt(j^w,7),q=q+X|0,M=Bt(M^q,16),b=b+M|0,X=Bt(X^b,12),q=q+X|0,M=Bt(M^q,8),b=b+M|0,X=Bt(X^b,7);let E=0;r[E++]=o+W|0,r[E++]=a+L|0,r[E++]=c+V|0,r[E++]=u+q|0,r[E++]=h+X|0,r[E++]=f+Y|0,r[E++]=g+ee|0,r[E++]=m+j|0,r[E++]=_+w|0,r[E++]=x+b|0,r[E++]=C+v|0,r[E++]=S+O|0,r[E++]=T+B|0,r[E++]=I+R|0,r[E++]=P+M|0,r[E++]=z+k|0}const Vq=zq(qq,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Wq=new Uint8Array(16),PT=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Wq.subarray(n))},Kq=new Uint8Array(32);function $T(t,e,n,r,i){const s=t(e,n,Kq),o=Hq.create(s);i&&PT(o,i),PT(o,r);const a=new Uint8Array(16),c=Tq(a);BT(c,0,BigInt(i?i.length:0),!0),BT(c,8,BigInt(r.length),!0),o.update(a);const u=o.digest();return sh(s,a),u}const Gq=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=OT(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=$T(t,e,n,a,r);return s.set(c,o),sh(c),s},decrypt(i,s){s=OT(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=$T(t,e,n,o,r);if(!Nq(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),sh(c),s}}),D8=Oq({blockSize:64,nonceLength:12,tagLength:16},Gq(Vq));let P8=class extends OS{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,NS(e);const r=ih(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return rh(this),this.iHash.update(e),this}digestInto(e){rh(this),om(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const iw=(t,e,n)=>new P8(t,e).update(n).digest();iw.create=(t,e)=>new P8(t,e);function Yq(t,e,n){return NS(t),n===void 0&&(n=new Uint8Array(t.outputLen)),iw(t,ih(n),ih(e))}const Zv=new Uint8Array([0]),MT=new Uint8Array;function Zq(t,e,n,r=32){if(NS(t),Pp(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=MT);const s=new Uint8Array(i*t.outputLen),o=iw.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)Zv[0]=u+1,a.update(u===0?MT:c).update(n).update(Zv).digestInto(c),s.set(c,t.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),Zv.fill(0),s.slice(0,r)}const Xq=(t,e,n,r,i)=>Zq(t,Yq(t,e,n),r,i);function Qq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function Jq(t,e,n){return t&e^~t&n}function eV(t,e,n){return t&e^t&n^e&n}let tV=class extends OS{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gv(this.buffer)}update(e){rh(this);const{view:n,buffer:r,blockLen:i}=this;e=ih(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Gv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rh(this),_8(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;Qq(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Gv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const nV=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nc=new Uint32Array(64);class rV extends tV{constructor(){super(64,32,8,!1),this.A=tc[0]|0,this.B=tc[1]|0,this.C=tc[2]|0,this.D=tc[3]|0,this.E=tc[4]|0,this.F=tc[5]|0,this.G=tc[6]|0,this.H=tc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)nc[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const g=nc[f-15],m=nc[f-2],_=To(g,7)^To(g,18)^g>>>3,x=To(m,17)^To(m,19)^m>>>10;nc[f]=x+nc[f-7]+_+nc[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){const g=To(a,6)^To(a,11)^To(a,25),m=h+g+Jq(a,c,u)+nV[f]+nc[f]|0,_=(To(r,2)^To(r,13)^To(r,22))+eV(r,i,s)|0;h=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+_|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,s,o,a,c,u,h)}roundClean(){nc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const am=x8(()=>new rV);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sw=BigInt(0),ow=BigInt(1),iV=BigInt(2);function nu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cm(t){if(!nu(t))throw new Error("Uint8Array expected")}function oh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const sV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ah(t){cm(t);let e="";for(let n=0;n<t.length;n++)e+=sV[t[n]];return e}function Ad(t){const e=t.toString(16);return e.length&1?"0"+e:e}function DS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?sw:BigInt("0x"+t)}const ca={_0:48,_9:57,A:65,F:70,a:97,f:102};function UT(t){if(t>=ca._0&&t<=ca._9)return t-ca._0;if(t>=ca.A&&t<=ca.F)return t-(ca.A-10);if(t>=ca.a&&t<=ca.f)return t-(ca.a-10)}function ch(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=UT(t.charCodeAt(s)),a=UT(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ll(t){return DS(ah(t))}function Mp(t){return cm(t),DS(ah(Uint8Array.from(t).reverse()))}function lh(t,e){return ch(t.toString(16).padStart(e*2,"0"))}function aw(t,e){return lh(t,e).reverse()}function oV(t){return ch(Ad(t))}function ns(t,e,n){let r;if(typeof e=="string")try{r=ch(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(nu(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Up(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];cm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function aV(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function cV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Xv=t=>typeof t=="bigint"&&sw<=t;function cw(t,e,n){return Xv(t)&&Xv(e)&&Xv(n)&&e<=t&&t<n}function $a(t,e,n,r){if(!cw(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function $8(t){let e;for(e=0;t>sw;t>>=ow,e+=1);return e}function lV(t,e){return t>>BigInt(e)&ow}function uV(t,e,n){return t|(n?ow:sw)<<BigInt(e)}const PS=t=>(iV<<BigInt(t-1))-ow,Qv=t=>new Uint8Array(t),LT=t=>Uint8Array.from(t);function M8(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Qv(t),i=Qv(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=Qv())=>{i=a(LT([0]),h),r=a(),h.length!==0&&(i=a(LT([1]),h),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const g=r.slice();f.push(g),h+=r.length}return Up(...f)};return(h,f)=>{o(),c(h);let g;for(;!(g=f(u()));)c();return o(),g}}const dV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||nu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Hh(t,e,n={}){const r=(i,s,o)=>{const a=dV[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const hV=()=>{throw new Error("not implemented")};function m_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var fV=Object.freeze({__proto__:null,isBytes:nu,abytes:cm,abool:oh,bytesToHex:ah,numberToHexUnpadded:Ad,hexToNumber:DS,hexToBytes:ch,bytesToNumberBE:Ll,bytesToNumberLE:Mp,numberToBytesBE:lh,numberToBytesLE:aw,numberToVarBytesBE:oV,ensureBytes:ns,concatBytes:Up,equalBytes:aV,utf8ToBytes:cV,inRange:cw,aInRange:$a,bitLen:$8,bitGet:lV,bitSet:uV,bitMask:PS,createHmacDrbg:M8,validateObject:Hh,notImplemented:hV,memoized:m_});const Dr=BigInt(0),sr=BigInt(1),_l=BigInt(2),pV=BigInt(3),y_=BigInt(4),zT=BigInt(5),FT=BigInt(8);function zi(t,e){const n=t%e;return n>=Dr?n:e+n}function U8(t,e,n){if(e<Dr)throw new Error("invalid exponent, negatives unsupported");if(n<=Dr)throw new Error("invalid modulus");if(n===sr)return Dr;let r=sr;for(;e>Dr;)e&sr&&(r=r*t%n),t=t*t%n,e>>=sr;return r}function io(t,e,n){let r=t;for(;e-- >Dr;)r*=r,r%=n;return r}function b_(t,e){if(t===Dr)throw new Error("invert: expected non-zero number");if(e<=Dr)throw new Error("invert: expected positive modulus, got "+e);let n=zi(t,e),r=e,i=Dr,s=sr;for(;n!==Dr;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==sr)throw new Error("invert: does not exist");return zi(i,e)}function gV(t){const e=(t-sr)/_l;let n,r,i;for(n=t-sr,r=0;n%_l===Dr;n/=_l,r++);for(i=_l;i<t&&U8(i,e,t)!==t-sr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+sr)/y_;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+sr)/_l;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),h=o.pow(a,s),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let g=1;for(let _=o.sqr(f);g<c&&!o.eql(_,o.ONE);g++)_=o.sqr(_);const m=o.pow(u,sr<<BigInt(c-g-1));u=o.sqr(m),h=o.mul(h,m),f=o.mul(f,u),c=g}return h}}function mV(t){if(t%y_===pV){const e=(t+sr)/y_;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%FT===zT){const e=(t-zT)/FT;return function(n,r){const i=n.mul(r,_l),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,_l),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return gV(t)}const yV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=yV.reduce((r,i)=>(r[i]="function",r),e);return Hh(t,n)}function wV(t,e,n){if(n<Dr)throw new Error("invalid exponent, negatives unsupported");if(n===Dr)return t.ONE;if(n===sr)return e;let r=t.ONE,i=e;for(;n>Dr;)n&sr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=sr;return r}function vV(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function L8(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function z8(t,e,n=!1,r={}){if(t<=Dr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=L8(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:PS(i),ZERO:Dr,ONE:sr,create:c=>zi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Dr<=c&&c<t},is0:c=>c===Dr,isOdd:c=>(c&sr)===sr,neg:c=>zi(-c,t),eql:(c,u)=>c===u,sqr:c=>zi(c*c,t),add:(c,u)=>zi(c+u,t),sub:(c,u)=>zi(c-u,t),mul:(c,u)=>zi(c*u,t),pow:(c,u)=>wV(a,c,u),div:(c,u)=>zi(c*b_(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>b_(c,t),sqrt:r.sqrt||(c=>(o||(o=mV(t)),o(a,c))),invertBatch:c=>vV(a,c),cmov:(c,u,h)=>h?u:c,toBytes:c=>n?aw(c,s):lh(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Mp(c):Ll(c)}});return Object.freeze(a)}function F8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function j8(t){const e=F8(t);return e+Math.ceil(e/2)}function EV(t,e,n=!1){const r=t.length,i=F8(e),s=j8(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Mp(t):Ll(t),a=zi(o,e-sr)+sr;return n?aw(a,i):lh(a,i)}const jT=BigInt(0),a0=BigInt(1);function Jv(t,e){const n=e.negate();return t?n:e}function H8(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function e1(t,e){H8(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function _V(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function xV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const t1=new WeakMap,q8=new WeakMap;function n1(t){return q8.get(t)||1}function SV(t,e){return{constTimeNegate:Jv,hasPrecomputes(n){return n1(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>jT;)r&a0&&(i=i.add(s)),s=s.double(),r>>=a0;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=e1(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let h=1;h<s;h++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=e1(n,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let g=0;g<s;g++){const m=g*o;let _=Number(i&u);i>>=f,_>o&&(_-=h,i+=a0);const x=m,C=m+Math.abs(_)-1,S=g%2!==0,T=_<0;_===0?c=c.add(Jv(S,r[x])):a=a.add(Jv(T,r[C]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=e1(n,e),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<o;f++){const g=f*a;if(i===jT)break;let m=Number(i&c);if(i>>=h,m>a&&(m-=u,i+=a0),m===0)continue;let _=r[g+Math.abs(m)-1];m<0&&(_=_.negate()),s=s.add(_)}return s},getPrecomputes(n,r,i){let s=t1.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&t1.set(r,i(s))),s},wNAFCached(n,r,i){const s=n1(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=n1(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){H8(r,e),q8.set(n,r),t1.delete(n)}}}function AV(t,e,n,r){if(_V(n,t),xV(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=$8(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let h=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let m=0;m<r.length;m++){const _=r[m],x=Number(_>>BigInt(f)&BigInt(a));c[x]=c[x].add(n[m])}let g=i;for(let m=c.length-1,_=i;m>0;m--)_=_.add(c[m]),g=g.add(_);if(h=h.add(g),f!==0)for(let m=0;m<o;m++)h=h.double()}return h}function V8(t){return bV(t.Fp),Hh(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L8(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Hu=BigInt(0),r1=BigInt(1);function CV(t){return Hh(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function TV(t){const e=CV(t),{P:n}=e,r=T=>zi(T,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(T=>T),c=e.powPminus2||(T=>U8(T,n-BigInt(2),n));function u(T,I,P){const z=r(T*(I-P));return I=r(I-z),P=r(P+z),[I,P]}const h=(e.a-BigInt(2))/BigInt(4);function f(T,I){$a("u",T,Hu,n),$a("scalar",I,Hu,n);const P=I,z=T;let W=r1,L=Hu,V=T,q=r1,X=Hu,Y;for(let j=BigInt(i-1);j>=Hu;j--){const w=P>>j&r1;X^=w,Y=u(X,W,V),W=Y[0],V=Y[1],Y=u(X,L,q),L=Y[0],q=Y[1],X=w;const b=W+L,v=r(b*b),O=W-L,B=r(O*O),R=v-B,M=V+q,k=V-q,E=r(k*b),U=r(M*O),Q=E+U,te=E-U;V=r(Q*Q),q=r(z*r(te*te)),W=r(v*B),L=r(R*(v+r(h*R)))}Y=u(X,W,V),W=Y[0],V=Y[1],Y=u(X,L,q),L=Y[0],q=Y[1];const ee=c(L);return r(W*ee)}function g(T){return aw(r(T),s)}function m(T){const I=ns("u coordinate",T,s);return o===32&&(I[31]&=127),Mp(I)}function _(T){const I=ns("scalar",T),P=I.length;if(P!==s&&P!==o){let z=""+s+" or "+o;throw new Error("invalid scalar, expected "+z+" bytes, got "+P)}return Mp(a(I))}function x(T,I){const P=m(I),z=_(T),W=f(P,z);if(W===Hu)throw new Error("invalid private or public key received");return g(W)}const C=g(e.Gu);function S(T){return x(T,C)}return{scalarMult:x,scalarMultBase:S,getSharedSecret:(T,I)=>x(T,I),getPublicKey:T=>S(T),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:C}}const w_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const IV=BigInt(1),HT=BigInt(2),RV=BigInt(3),kV=BigInt(5);BigInt(8);function NV(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=w_,o=t*t%s*t%s,a=io(o,HT,s)*o%s,c=io(a,IV,s)*t%s,u=io(c,kV,s)*c%s,h=io(u,e,s)*u%s,f=io(h,n,s)*h%s,g=io(f,r,s)*f%s,m=io(g,i,s)*g%s,_=io(m,i,s)*g%s,x=io(_,e,s)*u%s;return{pow_p_5_8:io(x,HT,s)*t%s,b2:o}}function OV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const v_=TV({P:w_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=w_,{pow_p_5_8:n,b2:r}=NV(t);return zi(io(n,RV,e)*r,e)},adjustScalarBytes:OV,randomBytes:jh});function qT(t){t.lowS!==void 0&&oh("lowS",t.lowS),t.prehash!==void 0&&oh("prehash",t.prehash)}function BV(t){const e=V8(t);Hh(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:DV,hexToBytes:PV}=fV;class $V extends Error{constructor(e=""){super(e)}}const wa={Err:$V,_tlv:{encode:(t,e)=>{const{Err:n}=wa;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=Ad(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ad(i.length/2|128):"";return Ad(t)+s+i+e},decode(t,e){const{Err:n}=wa;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of u)o=o<<8|h;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=wa;if(t<_a)throw new e("integer: negative integers are not allowed");let n=Ad(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=wa;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return DV(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=wa,i=typeof t=="string"?PV(t):t;cm(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:h}=r.decode(2,c);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=wa,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},_a=BigInt(0),Cr=BigInt(1);BigInt(2);const VT=BigInt(3);BigInt(4);function MV(t){const e=BV(t),{Fp:n}=e,r=z8(e.n,e.nBitLength),i=e.toBytes||((x,C,S)=>{const T=C.toAffine();return Up(Uint8Array.from([4]),n.toBytes(T.x),n.toBytes(T.y))}),s=e.fromBytes||(x=>{const C=x.subarray(1),S=n.fromBytes(C.subarray(0,n.BYTES)),T=n.fromBytes(C.subarray(n.BYTES,2*n.BYTES));return{x:S,y:T}});function o(x){const{a:C,b:S}=e,T=n.sqr(x),I=n.mul(T,x);return n.add(n.add(I,n.mul(x,C)),S)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return cw(x,Cr,e.n)}function c(x){const{allowedPrivateKeyLengths:C,nByteLength:S,wrapPrivateKey:T,n:I}=e;if(C&&typeof x!="bigint"){if(nu(x)&&(x=ah(x)),typeof x!="string"||!C.includes(x.length))throw new Error("invalid private key");x=x.padStart(S*2,"0")}let P;try{P=typeof x=="bigint"?x:Ll(ns("private key",x,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof x)}return T&&(P=zi(P,I)),$a("private key",P,Cr,I),P}function u(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const h=m_((x,C)=>{const{px:S,py:T,pz:I}=x;if(n.eql(I,n.ONE))return{x:S,y:T};const P=x.is0();C==null&&(C=P?n.ONE:n.inv(I));const z=n.mul(S,C),W=n.mul(T,C),L=n.mul(I,C);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:z,y:W}}),f=m_(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:C,y:S}=x.toAffine();if(!n.isValid(C)||!n.isValid(S))throw new Error("bad point: x or y not FE");const T=n.sqr(S),I=o(C);if(!n.eql(T,I))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(C,S,T){if(this.px=C,this.py=S,this.pz=T,C==null||!n.isValid(C))throw new Error("x required");if(S==null||!n.isValid(S))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required");Object.freeze(this)}static fromAffine(C){const{x:S,y:T}=C||{};if(!C||!n.isValid(S)||!n.isValid(T))throw new Error("invalid affine point");if(C instanceof g)throw new Error("projective point not allowed");const I=P=>n.eql(P,n.ZERO);return I(S)&&I(T)?g.ZERO:new g(S,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const S=n.invertBatch(C.map(T=>T.pz));return C.map((T,I)=>T.toAffine(S[I])).map(g.fromAffine)}static fromHex(C){const S=g.fromAffine(s(ns("pointHex",C)));return S.assertValidity(),S}static fromPrivateKey(C){return g.BASE.multiply(c(C))}static msm(C,S){return AV(g,r,C,S)}_setWindowSize(C){_.setWindowSize(this,C)}assertValidity(){f(this)}hasEvenY(){const{y:C}=this.toAffine();if(n.isOdd)return!n.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){u(C);const{px:S,py:T,pz:I}=this,{px:P,py:z,pz:W}=C,L=n.eql(n.mul(S,W),n.mul(P,I)),V=n.eql(n.mul(T,W),n.mul(z,I));return L&&V}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:C,b:S}=e,T=n.mul(S,VT),{px:I,py:P,pz:z}=this;let W=n.ZERO,L=n.ZERO,V=n.ZERO,q=n.mul(I,I),X=n.mul(P,P),Y=n.mul(z,z),ee=n.mul(I,P);return ee=n.add(ee,ee),V=n.mul(I,z),V=n.add(V,V),W=n.mul(C,V),L=n.mul(T,Y),L=n.add(W,L),W=n.sub(X,L),L=n.add(X,L),L=n.mul(W,L),W=n.mul(ee,W),V=n.mul(T,V),Y=n.mul(C,Y),ee=n.sub(q,Y),ee=n.mul(C,ee),ee=n.add(ee,V),V=n.add(q,q),q=n.add(V,q),q=n.add(q,Y),q=n.mul(q,ee),L=n.add(L,q),Y=n.mul(P,z),Y=n.add(Y,Y),q=n.mul(Y,ee),W=n.sub(W,q),V=n.mul(Y,X),V=n.add(V,V),V=n.add(V,V),new g(W,L,V)}add(C){u(C);const{px:S,py:T,pz:I}=this,{px:P,py:z,pz:W}=C;let L=n.ZERO,V=n.ZERO,q=n.ZERO;const X=e.a,Y=n.mul(e.b,VT);let ee=n.mul(S,P),j=n.mul(T,z),w=n.mul(I,W),b=n.add(S,T),v=n.add(P,z);b=n.mul(b,v),v=n.add(ee,j),b=n.sub(b,v),v=n.add(S,I);let O=n.add(P,W);return v=n.mul(v,O),O=n.add(ee,w),v=n.sub(v,O),O=n.add(T,I),L=n.add(z,W),O=n.mul(O,L),L=n.add(j,w),O=n.sub(O,L),q=n.mul(X,v),L=n.mul(Y,w),q=n.add(L,q),L=n.sub(j,q),q=n.add(j,q),V=n.mul(L,q),j=n.add(ee,ee),j=n.add(j,ee),w=n.mul(X,w),v=n.mul(Y,v),j=n.add(j,w),w=n.sub(ee,w),w=n.mul(X,w),v=n.add(v,w),ee=n.mul(j,v),V=n.add(V,ee),ee=n.mul(O,v),L=n.mul(b,L),L=n.sub(L,ee),ee=n.mul(b,j),q=n.mul(O,q),q=n.add(q,ee),new g(L,V,q)}subtract(C){return this.add(C.negate())}is0(){return this.equals(g.ZERO)}wNAF(C){return _.wNAFCached(this,C,g.normalizeZ)}multiplyUnsafe(C){const{endo:S,n:T}=e;$a("scalar",C,_a,T);const I=g.ZERO;if(C===_a)return I;if(this.is0()||C===Cr)return this;if(!S||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,C,g.normalizeZ);let{k1neg:P,k1:z,k2neg:W,k2:L}=S.splitScalar(C),V=I,q=I,X=this;for(;z>_a||L>_a;)z&Cr&&(V=V.add(X)),L&Cr&&(q=q.add(X)),X=X.double(),z>>=Cr,L>>=Cr;return P&&(V=V.negate()),W&&(q=q.negate()),q=new g(n.mul(q.px,S.beta),q.py,q.pz),V.add(q)}multiply(C){const{endo:S,n:T}=e;$a("scalar",C,Cr,T);let I,P;if(S){const{k1neg:z,k1:W,k2neg:L,k2:V}=S.splitScalar(C);let{p:q,f:X}=this.wNAF(W),{p:Y,f:ee}=this.wNAF(V);q=_.constTimeNegate(z,q),Y=_.constTimeNegate(L,Y),Y=new g(n.mul(Y.px,S.beta),Y.py,Y.pz),I=q.add(Y),P=X.add(ee)}else{const{p:z,f:W}=this.wNAF(C);I=z,P=W}return g.normalizeZ([I,P])[0]}multiplyAndAddUnsafe(C,S,T){const I=g.BASE,P=(W,L)=>L===_a||L===Cr||!W.equals(I)?W.multiplyUnsafe(L):W.multiply(L),z=P(this,S).add(P(C,T));return z.is0()?void 0:z}toAffine(C){return h(this,C)}isTorsionFree(){const{h:C,isTorsionFree:S}=e;if(C===Cr)return!0;if(S)return S(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:S}=e;return C===Cr?this:S?S(g,this):this.multiplyUnsafe(e.h)}toRawBytes(C=!0){return oh("isCompressed",C),this.assertValidity(),i(g,this,C)}toHex(C=!0){return oh("isCompressed",C),ah(this.toRawBytes(C))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,_=SV(g,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function UV(t){const e=V8(t);return Hh(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function LV(t){const e=UV(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(w){return zi(w,r)}function a(w){return b_(w,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:f}=MV({...e,toBytes(w,b,v){const O=b.toAffine(),B=n.toBytes(O.x),R=Up;return oh("isCompressed",v),v?R(Uint8Array.from([b.hasEvenY()?2:3]),B):R(Uint8Array.from([4]),B,n.toBytes(O.y))},fromBytes(w){const b=w.length,v=w[0],O=w.subarray(1);if(b===i&&(v===2||v===3)){const B=Ll(O);if(!cw(B,Cr,n.ORDER))throw new Error("Point is not on curve");const R=h(B);let M;try{M=n.sqrt(R)}catch(E){const U=E instanceof Error?": "+E.message:"";throw new Error("Point is not on curve"+U)}const k=(M&Cr)===Cr;return(v&1)===1!==k&&(M=n.neg(M)),{x:B,y:M}}else if(b===s&&v===4){const B=n.fromBytes(O.subarray(0,n.BYTES)),R=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:B,y:R}}else{const B=i,R=s;throw new Error("invalid Point, expected length of "+B+", or uncompressed "+R+", got "+b)}}}),g=w=>ah(lh(w,e.nByteLength));function m(w){const b=r>>Cr;return w>b}function _(w){return m(w)?o(-w):w}const x=(w,b,v)=>Ll(w.slice(b,v));class C{constructor(b,v,O){this.r=b,this.s=v,this.recovery=O,this.assertValidity()}static fromCompact(b){const v=e.nByteLength;return b=ns("compactSignature",b,v*2),new C(x(b,0,v),x(b,v,2*v))}static fromDER(b){const{r:v,s:O}=wa.toSig(ns("DER",b));return new C(v,O)}assertValidity(){$a("r",this.r,Cr,r),$a("s",this.s,Cr,r)}addRecoveryBit(b){return new C(this.r,this.s,b)}recoverPublicKey(b){const{r:v,s:O,recovery:B}=this,R=W(ns("msgHash",b));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const M=B===2||B===3?v+e.n:v;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=B&1?"03":"02",E=c.fromHex(k+g(M)),U=a(M),Q=o(-R*U),te=o(O*U),oe=c.BASE.multiplyAndAddUnsafe(E,Q,te);if(!oe)throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ch(this.toDERHex())}toDERHex(){return wa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ch(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const S={isValidPrivateKey(w){try{return u(w),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const w=j8(e.n);return EV(e.randomBytes(w),e.n)},precompute(w=8,b=c.BASE){return b._setWindowSize(w),b.multiply(BigInt(3)),b}};function T(w,b=!0){return c.fromPrivateKey(w).toRawBytes(b)}function I(w){const b=nu(w),v=typeof w=="string",O=(b||v)&&w.length;return b?O===i||O===s:v?O===2*i||O===2*s:w instanceof c}function P(w,b,v=!0){if(I(w))throw new Error("first arg must be private key");if(!I(b))throw new Error("second arg must be public key");return c.fromHex(b).multiply(u(w)).toRawBytes(v)}const z=e.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const b=Ll(w),v=w.length*8-e.nBitLength;return v>0?b>>BigInt(v):b},W=e.bits2int_modN||function(w){return o(z(w))},L=PS(e.nBitLength);function V(w){return $a("num < 2^"+e.nBitLength,w,_a,L),lh(w,e.nByteLength)}function q(w,b,v=X){if(["recovered","canonical"].some(ue=>ue in v))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:B}=e;let{lowS:R,prehash:M,extraEntropy:k}=v;R==null&&(R=!0),w=ns("msgHash",w),qT(v),M&&(w=ns("prehashed msgHash",O(w)));const E=W(w),U=u(b),Q=[V(U),V(E)];if(k!=null&&k!==!1){const ue=k===!0?B(n.BYTES):k;Q.push(ns("extraEntropy",ue))}const te=Up(...Q),oe=E;function pe(ue){const me=z(ue);if(!f(me))return;const et=a(me),qe=c.BASE.multiply(me).toAffine(),ke=o(qe.x);if(ke===_a)return;const je=o(et*o(oe+ke*U));if(je===_a)return;let Pe=(qe.x===ke?0:2)|Number(qe.y&Cr),st=je;return R&&m(je)&&(st=_(je),Pe^=1),new C(ke,st,Pe)}return{seed:te,k2sig:pe}}const X={lowS:e.lowS,prehash:!1},Y={lowS:e.lowS,prehash:!1};function ee(w,b,v=X){const{seed:O,k2sig:B}=q(w,b,v),R=e;return M8(R.hash.outputLen,R.nByteLength,R.hmac)(O,B)}c.BASE._setWindowSize(8);function j(w,b,v,O=Y){const B=w;b=ns("msgHash",b),v=ns("publicKey",v);const{lowS:R,prehash:M,format:k}=O;if(qT(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&k!=="compact"&&k!=="der")throw new Error("format must be compact or der");const E=typeof B=="string"||nu(B),U=!E&&!k&&typeof B=="object"&&B!==null&&typeof B.r=="bigint"&&typeof B.s=="bigint";if(!E&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,te;try{if(U&&(Q=new C(B.r,B.s)),E){try{k!=="compact"&&(Q=C.fromDER(B))}catch(je){if(!(je instanceof wa.Err))throw je}!Q&&k!=="der"&&(Q=C.fromCompact(B))}te=c.fromHex(v)}catch{return!1}if(!Q||R&&Q.hasHighS())return!1;M&&(b=e.hash(b));const{r:oe,s:pe}=Q,ue=W(b),me=a(pe),et=o(ue*me),qe=o(oe*me),ke=c.BASE.multiplyAndAddUnsafe(te,et,qe)?.toAffine();return ke?o(ke.x)===oe:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:P,sign:ee,verify:j,ProjectivePoint:c,Signature:C,utils:S}}function zV(t){return{hash:t,hmac:(e,...n)=>iw(t,e,qH(...n)),randomBytes:jh}}function FV(t,e){const n=r=>LV({...t,...zV(r)});return{...n(e),create:n}}const W8=z8(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),jV=W8.create(BigInt("-3")),HV=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),qV=FV({a:jV,b:HV,Fp:W8,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},am),K8="base10",Ai="base16",po="base64pad",mc="base64url",lm="utf8",G8=0,Ma=1,um=2,VV=0,WT=1,ep=12,$S=32;function WV(){const t=v_.utils.randomPrivateKey(),e=v_.getPublicKey(t);return{privateKey:Vi(t,Ai),publicKey:Vi(e,Ai)}}function E_(){const t=jh($S);return Vi(t,Ai)}function KV(t,e){const n=v_.getSharedSecret(Hs(t,Ai),Hs(e,Ai)),r=Xq(am,n,void 0,void 0,$S);return Vi(r,Ai)}function iy(t){const e=am(Hs(t,Ai));return Vi(e,Ai)}function Po(t){const e=am(Hs(t,lm));return Vi(e,Ai)}function Y8(t){return Hs(`${t}`,K8)}function ru(t){return Number(Vi(t,K8))}function Z8(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function X8(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function GV(t){const e=Y8(typeof t.type<"u"?t.type:G8);if(ru(e)===Ma&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Hs(t.senderPublicKey,Ai):void 0,r=typeof t.iv<"u"?Hs(t.iv,Ai):jh(ep),i=Hs(t.symKey,Ai),s=D8(i,r).encrypt(Hs(t.message,lm)),o=Q8({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===mc?Z8(o):o}function YV(t){const e=Hs(t.symKey,Ai),{sealed:n,iv:r}=Lp({encoded:t.encoded,encoding:t.encoding}),i=D8(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Vi(i,lm)}function ZV(t,e){const n=Y8(um),r=jh(ep),i=Hs(t,lm),s=Q8({type:n,sealed:i,iv:r});return e===mc?Z8(s):s}function XV(t,e){const{sealed:n}=Lp({encoded:t,encoding:e});return Vi(n,lm)}function Q8(t){if(ru(t.type)===um)return Vi(Jf([t.type,t.sealed]),po);if(ru(t.type)===Ma){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Vi(Jf([t.type,t.senderPublicKey,t.iv,t.sealed]),po)}return Vi(Jf([t.type,t.iv,t.sealed]),po)}function Lp(t){const e=(t.encoding||po)===mc?X8(t.encoded):t.encoded,n=Hs(e,po),r=n.slice(VV,WT),i=WT;if(ru(r)===Ma){const c=i+$S,u=c+ep,h=n.slice(i,c),f=n.slice(c,u),g=n.slice(u);return{type:r,sealed:g,iv:f,senderPublicKey:h}}if(ru(r)===um){const c=n.slice(i),u=jh(ep);return{type:r,sealed:c,iv:u}}const s=i+ep,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function QV(t,e){const n=Lp({encoded:t,encoding:e?.encoding});return J8({type:ru(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Vi(n.senderPublicKey,Ai):void 0,receiverPublicKey:e?.receiverPublicKey})}function J8(t){const e=t?.type||G8;if(e===Ma){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function KT(t){return t.type===Ma&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function GT(t){return t.type===um}function JV(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Jf([new Uint8Array([4]),e,n])}function eW(t,e){const[n,r,i]=t.split("."),s=Buffer.from(X8(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,u=am(c),h=JV(e);if(!qV.verify(Jf([o,a]),u,h))throw new Error("Invalid signature");return o_(t).payload}const tW="irn";function Py(t){return t?.relay||{protocol:tW}}function Lf(t){const e=oH[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function nW(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function YT(t){if(!t.includes("wc:")){const u=E8(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((u,h)=>{a[h]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:rW(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:nW(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function rW(t){return t.startsWith("//")?t.substring(2):t}function iW(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function ZT(t){const e=new URLSearchParams,n=iW(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function c0(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function qh(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function sW(t){const e=[];return Object.values(t).forEach(n=>{e.push(...qh(n.accounts))}),e}function oW(t,e){const n=[];return Object.values(t).forEach(r=>{qh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function aW(t,e){const n=[];return Object.values(t).forEach(r=>{qh(r.accounts).includes(e)&&n.push(...r.events)}),n}function MS(t){return t.includes(":")}function zf(t){return MS(t)?t.split(":")[0]:t}function cW(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function XT(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=cW(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=ny(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const lW={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},uW={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Se(t,e){const{message:n,code:r}=uW[t];return{message:e?`${n} ${e}`:n,code:r}}function Yt(t,e){const{message:n,code:r}=lW[t];return{message:e?`${n} ${e}`:n,code:r}}function kc(t,e){return!!Array.isArray(t)}function zp(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Gr(t){return typeof t>"u"}function dr(t,e){return e&&Gr(t)?!0:typeof t=="string"&&!!t.trim().length}function US(t,e){return e&&Gr(t)?!0:typeof t=="number"&&!isNaN(t)}function dW(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Rl(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],h=qh(a),f=n[o];(!Rl(m8(o,f),h)||!Rl(f.methods,c)||!Rl(f.events,u))&&(s=!1)}),s):!1}function $y(t){return dr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function hW(t){if(dr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&$y(n)}}return!1}function fW(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(dr(t,!1)){if(e(t))return!0;const n=E8(t);return e(n)}}catch{}return!1}function pW(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function gW(t){return t?.topic}function mW(t,e){let n=null;return dr(t?.publicKey,!1)||(n=Se("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function QT(t){let e=!0;return kc(t)?t.length&&(e=t.every(n=>dr(n,!1))):e=!1,e}function yW(t,e,n){let r=null;return kc(e)&&e.length?e.forEach(i=>{r||$y(i)||(r=Yt("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):$y(t)||(r=Yt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function bW(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=yW(i,m8(i,s),`${e} ${n}`);o&&(r=o)}),r}function wW(t,e){let n=null;return kc(t)?t.forEach(r=>{n||hW(r)||(n=Yt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Yt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function vW(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=wW(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function EW(t,e){let n=null;return QT(t?.methods)?QT(t?.events)||(n=Yt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Yt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function eB(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=EW(r,`${e}, namespace`);i&&(n=i)}),n}function _W(t,e,n){let r=null;if(t&&zp(t)){const i=eB(t,e);i&&(r=i);const s=bW(t,e,n);s&&(r=s)}else r=Se("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function i1(t,e){let n=null;if(t&&zp(t)){const r=eB(t,e);r&&(n=r);const i=vW(t,e);i&&(n=i)}else n=Se("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function tB(t){return dr(t.protocol,!0)}function xW(t,e){let n=!1;return t?t&&kc(t)&&t.length&&t.forEach(r=>{n=tB(r)}):n=!0,n}function SW(t){return typeof t=="number"}function Mi(t){return typeof t<"u"&&typeof t!==null}function AW(t){return!(!t||typeof t!="object"||!t.code||!US(t.code,!1)||!t.message||!dr(t.message,!1))}function CW(t){return!(Gr(t)||!dr(t.method,!1))}function TW(t){return!(Gr(t)||Gr(t.result)&&Gr(t.error)||!US(t.id,!1)||!dr(t.jsonrpc,!1))}function IW(t){return!(Gr(t)||!dr(t.name,!1))}function JT(t,e){return!(!$y(e)||!sW(t).includes(e))}function RW(t,e,n){return dr(n,!1)?oW(t,e).includes(n):!1}function kW(t,e,n){return dr(n,!1)?aW(t,e).includes(n):!1}function eI(t,e,n){let r=null;const i=NW(t),s=OW(e),o=Object.keys(i),a=Object.keys(s),c=tI(Object.keys(t)),u=tI(Object.keys(e)),h=c.filter(f=>!u.includes(f));return h.length&&(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),Rl(o,a)||(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;const g=qh(e[f].accounts);g.includes(f)||(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${g.toString()}`))}),o.forEach(f=>{r||(Rl(i[f].methods,s[f].methods)?Rl(i[f].events,s[f].events)||(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function NW(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function tI(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function OW(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:qh(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function BW(t,e){return US(t,!1)&&t<=e.max&&t>=e.min}function nI(){const t=sm();return new Promise(e=>{switch(t){case hs.browser:e(DW());break;case hs.reactNative:e(PW());break;case hs.node:e($W());break;default:e(!0)}})}function DW(){return im()&&navigator?.onLine}async function PW(){return il()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function $W(){return!0}function MW(t){switch(sm()){case hs.browser:UW(t);break;case hs.reactNative:LW(t);break}}function UW(t){!il()&&im()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function LW(t){il()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}const s1={};class mf{static get(e){return s1[e]}static set(e,n){s1[e]=n}static delete(e){delete s1[e]}}const zW="PARSE_ERROR",FW="INVALID_REQUEST",jW="METHOD_NOT_FOUND",HW="INVALID_PARAMS",nB="INTERNAL_ERROR",LS="SERVER_ERROR",qW=[-32700,-32600,-32601,-32602,-32603],tp={[zW]:{code:-32700,message:"Parse error"},[FW]:{code:-32600,message:"Invalid Request"},[jW]:{code:-32601,message:"Method not found"},[HW]:{code:-32602,message:"Invalid params"},[nB]:{code:-32603,message:"Internal error"},[LS]:{code:-32e3,message:"Server error"}},rB=LS;function VW(t){return qW.includes(t)}function rI(t){return Object.keys(tp).includes(t)?tp[t]:tp[rB]}function WW(t){const e=Object.values(tp).find(n=>n.code===t);return e||tp[rB]}function iB(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var sB={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __=function(t,e){return __=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},__(t,e)};function KW(t,e){__(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var x_=function(){return x_=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},x_.apply(this,arguments)};function GW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YW(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ZW(t,e){return function(n,r){e(n,r,t)}}function XW(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function QW(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function JW(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function eK(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function tK(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function S_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oB(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function nK(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oB(arguments[e]));return t}function rK(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Fp(t){return this instanceof Fp?(this.v=t,this):new Fp(t)}function iK(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(m){return new Promise(function(_,x){s.push([g,m,_,x])>1||a(g,m)})})}function a(g,m){try{c(r[g](m))}catch(_){f(s[0][3],_)}}function c(g){g.value instanceof Fp?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){a("next",g)}function h(g){a("throw",g)}function f(g,m){g(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function sK(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Fp(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function oK(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof S_=="function"?S_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function aK(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function cK(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function lK(t){return t&&t.__esModule?t:{default:t}}function uK(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function dK(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const hK=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return x_},__asyncDelegator:sK,__asyncGenerator:iK,__asyncValues:oK,__await:Fp,__awaiter:QW,__classPrivateFieldGet:uK,__classPrivateFieldSet:dK,__createBinding:eK,__decorate:YW,__exportStar:tK,__extends:KW,__generator:JW,__importDefault:lK,__importStar:cK,__makeTemplateObject:aK,__metadata:XW,__param:ZW,__read:oB,__rest:GW,__spread:nK,__spreadArrays:rK,__values:S_},Symbol.toStringTag,{value:"Module"})),fK=Yg(hK);var la={},iI;function pK(){if(iI)return la;iI=1,Object.defineProperty(la,"__esModule",{value:!0}),la.isBrowserCryptoAvailable=la.getSubtleCrypto=la.getBrowerCrypto=void 0;function t(){return rr?.crypto||rr?.msCrypto||{}}la.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}la.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return la.isBrowserCryptoAvailable=n,la}var ua={},sI;function gK(){if(sI)return ua;sI=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.isBrowser=ua.isNode=ua.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ua.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ua.isNode=e;function n(){return!t()&&!e()}return ua.isBrowser=n,ua}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=fK;e.__exportStar(pK(),t),e.__exportStar(gK(),t)})(sB);function Bo(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function kl(t=6){return BigInt(Bo(t))}function Sc(t,e,n){return{id:n||Bo(),jsonrpc:"2.0",method:t,params:e}}function lw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function uw(t,e,n){return{id:t,jsonrpc:"2.0",error:mK(e)}}function mK(t,e){return typeof t>"u"?rI(nB):(typeof t=="string"&&(t=Object.assign(Object.assign({},rI(LS)),{message:t})),VW(t.code)&&(t=WW(t.code)),t)}let yK=class{},bK=class extends yK{constructor(){super()}},wK=class extends bK{constructor(e){super()}};const vK="^https?:",EK="^wss?:";function _K(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function aB(t,e){const n=_K(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function oI(t){return aB(t,vK)}function aI(t){return aB(t,EK)}function xK(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function cB(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function zS(t){return cB(t)&&"method"in t}function dw(t){return cB(t)&&(Do(t)||Ps(t))}function Do(t){return"result"in t}function Ps(t){return"error"in t}let Xs=class extends wK{constructor(e){super(e),this.events=new Zs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Sc(e.method,e.params||[],e.id||kl().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ps(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),dw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const SK=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),AK=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",cI=t=>t.split("?")[0],lI=10,CK=SK();let TK=class{constructor(e){if(this.url=e,this.events=new Zs.EventEmitter,this.registering=!1,!aI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Fa(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!aI(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=sB.isReactNative()?void 0:{rejectUnauthorized:!xK(e)},s=new CK(e,[],i);AK()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?eu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=uw(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return iB(e,cI(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>lI&&this.events.setMaxListeners(lI)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${cI(this.url)}`));return this.events.emit("register_error",n),n}};var IK={};const lB="wc",uB=2,A_="core",Ko=`${lB}@2:${A_}:`,RK={logger:"error"},kK={database:":memory:"},NK="crypto",uI="client_ed25519_seed",OK=xe.ONE_DAY,BK="keychain",DK="0.3",PK="messages",$K="0.3",dI=xe.SIX_HOURS,MK="publisher",dB="irn",UK="error",hB="wss://relay.walletconnect.org",LK="relayer",Rr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zK="_subscription",Ss={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},FK=.1,C_="2.20.2",pn={link_mode:"link_mode",relay:"relay"},sy={inbound:"inbound",outbound:"outbound"},jK="0.3",HK="WALLETCONNECT_CLIENT_ID",hI="WALLETCONNECT_LINK_MODE_APPS",es={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},qK="subscription",VK="0.3",WK="pairing",KK="0.3",yf={wc_pairingDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:0},res:{ttl:xe.ONE_DAY,prompt:!1,tag:0}}},xl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},to={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},GK="history",YK="0.3",ZK="expirer",Os={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},XK="0.3",QK="verify-api",JK="https://verify.walletconnect.com",fB="https://verify.walletconnect.org",np=fB,eG=`${np}/v3`,tG=[JK,fB],nG="echo",rG="https://echo.walletconnect.com",Oo={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ba={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},no={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ul={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},dl={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},bf={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},iG=.1,sG="event-client",oG=86400,aG="https://pulse.walletconnect.org/batch";function cG(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,C=0,S=0,T=_.length;S!==T&&_[S]===0;)S++,x++;for(var I=(T-S)*h+1>>>0,P=new Uint8Array(I);S!==T;){for(var z=_[S],W=0,L=I-1;(z!==0||W<C)&&L!==-1;L--,W++)z+=256*P[L]>>>0,P[L]=z%a>>>0,z=z/a>>>0;if(z!==0)throw new Error("Non-zero carry");C=W,S++}for(var V=I-C;V!==I&&P[V]===0;)V++;for(var q=c.repeat(x);V<I;++V)q+=t.charAt(P[V]);return q}function g(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var x=0;if(_[x]!==" "){for(var C=0,S=0;_[x]===c;)C++,x++;for(var T=(_.length-x)*u+1>>>0,I=new Uint8Array(T);_[x];){var P=n[_.charCodeAt(x)];if(P===255)return;for(var z=0,W=T-1;(P!==0||z<S)&&W!==-1;W--,z++)P+=a*I[W]>>>0,I[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=z,x++}if(_[x]!==" "){for(var L=T-S;L!==T&&I[L]===0;)L++;for(var V=new Uint8Array(C+(T-L)),q=C;L!==T;)V[q++]=I[L++];return V}}}function m(_){var x=g(_);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:m}}var lG=cG,uG=lG;const pB=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},dG=t=>new TextEncoder().encode(t),hG=t=>new TextDecoder().decode(t);class fG{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class pG{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return gB(this,e)}}class gG{constructor(e){this.decoders=e}or(e){return gB(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const gB=(t,e)=>new gG({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class mG{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new fG(e,n,r),this.decoder=new pG(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const hw=({name:t,prefix:e,encode:n,decode:r})=>new mG(t,e,n,r),dm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=uG(n,e);return hw({prefix:t,name:e,encode:r,decode:s=>pB(i(s))})},yG=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},bG=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},si=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>hw({prefix:e,name:t,encode(i){return bG(i,r,n)},decode(i){return yG(i,r,n,t)}}),wG=hw({prefix:"\0",name:"identity",encode:t=>hG(t),decode:t=>dG(t)});var vG=Object.freeze({__proto__:null,identity:wG});const EG=si({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var _G=Object.freeze({__proto__:null,base2:EG});const xG=si({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var SG=Object.freeze({__proto__:null,base8:xG});const AG=dm({prefix:"9",name:"base10",alphabet:"0123456789"});var CG=Object.freeze({__proto__:null,base10:AG});const TG=si({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),IG=si({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var RG=Object.freeze({__proto__:null,base16:TG,base16upper:IG});const kG=si({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),NG=si({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),OG=si({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),BG=si({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),DG=si({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),PG=si({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$G=si({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),MG=si({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),UG=si({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var LG=Object.freeze({__proto__:null,base32:kG,base32upper:NG,base32pad:OG,base32padupper:BG,base32hex:DG,base32hexupper:PG,base32hexpad:$G,base32hexpadupper:MG,base32z:UG});const zG=dm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),FG=dm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var jG=Object.freeze({__proto__:null,base36:zG,base36upper:FG});const HG=dm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qG=dm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var VG=Object.freeze({__proto__:null,base58btc:HG,base58flickr:qG});const WG=si({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),KG=si({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GG=si({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),YG=si({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ZG=Object.freeze({__proto__:null,base64:WG,base64pad:KG,base64url:GG,base64urlpad:YG});const mB=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),XG=mB.reduce((t,e,n)=>(t[n]=e,t),[]),QG=mB.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function JG(t){return t.reduce((e,n)=>(e+=XG[n],e),"")}function eY(t){const e=[];for(const n of t){const r=QG[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const tY=hw({prefix:"🚀",name:"base256emoji",encode:JG,decode:eY});var nY=Object.freeze({__proto__:null,base256emoji:tY}),rY=yB,fI=128,iY=-128,sY=Math.pow(2,31);function yB(t,e,n){e=e||[],n=n||0;for(var r=n;t>=sY;)e[n++]=t&255|fI,t/=128;for(;t&iY;)e[n++]=t&255|fI,t>>>=7;return e[n]=t|0,yB.bytes=n-r+1,e}var oY=T_,aY=128,pI=127;function T_(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw T_.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&pI)<<i:(o&pI)*Math.pow(2,i),i+=7}while(o>=aY);return T_.bytes=s-r,n}var cY=Math.pow(2,7),lY=Math.pow(2,14),uY=Math.pow(2,21),dY=Math.pow(2,28),hY=Math.pow(2,35),fY=Math.pow(2,42),pY=Math.pow(2,49),gY=Math.pow(2,56),mY=Math.pow(2,63),yY=function(t){return t<cY?1:t<lY?2:t<uY?3:t<dY?4:t<hY?5:t<fY?6:t<pY?7:t<gY?8:t<mY?9:10},bY={encode:rY,decode:oY,encodingLength:yY},bB=bY;const gI=(t,e,n=0)=>(bB.encode(t,e,n),e),mI=t=>bB.encodingLength(t),I_=(t,e)=>{const n=e.byteLength,r=mI(t),i=r+mI(n),s=new Uint8Array(i+n);return gI(t,s,0),gI(n,s,r),s.set(e,i),new wY(t,n,e,s)};let wY=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const wB=({name:t,code:e,encode:n})=>new vY(t,e,n);class vY{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?I_(this.code,n):n.then(r=>I_(this.code,r))}else throw Error("Unknown type, must be binary type")}}const vB=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),EY=wB({name:"sha2-256",code:18,encode:vB("SHA-256")}),_Y=wB({name:"sha2-512",code:19,encode:vB("SHA-512")});var xY=Object.freeze({__proto__:null,sha256:EY,sha512:_Y});const EB=0,SY="identity",_B=pB,AY=t=>I_(EB,_B(t)),CY={code:EB,name:SY,encode:_B,digest:AY};var TY=Object.freeze({__proto__:null,identity:CY});new TextEncoder,new TextDecoder;const yI={...vG,..._G,...SG,...CG,...RG,...LG,...jG,...VG,...ZG,...nY};({...xY,...TY});function IY(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function xB(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const bI=xB("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),o1=xB("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=IY(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),RY={utf8:bI,"utf-8":bI,hex:yI.base16,latin1:o1,ascii:o1,binary:o1,...yI};function kY(t,e="utf8"){const n=RY[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var NY=Object.defineProperty,OY=(t,e,n)=>e in t?NY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Io=(t,e,n)=>OY(t,typeof e!="symbol"?e+"":e,n);class BY{constructor(e,n){this.core=e,this.logger=n,Io(this,"keychain",new Map),Io(this,"name",BK),Io(this,"version",DK),Io(this,"initialized",!1),Io(this,"storagePrefix",Ko),Io(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Io(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Io(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Io(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Se("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Io(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=bi(n,this.name)}get context(){return Gi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,u_(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?d_(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var DY=Object.defineProperty,PY=(t,e,n)=>e in t?DY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zr=(t,e,n)=>PY(t,typeof e!="symbol"?e+"":e,n);class $Y{constructor(e,n,r){this.core=e,this.logger=n,zr(this,"name",NK),zr(this,"keychain"),zr(this,"randomSessionIdentifier",E_()),zr(this,"initialized",!1),zr(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),zr(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),zr(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=X2(i);return Z3(s.publicKey)}),zr(this,"generateKeyPair",()=>{this.isInitialized();const i=WV();return this.setPrivateKey(i.publicKey,i.privateKey)}),zr(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=X2(s),a=this.randomSessionIdentifier;return await Kz(a,i,OK,o)}),zr(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=KV(a,s);return this.setSymKey(c,o)}),zr(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||iy(i);return await this.keychain.set(o,i),o}),zr(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),zr(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),zr(this,"encode",async(i,s,o)=>{this.isInitialized();const a=J8(o),c=Fa(s);if(GT(a))return ZV(c,o?.encoding);if(KT(a)){const g=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(g,m)}const u=this.getSymKey(i),{type:h,senderPublicKey:f}=a;return GV({type:h,symKey:u,message:c,senderPublicKey:f,encoding:o?.encoding})}),zr(this,"decode",async(i,s,o)=>{this.isInitialized();const a=QV(s,o);if(GT(a)){const c=XV(s,o?.encoding);return eu(c)}if(KT(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=YV({symKey:c,encoded:s,encoding:o?.encoding});return eu(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),zr(this,"getPayloadType",(i,s=po)=>{const o=Lp({encoded:i,encoding:s});return ru(o.type)}),zr(this,"getPayloadSenderPublicKey",(i,s=po)=>{const o=Lp({encoded:i,encoding:s});return o.senderPublicKey?Vi(o.senderPublicKey,Ai):void 0}),this.core=e,this.logger=bi(n,this.name),this.keychain=r||new BY(this.core,this.logger)}get context(){return Gi(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(uI)}catch{e=E_(),await this.keychain.set(uI,e)}return kY(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var MY=Object.defineProperty,UY=Object.defineProperties,LY=Object.getOwnPropertyDescriptors,wI=Object.getOwnPropertySymbols,zY=Object.prototype.hasOwnProperty,FY=Object.prototype.propertyIsEnumerable,R_=(t,e,n)=>e in t?MY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jY=(t,e)=>{for(var n in e||(e={}))zY.call(e,n)&&R_(t,n,e[n]);if(wI)for(var n of wI(e))FY.call(e,n)&&R_(t,n,e[n]);return t},HY=(t,e)=>UY(t,LY(e)),Ji=(t,e,n)=>R_(t,typeof e!="symbol"?e+"":e,n);class qY extends VL{constructor(e,n){super(e,n),this.logger=e,this.core=n,Ji(this,"messages",new Map),Ji(this,"messagesWithoutClientAck",new Map),Ji(this,"name",PK),Ji(this,"version",$K),Ji(this,"initialized",!1),Ji(this,"storagePrefix",Ko),Ji(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Ji(this,"set",async(r,i,s)=>{this.isInitialized();const o=Po(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===sy.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,HY(jY({},c),{[o]:i}))}return await this.persist(),o}),Ji(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Ji(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Ji(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Po(i);return typeof s[o]<"u"}),Ji(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Po(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Ji(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=bi(e,this.name),this.core=n}get context(){return Gi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,u_(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,u_(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?d_(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?d_(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var VY=Object.defineProperty,WY=Object.defineProperties,KY=Object.getOwnPropertyDescriptors,vI=Object.getOwnPropertySymbols,GY=Object.prototype.hasOwnProperty,YY=Object.prototype.propertyIsEnumerable,k_=(t,e,n)=>e in t?VY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l0=(t,e)=>{for(var n in e||(e={}))GY.call(e,n)&&k_(t,n,e[n]);if(vI)for(var n of vI(e))YY.call(e,n)&&k_(t,n,e[n]);return t},a1=(t,e)=>WY(t,KY(e)),ro=(t,e,n)=>k_(t,typeof e!="symbol"?e+"":e,n);class ZY extends WL{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ro(this,"events",new Zs.EventEmitter),ro(this,"name",MK),ro(this,"queue",new Map),ro(this,"publishTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),ro(this,"initialPublishTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),ro(this,"needsTransportRestart",!1),ro(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=s?.ttl||dI,c=Py(s),u=s?.prompt||!1,h=s?.tag||0,f=s?.id||kl().toString(),g={topic:r,message:i,opts:{ttl:a,relay:c,prompt:u,tag:h,id:f,attestation:s?.attestation,tvf:s?.tvf}},m=`Failed to publish payload, please try again. id:${f} tag:${h}`;try{const _=new Promise(async x=>{const C=({id:T})=>{g.opts.id===T&&(this.removeRequestFromQueue(T),this.relayer.events.removeListener(Rr.publish,C),x(g))};this.relayer.events.on(Rr.publish,C);const S=xc(new Promise((T,I)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:u,tag:h,id:f,attestation:s?.attestation,tvf:s?.tvf}).then(T).catch(P=>{this.logger.warn(P,P?.message),I(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${h}`);try{await S,this.events.removeListener(Rr.publish,C)}catch(T){this.queue.set(f,a1(l0({},g),{attempt:1})),this.logger.warn(T,T?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:r,message:i,opts:s}}),await xc(_,this.publishTimeout,m)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw _}finally{this.queue.delete(f)}}),ro(this,"on",(r,i)=>{this.events.on(r,i)}),ro(this,"once",(r,i)=>{this.events.once(r,i)}),ro(this,"off",(r,i)=>{this.events.off(r,i)}),ro(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=bi(n,this.name),this.registerEventListeners()}get context(){return Gi(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=dI,prompt:u,tag:h,id:f,attestation:g,tvf:m}=e,_={method:Lf(Py().protocol).publish,params:l0({topic:o,message:a,ttl:c,prompt:u,tag:h,attestation:g},m),id:f};Gr((n=_.params)==null?void 0:n.prompt)&&((r=_.params)==null||delete r.prompt),Gr((i=_.params)==null?void 0:i.tag)&&((s=_.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:_});const x=await this.relayer.request(_);return this.relayer.events.emit(Rr.publish,e),this.logger.debug("Successfully Published Payload"),x}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,a1(l0({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(a1(l0({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on($h.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Rr.connection_stalled);return}this.checkQueue()}),this.relayer.on(Rr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var XY=Object.defineProperty,QY=(t,e,n)=>e in t?XY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qu=(t,e,n)=>QY(t,typeof e!="symbol"?e+"":e,n);class JY{constructor(){qu(this,"map",new Map),qu(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),qu(this,"get",e=>this.map.get(e)||[]),qu(this,"exists",(e,n)=>this.get(e).includes(n)),qu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),qu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var eZ=Object.defineProperty,tZ=Object.defineProperties,nZ=Object.getOwnPropertyDescriptors,EI=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,iZ=Object.prototype.propertyIsEnumerable,N_=(t,e,n)=>e in t?eZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wf=(t,e)=>{for(var n in e||(e={}))rZ.call(e,n)&&N_(t,n,e[n]);if(EI)for(var n of EI(e))iZ.call(e,n)&&N_(t,n,e[n]);return t},c1=(t,e)=>tZ(t,nZ(e)),en=(t,e,n)=>N_(t,typeof e!="symbol"?e+"":e,n);class sZ extends YL{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,en(this,"subscriptions",new Map),en(this,"topicMap",new JY),en(this,"events",new Zs.EventEmitter),en(this,"name",qK),en(this,"version",VK),en(this,"pending",new Map),en(this,"cached",[]),en(this,"initialized",!1),en(this,"storagePrefix",Ko),en(this,"subscribeTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),en(this,"initialSubscribeTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),en(this,"clientId"),en(this,"batchSubscribeTopicsLimit",500),en(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),en(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=Py(i),o={topic:r,relay:s,transportType:i?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),en(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),en(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),en(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),en(this,"on",(r,i)=>{this.events.on(r,i)}),en(this,"once",(r,i)=>{this.events.once(r,i)}),en(this,"off",(r,i)=>{this.events.off(r,i)}),en(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),en(this,"start",async()=>{await this.onConnect()}),en(this,"stop",async()=>{await this.onDisconnect()}),en(this,"restart",async()=>{await this.restore(),await this.onRestart()}),en(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),en(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on($h.pulse,async()=>{await this.checkPending()}),this.events.on(es.created,async r=>{const i=es.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(es.deleted,async r=>{const i=es.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=bi(n,this.name),this.clientId=""}get context(){return Gi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=Py(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Yt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||r?.transportType===pn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:Lf(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(r?.transportType===pn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(h=>this.logger.warn(h))},xe.toMiliseconds(xe.ONE_SECOND)),a;const c=new Promise(async h=>{const f=g=>{g.topic===e&&(this.events.removeListener(es.created,f),h(g.id))};this.events.on(es.created,f);try{const g=await xc(new Promise((m,_)=>{this.relayer.request(s).catch(x=>{this.logger.warn(x,x?.message),_(x)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(es.created,f),h(g)}catch{}}),u=await xc(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Rr.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Lf(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await xc(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Rr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Lf(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await xc(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Rr.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Lf(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,c1(wf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,wf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,wf({},n)),this.topicMap.set(n.topic,e),this.events.emit(es.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(es.deleted,c1(wf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(es.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(es.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>c1(wf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await BH(xe.toMiliseconds(xe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Po(e+await this.getClientId())}}var oZ=Object.defineProperty,_I=Object.getOwnPropertySymbols,aZ=Object.prototype.hasOwnProperty,cZ=Object.prototype.propertyIsEnumerable,O_=(t,e,n)=>e in t?oZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xI=(t,e)=>{for(var n in e||(e={}))aZ.call(e,n)&&O_(t,n,e[n]);if(_I)for(var n of _I(e))cZ.call(e,n)&&O_(t,n,e[n]);return t},Dt=(t,e,n)=>O_(t,typeof e!="symbol"?e+"":e,n);class lZ extends KL{constructor(e){super(e),Dt(this,"protocol","wc"),Dt(this,"version",2),Dt(this,"core"),Dt(this,"logger"),Dt(this,"events",new Zs.EventEmitter),Dt(this,"provider"),Dt(this,"messages"),Dt(this,"subscriber"),Dt(this,"publisher"),Dt(this,"name",LK),Dt(this,"transportExplicitlyClosed",!1),Dt(this,"initialized",!1),Dt(this,"connectionAttemptInProgress",!1),Dt(this,"relayUrl"),Dt(this,"projectId"),Dt(this,"packageName"),Dt(this,"bundleId"),Dt(this,"hasExperiencedNetworkDisruption",!1),Dt(this,"pingTimeout"),Dt(this,"heartBeatTimeout",xe.toMiliseconds(xe.THIRTY_SECONDS+xe.FIVE_SECONDS)),Dt(this,"reconnectTimeout"),Dt(this,"connectPromise"),Dt(this,"reconnectInProgress",!1),Dt(this,"requestsInFlight",[]),Dt(this,"connectTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),Dt(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||kl().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Dt(this,"resetPingTimeout",()=>{By()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Dt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Dt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Rr.connect)}),Dt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Dt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Rr.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Dt(this,"registerProviderListeners",()=>{this.provider.on(Ss.payload,this.onPayloadHandler),this.provider.on(Ss.connect,this.onConnectHandler),this.provider.on(Ss.disconnect,this.onDisconnectHandler),this.provider.on(Ss.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?bi(e.logger,this.name):Jg(Mh({level:e.logger||UK})),this.messages=new qY(this.logger,e.core),this.subscriber=new sZ(this,this.logger),this.publisher=new ZY(this,this.logger),this.relayUrl=e?.relayUrl||hB,this.projectId=e.projectId,yH()?this.packageName=yT():bH()&&(this.bundleId=yT()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return Gi(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:pn.relay},sy.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const u=h=>{h.topic===e&&(this.subscriber.off(es.created,u),c())};return await Promise.all([new Promise(h=>{c=h,this.subscriber.on(es.created,u)}),new Promise(async(h,f)=>{a=await this.subscriber.subscribe(e,xI({internal:{throwOnFailedPublish:o}},n)).catch(g=>{o&&f(g)})||a,h()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await nI())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=mr(xe.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Rr.message,e),await this.recordMessageEvent(e,sy.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ss.disconnect,s),await xc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Ss.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ss.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Ss.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,xe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(By())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Xs(new TK(xH({sdkVersion:C_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),zS(e)){if(!e.method.endsWith(zK))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:pn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xI({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else dw(e)&&this.events.emit(Rr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,sy.inbound),this.events.emit(Rr.message,e))}async acknowledgePayload(e){const n=lw(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Ss.payload,this.onPayloadHandler),this.provider.off(Ss.connect,this.onConnectHandler),this.provider.off(Ss.disconnect,this.onDisconnectHandler),this.provider.off(Ss.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await nI();MW(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Rr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},xe.toMiliseconds(FK)))))}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function uZ(){}function SI(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function AI(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function CI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const dZ="[object RegExp]",hZ="[object String]",fZ="[object Number]",pZ="[object Boolean]",TI="[object Arguments]",gZ="[object Symbol]",mZ="[object Date]",yZ="[object Map]",bZ="[object Set]",wZ="[object Array]",vZ="[object Function]",EZ="[object ArrayBuffer]",l1="[object Object]",_Z="[object Error]",xZ="[object DataView]",SZ="[object Uint8Array]",AZ="[object Uint8ClampedArray]",CZ="[object Uint16Array]",TZ="[object Uint32Array]",IZ="[object BigUint64Array]",RZ="[object Int8Array]",kZ="[object Int16Array]",NZ="[object Int32Array]",OZ="[object BigInt64Array]",BZ="[object Float32Array]",DZ="[object Float64Array]";function PZ(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function $Z(t,e,n){return Ff(t,e,void 0,void 0,void 0,void 0,n)}function Ff(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return rp(t,e,s,o)}return rp(t,e,s,o)}function rp(t,e,n,r){if(Object.is(t,e))return!0;let i=CI(t),s=CI(e);if(i===TI&&(i=l1),s===TI&&(s=l1),i!==s)return!1;switch(i){case hZ:return t.toString()===e.toString();case fZ:{const c=t.valueOf(),u=e.valueOf();return PZ(c,u)}case pZ:case mZ:case gZ:return Object.is(t.valueOf(),e.valueOf());case dZ:return t.source===e.source&&t.flags===e.flags;case vZ:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case yZ:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!Ff(u,e.get(c),c,t,e,n,r))return!1;return!0}case bZ:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let h=0;h<c.length;h++){const f=c[h],g=u.findIndex(m=>Ff(f,m,void 0,t,e,n,r));if(g===-1)return!1;u.splice(g,1)}return!0}case wZ:case SZ:case AZ:case CZ:case TZ:case IZ:case RZ:case kZ:case NZ:case OZ:case BZ:case DZ:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Ff(t[c],e[c],c,t,e,n,r))return!1;return!0}case EZ:return t.byteLength!==e.byteLength?!1:rp(new Uint8Array(t),new Uint8Array(e),n,r);case xZ:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:rp(new Uint8Array(t),new Uint8Array(e),n,r);case _Z:return t.name===e.name&&t.message===e.message;case l1:{if(!(rp(t.constructor,e.constructor,n,r)||SI(t)&&SI(e)))return!1;const c=[...Object.keys(t),...AI(t)],u=[...Object.keys(e),...AI(e)];if(c.length!==u.length)return!1;for(let h=0;h<c.length;h++){const f=c[h],g=t[f];if(!Object.hasOwn(e,f))return!1;const m=e[f];if(!Ff(g,m,f,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function MZ(t,e){return $Z(t,e,uZ)}var UZ=Object.defineProperty,II=Object.getOwnPropertySymbols,LZ=Object.prototype.hasOwnProperty,zZ=Object.prototype.propertyIsEnumerable,B_=(t,e,n)=>e in t?UZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,RI=(t,e)=>{for(var n in e||(e={}))LZ.call(e,n)&&B_(t,n,e[n]);if(II)for(var n of II(e))zZ.call(e,n)&&B_(t,n,e[n]);return t},Oi=(t,e,n)=>B_(t,typeof e!="symbol"?e+"":e,n);class _u extends GL{constructor(e,n,r,i=Ko,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Oi(this,"map",new Map),Oi(this,"version",jK),Oi(this,"cached",[]),Oi(this,"initialized",!1),Oi(this,"getKey"),Oi(this,"storagePrefix",Ko),Oi(this,"recentlyDeleted",[]),Oi(this,"recentlyDeletedLimit",200),Oi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Gr(o)?this.map.set(this.getKey(o),o):pW(o)?this.map.set(o.id,o):gW(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Oi(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Oi(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Oi(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>MZ(a[c],o[c]))):this.values)),Oi(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=RI(RI({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Oi(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=bi(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Gi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Se("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var FZ=Object.defineProperty,jZ=(t,e,n)=>e in t?FZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e,n)=>jZ(t,typeof e!="symbol"?e+"":e,n);class HZ{constructor(e,n){this.core=e,this.logger=n,St(this,"name",WK),St(this,"version",KK),St(this,"events",new yS),St(this,"pairings"),St(this,"initialized",!1),St(this,"storagePrefix",Ko),St(this,"ignoredPayloadTypes",[Ma]),St(this,"registeredMethods",[]),St(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),St(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),St(this,"create",async r=>{this.isInitialized();const i=E_(),s=await this.core.crypto.setSymKey(i),o=mr(xe.FIVE_MINUTES),a={protocol:dB},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},u=ZT({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(xl.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType}),{topic:s,uri:u}}),St(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Oo.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=YT(r.uri);i.props.properties.topic=s,i.addTrace(Oo.pairing_uri_validation_success),i.addTrace(Oo.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(Oo.existing_pairing),h.active)throw i.setError(ba.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Oo.pairing_not_expired)}const f=c||mr(xe.FIVE_MINUTES),g={topic:s,relay:a,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,g),i.addTrace(Oo.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(xl.create,g),i.addTrace(Oo.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Oo.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ba.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(m){throw i.setError(ba.subscribe_pairing_topic_failure),m}return i.addTrace(Oo.subscribe_pairing_topic_success),g}),St(this,"activate",async({topic:r})=>{this.isInitialized();const i=mr(xe.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),St(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=gl();this.events.once(jt("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),St(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),St(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),St(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),St(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Yt("USER_DISCONNECTED")),await this.deletePairing(i))}),St(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return ZT({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),St(this,"sendRequest",async(r,i,s)=>{const o=Sc(i,s),a=await this.core.crypto.encode(r,o),c=yf[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),St(this,"sendResult",async(r,i,s)=>{const o=lw(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=yf[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),St(this,"sendError",async(r,i,s)=>{const o=uw(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=yf[c]?yf[c].res:yf.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),St(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Yt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),St(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>fc(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),St(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),St(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),St(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(xl.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),St(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{Do(i)?this.events.emit(jt("pairing_ping",s),{}):Ps(i)&&this.events.emit(jt("pairing_ping",s),{error:i.error})},500)}),St(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(xl.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),St(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Yt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),St(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Yt("WC_METHOD_UNSUPPORTED",r))}),St(this,"isValidPair",(r,i)=>{var s;if(!Mi(r)){const{message:a}=Se("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(ba.malformed_pairing_uri),new Error(a)}if(!fW(r.uri)){const{message:a}=Se("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(ba.malformed_pairing_uri),new Error(a)}const o=YT(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Se("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ba.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Se("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ba.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&xe.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(ba.pairing_expired);const{message:a}=Se("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),St(this,"isValidPing",async r=>{if(!Mi(r)){const{message:s}=Se("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),St(this,"isValidDisconnect",async r=>{if(!Mi(r)){const{message:s}=Se("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),St(this,"isValidPairingTopic",async r=>{if(!dr(r,!1)){const{message:i}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(fc(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Se("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=bi(n,this.name),this.pairings=new _u(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Gi(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Rr.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==pn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);zS(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):dw(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Os.expired,async e=>{const{topic:n}=v8(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(xl.expire,{topic:n}))})}}var qZ=Object.defineProperty,VZ=(t,e,n)=>e in t?qZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fr=(t,e,n)=>VZ(t,typeof e!="symbol"?e+"":e,n);class WZ extends qL{constructor(e,n){super(e,n),this.core=e,this.logger=n,Fr(this,"records",new Map),Fr(this,"events",new Zs.EventEmitter),Fr(this,"name",GK),Fr(this,"version",YK),Fr(this,"cached",[]),Fr(this,"initialized",!1),Fr(this,"storagePrefix",Ko),Fr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Fr(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:mr(xe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(to.created,o)}),Fr(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Ps(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(to.updated,i))}),Fr(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Fr(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(to.deleted,s)}}),this.persist()}),Fr(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Fr(this,"on",(r,i)=>{this.events.on(r,i)}),Fr(this,"once",(r,i)=>{this.events.once(r,i)}),Fr(this,"off",(r,i)=>{this.events.off(r,i)}),Fr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=bi(n,this.name)}get context(){return Gi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Sc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(to.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(to.created,e=>{const n=to.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(to.updated,e=>{const n=to.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(to.deleted,e=>{const n=to.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on($h.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{xe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(to.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var KZ=Object.defineProperty,GZ=(t,e,n)=>e in t?KZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oi=(t,e,n)=>GZ(t,typeof e!="symbol"?e+"":e,n);class YZ extends ZL{constructor(e,n){super(e,n),this.core=e,this.logger=n,oi(this,"expirations",new Map),oi(this,"events",new Zs.EventEmitter),oi(this,"name",ZK),oi(this,"version",XK),oi(this,"cached",[]),oi(this,"initialized",!1),oi(this,"storagePrefix",Ko),oi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),oi(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),oi(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Os.created,{target:s,expiration:o})}),oi(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),oi(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Os.deleted,{target:i,expiration:s})}}),oi(this,"on",(r,i)=>{this.events.on(r,i)}),oi(this,"once",(r,i)=>{this.events.once(r,i)}),oi(this,"off",(r,i)=>{this.events.off(r,i)}),oi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=bi(n,this.name)}get context(){return Gi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return SH(e);if(typeof e=="number")return AH(e);const{message:n}=Se("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Os.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;xe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Os.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on($h.pulse,()=>this.checkExpirations()),this.events.on(Os.created,e=>{const n=Os.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Os.expired,e=>{const n=Os.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Os.deleted,e=>{const n=Os.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ZZ=Object.defineProperty,XZ=(t,e,n)=>e in t?ZZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cr=(t,e,n)=>XZ(t,typeof e!="symbol"?e+"":e,n);class QZ extends XL{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,cr(this,"name",QK),cr(this,"abortController"),cr(this,"isDevEnv"),cr(this,"verifyUrlV3",eG),cr(this,"storagePrefix",Ko),cr(this,"version",uB),cr(this,"publicKey"),cr(this,"fetchPromise"),cr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&xe.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),cr(this,"register",async i=>{if(!im()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=nm(),h=this.startAbortTimer(xe.ONE_SECOND*5),f=await new Promise((g,m)=>{const _=()=>{window.removeEventListener("message",C),u.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",_);const x=u.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",_,{signal:this.abortController.signal});const C=S=>{if(S.data&&typeof S.data=="string")try{const T=JSON.parse(S.data);if(T.type==="verify_attestation"){if(o_(T.attestation).payload.id!==o)return;clearInterval(h),u.body.removeChild(x),this.abortController.signal.removeEventListener("abort",_),window.removeEventListener("message",C),g(T.attestation===null?"":T.attestation)}}catch(T){this.logger.warn(T)}};u.body.appendChild(x),window.addEventListener("message",C,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(u){this.logger.warn(u)}return""}),cr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(o_(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),cr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(xe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),cr(this,"getVerifyUrl",i=>{let s=i||np;return tG.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${np}`),s=np),s}),cr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(xe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),cr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),cr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),cr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),cr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),cr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),cr(this,"validateAttestation",(i,s)=>{const o=eW(i,s.publicKey),a={hasExpired:xe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=bi(n,this.name),this.abortController=new AbortController,this.isDevEnv=kS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Gi(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),xe.toMiliseconds(e))}}var JZ=Object.defineProperty,eX=(t,e,n)=>e in t?JZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kI=(t,e,n)=>eX(t,typeof e!="symbol"?e+"":e,n);class tX extends QL{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,kI(this,"context",nG),kI(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${rG}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=bi(n,this.context)}}var nX=Object.defineProperty,NI=Object.getOwnPropertySymbols,rX=Object.prototype.hasOwnProperty,iX=Object.prototype.propertyIsEnumerable,D_=(t,e,n)=>e in t?nX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vf=(t,e)=>{for(var n in e||(e={}))rX.call(e,n)&&D_(t,n,e[n]);if(NI)for(var n of NI(e))iX.call(e,n)&&D_(t,n,e[n]);return t},_r=(t,e,n)=>D_(t,typeof e!="symbol"?e+"":e,n);class sX extends JL{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,_r(this,"context",sG),_r(this,"storagePrefix",Ko),_r(this,"storageVersion",iG),_r(this,"events",new Map),_r(this,"shouldPersist",!1),_r(this,"init",async()=>{if(!kS())try{const i={eventId:wT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:b8(this.core.relayer.protocol,this.core.relayer.version,C_)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),_r(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=wT(),h=this.core.projectId||"",f=Date.now(),g=vf({eventId:u,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:h,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,g),this.shouldPersist=!0),g}),_r(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return vf(vf({},a),this.setMethods(a.eventId))}),_r(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),_r(this,"setEventListeners",()=>{this.core.heartbeat.on($h.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{xe.fromMiliseconds(Date.now())-xe.fromMiliseconds(i.timestamp)>oG&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),_r(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),_r(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),_r(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),_r(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),_r(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,vf(vf({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),_r(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),_r(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${aG}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${C_}${s}`,{method:"POST",body:JSON.stringify(i)})}),_r(this,"getAppDomain",()=>y8().url),this.logger=bi(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var oX=Object.defineProperty,OI=Object.getOwnPropertySymbols,aX=Object.prototype.hasOwnProperty,cX=Object.prototype.propertyIsEnumerable,P_=(t,e,n)=>e in t?oX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BI=(t,e)=>{for(var n in e||(e={}))aX.call(e,n)&&P_(t,n,e[n]);if(OI)for(var n of OI(e))cX.call(e,n)&&P_(t,n,e[n]);return t},sn=(t,e,n)=>P_(t,typeof e!="symbol"?e+"":e,n);let lX=class SB extends zL{constructor(e){var n;super(e),sn(this,"protocol",lB),sn(this,"version",uB),sn(this,"name",A_),sn(this,"relayUrl"),sn(this,"projectId"),sn(this,"customStoragePrefix"),sn(this,"events",new Zs.EventEmitter),sn(this,"logger"),sn(this,"heartbeat"),sn(this,"relayer"),sn(this,"crypto"),sn(this,"storage"),sn(this,"history"),sn(this,"expirer"),sn(this,"pairing"),sn(this,"verify"),sn(this,"echoClient"),sn(this,"linkModeSupportedApps"),sn(this,"eventClient"),sn(this,"initialized",!1),sn(this,"logChunkController"),sn(this,"on",(a,c)=>this.events.on(a,c)),sn(this,"once",(a,c)=>this.events.once(a,c)),sn(this,"off",(a,c)=>this.events.off(a,c)),sn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),sn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const h={topic:a,message:c,publishedAt:Date.now(),transportType:pn.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:u})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||hB,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Mh({level:typeof e?.logger=="string"&&e.logger?e.logger:RK.logger,name:A_}),{logger:s,chunkLoggerController:o}=wS({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=bi(s,this.name),this.heartbeat=new IU,this.crypto=new $Y(this,this.logger,e?.keychain),this.history=new WZ(this,this.logger),this.expirer=new YZ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new uL(BI(BI({},kK),e?.storageOptions)),this.relayer=new lZ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new HZ(this,this.logger),this.verify=new QZ(this,this.logger,this.storage),this.echoClient=new tX(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new sX(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new SB(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(HK,r),n}get context(){return Gi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(hI,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(hI)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&IK.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const uX=lX,AB="wc",CB=2,TB="client",FS=`${AB}@${CB}:${TB}:`,u1={name:TB,logger:"error"},DI="WALLETCONNECT_DEEPLINK_CHOICE",dX="proposal",PI="Proposal expired",hX="session",Vu=xe.SEVEN_DAYS,fX="engine",xr={wc_sessionPropose:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:xe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:xe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1119}}},d1={min:xe.FIVE_MINUTES,max:xe.SEVEN_DAYS},Ro={idle:"IDLE",active:"ACTIVE"},$I={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},pX="request",gX=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],mX="wc",yX="auth",bX="authKeys",wX="pairingTopics",vX="requests",fw=`${mX}@${1.5}:${yX}:`,oy=`${fw}:PUB_KEY`;var EX=Object.defineProperty,_X=Object.defineProperties,xX=Object.getOwnPropertyDescriptors,MI=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,$_=(t,e,n)=>e in t?EX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tn=(t,e)=>{for(var n in e||(e={}))SX.call(e,n)&&$_(t,n,e[n]);if(MI)for(var n of MI(e))AX.call(e,n)&&$_(t,n,e[n]);return t},wi=(t,e)=>_X(t,xX(e)),ge=(t,e,n)=>$_(t,typeof e!="symbol"?e+"":e,n);class CX extends r7{constructor(e){super(e),ge(this,"name",fX),ge(this,"events",new yS),ge(this,"initialized",!1),ge(this,"requestQueue",{state:Ro.idle,queue:[]}),ge(this,"sessionRequestQueue",{state:Ro.idle,queue:[]}),ge(this,"requestQueueDelay",xe.ONE_SECOND),ge(this,"expectedPairingMethodMap",new Map),ge(this,"recentlyDeletedMap",new Map),ge(this,"recentlyDeletedLimit",200),ge(this,"relayMessageCache",[]),ge(this,"pendingSessions",new Map),ge(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(xr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay)))}),ge(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=wi(tn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=r;let h=i,f,g=!1;try{if(h){const W=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=W.active}}catch(W){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),W}if(!h||!g){const{topic:W,uri:L}=await this.client.core.pairing.create();h=W,f=L}if(!h){const{message:W}=Se("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(W)}const m=await this.client.core.crypto.generateKeyPair(),_=xr.wc_sessionPropose.req.ttl||xe.FIVE_MINUTES,x=mr(_),C=wi(tn(tn({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:dB}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:x,pairingTopic:h},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Bo()}),S=jt("session_connect",C.id),{reject:T,resolve:I,done:P}=gl(_,PI),z=({id:W})=>{W===C.id&&(this.client.events.off("proposal_expire",z),this.pendingSessions.delete(C.id),this.events.emit(S,{error:{message:PI,code:0}}))};return this.client.events.on("proposal_expire",z),this.events.once(S,({error:W,session:L})=>{this.client.events.off("proposal_expire",z),W?T(W):L&&I(L)}),await this.sendRequest({topic:h,method:"wc_sessionPropose",params:C,throwOnFailedPublish:!0,clientRpcId:C.id}),await this.setProposal(C.id,C),{uri:f,approval:P}}),ge(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),ge(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[no.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(q){throw o.setError(ul.no_internet_connection),q}try{await this.isValidProposalId(n?.id)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(ul.proposal_not_found),q}try{await this.isValidApprove(n)}catch(q){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(ul.session_approve_namespace_validation_failure),q}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:h,scopedProperties:f,sessionConfig:g}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:_,proposer:x,requiredNamespaces:C,optionalNamespaces:S}=m;let T=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:_});T||(T=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:no.session_approve_started,properties:{topic:_,trace:[no.session_approve_started,no.session_namespaces_validation_success]}}));const I=await this.client.core.crypto.generateKeyPair(),P=x.publicKey,z=await this.client.core.crypto.generateSharedKey(I,P),W=tn(tn(tn({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:I,metadata:this.client.metadata},expiry:mr(Vu)},h&&{sessionProperties:h}),f&&{scopedProperties:f}),g&&{sessionConfig:g}),L=pn.relay;T.addTrace(no.subscribing_session_topic);try{await this.client.core.relayer.subscribe(z,{transportType:L})}catch(q){throw T.setError(ul.subscribe_session_topic_failure),q}T.addTrace(no.subscribe_session_topic_success);const V=wi(tn({},W),{topic:z,requiredNamespaces:C,optionalNamespaces:S,pairingTopic:_,acknowledged:!1,self:W.controller,peer:{publicKey:x.publicKey,metadata:x.metadata},controller:I,transportType:pn.relay});await this.client.session.set(z,V),T.addTrace(no.store_session);try{T.addTrace(no.publishing_session_settle),await this.sendRequest({topic:z,method:"wc_sessionSettle",params:W,throwOnFailedPublish:!0}).catch(q=>{throw T?.setError(ul.session_settle_publish_failure),q}),T.addTrace(no.session_settle_publish_success),T.addTrace(no.publishing_session_approve),await this.sendResult({id:a,topic:_,result:{relay:{protocol:c??"irn"},responderPublicKey:I},throwOnFailedPublish:!0}).catch(q=>{throw T?.setError(ul.session_approve_publish_failure),q}),T.addTrace(no.session_approve_publish_success)}catch(q){throw this.client.logger.error(q),this.client.session.delete(z,Yt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(z),q}return this.client.core.eventClient.deleteEvent({eventId:T.eventId}),await this.client.core.pairing.updateMetadata({topic:_,metadata:x.metadata}),await this.client.proposal.delete(a,Yt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:_}),await this.setExpiry(z,mr(Vu)),{topic:z,acknowledged:()=>Promise.resolve(this.client.session.get(z))}}),ge(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:xr.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Yt("USER_DISCONNECTED")))}),ge(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=gl(),c=Bo(),u=kl().toString(),h=this.client.session.get(r).namespaces;return this.events.once(jt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:h}),a(f)}),{acknowledged:s}}),ge(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Bo(),{done:s,resolve:o,reject:a}=gl();return this.events.once(jt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,mr(Vu)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),ge(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:r,request:i,topic:s,expiry:o=xr.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===pn.relay&&await this.confirmOnlineStateOrThrow();const c=Bo(),u=kl().toString(),{done:h,resolve:f,reject:g}=gl(o,"Request expired. Please try again.");this.events.once(jt("session_request",c),({error:S,result:T})=>{S?g(S):f(T)});const m="wc_sessionRequest",_=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(_)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:{request:wi(tn({},i),{expiryTimestamp:mr(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:_}).catch(S=>g(S)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await h();const x={request:wi(tn({},i),{expiryTimestamp:mr(o)}),chainId:r},C=this.shouldSetTVF(m,x);return await Promise.all([new Promise(async S=>{await this.sendRequest(tn({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:x,expiry:o,throwOnFailedPublish:!0},C&&{tvf:this.getTVFParams(c,x)})).catch(T=>g(T)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),S()}),new Promise(async S=>{var T;if(!((T=a.sessionConfig)!=null&&T.disableDeepLink)){const I=await RH(this.client.core.storage,DI);await CH({id:c,topic:s,wcDeepLink:I})}S()}),h()]).then(S=>S[2])}),ge(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===pn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Do(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Ps(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),ge(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Bo(),s=kl().toString(),{done:o,resolve:a,reject:c}=gl();this.events.once(jt("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),ge(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=kl().toString(),a=Bo();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ge(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Yt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Se("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),ge(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>dW(r,n)))),ge(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ge(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?pn.link_mode:pn.relay;o===pn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:h,nonce:f,type:g,exp:m,nbf:_,methods:x=[],expiry:C}=n,S=[...n.resources||[]],{topic:T,uri:I}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:T,uri:I}});const P=await this.client.core.crypto.generateKeyPair(),z=iy(P);if(await Promise.all([this.client.auth.authKeys.set(oy,{responseTopic:z,publicKey:P}),this.client.auth.pairingTopics.set(z,{topic:z,pairingTopic:T})]),await this.client.core.relayer.subscribe(z,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${T}`),x.length>0){const{namespace:R}=Fd(a[0]);let M=Eq(R,"request",x);ry(S)&&(M=xq(M,S.pop())),S.push(M)}const W=C&&C>xr.wc_sessionAuthenticate.req.ttl?C:xr.wc_sessionAuthenticate.req.ttl,L={authPayload:{type:g??"caip122",chains:a,statement:c,aud:u,domain:h,version:"1",nonce:f,iat:new Date().toISOString(),exp:m,nbf:_,resources:S},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:mr(W)},V={eip155:{chains:a,methods:[...new Set(["personal_sign",...x])],events:["chainChanged","accountsChanged"]}},q={requiredNamespaces:{},optionalNamespaces:V,relays:[{protocol:"irn"}],pairingTopic:T,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:mr(xr.wc_sessionPropose.req.ttl),id:Bo()},{done:X,resolve:Y,reject:ee}=gl(W,"Request expired"),j=Bo(),w=jt("session_connect",q.id),b=jt("session_request",j),v=async({error:R,session:M})=>{this.events.off(b,O),R?ee(R):M&&Y({session:M})},O=async R=>{var M,k,E;if(await this.deletePendingAuthRequest(j,{message:"fulfilled",code:0}),R.error){const me=Yt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===me.code?void 0:(this.events.off(w,v),ee(R.error.message))}await this.deleteProposal(q.id),this.events.off(w,v);const{cacaos:U,responder:Q}=R.result,te=[],oe=[];for(const me of U){await TT({cacao:me,projectId:this.client.core.projectId})||(this.client.logger.error(me,"Signature verification failed"),ee(Yt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:et}=me,qe=ry(et.resources),ke=[h_(et.iss)],je=Dy(et.iss);if(qe){const Pe=IT(qe),st=RT(qe);te.push(...Pe),ke.push(...st)}for(const Pe of ke)oe.push(`${Pe}:${je}`)}const pe=await this.client.core.crypto.generateSharedKey(P,Q.publicKey);let ue;te.length>0&&(ue={topic:pe,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:mr(Vu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:T,namespaces:XT([...new Set(te)],[...new Set(oe)]),transportType:o},await this.client.core.relayer.subscribe(pe,{transportType:o}),await this.client.session.set(pe,ue),T&&await this.client.core.pairing.updateMetadata({topic:T,metadata:Q.metadata}),ue=this.client.session.get(pe)),(M=this.client.metadata.redirect)!=null&&M.linkMode&&(k=Q.metadata.redirect)!=null&&k.linkMode&&(E=Q.metadata.redirect)!=null&&E.universal&&r&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(pe,{transportType:pn.link_mode})),Y({auths:U,session:ue})};this.events.once(w,v),this.events.once(b,O);let B;try{if(s){const R=Sc("wc_sessionAuthenticate",L,j);this.client.core.history.set(T,R);const M=await this.client.core.crypto.encode("",R,{type:um,encoding:mc});B=c0(r,T,M)}else await Promise.all([this.sendRequest({topic:T,method:"wc_sessionAuthenticate",params:L,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:j}),this.sendRequest({topic:T,method:"wc_sessionPropose",params:q,expiry:xr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})])}catch(R){throw this.events.off(w,v),this.events.off(b,O),R}return await this.setProposal(q.id,q),await this.setAuthRequest(j,{request:wi(tn({},L),{verifyContext:{}}),pairingTopic:T,transportType:o}),{uri:B??I,response:X}}),ge(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[dl.authenticated_session_approve_started]}});try{this.isInitialized()}catch(C){throw s.setError(bf.no_internet_connection),C}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(bf.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||pn.relay;a===pn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=iy(c),f={type:Ma,receiverPublicKey:c,senderPublicKey:u},g=[],m=[];for(const C of i){if(!await TT({cacao:C,projectId:this.client.core.projectId})){s.setError(bf.invalid_cacao);const z=Yt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:h,error:z,encodeOpts:f}),new Error(z.message)}s.addTrace(dl.cacaos_verified);const{p:S}=C,T=ry(S.resources),I=[h_(S.iss)],P=Dy(S.iss);if(T){const z=IT(T),W=RT(T);g.push(...z),I.push(...W)}for(const z of I)m.push(`${z}:${P}`)}const _=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(dl.create_authenticated_session_topic);let x;if(g?.length>0){x={topic:_,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:mr(Vu),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:XT([...new Set(g)],[...new Set(m)]),transportType:a},s.addTrace(dl.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:a})}catch(C){throw s.setError(bf.subscribe_authenticated_session_topic_failure),C}s.addTrace(dl.subscribe_authenticated_session_topic_success),await this.client.session.set(_,x),s.addTrace(dl.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(dl.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:r,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(C){throw s.setError(bf.authenticated_session_approve_publish_failure),C}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:x}}),ge(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===pn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=iy(o),u={type:Ma,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:u,rpcOpts:xr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,Yt("USER_DISCONNECTED"))}),ge(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return R8(r,i)}),ge(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),ge(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),ge(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Yt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(DI).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Yt("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Ro.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ge(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(ul.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Yt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),ge(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Ro.idle,this.client.events.emit("session_request_expire",{id:n}))}),ge(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),ge(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),ge(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,mr(xr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),ge(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=pn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ge(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||mr(xr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),ge(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:h,tvf:f}=n,g=Sc(i,s,c);let m;const _=!!h;try{const S=_?mc:po;m=await this.client.core.crypto.encode(r,g,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),S}let x;if(gX.includes(i)){const S=Po(JSON.stringify(g)),T=Po(m);x=await this.client.core.verify.register({id:T,decryptedId:S})}const C=xr[i].req;if(C.attestation=x,o&&(C.ttl=o),a&&(C.id=a),this.client.core.history.set(r,g),_){const S=c0(h,r,m);await global.Linking.openURL(S,this.client.name)}else{const S=xr[i].req;o&&(S.ttl=o),a&&(S.id=a),S.tvf=wi(tn({},f),{correlationId:g.id}),u?(S.internal=wi(tn({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,S)):this.client.core.relayer.publish(r,m,S).catch(T=>this.client.logger.error(T))}return g.id}),ge(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,u=lw(r,s);let h;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const _=f?mc:po;h=await this.client.core.crypto.encode(i,u,wi(tn({},a||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),_}let g,m;try{g=await this.client.core.history.get(i,r);const _=g.request;try{this.shouldSetTVF(_.method,_.params)&&(m=this.getTVFParams(r,_.params,s))}catch(x){this.client.logger.warn("sendResult() -> getTVFParams() failed",x)}}catch(_){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),_}if(f){const _=c0(c,i,h);await global.Linking.openURL(_,this.client.name)}else{const _=g.request.method,x=xr[_].res;x.tvf=wi(tn({},m),{correlationId:r}),o?(x.internal=wi(tn({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,x)):this.client.core.relayer.publish(i,h,x).catch(C=>this.client.logger.error(C))}await this.client.core.history.resolve(u)}),ge(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,u=uw(r,s);let h;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?mc:po;h=await this.client.core.crypto.encode(i,u,wi(tn({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let g;try{g=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(f){const m=c0(c,i,h);await global.Linking.openURL(m,this.client.name)}else{const m=g.request.method,_=a||xr[m].res;this.client.core.relayer.publish(i,h,_)}await this.client.core.history.resolve(u)}),ge(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;fc(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{fc(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),ge(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),ge(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),ge(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ro.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ro.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Ro.idle}),ge(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),ge(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ge(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Se("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ge(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ge(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(ba.proposal_listener_not_found)),this.isValidConnect(tn({},i.params));const h=a.expiryTimestamp||mr(xr.wc_sessionPropose.req.ttl),f=tn({id:c,pairingTopic:r,expiryTimestamp:h},a);await this.setProposal(c,f);const g=await this.getVerifyContext({attestationId:s,hash:Po(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});u?.addTrace(Oo.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:g})}catch(u){await this.sendError({id:c,topic:r,error:u,rpcOpts:xr.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),ge(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(Do(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const h=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:n,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(Ps(r)){await this.client.proposal.delete(s,Yt("USER_DISCONNECTED"));const o=jt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),ge(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:h,scopedProperties:f,sessionConfig:g}=r.params,m=[...this.pendingSessions.values()].find(C=>C.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const _=this.client.proposal.get(m.proposalId),x=wi(tn(tn(tn({topic:n,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:_.requiredNamespaces,optionalNamespaces:_.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},h&&{sessionProperties:h}),f&&{scopedProperties:f}),g&&{sessionConfig:g}),{transportType:pn.relay});await this.client.session.set(x.topic,x),await this.setExpiry(x.topic,x.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:x.peer.metadata}),this.client.events.emit("session_connect",{session:x}),this.events.emit(jt("session_connect",m.proposalId),{session:x}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(x),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Do(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(jt("session_approve",i),{})):Ps(r)&&(await this.client.session.delete(n,Yt("USER_DISCONNECTED")),this.events.emit(jt("session_approve",i),{error:r.error}))}),ge(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=mf.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Yt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(tn({topic:n},i));try{mf.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw mf.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),ge(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=jt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Do(r)?this.events.emit(jt("session_update",i),{}):Ps(r)&&this.events.emit(jt("session_update",i),{error:r.error})}),ge(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,mr(Vu)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ge(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=jt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Do(r)?this.events.emit(jt("session_extend",i),{}):Ps(r)&&this.events.emit(jt("session_extend",i),{error:r.error})}),ge(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),ge(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=jt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Do(r)?this.events.emit(jt("session_ping",i),{}):Ps(r)&&this.events.emit(jt("session_ping",i),{error:r.error})},500)}),ge(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Rr.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Yt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ge(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:h}=n,{id:f,params:g}=a;try{await this.isValidRequest(tn({topic:o},g));const m=this.client.session.get(o),_=await this.getVerifyContext({attestationId:c,hash:Po(JSON.stringify(Sc("wc_sessionRequest",g,f))),encryptedId:u,metadata:m.peer.metadata,transportType:h}),x={id:f,topic:o,params:g,verifyContext:_};await this.setPendingSessionRequest(x),h===pn.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(x):(this.addSessionRequestToSessionRequestQueue(x),this.processSessionRequestQueue())}catch(m){await this.sendError({id:f,topic:o,error:m}),this.client.logger.error(m)}}),ge(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=jt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Do(r)?this.events.emit(jt("session_request",i),{result:r.result}):Ps(r)&&this.events.emit(jt("session_request",i),{error:r.error})}),ge(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=mf.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(tn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),mf.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),ge(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Do(r)?this.events.emit(jt("session_request",i),{result:r.result}):Ps(r)&&this.events.emit(jt("session_request",i),{error:r.error})}),ge(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:u,authPayload:h,expiryTimestamp:f}=s.params,g=await this.getVerifyContext({attestationId:o,hash:Po(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),m={requester:u,pairingTopic:i,id:s.id,authPayload:h,verifyContext:g,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:m,pairingTopic:i,transportType:c}),c===pn.link_mode&&(r=u.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:g})}catch(u){this.client.logger.error(u);const h=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(s.params.requester.metadata,c),m={type:Ma,receiverPublicKey:h,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:m,rpcOpts:xr.wc_sessionAuthenticate.autoReject,appLink:g})}}),ge(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),ge(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ro.idle,this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay))}),ge(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=jt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(jt("session_request",s.request.id),{error:r})})}),ge(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ro.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Ro.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),ge(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),ge(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Sc("wc_sessionPropose",wi(tn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),ge(this,"isValidConnect",async n=>{if(!Mi(n)){const{message:u}=Se("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Gr(r)||await this.isValidPairingTopic(r),!xW(c)){const{message:u}=Se("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!Gr(i)&&zp(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Gr(s)&&zp(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Gr(o)||this.validateSessionProps(o,"sessionProperties"),!Gr(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(h=>u.includes(h)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),ge(this,"validateNamespaces",(n,r)=>{const i=_W(n,"connect()",r);if(i)throw new Error(i.message)}),ge(this,"isValidApprove",async n=>{if(!Mi(n))throw new Error(Se("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),u=i1(i,"approve()");if(u)throw new Error(u.message);const h=eI(c.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!dr(s,!0)){const{message:f}=Se("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Gr(o)||this.validateSessionProps(o,"sessionProperties"),!Gr(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(g=>f.has(g)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),ge(this,"isValidReject",async n=>{if(!Mi(n)){const{message:s}=Se("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!AW(i)){const{message:s}=Se("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ge(this,"isValidSessionSettleRequest",n=>{if(!Mi(n)){const{message:u}=Se("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!tB(r)){const{message:u}=Se("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=mW(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=i1(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(fc(o)){const{message:u}=Se("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),ge(this,"isValidUpdate",async n=>{if(!Mi(n)){const{message:c}=Se("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=i1(i,"update()");if(o)throw new Error(o.message);const a=eI(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ge(this,"isValidExtend",async n=>{if(!Mi(n)){const{message:i}=Se("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),ge(this,"isValidRequest",async n=>{if(!Mi(n)){const{message:c}=Se("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!JT(a,s)){const{message:c}=Se("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!CW(i)){const{message:c}=Se("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!RW(a,s,i.method)){const{message:c}=Se("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!BW(o,d1)){const{message:c}=Se("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${d1.min} and ${d1.max}`);throw new Error(c)}}),ge(this,"isValidRespond",async n=>{var r;if(!Mi(n)){const{message:o}=Se("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!TW(s)){const{message:o}=Se("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ge(this,"isValidPing",async n=>{if(!Mi(n)){const{message:i}=Se("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ge(this,"isValidEmit",async n=>{if(!Mi(n)){const{message:a}=Se("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!JT(o,s)){const{message:a}=Se("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!IW(i)){const{message:a}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!kW(o,s,i.name)){const{message:a}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ge(this,"isValidDisconnect",async n=>{if(!Mi(n)){const{message:i}=Se("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),ge(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!dr(i,!1))throw new Error("uri is required parameter");if(!dr(s,!1))throw new Error("domain is required parameter");if(!dr(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Fd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Fd(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ge(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||np,validation:"UNKNOWN",origin:o.url||""}};try{if(a===pn.link_mode){const h=this.getAppLinkIfEnabled(o,a);return c.verified.validation=h&&new URL(h).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),ge(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Se("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),ge(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),ge(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ge(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Se("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),ge(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,u,h,f,g;return!n||r!==pn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((h=n?.redirect)==null?void 0:h.universal)!==void 0&&((f=n?.redirect)==null?void 0:f.universal)!==""&&((g=n?.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ge(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),ge(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=bT(n,"topic")||"",i=decodeURIComponent(bT(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:pn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),ge(this,"registerLinkModeListeners",async()=>{var n;if(kS()||il()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ge(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys($I).includes(i.method)}),ge(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return wi(tn({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),ge(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ge(this,"extractTxHashesFromResult",(n,r)=>{try{const i=$I[n];if(typeof r=="string")return[r];const s=r[i.key];if(kc(s))return n==="solana_signAllTransactions"?s.map(o=>aq(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Rr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(oy)?this.client.auth.authKeys.get(oy):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===pn.link_mode?mc:po});zS(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Po(r)})):dw(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Os.expired,async e=>{const{topic:n,id:r}=v8(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Se("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Se("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(xl.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(xl.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!dr(e,!1)){const{message:n}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(fc(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Se("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!dr(e,!1)){const{message:n}=Se("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Se("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(fc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Se("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Se("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(dr(e,!1)){const{message:n}=Se("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Se("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!SW(e)){const{message:n}=Se("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Se("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(fc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Se("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class TX extends _u{constructor(e,n){super(e,n,dX,FS),this.core=e,this.logger=n}}let IX=class extends _u{constructor(e,n){super(e,n,hX,FS),this.core=e,this.logger=n}};class RX extends _u{constructor(e,n){super(e,n,pX,FS,r=>r.id),this.core=e,this.logger=n}}class kX extends _u{constructor(e,n){super(e,n,bX,fw,()=>oy),this.core=e,this.logger=n}}class NX extends _u{constructor(e,n){super(e,n,wX,fw),this.core=e,this.logger=n}}class OX extends _u{constructor(e,n){super(e,n,vX,fw,r=>r.id),this.core=e,this.logger=n}}var BX=Object.defineProperty,DX=(t,e,n)=>e in t?BX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h1=(t,e,n)=>DX(t,typeof e!="symbol"?e+"":e,n);class PX{constructor(e,n){this.core=e,this.logger=n,h1(this,"authKeys"),h1(this,"pairingTopics"),h1(this,"requests"),this.authKeys=new kX(this.core,this.logger),this.pairingTopics=new NX(this.core,this.logger),this.requests=new OX(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var $X=Object.defineProperty,MX=(t,e,n)=>e in t?$X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,At=(t,e,n)=>MX(t,typeof e!="symbol"?e+"":e,n);let UX=class IB extends n7{constructor(e){super(e),At(this,"protocol",AB),At(this,"version",CB),At(this,"name",u1.name),At(this,"metadata"),At(this,"core"),At(this,"logger"),At(this,"events",new Zs.EventEmitter),At(this,"engine"),At(this,"session"),At(this,"proposal"),At(this,"pendingRequest"),At(this,"auth"),At(this,"signConfig"),At(this,"on",(r,i)=>this.events.on(r,i)),At(this,"once",(r,i)=>this.events.once(r,i)),At(this,"off",(r,i)=>this.events.off(r,i)),At(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),At(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),At(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),At(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),At(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||u1.name,this.metadata=vH(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Jg(Mh({level:e?.logger||u1.logger}));this.core=e?.core||new uX(e),this.logger=bi(n,this.name),this.session=new IX(this.core,this.logger),this.proposal=new TX(this.core,this.logger),this.pendingRequest=new RX(this.core,this.logger),this.engine=new CX(this),this.auth=new PX(this.core,this.logger)}static async init(e){const n=new IB(e);return await n.initialize(),n}get context(){return Gi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},xe.toMiliseconds(xe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var M_={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof rr<"u"&&rr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof rr<"u"&&rr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(b){return b&&DataView.prototype.isPrototypeOf(b)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(b){return b&&h.indexOf(Object.prototype.toString.call(b))>-1};function g(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function m(b){return typeof b!="string"&&(b=String(b)),b}function _(b){var v={next:function(){var O=b.shift();return{done:O===void 0,value:O}}};return c.iterable&&(v[Symbol.iterator]=function(){return v}),v}function x(b){this.map={},b instanceof x?b.forEach(function(v,O){this.append(O,v)},this):Array.isArray(b)?b.forEach(function(v){if(v.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+v.length);this.append(v[0],v[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(v){this.append(v,b[v])},this)}x.prototype.append=function(b,v){b=g(b),v=m(v);var O=this.map[b];this.map[b]=O?O+", "+v:v},x.prototype.delete=function(b){delete this.map[g(b)]},x.prototype.get=function(b){return b=g(b),this.has(b)?this.map[b]:null},x.prototype.has=function(b){return this.map.hasOwnProperty(g(b))},x.prototype.set=function(b,v){this.map[g(b)]=m(v)},x.prototype.forEach=function(b,v){for(var O in this.map)this.map.hasOwnProperty(O)&&b.call(v,this.map[O],O,this)},x.prototype.keys=function(){var b=[];return this.forEach(function(v,O){b.push(O)}),_(b)},x.prototype.values=function(){var b=[];return this.forEach(function(v){b.push(v)}),_(b)},x.prototype.entries=function(){var b=[];return this.forEach(function(v,O){b.push([O,v])}),_(b)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function C(b){if(!b._noBody){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}}function S(b){return new Promise(function(v,O){b.onload=function(){v(b.result)},b.onerror=function(){O(b.error)}})}function T(b){var v=new FileReader,O=S(v);return v.readAsArrayBuffer(b),O}function I(b){var v=new FileReader,O=S(v),B=/charset=([A-Za-z0-9_-]+)/.exec(b.type),R=B?B[1]:"utf-8";return v.readAsText(b,R),O}function P(b){for(var v=new Uint8Array(b),O=new Array(v.length),B=0;B<v.length;B++)O[B]=String.fromCharCode(v[B]);return O.join("")}function z(b){if(b.slice)return b.slice(0);var v=new Uint8Array(b.byteLength);return v.set(new Uint8Array(b)),v.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:c.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:c.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():c.arrayBuffer&&c.blob&&u(b)?(this._bodyArrayBuffer=z(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||f(b))?this._bodyArrayBuffer=z(b):this._bodyText=b=Object.prototype.toString.call(b):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var b=C(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=C(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(T);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var b=C(this);if(b)return b;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function V(b){var v=b.toUpperCase();return L.indexOf(v)>-1?v:b}function q(b,v){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v=v||{};var O=v.body;if(b instanceof q){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,v.headers||(this.headers=new x(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!O&&b._bodyInit!=null&&(O=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new x(v.headers)),this.method=V(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal||function(){if("AbortController"in a){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(v.cache==="no-store"||v.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function X(b){var v=new FormData;return b.trim().split("&").forEach(function(O){if(O){var B=O.split("="),R=B.shift().replace(/\+/g," "),M=B.join("=").replace(/\+/g," ");v.append(decodeURIComponent(R),decodeURIComponent(M))}}),v}function Y(b){var v=new x,O=b.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var R=B.split(":"),M=R.shift().trim();if(M){var k=R.join(":").trim();try{v.append(M,k)}catch(E){console.warn("Response "+E.message)}}}),v}W.call(q.prototype);function ee(b,v){if(!(this instanceof ee))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=v.statusText===void 0?"":""+v.statusText,this.headers=new x(v.headers),this.url=v.url||"",this._initBody(b)}W.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},ee.error=function(){var b=new ee(null,{status:200,statusText:""});return b.ok=!1,b.status=0,b.type="error",b};var j=[301,302,303,307,308];ee.redirect=function(b,v){if(j.indexOf(v)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:v,headers:{location:b}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(v,O){this.message=v,this.name=O;var B=Error(v);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function w(b,v){return new Promise(function(O,B){var R=new q(b,v);if(R.signal&&R.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function k(){M.abort()}M.onload=function(){var Q={statusText:M.statusText,headers:Y(M.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(M.status<200||M.status>599)?Q.status=200:Q.status=M.status,Q.url="responseURL"in M?M.responseURL:Q.headers.get("X-Request-URL");var te="response"in M?M.response:M.responseText;setTimeout(function(){O(new ee(te,Q))},0)},M.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){B(new o.DOMException("Aborted","AbortError"))},0)};function E(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}if(M.open(R.method,E(R.url),!0),R.credentials==="include"?M.withCredentials=!0:R.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(c.blob?M.responseType="blob":c.arrayBuffer&&(M.responseType="arraybuffer")),v&&typeof v.headers=="object"&&!(v.headers instanceof x||a.Headers&&v.headers instanceof a.Headers)){var U=[];Object.getOwnPropertyNames(v.headers).forEach(function(Q){U.push(g(Q)),M.setRequestHeader(Q,m(v.headers[Q]))}),R.headers.forEach(function(Q,te){U.indexOf(te)===-1&&M.setRequestHeader(te,Q)})}else R.headers.forEach(function(Q,te){M.setRequestHeader(te,Q)});R.signal&&(R.signal.addEventListener("abort",k),M.onreadystatechange=function(){M.readyState===4&&R.signal.removeEventListener("abort",k)}),M.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return w.polyfill=!0,a.fetch||(a.fetch=w,a.Headers=x,a.Request=q,a.Response=ee),o.Headers=x,o.Request=q,o.Response=ee,o.fetch=w,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(M_,M_.exports);var LX=M_.exports;const UI=ws(LX);var zX=Object.defineProperty,FX=Object.defineProperties,jX=Object.getOwnPropertyDescriptors,LI=Object.getOwnPropertySymbols,HX=Object.prototype.hasOwnProperty,qX=Object.prototype.propertyIsEnumerable,zI=(t,e,n)=>e in t?zX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FI=(t,e)=>{for(var n in e||(e={}))HX.call(e,n)&&zI(t,n,e[n]);if(LI)for(var n of LI(e))qX.call(e,n)&&zI(t,n,e[n]);return t},jI=(t,e)=>FX(t,jX(e));const VX={Accept:"application/json","Content-Type":"application/json"},WX="POST",HI={headers:VX,method:WX},qI=10;let xo=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Zs.EventEmitter,this.isAvailable=!1,this.registering=!1,!oI(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Fa(e),r=await(await UI(this.url,jI(FI({},HI),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!oI(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Fa({id:1,jsonrpc:"2.0",method:"test",params:[]});await UI(e,jI(FI({},HI),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?eu(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=uw(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return iB(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>qI&&this.events.setMaxListeners(qI)}};const VI="error",KX="wss://relay.walletconnect.org",GX="wc",YX="universal_provider",u0=`${GX}@2:${YX}:`,RB="https://rpc.walletconnect.org/v1/",hd="generic",ZX=`${RB}bundler`,Qs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function XX(){}function jS(t){return t==null||typeof t!="object"&&typeof t!="function"}function HS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QX(t){if(jS(t))return t;if(Array.isArray(t)||HS(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function WI(t){return typeof t=="object"&&t!==null}function kB(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function NB(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const JX="[object RegExp]",OB="[object String]",BB="[object Number]",DB="[object Boolean]",PB="[object Arguments]",eQ="[object Symbol]",tQ="[object Date]",nQ="[object Map]",rQ="[object Set]",iQ="[object Array]",sQ="[object ArrayBuffer]",oQ="[object Object]",aQ="[object DataView]",cQ="[object Uint8Array]",lQ="[object Uint8ClampedArray]",uQ="[object Uint16Array]",dQ="[object Uint32Array]",hQ="[object Int8Array]",fQ="[object Int16Array]",pQ="[object Int32Array]",gQ="[object Float32Array]",mQ="[object Float64Array]";function yQ(t,e){return Cd(t,void 0,t,new Map,e)}function Cd(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(jS(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cd(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Cd(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Cd(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(HS(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Cd(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),Sl(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),Sl(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),Sl(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Sl(o,t,n,r,i),o}if(typeof t=="object"&&bQ(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),Sl(o,t,n,r,i),o}return t}function Sl(t,e,n=t,r,i){const s=[...Object.keys(e),...kB(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Cd(e[a],a,n,r,i))}}function bQ(t){switch(NB(t)){case PB:case iQ:case sQ:case aQ:case DB:case tQ:case gQ:case mQ:case hQ:case fQ:case pQ:case nQ:case BB:case oQ:case JX:case rQ:case OB:case eQ:case cQ:case lQ:case uQ:case dQ:return!0;default:return!1}}function wQ(t,e){return yQ(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case BB:case OB:case DB:{const o=new t.constructor(t?.valueOf());return Sl(o,t),o}case PB:{const o={};return Sl(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function KI(t){return wQ(t)}function GI(t){return t!==null&&typeof t=="object"&&NB(t)==="[object Arguments]"}function vQ(t){return HS(t)}function EQ(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function _Q(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=U_(i,o,r,new Map)}return i}function U_(t,e,n,r){if(jS(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return QX(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...kB(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(GI(a)&&(a={...a}),GI(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=KI(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const h=[],f=Reflect.ownKeys(c);for(let g=0;g<f.length;g++){const m=f[g];h[m]=c[m]}c=h}else c=[];const u=n(c,a,o,t,e,r);u!=null?t[o]=u:Array.isArray(a)||WI(c)&&WI(a)?t[o]=U_(c,a,n,r):c==null&&EQ(a)?t[o]=U_({},a,n,r):c==null&&vQ(a)?t[o]=KI(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function xQ(t,...e){return _Q(t,...e,XX)}var SQ=Object.defineProperty,AQ=Object.defineProperties,CQ=Object.getOwnPropertyDescriptors,YI=Object.getOwnPropertySymbols,TQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,ZI=(t,e,n)=>e in t?SQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d0=(t,e)=>{for(var n in e||(e={}))TQ.call(e,n)&&ZI(t,n,e[n]);if(YI)for(var n of YI(e))IQ.call(e,n)&&ZI(t,n,e[n]);return t},RQ=(t,e)=>AQ(t,CQ(e));function ms(t,e,n){var r;const i=Fd(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${RB}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function xu(t){return t.includes(":")?t.split(":")[1]:t}function $B(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function kQ(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function f1(t={},e={}){const n=XI(t),r=XI(e);return xQ(n,r)}function XI(t){var e,n,r,i;const s={};if(!zp(t))return s;for(const[o,a]of Object.entries(t)){const c=MS(o)?[o]:a.chains,u=a.methods||[],h=a.events||[],f=a.rpcMap||{},g=zf(o);s[g]=RQ(d0(d0({},s[g]),a),{chains:ny(c,(e=s[g])==null?void 0:e.chains),methods:ny(u,(n=s[g])==null?void 0:n.methods),events:ny(h,(r=s[g])==null?void 0:r.events),rpcMap:d0(d0({},f),(i=s[g])==null?void 0:i.rpcMap)})}return s}function QI(t){return t.includes(":")?t.split(":")[2]:t}function JI(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=MS(n)?[n]:r.chains?r.chains:$B(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function p1(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const MB={},Mt=t=>MB[t],g1=(t,e)=>{MB[t]=e};var NQ=Object.defineProperty,OQ=(t,e,n)=>e in t?NQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e,n)=>OQ(t,typeof e!="symbol"?e+"":e,n);class BQ{constructor(e){Wu(this,"name","polkadot"),Wu(this,"client"),Wu(this,"httpProviders"),Wu(this,"events"),Wu(this,"namespace"),Wu(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var DQ=Object.defineProperty,PQ=Object.defineProperties,$Q=Object.getOwnPropertyDescriptors,eR=Object.getOwnPropertySymbols,MQ=Object.prototype.hasOwnProperty,UQ=Object.prototype.propertyIsEnumerable,L_=(t,e,n)=>e in t?DQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tR=(t,e)=>{for(var n in e||(e={}))MQ.call(e,n)&&L_(t,n,e[n]);if(eR)for(var n of eR(e))UQ.call(e,n)&&L_(t,n,e[n]);return t},nR=(t,e)=>PQ(t,$Q(e)),Ku=(t,e,n)=>L_(t,typeof e!="symbol"?e+"":e,n);class LQ{constructor(e){Ku(this,"name","eip155"),Ku(this,"client"),Ku(this,"chainId"),Ku(this,"namespace"),Ku(this,"httpProviders"),Ku(this,"events"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ms(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(xu(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const s=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o?.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a?.[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:nR(tR({},o.sessionProperties||{}),{capabilities:nR(tR({},a||{}),{[s]:c})})})}catch(u){console.warn("Failed to update session with capabilities",u)}return c}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Sc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${ZX}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var zQ=Object.defineProperty,FQ=(t,e,n)=>e in t?zQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gu=(t,e,n)=>FQ(t,typeof e!="symbol"?e+"":e,n);class jQ{constructor(e){Gu(this,"name","solana"),Gu(this,"client"),Gu(this,"httpProviders"),Gu(this,"events"),Gu(this,"namespace"),Gu(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var HQ=Object.defineProperty,qQ=(t,e,n)=>e in t?HQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yu=(t,e,n)=>qQ(t,typeof e!="symbol"?e+"":e,n);class VQ{constructor(e){Yu(this,"name","cosmos"),Yu(this,"client"),Yu(this,"httpProviders"),Yu(this,"events"),Yu(this,"namespace"),Yu(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var WQ=Object.defineProperty,KQ=(t,e,n)=>e in t?WQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zu=(t,e,n)=>KQ(t,typeof e!="symbol"?e+"":e,n);class GQ{constructor(e){Zu(this,"name","algorand"),Zu(this,"client"),Zu(this,"httpProviders"),Zu(this,"events"),Zu(this,"namespace"),Zu(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ms(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Xs(new xo(r,Mt("disableProviderPing")))}}var YQ=Object.defineProperty,ZQ=(t,e,n)=>e in t?YQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xu=(t,e,n)=>ZQ(t,typeof e!="symbol"?e+"":e,n);class XQ{constructor(e){Xu(this,"name","cip34"),Xu(this,"client"),Xu(this,"httpProviders"),Xu(this,"events"),Xu(this,"namespace"),Xu(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=xu(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var QQ=Object.defineProperty,JQ=(t,e,n)=>e in t?QQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qu=(t,e,n)=>JQ(t,typeof e!="symbol"?e+"":e,n);class eJ{constructor(e){Qu(this,"name","elrond"),Qu(this,"client"),Qu(this,"httpProviders"),Qu(this,"events"),Qu(this,"namespace"),Qu(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var tJ=Object.defineProperty,nJ=(t,e,n)=>e in t?tJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ju=(t,e,n)=>nJ(t,typeof e!="symbol"?e+"":e,n);class rJ{constructor(e){Ju(this,"name","multiversx"),Ju(this,"client"),Ju(this,"httpProviders"),Ju(this,"events"),Ju(this,"namespace"),Ju(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=xu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var iJ=Object.defineProperty,sJ=(t,e,n)=>e in t?iJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ed=(t,e,n)=>sJ(t,typeof e!="symbol"?e+"":e,n);class oJ{constructor(e){ed(this,"name","near"),ed(this,"client"),ed(this,"httpProviders"),ed(this,"events"),ed(this,"namespace"),ed(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ms(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace);return typeof r>"u"?void 0:new Xs(new xo(r,Mt("disableProviderPing")))}}var aJ=Object.defineProperty,cJ=(t,e,n)=>e in t?aJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,td=(t,e,n)=>cJ(t,typeof e!="symbol"?e+"":e,n);class lJ{constructor(e){td(this,"name","tezos"),td(this,"client"),td(this,"httpProviders"),td(this,"events"),td(this,"namespace"),td(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ms(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace);return typeof r>"u"?void 0:new Xs(new xo(r))}}var uJ=Object.defineProperty,dJ=(t,e,n)=>e in t?uJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nd=(t,e,n)=>dJ(t,typeof e!="symbol"?e+"":e,n);class hJ{constructor(e){nd(this,"name",hd),nd(this,"client"),nd(this,"httpProviders"),nd(this,"events"),nd(this,"namespace"),nd(this,"chainId"),this.namespace=e.namespace,this.events=Mt("events"),this.client=Mt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Qs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=Fd(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ms(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Xs(new xo(r,Mt("disableProviderPing")))}}var fJ=Object.defineProperty,pJ=Object.defineProperties,gJ=Object.getOwnPropertyDescriptors,rR=Object.getOwnPropertySymbols,mJ=Object.prototype.hasOwnProperty,yJ=Object.prototype.propertyIsEnumerable,z_=(t,e,n)=>e in t?fJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h0=(t,e)=>{for(var n in e||(e={}))mJ.call(e,n)&&z_(t,n,e[n]);if(rR)for(var n of rR(e))yJ.call(e,n)&&z_(t,n,e[n]);return t},m1=(t,e)=>pJ(t,gJ(e)),As=(t,e,n)=>z_(t,typeof e!="symbol"?e+"":e,n);let bJ=class UB{constructor(e){As(this,"client"),As(this,"namespaces"),As(this,"optionalNamespaces"),As(this,"sessionProperties"),As(this,"scopedProperties"),As(this,"events",new yS),As(this,"rpcProviders",{}),As(this,"session"),As(this,"providerOpts"),As(this,"logger"),As(this,"uri"),As(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Jg(Mh({level:e?.logger||VI})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new UB(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:h0({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,lw(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Yt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=JI(this.session.namespaces);this.namespaces=f1(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=JI(i.namespaces);return this.namespaces=f1(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===hd?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(kc(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await UX.init({core:this.providerOpts.core,logger:this.providerOpts.logger||VI,relayUrl:this.providerOpts.relayUrl||KX,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>zf(n)))];g1("client",this.client),g1("events",this.events),g1("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=kQ(n,this.session),i=$B(r),s=f1(this.namespaces,this.optionalNamespaces),o=m1(h0({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new LQ({namespace:o});break;case"algorand":this.rpcProviders[n]=new GQ({namespace:o});break;case"solana":this.rpcProviders[n]=new jQ({namespace:o});break;case"cosmos":this.rpcProviders[n]=new VQ({namespace:o});break;case"polkadot":this.rpcProviders[n]=new BQ({namespace:o});break;case"cip34":this.rpcProviders[n]=new XQ({namespace:o});break;case"elrond":this.rpcProviders[n]=new eJ({namespace:o});break;case"multiversx":this.rpcProviders[n]=new rJ({namespace:o});break;case"near":this.rpcProviders[n]=new oJ({namespace:o});break;case"tezos":this.rpcProviders[n]=new lJ({namespace:o});break;default:this.rpcProviders[hd]?this.rpcProviders[hd].updateNamespace(o):this.rpcProviders[hd]=new hJ({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&kc(o)&&this.events.emit("accountsChanged",o.map(QI))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=zf(o),u=p1(o)!==p1(a)?`${c}:${p1(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=m1(h0({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",m1(h0({},Yt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Qs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[hd]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>zf(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=zf(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(QI);if(!kc(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${u0}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${u0}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${u0}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(u0)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var uh={};const wJ="https://secure.walletconnect.org/sdk",vJ=(typeof process<"u"&&typeof uh<"u"?uh.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||wJ,EJ=(typeof process<"u"&&typeof uh<"u"?uh.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",_J=(typeof process<"u"&&typeof uh<"u"?uh.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",He={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Jr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ml=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),gr=vn({...ml}),xJ={state:gr,subscribeKey(t,e){return yi(gr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=tt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){gr.message=ml.message,gr.variant=ml.variant,gr.svg=ml.svg,gr.open=ml.open,gr.autoClose=ml.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=ml.autoClose}){gr.open?(gr.open=!1,setTimeout(()=>{gr.message=t,gr.variant=n,gr.svg=e,gr.open=!0,gr.autoClose=r},150)):(gr.message=t,gr.variant=n,gr.svg=e,gr.open=!0,gr.autoClose=r)}},uo=xJ,ip={getSIWX(){return we.state.siwx},async initializeIfEnabled(){const t=we.state.siwx,e=Z.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(Z.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await or.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),yn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await it._getClient()?.disconnect().catch(console.error),Tt.reset("Connect"),uo.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=we.state.siwx,e=tt.getPlainAddress(Z.getActiveCaipAddress()),n=Z.getActiveCaipNetwork(),r=it._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Ue.getConnectorId(n.chainNamespace)===Ce.CONNECTOR_ID.AUTH&&Tt.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),or.close(),yn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!or.state.open||Tt.state.view==="ApproveTransaction")&&await or.open({view:"SIWXSignMessage"}),s.isSmartAccount?uo.showError("This application might not support Smart Accounts"):uo.showError("Signature declined"),yn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await it.disconnect():or.close(),Tt.reset("Connect"),yn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getSessions(){const t=we.state.siwx,e=tt.getPlainAddress(Z.getActiveCaipAddress()),n=Z.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Tt.state.view==="ApproveTransaction",n=Tt.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=ip.getSIWX(),i=new Set(e.map(a=>a.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:Z.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(a=>a!==s.chainId)]});if(uo.showLoading("Authenticating...",{autoClose:!1}),Ve.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),o?.auths?.length){const a=o.auths.map(c=>{const u=t.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:u,signature:c.s.s,cacao:c}});try{await r.setSessions(a),yn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ip.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),yn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ip.getSIWXEventProperties()}),await t.disconnect().catch(console.error),c}finally{uo.hide()}}return!0},getSIWXEventProperties(){const t=Z.state.activeChain;return{network:Z.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Ve.state.preferredAccountTypes?.[t]===Jr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},on=vn({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),SJ={state:on,subscribe(t){return ti(on,()=>t(on))},setLastNetworkInView(t){on.lastNetworkInView=t},async fetchTransactions(t,e){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");on.loading=!0;try{const n=await ct.fetchTransactions({account:t,cursor:on.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:Z.state.activeCaipNetwork?.caipNetworkId}),r=jf.filterSpamTransactions(n.data),i=jf.filterByConnectedChain(r),s=[...on.transactions,...i];on.loading=!1,e==="coinbase"?on.coinbaseTransactions=jf.groupTransactionsByYearAndMonth(on.coinbaseTransactions,n.data):(on.transactions=s,on.transactionsByYear=jf.groupTransactionsByYearAndMonth(on.transactionsByYear,i)),on.empty=s.length===0,on.next=n.next?n.next:void 0}catch{const r=Z.state.activeChain;yn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:we.state.projectId,cursor:on.next,isSmartAccount:Ve.state.preferredAccountTypes?.[r]===Jr.ACCOUNT_TYPES.SMART_ACCOUNT}}),uo.showError("Failed to fetch transactions"),on.loading=!1,on.empty=!0,on.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(u=>u.id!==r.id);n[i]={...o,[s]:[...c,r].sort((u,h)=>new Date(h.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=Z.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){on.next=void 0},resetTransactions(){on.transactions=[],on.transactionsByYear={},on.lastNetworkInView=void 0,on.loading=!1,on.empty=!1,on.next=void 0}},jf=Ys(SJ,"API_ERROR"),fn=vn({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let hl;const AJ={state:fn,subscribeKey(t,e){return yi(fn,t,e)},_getClient(){return fn._client},setClient(t){fn._client=Vc(t)},async connectWalletConnect(){if(tt.isTelegram()||tt.isSafari()&&tt.isIos()){if(hl){await hl,hl=void 0;return}if(!tt.isPairingExpired(fn?.wcPairingExpiry)){const t=fn.wcUri;fn.wcUri=t;return}hl=it._getClient()?.connectWalletConnect?.().catch(()=>{}),it.state.status="connecting",await hl,hl=void 0,fn.wcPairingExpiry=void 0,it.state.status="connected"}else await it._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){await it._getClient()?.connectExternal?.(t),n&&Z.setActiveNamespace(e)},async reconnectExternal(t){await it._getClient()?.reconnectExternal?.(t);const e=t.chain||Z.state.activeChain;e&&Ue.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){or.setLoading(!0,Z.state.activeChain);const n=Ue.getAuthConnector();n&&(Ve.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),De.setPreferredAccountTypes(Ve.state.preferredAccountTypes??{[e]:t}),await it.reconnectExternal(n),or.setLoading(!1,Z.state.activeChain),yn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return it._getClient()?.signMessage(t)},parseUnits(t,e){return it._getClient()?.parseUnits(t,e)},formatUnits(t,e){return it._getClient()?.formatUnits(t,e)},async sendTransaction(t){return it._getClient()?.sendTransaction(t)},async getCapabilities(t){return it._getClient()?.getCapabilities(t)},async grantPermissions(t){return it._getClient()?.grantPermissions(t)},async walletGetAssets(t){return it._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return it._getClient()?.estimateGas(t)},async writeContract(t){return it._getClient()?.writeContract(t)},async getEnsAddress(t){return it._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return it._getClient()?.getEnsAvatar(t)},checkInstalled(t){return it._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){fn.wcUri=void 0,fn.wcPairingExpiry=void 0,fn.wcLinking=void 0,fn.recentWallet=void 0,fn.status="disconnected",jf.resetTransactions(),De.deleteWalletConnectDeepLink()},resetUri(){fn.wcUri=void 0,fn.wcPairingExpiry=void 0,hl=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=it.state;t&&De.setWalletConnectDeepLink(t),e&&De.setAppKitRecent(e),yn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:Tt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){fn.wcBasic=t},setUri(t){fn.wcUri=t,fn.wcPairingExpiry=tt.getPairingExpiry()},setWcLinking(t){fn.wcLinking=t},setWcError(t){fn.wcError=t,fn.buffering=!1},setRecentWallet(t){fn.recentWallet=t},setBuffering(t){fn.buffering=t},setStatus(t){fn.status=t},async disconnect(t){try{or.setLoading(!0,t),await ip.clearSessions(),await Z.disconnect(t),or.setLoading(!1,t),Ue.setFilterByNamespace(void 0)}catch(e){throw new kp("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(t,e){fn.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(Ue.state.activeConnectorIds[n]===t.connectorId){const s=Z.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;Ve.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=Ue.getConnector(t.connectorId);s?it.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}},it=Ys(AJ),rd=vn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ho={state:rd,subscribe(t){return ti(rd,()=>t(rd))},subscribeOpen(t){return yi(rd,"open",t)},set(t){Object.assign(rd,{...rd,...t})}};function CJ(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function iR(t){return CJ(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const LB="2.29.4";let y1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${LB}`};class ys extends Error{constructor(e,n={}){const r=n.cause instanceof ys?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof ys&&n.cause.docsPath||n.docsPath,s=y1.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...y1.version?[`Version: ${y1.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=LB}walk(e){return zB(this,e)}}function zB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?zB(t.cause,e):e?null:t}class FB extends ys{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function qS(t,{dir:e,size:n=32}={}){return typeof t=="string"?TJ(t,{dir:e,size:n}):IJ(t,{dir:e,size:n})}function TJ(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new FB({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function IJ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new FB({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class RJ extends ys{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class kJ extends ys{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function jB(t,{size:e}){if(iR(t)>e)throw new kJ({givenSize:iR(t),maxSize:e})}const NJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sR(t,e={}){return typeof t=="number"||typeof t=="bigint"?BJ(t,e):typeof t=="string"?qB(t,e):typeof t=="boolean"?OJ(t,e):HB(t,e)}function OJ(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(jB(n,{size:e.size}),qS(n,{size:e.size})):n}function HB(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=NJ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(jB(r,{size:e.size}),qS(r,{dir:"right",size:e.size})):r}function BJ(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new RJ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?qS(a,{size:r}):a}const DJ=new TextEncoder;function qB(t,e={}){const n=DJ.encode(t);return HB(n,e)}class PJ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const zl=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function $J(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}const VS=t=>t;class sp extends ys{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${VS(o)}`,e&&`Request body: ${zl(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class VB extends ys{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${VS(r)}`,`Request body: ${zl(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class oR extends ys{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${VS(n)}`,`Request body: ${zl(e)}`],name:"TimeoutError"})}}const MJ=-1;class Yi extends ys{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof VB?e.code:n??MJ}}class vs extends Yi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class jp extends Yi{constructor(e){super(e,{code:jp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Hp extends Yi{constructor(e){super(e,{code:Hp.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class qp extends Yi{constructor(e,{method:n}={}){super(e,{code:qp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Vp extends Yi{constructor(e){super(e,{code:Vp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class dh extends Yi{constructor(e){super(e,{code:dh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wp extends Yi{constructor(e){super(e,{code:Wp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Kp extends Yi{constructor(e){super(e,{code:Kp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Gp extends Yi{constructor(e){super(e,{code:Gp.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class hh extends Yi{constructor(e){super(e,{code:hh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Nl extends Yi{constructor(e,{method:n}={}){super(e,{code:Nl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Nl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class fh extends Yi{constructor(e){super(e,{code:fh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Yp extends Yi{constructor(e){super(e,{code:Yp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Fl extends vs{constructor(e){super(e,{code:Fl.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Fl,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Zp extends vs{constructor(e){super(e,{code:Zp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Xp extends vs{constructor(e,{method:n}={}){super(e,{code:Xp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Qp extends vs{constructor(e){super(e,{code:Qp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Jp extends vs{constructor(e){super(e,{code:Jp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class eg extends vs{constructor(e){super(e,{code:eg.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class tg extends vs{constructor(e){super(e,{code:tg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class ng extends vs{constructor(e){super(e,{code:ng.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class rg extends vs{constructor(e){super(e,{code:rg.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class ig extends vs{constructor(e){super(e,{code:ig.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(ig,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class sg extends vs{constructor(e){super(e,{code:sg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(sg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class og extends vs{constructor(e){super(e,{code:og.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(og,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ag extends vs{constructor(e){super(e,{code:ag.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ag,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class UJ extends Yi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class WS extends ys{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(WS,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(WS,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KS=BigInt(0),F_=BigInt(1);function hm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function GS(t){if(!hm(t))throw new Error("Uint8Array expected")}function Nc(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function f0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function WB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KS:BigInt("0x"+t)}const KB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",LJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ph(t){if(GS(t),KB)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=LJ[t[n]];return e}const da={_0:48,_9:57,A:65,F:70,a:97,f:102};function aR(t){if(t>=da._0&&t<=da._9)return t-da._0;if(t>=da.A&&t<=da.F)return t-(da.A-10);if(t>=da.a&&t<=da.f)return t-(da.a-10)}function My(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(KB)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=aR(t.charCodeAt(s)),a=aR(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function jl(t){return WB(ph(t))}function op(t){return GS(t),WB(ph(Uint8Array.from(t).reverse()))}function fm(t,e){return My(t.toString(16).padStart(e*2,"0"))}function Uy(t,e){return fm(t,e).reverse()}function nr(t,e,n){let r;if(typeof e=="string")try{r=My(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(hm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function gh(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];GS(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const b1=t=>typeof t=="bigint"&&KS<=t;function YS(t,e,n){return b1(t)&&b1(e)&&b1(n)&&e<=t&&t<n}function ho(t,e,n,r){if(!YS(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function zJ(t){let e;for(e=0;t>KS;t>>=F_,e+=1);return e}const pw=t=>(F_<<BigInt(t))-F_,w1=t=>new Uint8Array(t),cR=t=>Uint8Array.from(t);function FJ(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=w1(t),i=w1(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),c=(f=w1(0))=>{i=a(cR([0]),f),r=a(),f.length!==0&&(i=a(cR([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const g=[];for(;f<e;){r=a();const m=r.slice();g.push(m),f+=r.length}return gh(...g)};return(f,g)=>{o(),c(f);let m;for(;!(m=g(u()));)c();return o(),m}}const jJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||hm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function pm(t,e,n={}){const r=(i,s,o)=>{const a=jJ[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Ly(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function HJ(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const v1=new Map;function qJ({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const h=c();o();const f=h.map(({args:g})=>g);f.length!==0&&t(f).then(g=>{i&&Array.isArray(g)&&g.sort(i);for(let m=0;m<h.length;m++){const{resolve:_}=h[m];_?.([g[m],g])}}).catch(g=>{for(let m=0;m<h.length;m++){const{reject:_}=h[m];_?.(g)}})},o=()=>v1.delete(e),a=()=>c().map(({args:h})=>h),c=()=>v1.get(e)||[],u=h=>v1.set(e,[...c(),h]);return{flush:o,async schedule(h){const{promise:f,resolve:g,reject:m}=HJ();return n?.([...a(),h])&&s(),c().length>0?(u({args:h,resolve:g,reject:m}),f):(u({args:h,resolve:g,reject:m}),setTimeout(s,r),f)}}}async function GB(t){return new Promise(e=>setTimeout(e,t))}const j_=256;let p0=j_,g0;function VJ(t=11){if(!g0||p0+t>j_*2){g0="",p0=0;for(let e=0;e<j_;e++)g0+=(256+Math.random()*256|0).toString(16).substring(1)}return g0.substring(p0,p0+++t)}const m0=new PJ(8192);function WJ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(m0.get(n))return m0.get(n);const r=t().finally(()=>m0.delete(n));return m0.set(n,r),r}function KJ(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const h=typeof e=="function"?e({count:a,error:u}):e;h&&await GB(h),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});s(u)}};o()})}function GJ(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=n;if(s?.exclude?.includes(u))throw new Nl(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new Nl(new Error("method not supported"),{method:u});const h=i?qB(`${c}.${zl(n)}`):void 0;return WJ(()=>KJ(async()=>{try{return await t(n)}catch(f){const g=f;switch(g.code){case jp.code:throw new jp(g);case Hp.code:throw new Hp(g);case qp.code:throw new qp(g,{method:n.method});case Vp.code:throw new Vp(g);case dh.code:throw new dh(g);case Wp.code:throw new Wp(g);case Kp.code:throw new Kp(g);case Gp.code:throw new Gp(g);case hh.code:throw new hh(g);case Nl.code:throw new Nl(g,{method:n.method});case fh.code:throw new fh(g);case Yp.code:throw new Yp(g);case Fl.code:throw new Fl(g);case Zp.code:throw new Zp(g);case Xp.code:throw new Xp(g);case Qp.code:throw new Qp(g);case Jp.code:throw new Jp(g);case eg.code:throw new eg(g);case tg.code:throw new tg(g);case ng.code:throw new ng(g);case rg.code:throw new rg(g);case ig.code:throw new ig(g);case sg.code:throw new sg(g);case og.code:throw new og(g);case ag.code:throw new ag(g);case 5e3:throw new Fl(g);default:throw f instanceof ys?f:new UJ(g)}}},{delay:({count:f,error:g})=>{if(g&&g instanceof sp){const m=g?.headers?.get("Retry-After");if(m?.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>YJ(f)}),{enabled:i,id:h})}}function YJ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===fh.code||t.code===dh.code:t instanceof sp&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function YB({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=VJ();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:GJ(r,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:c}}function lR(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=ZJ,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:u=4e3,timeout:h,...f})=>{let g=t,m=()=>{};const _=YB({key:n,name:r,async request({method:x,params:C}){let S;const T=async(I=0)=>{const P=g[I]({...f,chain:c,retryCount:0,timeout:h});try{const z=await P.request({method:x,params:C});return m({method:x,params:C,response:z,transport:P,status:"success"}),z}catch(z){if(m({error:z,method:x,params:C,transport:P,status:"error"}),s(z)||I===g.length-1||(S??=g.slice(I+1).some(W=>{const{include:L,exclude:V}=W({chain:c}).config.methods||{};return L?L.includes(x):V?!V.includes(x):!0}),!S))throw z;return T(I+1)}};return T()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:x=>m=x,transports:g.map(x=>x({chain:c,retryCount:0}))});if(i){const x=typeof i=="object"?i:{};XJ({chain:c,interval:x.interval??u,onTransports:C=>g=C,ping:x.ping,sampleCount:x.sampleCount,timeout:x.timeout,transports:g,weights:x.weights})}return _}}function ZJ(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===hh.code||t.code===Fl.code||WS.nodeMessage.test(t.message)||t.code===5e3))}function XJ({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,h=[],f=async()=>{const g=await Promise.all(o.map(async x=>{const C=x({chain:t,retryCount:0,timeout:s}),S=Date.now();let T,I;try{await(r?r({transport:C}):C.request({method:"net_listening"})),I=1}catch{I=0}finally{T=Date.now()}return{latency:T-S,success:I}}));h.push(g),h.length>i&&h.shift();const m=Math.max(...h.map(x=>Math.max(...x.map(({latency:C})=>C)))),_=o.map((x,C)=>{const S=h.map(W=>W[C].latency),I=1-S.reduce((W,L)=>W+L,0)/S.length/m,P=h.map(W=>W[C].success),z=P.reduce((W,L)=>W+L,0)/P.length;return z===0?[0,C]:[u*I+c*z,C]}).sort((x,C)=>C[0]-x[0]);n(_.map(([,x])=>o[x])),await GB(e),f()};f()}class QJ extends ys{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function JJ(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function eee(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const uR=eee();function tee(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=a;try{const f=await JJ(async({signal:m})=>{const _={...a,body:Array.isArray(r)?zl(r.map(T=>({jsonrpc:"2.0",id:T.id??uR.take(),...T}))):zl({jsonrpc:"2.0",id:r.id??uR.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(o>0?m:null)},x=new Request(t,_),C=await i?.(x,_)??{..._,url:t};return await fetch(C.url??t,C)},{errorInstance:new oR({body:r,url:t}),timeout:o,signal:!0});s&&await s(f);let g;if(f.headers.get("Content-Type")?.startsWith("application/json"))g=await f.json();else{g=await f.text();try{g=JSON.parse(g||"{}")}catch(m){if(f.ok)throw m;g={error:g}}}if(!f.ok)throw new sp({body:r,details:zl(g.error)||f.statusText,headers:f.headers,status:f.status,url:t});return g}catch(f){throw f instanceof sp||f instanceof oR?f:new sp({body:r,cause:f,url:t})}}}}function y0(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:g,timeout:m})=>{const{batchSize:_=1e3,wait:x=0}=typeof n=="object"?n:{},C=e.retryCount??g,S=m??e.timeout??1e4,T=t||f?.rpcUrls.default.http[0];if(!T)throw new QJ;const I=tee(T,{fetchOptions:r,onRequest:a,onResponse:c,timeout:S});return YB({key:i,methods:s,name:o,async request({method:P,params:z}){const W={method:P,params:z},{schedule:L}=qJ({id:T,wait:x,shouldSplitBatch(Y){return Y.length>_},fn:Y=>I.request({body:Y}),sort:(Y,ee)=>Y.id-ee.id}),V=async Y=>n?L(Y):[await I.request({body:Y})],[{error:q,result:X}]=await V(W);if(h)return{error:q,result:X};if(q)throw new VB({body:W,error:q,url:T});return X},retryCount:C,retryDelay:u,timeout:S,type:"http"},{fetchOptions:r,url:T})}}const id=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nee(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function H_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function gm(t,...e){if(!nee(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ree(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");H_(t.outputLen),H_(t.blockLen)}function zy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function iee(t,e){gm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function E1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ko(t,e){return t<<32-e|t>>>e}function see(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ZS(t){return typeof t=="string"&&(t=see(t)),gm(t),t}function oee(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];gm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class ZB{}function XB(t){const e=r=>t().update(ZS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function QB(t=32){if(id&&typeof id.getRandomValues=="function")return id.getRandomValues(new Uint8Array(t));if(id&&typeof id.randomBytes=="function")return Uint8Array.from(id.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function aee(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function cee(t,e,n){return t&e^~t&n}function lee(t,e,n){return t&e^t&n^e&n}class JB extends ZB{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=E1(this.buffer)}update(e){zy(this),e=ZS(e),gm(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=E1(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zy(this),iee(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,mh(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;aee(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=E1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const rc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ai=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),b0=BigInt(2**32-1),dR=BigInt(32);function uee(t,e=!1){return e?{h:Number(t&b0),l:Number(t>>dR&b0)}:{h:Number(t>>dR&b0)|0,l:Number(t&b0)|0}}function dee(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=uee(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const hR=(t,e,n)=>t>>>n,fR=(t,e,n)=>t<<32-n|e>>>n,sd=(t,e,n)=>t>>>n|e<<32-n,od=(t,e,n)=>t<<32-n|e>>>n,w0=(t,e,n)=>t<<64-n|e>>>n-32,v0=(t,e,n)=>t>>>n-32|e<<64-n;function ha(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const hee=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),fee=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,pee=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),gee=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,mee=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),yee=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,bee=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ic=new Uint32Array(64);class wee extends JB{constructor(e=32){super(64,e,8,!1),this.A=rc[0]|0,this.B=rc[1]|0,this.C=rc[2]|0,this.D=rc[3]|0,this.E=rc[4]|0,this.F=rc[5]|0,this.G=rc[6]|0,this.H=rc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)ic[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const g=ic[f-15],m=ic[f-2],_=ko(g,7)^ko(g,18)^g>>>3,x=ko(m,17)^ko(m,19)^m>>>10;ic[f]=x+ic[f-7]+_+ic[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){const g=ko(a,6)^ko(a,11)^ko(a,25),m=h+g+cee(a,c,u)+bee[f]+ic[f]|0,x=(ko(r,2)^ko(r,13)^ko(r,22))+lee(r,i,s)|0;h=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,s,o,a,c,u,h)}roundClean(){mh(ic)}destroy(){this.set(0,0,0,0,0,0,0,0),mh(this.buffer)}}const eD=dee(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),vee=eD[0],Eee=eD[1],sc=new Uint32Array(80),oc=new Uint32Array(80);class _ee extends JB{constructor(e=64){super(128,e,16,!1),this.Ah=ai[0]|0,this.Al=ai[1]|0,this.Bh=ai[2]|0,this.Bl=ai[3]|0,this.Ch=ai[4]|0,this.Cl=ai[5]|0,this.Dh=ai[6]|0,this.Dl=ai[7]|0,this.Eh=ai[8]|0,this.El=ai[9]|0,this.Fh=ai[10]|0,this.Fl=ai[11]|0,this.Gh=ai[12]|0,this.Gl=ai[13]|0,this.Hh=ai[14]|0,this.Hl=ai[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:g,Gh:m,Gl:_,Hh:x,Hl:C}=this;return[e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,C]}set(e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,C){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=m|0,this.Gl=_|0,this.Hh=x|0,this.Hl=C|0}process(e,n){for(let I=0;I<16;I++,n+=4)sc[I]=e.getUint32(n),oc[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const P=sc[I-15]|0,z=oc[I-15]|0,W=sd(P,z,1)^sd(P,z,8)^hR(P,z,7),L=od(P,z,1)^od(P,z,8)^fR(P,z,7),V=sc[I-2]|0,q=oc[I-2]|0,X=sd(V,q,19)^w0(V,q,61)^hR(V,q,6),Y=od(V,q,19)^v0(V,q,61)^fR(V,q,6),ee=pee(L,Y,oc[I-7],oc[I-16]),j=gee(ee,W,X,sc[I-7],sc[I-16]);sc[I]=j|0,oc[I]=ee|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:g,Fh:m,Fl:_,Gh:x,Gl:C,Hh:S,Hl:T}=this;for(let I=0;I<80;I++){const P=sd(f,g,14)^sd(f,g,18)^w0(f,g,41),z=od(f,g,14)^od(f,g,18)^v0(f,g,41),W=f&m^~f&x,L=g&_^~g&C,V=mee(T,z,L,Eee[I],oc[I]),q=yee(V,S,P,W,vee[I],sc[I]),X=V|0,Y=sd(r,i,28)^w0(r,i,34)^w0(r,i,39),ee=od(r,i,28)^v0(r,i,34)^v0(r,i,39),j=r&s^r&a^s&a,w=i&o^i&c^o&c;S=x|0,T=C|0,x=m|0,C=_|0,m=f|0,_=g|0,{h:f,l:g}=ha(u|0,h|0,q|0,X|0),u=a|0,h=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const b=hee(X,ee,w);r=fee(b,q,Y,j),i=b|0}({h:r,l:i}=ha(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ha(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ha(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=ha(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=ha(this.Eh|0,this.El|0,f|0,g|0),{h:m,l:_}=ha(this.Fh|0,this.Fl|0,m|0,_|0),{h:x,l:C}=ha(this.Gh|0,this.Gl|0,x|0,C|0),{h:S,l:T}=ha(this.Hh|0,this.Hl|0,S|0,T|0),this.set(r,i,s,o,a,c,u,h,f,g,m,_,x,C,S,T)}roundClean(){mh(sc,oc)}destroy(){mh(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const tD=XB(()=>new wee),xee=XB(()=>new _ee),pR=tD,_1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return $J(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},gR={async getMyTokensWithBalance(t){const e=Ve.state.address,n=Z.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await ct.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){try{const n=_1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await it.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await it.walletGetAssets({account:t,chainFilter:[n]});return _1.isWalletGetAssetsResponse(i)?(i[n]||[]).map(o=>_1.createBalance(o,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:Z.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Ht=vn({tokenBalances:[],loading:!1}),See={state:Ht,subscribe(t){return ti(Ht,()=>t(Ht))},subscribeKey(t,e){return yi(Ht,t,e)},setToken(t){t&&(Ht.token=Vc(t))},setTokenAmount(t){Ht.sendTokenAmount=t},setReceiverAddress(t){Ht.receiverAddress=t},setReceiverProfileImageUrl(t){Ht.receiverProfileImageUrl=t},setReceiverProfileName(t){Ht.receiverProfileName=t},setNetworkBalanceInUsd(t){Ht.networkBalanceInUSD=t},setLoading(t){Ht.loading=t},async sendToken(){try{switch(Lt.setLoading(!0),Z.state.activeCaipNetwork?.chainNamespace){case"eip155":await Lt.sendEvmToken();return;case"solana":await Lt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Lt.setLoading(!1)}},async sendEvmToken(){const t=Z.state.activeChain,e=Ve.state.preferredAccountTypes?.[t];if(!Lt.state.sendTokenAmount||!Lt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Lt.state.token)throw new Error("A token is required");Lt.state.token?.address?(yn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Jr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Lt.state.token.address,amount:Lt.state.sendTokenAmount,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}),await Lt.sendERC20Token({receiverAddress:Lt.state.receiverAddress,tokenAddress:Lt.state.token.address,sendTokenAmount:Lt.state.sendTokenAmount,decimals:Lt.state.token.quantity.decimals})):(yn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Jr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Lt.state.token.symbol||"",amount:Lt.state.sendTokenAmount,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}),await Lt.sendNativeToken({receiverAddress:Lt.state.receiverAddress,sendTokenAmount:Lt.state.sendTokenAmount,decimals:Lt.state.token.quantity.decimals}))},async fetchTokenBalance(t){Ht.loading=!0;const e=Z.state.activeCaipNetwork?.caipNetworkId,n=Z.state.activeCaipNetwork?.chainNamespace,r=Z.state.activeCaipAddress,i=r?tt.getPlainAddress(r):void 0;if(Ht.lastRetry&&!tt.isAllowedRetry(Ht.lastRetry,30*Or.ONE_SEC_MS))return Ht.loading=!1,[];try{if(i&&e&&n){const s=await gR.getMyTokensWithBalance();return Ht.tokenBalances=s,Ht.lastRetry=void 0,s}}catch(s){Ht.lastRetry=Date.now(),t?.(s),uo.showError("Token Balance Unavailable")}finally{Ht.loading=!1}return[]},fetchNetworkBalance(){if(Ht.tokenBalances.length===0)return;const t=gR.mapBalancesToSwapTokens(Ht.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Z.getActiveNetworkTokenAddress());e&&(Ht.networkBalanceInUSD=e?xM.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Tt.pushTransactionStack({view:null,goBack:!1});const e=t.receiverAddress,n=Ve.state.address,r=it.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await it.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),yn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ve.state.preferredAccountTypes?.eip155===Jr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Lt.state.token?.symbol||"",amount:t.sendTokenAmount,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}),it._getClient()?.updateBalance("eip155"),Lt.resetSend()},async sendERC20Token(t){Tt.pushTransactionStack({view:"Account",goBack:!1});const e=it.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Ve.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=tt.getPlainAddress(t.tokenAddress);await it.writeContract({fromAddress:Ve.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:TM.getERC20Abi(n),chainNamespace:"eip155"}),Lt.resetSend()}},async sendSolanaToken(){if(!Lt.state.sendTokenAmount||!Lt.state.receiverAddress)throw new Error("An amount and receiver address are required");Tt.pushTransactionStack({view:"Account",goBack:!1}),await it.sendTransaction({chainNamespace:"solana",to:Lt.state.receiverAddress,value:Lt.state.sendTokenAmount}),it._getClient()?.updateBalance("solana"),Lt.resetSend()},resetSend(){Ht.token=void 0,Ht.sendTokenAmount=void 0,Ht.receiverAddress=void 0,Ht.receiverProfileImageUrl=void 0,Ht.receiverProfileName=void 0,Ht.loading=!1,Ht.tokenBalances=[]}},Lt=Ys(See),x1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},E0={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Oe=vn({chains:fM(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Aee={state:Oe,subscribe(t){return ti(Oe,()=>{t(Oe)})},subscribeKey(t,e){return yi(Oe,t,e)},subscribeChainProp(t,e,n){let r;return ti(Oe.chains,()=>{const i=n||Oe.activeChain;if(i){const s=Oe.chains.get(i)?.[t];r!==s&&(r=s,e(s))}})},initialize(t,e,n){const{chainId:r,namespace:i}=De.getActiveNetworkProps(),s=e?.find(h=>h.id.toString()===r?.toString()),a=t.find(h=>h?.namespace===i)||t?.[0],c=t.map(h=>h.namespace).filter(h=>h!==void 0),u=we.state.enableEmbedded?new Set([...c]):new Set([...e?.map(h=>h.chainNamespace)??[]]);(t?.length===0||!a)&&(Oe.noAdapters=!0),Oe.noAdapters||(Oe.activeChain=a?.namespace,Oe.activeCaipNetwork=s,Z.setChainNetworkData(a?.namespace,{caipNetwork:s}),Oe.activeChain&&Ho.set({activeChain:a?.namespace})),u.forEach(h=>{const f=e?.filter(g=>g.chainNamespace===h);Z.state.chains.set(h,{namespace:h,networkState:vn({...E0,caipNetwork:f?.[0]}),accountState:vn(x1),caipNetworks:f??[],...n}),Z.setRequestedCaipNetworks(f??[],h)})},removeAdapter(t){if(Oe.activeChain===t){const e=Array.from(Oe.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&Z.setActiveCaipNetwork(n)}}Oe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Oe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...E0,caipNetwork:r[0]},accountState:x1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),Z.setRequestedCaipNetworks(r?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Oe.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),Oe.chains.set(t.chainNamespace,{...e,caipNetworks:n}),Z.setRequestedCaipNetworks(n,t.chainNamespace),Ue.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=Oe.chains.get(t);if(n){const r=Oe.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(s=>s.id!==e)||[]];r&&n?.caipNetworks?.[0]&&Z.setActiveCaipNetwork(n.caipNetworks[0]),Oe.chains.set(t,{...n,caipNetworks:i}),Z.setRequestedCaipNetworks(i||[],t),i.length===0&&Ue.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Oe.chains.get(t);n&&(n.networkState={...n.networkState||E0,...e},Oe.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Oe.chains.get(t);if(r){const i={...r.accountState||x1,...e};Oe.chains.set(t,{...r,accountState:i}),(Oe.chains.size===1||Oe.activeChain===t)&&(e.caipAddress&&(Oe.activeCaipAddress=e.caipAddress),Ve.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Oe.chains.get(t);if(n){const r={...n.networkState||E0,...e};Oe.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){Z.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Ue.removeConnectorId(n)},setActiveNamespace(t){Oe.activeChain=t;const e=t?Oe.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(Oe.activeCaipAddress=e?.accountState?.caipAddress,Oe.activeCaipNetwork=n,Z.setChainNetworkData(t,{caipNetwork:n}),De.setActiveCaipNetworkId(n?.caipNetworkId),Ho.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Oe.activeChain!==t.chainNamespace&&Z.setIsSwitchingNamespace(!0);const e=Oe.chains.get(t.chainNamespace);Oe.activeChain=t.chainNamespace,Oe.activeCaipNetwork=t,Z.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Oe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Oe.activeCaipAddress=void 0,Z.setAccountProp("caipAddress",Oe.activeCaipAddress,t.chainNamespace),e&&Ve.replaceState(e.accountState),Lt.resetSend(),Ho.set({activeChain:Oe.activeChain,selectedNetworkId:Oe.activeCaipNetwork?.caipNetworkId}),De.setActiveCaipNetworkId(t.caipNetworkId),!Z.checkIfSupportedNetwork(t.chainNamespace)&&we.state.enableNetworkSwitch&&!we.state.allowUnsupportedChain&&!it.state.wcBasic&&Z.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Oe.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==Z.state.activeChain,n=Z.getNetworkData(t)?.caipNetwork,r=Z.getCaipNetworkByNamespace(t,n?.id);e&&r&&await Z.switchActiveNetwork(r)},async switchActiveNetwork(t){!Z.state.chains.get(Z.state.activeChain)?.caipNetworks?.some(i=>i.id===Oe.activeCaipNetwork?.id)&&Tt.goBack();const r=Z.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),yn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Oe.activeChain,n=Oe.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Oe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Oe.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){let n=Oe.activeChain;if(e&&(n=e),!n)return;const r=Oe.chains.get(n)?.accountState;if(r)return r[t]},getNetworkProp(t,e){const n=Oe.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Oe.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return tt.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Oe.chains.forEach(e=>{const n=Z.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){Z.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=Z.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));Ue.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Oe.chains.forEach(e=>{const n=Z.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Oe.activeCaipNetwork},getActiveCaipAddress(){return Oe.activeCaipAddress},getApprovedCaipNetworkIds(t){return Oe.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await Z.getNetworkControllerClient()?.getApprovedCaipNetworksData();Z.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Oe.activeCaipNetwork,r=Z.getRequestedCaipNetworks(t);return r.length?r?.some(i=>i.id===n?.id):!0},checkIfSupportedChainId(t){return Oe.activeChain?Z.getRequestedCaipNetworks(Oe.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){Z.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=n3.caipNetworkIdToNumber(Oe.activeCaipNetwork?.caipNetworkId),e=Oe.activeChain;return!e||!t?!1:!!Z.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},getActiveNetworkTokenAddress(){const t=Oe.activeCaipNetwork?.chainNamespace||"eip155",e=Oe.activeCaipNetwork?.id||1,n=Or.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){or.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Oe.activeCaipNetwork;return!!(t?.chainNamespace&&Or.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){Z.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Oe.activeCaipAddress=void 0,Z.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Ue.removeConnectorId(e)},async disconnect(t){const e=WM(t);try{Lt.resetSend();const n=await Promise.allSettled(e.map(async([i,s])=>{try{const{caipAddress:o}=Z.getAccountData(i)||{};o&&s.connectionControllerClient?.disconnect&&await s.connectionControllerClient.disconnect(i),Z.resetAccount(i),Z.resetNetwork(i)}catch(o){throw new Error(`Failed to disconnect chain ${i}: ${o.message}`)}}));it.resetWcConnection();const r=n.filter(i=>i.status==="rejected");if(r.length>0)throw new Error(r.map(i=>i.reason.message).join(", "));De.deleteConnectedSocialProvider(),t?Ue.removeConnectorId(t):Ue.resetConnectorIds(),yn.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),yn.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Oe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Oe.chains.forEach(n=>{Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?Oe.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){return t?Z.state.chains.get(t)?.accountState:Ve.state},getNetworkData(t){const e=t||Oe.activeChain;if(e)return Z.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=Z.state.chains.get(t),r=n?.caipNetworks?.find(i=>i.id===e);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=Ue.state.filterByNamespace;return(t?[Oe.chains.get(t)]:Array.from(Oe.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?Z.getRequestedCaipNetworks(t):Z.getAllRequestedCaipNetworks()}},Z=Ys(Aee),Cee={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},nD=tt.getBlockchainApiUrl(),Bi=vn({clientId:null,api:new Xg({baseUrl:nD,clientId:null}),supportedChains:{http:[],ws:[]}}),ct={state:Bi,async get(t){const{st:e,sv:n}=ct.getSdkProperties(),r=we.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return Bi.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=we.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Bi.supportedChains.http.length||await ct.getSupportedNetworks()}catch{return!1}return Bi.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await ct.get({path:"v1/supported-chains"});return Bi.supportedChains=t,t}catch{return Bi.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await ct.isNetworkSupported(e))return{avatar:"",name:""};const r=De.getIdentityFromCacheForAddress(t);if(r)return r;const i=await ct.get({path:`/v1/identity/${t}`,params:{sender:Z.state.activeCaipAddress?tt.getPlainAddress(Z.state.activeCaipAddress):void 0}});return De.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?Bi.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:we.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=ct.getSdkProperties();if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return ct.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Bi.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Or.CONVERT_SLIPPAGE_TOLERANCE},projectId:we.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:i}=ct.getSdkProperties();if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ct.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){const{st:r,sv:i}=ct.getSdkProperties();if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))return uo.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=De.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await ct.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return De.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/profile/reverse/${t}`,params:{sender:Ve.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?Bi.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?(await Bi.api.post({path:"/v1/generators/onrampurl",params:{projectId:we.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await ct.get({path:"/v1/onramp/options"})}catch{return Cee}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?await Bi.api.post({path:"/v1/onramp/quote",params:{projectId:we.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?Bi.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:we.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Bi.clientId=t,Bi.api=new Xg({baseUrl:nD,clientId:t})}},Cs=vn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Tee={state:Cs,replaceState(t){t&&Object.assign(Cs,Vc(t))},subscribe(t){return Z.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return Z.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){Z.setAccountProp("status",t,e)},getCaipAddress(t){return Z.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?tt.getPlainAddress(t):void 0;e===Z.state.activeChain&&(Z.state.activeCaipAddress=t),Z.setAccountProp("caipAddress",t,e),Z.setAccountProp("address",n,e)},setBalance(t,e,n){Z.setAccountProp("balance",t,n),Z.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){Z.setAccountProp("profileName",t,e)},setProfileImage(t,e){Z.setAccountProp("profileImage",t,e)},setUser(t,e){Z.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){Z.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){Z.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){Z.setAccountProp("currentTab",t,Z.state.activeChain)},setTokenBalance(t,e){t&&Z.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){Z.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){Z.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=Z.getAccountProp("addressLabels",n)||new Map;r.set(t,e),Z.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=Z.getAccountProp("addressLabels",e)||new Map;n.delete(t),Z.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){Z.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){Z.setAccountProp("preferredAccountTypes",{...Cs.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Cs.preferredAccountTypes=t},setSocialProvider(t,e){t&&Z.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){Z.setAccountProp("socialWindow",t?Vc(t):void 0,e)},setFarcasterUrl(t,e){Z.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){Cs.balanceLoading=!0;const e=Z.state.activeCaipNetwork?.caipNetworkId,n=Z.state.activeCaipNetwork?.chainNamespace,r=Z.state.activeCaipAddress,i=r?tt.getPlainAddress(r):void 0;if(Cs.lastRetry&&!tt.isAllowedRetry(Cs.lastRetry,30*Or.ONE_SEC_MS))return Cs.balanceLoading=!1,[];try{if(i&&e&&n){const o=(await ct.getBalance(i,e)).balances.filter(a=>a.quantity.decimals!=="0");return Ve.setTokenBalance(o,n),Cs.lastRetry=void 0,Cs.balanceLoading=!1,o}}catch(s){Cs.lastRetry=Date.now(),t?.(s),uo.showError("Token Balance Unavailable")}finally{Cs.balanceLoading=!1}return[]},resetAccount(t){Z.resetAccount(t)}},Ve=Ys(Tee),Di=vn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Iee={state:Di,subscribe(t){return ti(Di,()=>t(Di))},subscribeKey(t,e){return yi(Di,t,e)},async open(t){const e=Ve.state.status==="connected";it.state.wcBasic?rt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await rt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t?.namespace?(await Z.switchActiveNamespace(t.namespace),or.setLoading(!0,t.namespace)):or.setLoading(!0),Ue.setFilterByNamespace(t?.namespace);const n=Z.getAccountData(t?.namespace)?.caipAddress,r=Z.state.noAdapters;we.state.manualWCControl||r&&!n?tt.isMobile()?Tt.reset("AllWallets"):Tt.reset("ConnectingWalletConnectBasic"):t?.view?Tt.reset(t.view,t.data):n?Tt.reset("Account"):Tt.reset("Connect"),Di.open=!0,Ho.set({open:!0}),yn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(t=!1){if(t||Tt.state.view!=="ApproveTransaction"){const e=we.state.enableEmbedded,n=!!Z.state.activeCaipAddress;Di.open&&yn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:n}}),Di.open=!1,or.clearLoading(),e?n?Tt.replace("Account"):Tt.push("Connect"):Ho.set({open:!1})}it.resetUri()},setLoading(t,e){e&&Di.loadingNamespaceMap.set(e,t),Di.loading=t,Ho.set({loading:t})},clearLoading(){Di.loadingNamespaceMap.clear(),Di.loading=!1},shake(){Di.shake||(Di.shake=!0,setTimeout(()=>{Di.shake=!1},500))}},or=Ys(Iee),mR=2147483648,Ree={convertEVMChainIdToCoinType(t){if(t>=mR)throw new Error("Invalid chainId");return(mR|t)>>>0}},Ts=vn({suggestions:[],loading:!1}),kee={state:Ts,subscribe(t){return ti(Ts,()=>t(Ts))},subscribeKey(t,e){return yi(Ts,t,e)},async resolveName(t){try{return await ct.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await ct.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Ts.loading=!0,Ts.suggestions=[];const e=await ct.getEnsNameSuggestions(t);return Ts.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],Ts.suggestions}catch(e){const n=ap.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{Ts.loading=!1}},async getNamesForAddress(t){try{if(!Z.state.activeCaipNetwork)return[];const n=De.getEnsFromCacheForAddress(t);if(n)return n;const r=await ct.reverseLookupEnsName({address:t});return De.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=ap.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=Z.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Ve.state.address,r=Ue.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");Ts.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Tt.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Ts.loading=!1}});const s=await it.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=Ree.convertEVMChainIdToCoinType(Number(o));await ct.registerEnsName({coinType:a,address:n,signature:s,message:i}),Ve.setProfileName(t,e.chainNamespace),Tt.replace("RegisterAccountNameSuccess")}catch(i){const s=ap.parseEnsApiError(i,`Error registering name ${t}`);throw Tt.replace("RegisterAccountName"),new Error(s)}finally{Ts.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},ap=Ys(kee);var rD={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS=Symbol.for("react.transitional.element"),Nee=Symbol.for("react.portal"),Oee=Symbol.for("react.fragment"),Bee=Symbol.for("react.strict_mode"),Dee=Symbol.for("react.profiler"),Pee=Symbol.for("react.consumer"),$ee=Symbol.for("react.context"),Mee=Symbol.for("react.forward_ref"),Uee=Symbol.for("react.suspense"),Lee=Symbol.for("react.memo"),iD=Symbol.for("react.lazy"),yR=Symbol.iterator;function zee(t){return t===null||typeof t!="object"?null:(t=yR&&t[yR]||t["@@iterator"],typeof t=="function"?t:null)}var sD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oD=Object.assign,aD={};function Vh(t,e,n){this.props=t,this.context=e,this.refs=aD,this.updater=n||sD}Vh.prototype.isReactComponent={};Vh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cD(){}cD.prototype=Vh.prototype;function QS(t,e,n){this.props=t,this.context=e,this.refs=aD,this.updater=n||sD}var JS=QS.prototype=new cD;JS.constructor=QS;oD(JS,Vh.prototype);JS.isPureReactComponent=!0;var bR=Array.isArray,Dn={H:null,A:null,T:null,S:null},lD=Object.prototype.hasOwnProperty;function eA(t,e,n,r,i,s){return n=s.ref,{$$typeof:XS,type:t,key:e,ref:n!==void 0?n:null,props:s}}function Fee(t,e){return eA(t.type,e,void 0,void 0,void 0,t.props)}function tA(t){return typeof t=="object"&&t!==null&&t.$$typeof===XS}function jee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wR=/\/+/g;function S1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jee(""+t.key):e.toString(36)}function vR(){}function Hee(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(vR,vR):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function fd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case XS:case Nee:o=!0;break;case iD:return o=t._init,fd(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+S1(t,0):r,bR(i)?(n="",o!=null&&(n=o.replace(wR,"$&/")+"/"),fd(i,e,n,"",function(u){return u})):i!=null&&(tA(i)&&(i=Fee(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(wR,"$&/")+"/")+o)),e.push(i)),1;o=0;var a=r===""?".":r+":";if(bR(t))for(var c=0;c<t.length;c++)r=t[c],s=a+S1(r,c),o+=fd(r,e,n,s,i);else if(c=zee(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=a+S1(r,c++),o+=fd(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return fd(Hee(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function _0(t,e,n){if(t==null)return t;var r=[],i=0;return fd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function qee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ER=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vee(){}vt.Children={map:_0,forEach:function(t,e,n){_0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _0(t,function(){e++}),e},toArray:function(t){return _0(t,function(e){return e})||[]},only:function(t){if(!tA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=Vh;vt.Fragment=Oee;vt.Profiler=Dee;vt.PureComponent=QS;vt.StrictMode=Bee;vt.Suspense=Uee;vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dn;vt.act=function(){throw Error("act(...) is not supported in production builds of React.")};vt.cache=function(t){return function(){return t.apply(null,arguments)}};vt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=oD({},t.props),i=t.key,s=void 0;if(e!=null)for(o in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!lD.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}return eA(t.type,i,void 0,void 0,s,r)};vt.createContext=function(t){return t={$$typeof:$ee,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Pee,_context:t},t};vt.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)lD.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return eA(t,s,void 0,void 0,null,i)};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:Mee,render:t}};vt.isValidElement=tA;vt.lazy=function(t){return{$$typeof:iD,_payload:{_status:-1,_result:t},_init:qee}};vt.memo=function(t,e){return{$$typeof:Lee,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=Dn.T,n={};Dn.T=n;try{var r=t(),i=Dn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Vee,ER)}catch(s){ER(s)}finally{Dn.T=e}};vt.unstable_useCacheRefresh=function(){return Dn.H.useCacheRefresh()};vt.use=function(t){return Dn.H.use(t)};vt.useActionState=function(t,e,n){return Dn.H.useActionState(t,e,n)};vt.useCallback=function(t,e){return Dn.H.useCallback(t,e)};vt.useContext=function(t){return Dn.H.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t,e){return Dn.H.useDeferredValue(t,e)};vt.useEffect=function(t,e){return Dn.H.useEffect(t,e)};vt.useId=function(){return Dn.H.useId()};vt.useImperativeHandle=function(t,e,n){return Dn.H.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return Dn.H.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return Dn.H.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return Dn.H.useMemo(t,e)};vt.useOptimistic=function(t,e){return Dn.H.useOptimistic(t,e)};vt.useReducer=function(t,e,n){return Dn.H.useReducer(t,e,n)};vt.useRef=function(t){return Dn.H.useRef(t)};vt.useState=function(t){return Dn.H.useState(t)};vt.useSyncExternalStore=function(t,e,n){return Dn.H.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return Dn.H.useTransition()};vt.version="19.0.0";rD.exports=vt;var It=rD.exports;const be=ws(It);var uD={exports:{}},dD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=It;function Wee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kee=typeof Object.is=="function"?Object.is:Wee,Gee=yh.useState,Yee=yh.useEffect,Zee=yh.useLayoutEffect,Xee=yh.useDebugValue;function Qee(t,e){var n=e(),r=Gee({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Zee(function(){i.value=n,i.getSnapshot=e,A1(i)&&s({inst:i})},[t,n,e]),Yee(function(){return A1(i)&&s({inst:i}),t(function(){A1(i)&&s({inst:i})})},[t]),Xee(n),n}function A1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kee(t,n)}catch{return!0}}function Jee(t,e){return e()}var ete=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jee:Qee;dD.useSyncExternalStore=yh.useSyncExternalStore!==void 0?yh.useSyncExternalStore:ete;uD.exports=dD;var tte=uD.exports;const nte=ws(tte);var rte={};const{use:_R}=be,{useSyncExternalStore:ite}=nte,ste=(t,e)=>{const n=It.useRef();It.useEffect(()=>{n.current=uM(t,e)}),It.useDebugValue(n.current)},ote=new WeakMap;function nA(t,e){const r=It.useRef(),i=It.useRef();let s=!0;const o=ite(It.useCallback(u=>{const h=ti(t,u);return u(),h},[t,void 0]),()=>{const u=Jl(t,_R);try{if(!s&&r.current&&i.current&&!t3(r.current,u,i.current,new WeakMap))return r.current}catch{}return u},()=>Jl(t,_R));s=!1;const a=new WeakMap;It.useEffect(()=>{r.current=o,i.current=a}),(rte?"production":void 0)!=="production"&&ste(o,a);const c=It.useMemo(()=>new WeakMap,[]);return e3(o,a,c,ote)}function hD(t){const e=nA(Z.state),n=e.activeChain;if(!n)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const r=e.chains.get(n)?.accountState,i=Ue.getAuthConnector(n),s=De.getConnectedConnectorId(n);return{allAccounts:r?.allAccounts||[],caipAddress:r?.caipAddress,address:tt.getPlainAddress(r?.caipAddress),isConnected:!!r?.caipAddress,status:r?.status,embeddedWalletInfo:i&&s===Ce.CONNECTOR_ID.AUTH?{user:r?.user?{...r.user,username:De.getConnectedSocialUsername()}:void 0,authProvider:r?.socialProvider||"email",accountType:r?.preferredAccountTypes?.[n],isSmartAccountDeployed:!!r?.smartAccountDeployed}:void 0}}function ate(){async function t(e){await it.disconnect(e?.namespace)}return{disconnect:t}}const gn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ua={ConnectorExplorerIds:{[Ce.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ce.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ce.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ce.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ce.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[gn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[gn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[gn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[gn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[gn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[gn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[gn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[gn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[gn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[gn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[gn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ce.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ce.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ce.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ce.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ce.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ce.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ce.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ce.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ce.CONNECTOR_ID.COINBASE]:"Coinbase",[Ce.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ce.CONNECTOR_ID.LEDGER]:"Ledger",[Ce.CONNECTOR_ID.SAFE]:"Safe"}},gw={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${gn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()}},cte=new AbortController,co={EmbeddedWalletAbortController:cte,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${lte()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function lte(){return typeof window<"u"}const ute={createLogger(t,e="error"){const n=Mh({level:e}),{logger:r}=wS({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},dte="rpc.walletconnect.org";function xR(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const C1=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],pd={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===dte}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ce.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ce.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return C1.includes(e)?xR(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(t,s,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,u=r?.[s]?.map(g=>g.url)||[],h=[...u,a],f=[...u];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ua.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:h},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>pd.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(i=>{r.push(y0(i.url,i.config))}),C1.includes(t.caipNetworkId)&&r.push(y0(xR(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{r.push(y0(i))}),lR(r)},extendWagmiTransports(t,e,n){if(C1.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return lR([n,y0(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ce.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=De.getActiveCaipNetworkId(),n=Z.getAllRequestedCaipNetworks(),r=Array.from(Z.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}},Fy={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Pi=vn({providers:{...Fy},providerIds:{...Fy}}),qt={state:Pi,subscribeKey(t,e){return yi(Pi,t,e)},subscribe(t){return ti(Pi,()=>{t(Pi)})},subscribeProviders(t){return ti(Pi.providers,()=>t(Pi.providers))},setProvider(t,e){e&&(Pi.providers[t]=Vc(e))},getProvider(t){return Pi.providers[t]},setProviderId(t,e){e&&(Pi.providerIds[t]=e)},getProviderId(t){if(t)return Pi.providerIds[t]},reset(){Pi.providers={...Fy},Pi.providerIds={...Fy}},resetChain(t){Pi.providers[t]=void 0,Pi.providerIds[t]=void 0}};var Su={};Su.byteLength=pte;Su.toByteArray=mte;Su.fromByteArray=wte;var Mo=[],Bs=[],hte=typeof Uint8Array<"u"?Uint8Array:Array,T1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ad=0,fte=T1.length;ad<fte;++ad)Mo[ad]=T1[ad],Bs[T1.charCodeAt(ad)]=ad;Bs[45]=62;Bs[95]=63;function fD(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function pte(t){var e=fD(t),n=e[0],r=e[1];return(n+r)*3/4-r}function gte(t,e,n){return(e+n)*3/4-n}function mte(t){var e,n=fD(t),r=n[0],i=n[1],s=new hte(gte(t,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=Bs[t.charCodeAt(c)]<<18|Bs[t.charCodeAt(c+1)]<<12|Bs[t.charCodeAt(c+2)]<<6|Bs[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Bs[t.charCodeAt(c)]<<2|Bs[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Bs[t.charCodeAt(c)]<<10|Bs[t.charCodeAt(c+1)]<<4|Bs[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function yte(t){return Mo[t>>18&63]+Mo[t>>12&63]+Mo[t>>6&63]+Mo[t&63]}function bte(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(yte(r));return i.join("")}function wte(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(bte(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Mo[e>>2]+Mo[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Mo[e>>10]+Mo[e>>4&63]+Mo[e<<2&63]+"=")),i.join("")}var Wh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Wh.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,h=-7,f=n?i-1:0,g=n?-1:1,m=t[e+f];for(f+=g,s=m&(1<<-h)-1,m>>=-h,h+=a;h>0;s=s*256+t[e+f],f+=g,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=o*256+t[e+f],f+=g,h-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(m?-1:1)*o*Math.pow(2,s-r)};Wh.write=function(t,e,n,r,i,s){var o,a,c,u=s*8-i-1,h=(1<<u)-1,f=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,_=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=g/c:e+=g*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=h?(a=0,o=h):o+f>=1?(a=(e*c-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=_,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+m]=o&255,m+=_,o/=256,u-=8);t[n+m-_]|=x*128};const SR={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Hr={set(t,e){us.isClient&&localStorage.setItem(`${He.STORAGE_KEY}${t}`,e)},get(t){return us.isClient?localStorage.getItem(`${He.STORAGE_KEY}${t}`):null},delete(t,e){us.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${He.STORAGE_KEY}${t}`))}},x0=30*1e3,us={checkIfAllowedToTriggerEmail(){const t=Hr.get(He.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<x0){const n=Math.ceil((x0-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Hr.get(He.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<x0)return Math.ceil((x0-e)/1e3)}return 0},checkIfRequestExists(t){return Jr.NOT_SAFE_RPC_METHODS.includes(t.method)||Jr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(SR.transactionHash)||t?.match(SR.signedMessage))?He.RPC_RESPONSE_TYPE_TX:He.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Jr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var $t;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})($t||($t={}));var q_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(q_||(q_={}));const $e=$t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yc=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Ee=$t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),vte=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class mo extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,$t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}mo.create=t=>new mo(t);const cg=(t,e)=>{let n;switch(t.code){case Ee.invalid_type:t.received===$e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,$t.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${$t.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:n="Invalid input";break;case Ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${$t.joinValues(t.options)}`;break;case Ee.invalid_enum_value:n=`Invalid enum value. Expected ${$t.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:n="Invalid function arguments";break;case Ee.invalid_return_type:n="Invalid function return type";break;case Ee.invalid_date:n="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:$t.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ee.custom:n="Invalid input";break;case Ee.invalid_intersection_types:n="Intersection results could not be merged";break;case Ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,$t.assertNever(t)}return{message:n}};let pD=cg;function Ete(t){pD=t}function jy(){return pD}const Hy=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},_te=[];function Fe(t,e){const n=Hy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,jy(),cg].filter(r=>!!r)});t.common.issues.push(n)}class mi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ut;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return mi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ut;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ut=Object.freeze({status:"aborted"}),gD=t=>({status:"dirty",value:t}),Ti=t=>({status:"valid",value:t}),V_=t=>t.status==="aborted",W_=t=>t.status==="dirty",lg=t=>t.status==="valid",qy=t=>typeof Promise<"u"&&t instanceof Promise;var Xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Xe||(Xe={}));class Go{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AR=(t,e)=>{if(lg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new mo(t.common.issues);return this._error=n,this._error}}};function pt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class wt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return yc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:yc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mi,ctx:{common:e.parent.common,data:e.data,parsedType:yc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(qy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yc(e)},s=this._parseSync({data:e,path:i.path,parent:i});return AR(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yc(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(qy(i)?i:Promise.resolve(i));return AR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ee.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Eo({schema:this,typeName:ot.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return La.create(this,this._def)}nullable(){return ou.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yo.create(this,this._def)}promise(){return wh.create(this,this._def)}or(e){return fg.create([this,e],this._def)}and(e){return pg.create(this,e,this._def)}transform(e){return new Eo({...pt(this._def),schema:this,typeName:ot.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wg({...pt(this._def),innerType:this,defaultValue:n,typeName:ot.ZodDefault})}brand(){return new yD({typeName:ot.ZodBranded,type:this,...pt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Gy({...pt(this._def),innerType:this,catchValue:n,typeName:ot.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mm.create(this,e)}readonly(){return Zy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xte=/^c[^\s-]{8,}$/i,Ste=/^[a-z][a-z0-9]*$/,Ate=/^[0-9A-HJKMNP-TV-Z]{26}$/,Cte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tte=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ite="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let I1;const Rte=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,kte=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Nte=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ote(t,e){return!!((e==="v4"||!e)&&Rte.test(t)||(e==="v6"||!e)&&kte.test(t))}class go extends wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.string,received:s.parsedType}),ut}const r=new mi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Fe(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Fe(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Tte.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"email",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")I1||(I1=new RegExp(Ite,"u")),I1.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Cte.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")xte.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Ste.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Ate.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Fe(i,{validation:"url",code:Ee.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Nte(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Ote(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),r.dirty()):$t.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ee.invalid_string,...Xe.errToObj(r)})}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Xe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...Xe.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Xe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Xe.errToObj(n)})}nonempty(e){return this.min(1,Xe.errToObj(e))}trim(){return new go({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new go({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new go({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}go.create=t=>{var e;return new go({checks:[],typeName:ot.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pt(t)})};function Bte(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Wc extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.number,received:s.parsedType}),ut}let r;const i=new mi;for(const s of this._def.checks)s.kind==="int"?$t.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Bte(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.not_finite,message:s.message}),i.dirty()):$t.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Xe.toString(n))}setLimit(e,n,r,i){return new Wc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Xe.toString(i)}]})}_addCheck(e){return new Wc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$t.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Wc.create=t=>new Wc({checks:[],typeName:ot.ZodNumber,coerce:t?.coerce||!1,...pt(t)});class Kc extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.bigint,received:s.parsedType}),ut}let r;const i=new mi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):$t.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Xe.toString(n))}setLimit(e,n,r,i){return new Kc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Xe.toString(i)}]})}_addCheck(e){return new Kc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Kc.create=t=>{var e;return new Kc({checks:[],typeName:ot.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pt(t)})};class ug extends wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.boolean,received:r.parsedType}),ut}return Ti(e.data)}}ug.create=t=>new ug({typeName:ot.ZodBoolean,coerce:t?.coerce||!1,...pt(t)});class iu extends wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.date,received:s.parsedType}),ut}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_date}),ut}const r=new mi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):$t.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new iu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}iu.create=t=>new iu({checks:[],coerce:t?.coerce||!1,typeName:ot.ZodDate,...pt(t)});class Vy extends wt{_parse(e){if(this._getType(e)!==$e.symbol){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.symbol,received:r.parsedType}),ut}return Ti(e.data)}}Vy.create=t=>new Vy({typeName:ot.ZodSymbol,...pt(t)});class dg extends wt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.undefined,received:r.parsedType}),ut}return Ti(e.data)}}dg.create=t=>new dg({typeName:ot.ZodUndefined,...pt(t)});class hg extends wt{_parse(e){if(this._getType(e)!==$e.null){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.null,received:r.parsedType}),ut}return Ti(e.data)}}hg.create=t=>new hg({typeName:ot.ZodNull,...pt(t)});class bh extends wt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ti(e.data)}}bh.create=t=>new bh({typeName:ot.ZodAny,...pt(t)});class Hl extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ti(e.data)}}Hl.create=t=>new Hl({typeName:ot.ZodUnknown,...pt(t)});class ja extends wt{_parse(e){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ee.invalid_type,expected:$e.never,received:n.parsedType}),ut}}ja.create=t=>new ja({typeName:ot.ZodNever,...pt(t)});class Wy extends wt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.void,received:r.parsedType}),ut}return Ti(e.data)}}Wy.create=t=>new Wy({typeName:ot.ZodVoid,...pt(t)});class yo extends wt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==$e.array)return Fe(n,{code:Ee.invalid_type,expected:$e.array,received:n.parsedType}),ut;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Fe(n,{code:o?Ee.too_big:Ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Fe(n,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Fe(n,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Go(n,o,n.path,a)))).then(o=>mi.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Go(n,o,n.path,a)));return mi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new yo({...this._def,minLength:{value:e,message:Xe.toString(n)}})}max(e,n){return new yo({...this._def,maxLength:{value:e,message:Xe.toString(n)}})}length(e,n){return new yo({...this._def,exactLength:{value:e,message:Xe.toString(n)}})}nonempty(e){return this.min(1,e)}}yo.create=(t,e)=>new yo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ot.ZodArray,...pt(e)});function gd(t){if(t instanceof On){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=La.create(gd(r))}return new On({...t._def,shape:()=>e})}else return t instanceof yo?new yo({...t._def,type:gd(t.element)}):t instanceof La?La.create(gd(t.unwrap())):t instanceof ou?ou.create(gd(t.unwrap())):t instanceof Yo?Yo.create(t.items.map(e=>gd(e))):t}class On extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=$t.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==$e.object){const u=this._getOrReturnCtx(e);return Fe(u,{code:Ee.invalid_type,expected:$e.object,received:u.parsedType}),ut}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ja&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const h=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Go(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ja){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of a)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(u==="strict")a.length>0&&(Fe(i,{code:Ee.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of a){const f=i.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Go(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key;u.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return u}).then(u=>mi.mergeObjectSync(r,u)):mi.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Xe.errToObj,new On({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Xe.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new On({...this._def,unknownKeys:"strip"})}passthrough(){return new On({...this._def,unknownKeys:"passthrough"})}extend(e){return new On({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new On({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ot.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new On({...this._def,catchall:e})}pick(e){const n={};return $t.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new On({...this._def,shape:()=>n})}omit(e){const n={};return $t.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new On({...this._def,shape:()=>n})}deepPartial(){return gd(this)}partial(e){const n={};return $t.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new On({...this._def,shape:()=>n})}required(e){const n={};return $t.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof La;)s=s._def.innerType;n[r]=s}}),new On({...this._def,shape:()=>n})}keyof(){return mD($t.objectKeys(this.shape))}}On.create=(t,e)=>new On({shape:()=>t,unknownKeys:"strip",catchall:ja.create(),typeName:ot.ZodObject,...pt(e)});On.strictCreate=(t,e)=>new On({shape:()=>t,unknownKeys:"strict",catchall:ja.create(),typeName:ot.ZodObject,...pt(e)});On.lazycreate=(t,e)=>new On({shape:t,unknownKeys:"strip",catchall:ja.create(),typeName:ot.ZodObject,...pt(e)});class fg extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new mo(a.ctx.common.issues));return Fe(n,{code:Ee.invalid_union,unionErrors:o}),ut}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new mo(c));return Fe(n,{code:Ee.invalid_union,unionErrors:a}),ut}}get options(){return this._def.options}}fg.create=(t,e)=>new fg({options:t,typeName:ot.ZodUnion,...pt(e)});const ay=t=>t instanceof mg?ay(t.schema):t instanceof Eo?ay(t.innerType()):t instanceof yg?[t.value]:t instanceof Gc?t.options:t instanceof bg?Object.keys(t.enum):t instanceof wg?ay(t._def.innerType):t instanceof dg?[void 0]:t instanceof hg?[null]:null;class mw extends wt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return Fe(n,{code:Ee.invalid_type,expected:$e.object,received:n.parsedType}),ut;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Fe(n,{code:Ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ay(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new mw({typeName:ot.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...pt(r)})}}function K_(t,e){const n=yc(t),r=yc(e);if(t===e)return{valid:!0,data:t};if(n===$e.object&&r===$e.object){const i=$t.objectKeys(e),s=$t.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=K_(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===$e.array&&r===$e.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=K_(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===$e.date&&r===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pg extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(V_(s)||V_(o))return ut;const a=K_(s.value,o.value);return a.valid?((W_(s)||W_(o))&&n.dirty(),{status:n.value,value:a.data}):(Fe(r,{code:Ee.invalid_intersection_types}),ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}pg.create=(t,e,n)=>new pg({left:t,right:e,typeName:ot.ZodIntersection,...pt(n)});class Yo extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.array)return Fe(r,{code:Ee.invalid_type,expected:$e.array,received:r.parsedType}),ut;if(r.data.length<this._def.items.length)return Fe(r,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&r.data.length>this._def.items.length&&(Fe(r,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Go(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>mi.mergeArray(n,o)):mi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Yo({...this._def,rest:e})}}Yo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yo({items:t,typeName:ot.ZodTuple,rest:null,...pt(e)})};class gg extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return Fe(r,{code:Ee.invalid_type,expected:$e.object,received:r.parsedType}),ut;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Go(r,a,r.path,a)),value:o._parse(new Go(r,r.data[a],r.path,a))});return r.common.async?mi.mergeObjectAsync(n,i):mi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof wt?new gg({keyType:e,valueType:n,typeName:ot.ZodRecord,...pt(r)}):new gg({keyType:go.create(),valueType:e,typeName:ot.ZodRecord,...pt(n)})}}class Ky extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.map)return Fe(r,{code:Ee.invalid_type,expected:$e.map,received:r.parsedType}),ut;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:i._parse(new Go(r,a,r.path,[u,"key"])),value:s._parse(new Go(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return ut;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(u.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return ut;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(u.value,h.value)}return{status:n.value,value:a}}}}Ky.create=(t,e,n)=>new Ky({valueType:e,keyType:t,typeName:ot.ZodMap,...pt(n)});class su extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.set)return Fe(r,{code:Ee.invalid_type,expected:$e.set,received:r.parsedType}),ut;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Fe(r,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Fe(r,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return ut;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>s._parse(new Go(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new su({...this._def,minSize:{value:e,message:Xe.toString(n)}})}max(e,n){return new su({...this._def,maxSize:{value:e,message:Xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}su.create=(t,e)=>new su({valueType:t,minSize:null,maxSize:null,typeName:ot.ZodSet,...pt(e)});class jd extends wt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.function)return Fe(n,{code:Ee.invalid_type,expected:$e.function,received:n.parsedType}),ut;function r(a,c){return Hy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,jy(),cg].filter(u=>!!u),issueData:{code:Ee.invalid_arguments,argumentsError:c}})}function i(a,c){return Hy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,jy(),cg].filter(u=>!!u),issueData:{code:Ee.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof wh){const a=this;return Ti(async function(...c){const u=new mo([]),h=await a._def.args.parseAsync(c,s).catch(m=>{throw u.addIssue(r(c,m)),u}),f=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(f,s).catch(m=>{throw u.addIssue(i(f,m)),u})})}else{const a=this;return Ti(function(...c){const u=a._def.args.safeParse(c,s);if(!u.success)throw new mo([r(c,u.error)]);const h=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(h,s);if(!f.success)throw new mo([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new jd({...this._def,args:Yo.create(e).rest(Hl.create())})}returns(e){return new jd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new jd({args:e||Yo.create([]).rest(Hl.create()),returns:n||Hl.create(),typeName:ot.ZodFunction,...pt(r)})}}class mg extends wt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}mg.create=(t,e)=>new mg({getter:t,typeName:ot.ZodLazy,...pt(e)});class yg extends wt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Fe(n,{received:n.data,code:Ee.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}yg.create=(t,e)=>new yg({value:t,typeName:ot.ZodLiteral,...pt(e)});function mD(t,e){return new Gc({values:t,typeName:ot.ZodEnum,...pt(e)})}class Gc extends wt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Fe(n,{expected:$t.joinValues(r),received:n.parsedType,code:Ee.invalid_type}),ut}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Fe(n,{received:n.data,code:Ee.invalid_enum_value,options:r}),ut}return Ti(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Gc.create(e)}exclude(e){return Gc.create(this.options.filter(n=>!e.includes(n)))}}Gc.create=mD;class bg extends wt{_parse(e){const n=$t.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$e.string&&r.parsedType!==$e.number){const i=$t.objectValues(n);return Fe(r,{expected:$t.joinValues(i),received:r.parsedType,code:Ee.invalid_type}),ut}if(n.indexOf(e.data)===-1){const i=$t.objectValues(n);return Fe(r,{received:r.data,code:Ee.invalid_enum_value,options:i}),ut}return Ti(e.data)}get enum(){return this._def.values}}bg.create=(t,e)=>new bg({values:t,typeName:ot.ZodNativeEnum,...pt(e)});class wh extends wt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.promise&&n.common.async===!1)return Fe(n,{code:Ee.invalid_type,expected:$e.promise,received:n.parsedType}),ut;const r=n.parsedType===$e.promise?n.data:Promise.resolve(n.data);return Ti(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}wh.create=(t,e)=>new wh({type:t,typeName:ot.ZodPromise,...pt(e)});class Eo extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Fe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ut:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ut:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!lg(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>lg(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);$t.assertNever(i)}}Eo.create=(t,e,n)=>new Eo({schema:t,typeName:ot.ZodEffects,effect:e,...pt(n)});Eo.createWithPreprocess=(t,e,n)=>new Eo({schema:e,effect:{type:"preprocess",transform:t},typeName:ot.ZodEffects,...pt(n)});class La extends wt{_parse(e){return this._getType(e)===$e.undefined?Ti(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}La.create=(t,e)=>new La({innerType:t,typeName:ot.ZodOptional,...pt(e)});class ou extends wt{_parse(e){return this._getType(e)===$e.null?Ti(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:ot.ZodNullable,...pt(e)});class wg extends wt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wg.create=(t,e)=>new wg({innerType:t,typeName:ot.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pt(e)});class Gy extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return qy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new mo(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gy.create=(t,e)=>new Gy({innerType:t,typeName:ot.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pt(e)});class Yy extends wt{_parse(e){if(this._getType(e)!==$e.nan){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.nan,received:r.parsedType}),ut}return{status:"valid",value:e.data}}}Yy.create=t=>new Yy({typeName:ot.ZodNaN,...pt(t)});const Dte=Symbol("zod_brand");class yD extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mm extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ut:s.status==="dirty"?(n.dirty(),gD(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ut:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new mm({in:e,out:n,typeName:ot.ZodPipeline})}}class Zy extends wt{_parse(e){const n=this._def.innerType._parse(e);return lg(n)&&(n.value=Object.freeze(n.value)),n}}Zy.create=(t,e)=>new Zy({innerType:t,typeName:ot.ZodReadonly,...pt(e)});const bD=(t,e={},n)=>t?bh.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):bh.create(),Pte={object:On.lazycreate};var ot;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ot||(ot={}));const $te=(t,e={message:`Input not instance of ${t.name}`})=>bD(n=>n instanceof t,e),wD=go.create,vD=Wc.create,Mte=Yy.create,Ute=Kc.create,ED=ug.create,Lte=iu.create,zte=Vy.create,Fte=dg.create,jte=hg.create,Hte=bh.create,qte=Hl.create,Vte=ja.create,Wte=Wy.create,Kte=yo.create,Gte=On.create,Yte=On.strictCreate,Zte=fg.create,Xte=mw.create,Qte=pg.create,Jte=Yo.create,ene=gg.create,tne=Ky.create,nne=su.create,rne=jd.create,ine=mg.create,sne=yg.create,one=Gc.create,ane=bg.create,cne=wh.create,CR=Eo.create,lne=La.create,une=ou.create,dne=Eo.createWithPreprocess,hne=mm.create,fne=()=>wD().optional(),pne=()=>vD().optional(),gne=()=>ED().optional(),mne={string:t=>go.create({...t,coerce:!0}),number:t=>Wc.create({...t,coerce:!0}),boolean:t=>ug.create({...t,coerce:!0}),bigint:t=>Kc.create({...t,coerce:!0}),date:t=>iu.create({...t,coerce:!0})},yne=ut;var H=Object.freeze({__proto__:null,defaultErrorMap:cg,setErrorMap:Ete,getErrorMap:jy,makeIssue:Hy,EMPTY_PATH:_te,addIssueToContext:Fe,ParseStatus:mi,INVALID:ut,DIRTY:gD,OK:Ti,isAborted:V_,isDirty:W_,isValid:lg,isAsync:qy,get util(){return $t},get objectUtil(){return q_},ZodParsedType:$e,getParsedType:yc,ZodType:wt,ZodString:go,ZodNumber:Wc,ZodBigInt:Kc,ZodBoolean:ug,ZodDate:iu,ZodSymbol:Vy,ZodUndefined:dg,ZodNull:hg,ZodAny:bh,ZodUnknown:Hl,ZodNever:ja,ZodVoid:Wy,ZodArray:yo,ZodObject:On,ZodUnion:fg,ZodDiscriminatedUnion:mw,ZodIntersection:pg,ZodTuple:Yo,ZodRecord:gg,ZodMap:Ky,ZodSet:su,ZodFunction:jd,ZodLazy:mg,ZodLiteral:yg,ZodEnum:Gc,ZodNativeEnum:bg,ZodPromise:wh,ZodEffects:Eo,ZodTransformer:Eo,ZodOptional:La,ZodNullable:ou,ZodDefault:wg,ZodCatch:Gy,ZodNaN:Yy,BRAND:Dte,ZodBranded:yD,ZodPipeline:mm,ZodReadonly:Zy,custom:bD,Schema:wt,ZodSchema:wt,late:Pte,get ZodFirstPartyTypeKind(){return ot},coerce:mne,any:Hte,array:Kte,bigint:Ute,boolean:ED,date:Lte,discriminatedUnion:Xte,effect:CR,enum:one,function:rne,instanceof:$te,intersection:Qte,lazy:ine,literal:sne,map:tne,nan:Mte,nativeEnum:ane,never:Vte,null:jte,nullable:une,number:vD,object:Gte,oboolean:gne,onumber:pne,optional:lne,ostring:fne,pipeline:hne,preprocess:dne,promise:cne,record:ene,set:nne,strictObject:Yte,string:wD,symbol:zte,transformer:CR,tuple:Jte,undefined:Fte,union:Zte,unknown:qte,void:Wte,NEVER:yne,ZodIssueCode:Ee,quotelessJson:vte,ZodError:mo});const Yn=H.object({message:H.string()});function Le(t){return H.literal(He[t])}H.object({accessList:H.array(H.string()),blockHash:H.string().nullable(),blockNumber:H.string().nullable(),chainId:H.string().or(H.number()),from:H.string(),gas:H.string(),hash:H.string(),input:H.string().nullable(),maxFeePerGas:H.string(),maxPriorityFeePerGas:H.string(),nonce:H.string(),r:H.string(),s:H.string(),to:H.string(),transactionIndex:H.string().nullable(),type:H.string(),v:H.string(),value:H.string()});const bne=H.object({chainId:H.string().or(H.number())}),wne=H.object({email:H.string().email()}),vne=H.object({otp:H.string()}),Ene=H.object({uri:H.string(),preferredAccountType:H.optional(H.string())}),_ne=H.object({chainId:H.optional(H.string().or(H.number())),preferredAccountType:H.optional(H.string()),socialUri:H.optional(H.string())}),xne=H.object({provider:H.enum(["google","github","apple","facebook","x","discord"])}),Sne=H.object({email:H.string().email()}),Ane=H.object({otp:H.string()}),Cne=H.object({otp:H.string()}),Tne=H.object({themeMode:H.optional(H.enum(["light","dark"])),themeVariables:H.optional(H.record(H.string(),H.string().or(H.number()))),w3mThemeVariables:H.optional(H.record(H.string(),H.string()))}),Ine=H.object({metadata:H.object({name:H.string(),description:H.string(),url:H.string(),icons:H.array(H.string())}).optional(),sdkVersion:H.string().optional(),sdkType:H.string().optional(),projectId:H.string()}),Rne=H.object({type:H.string()}),kne=H.object({action:H.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Nne=H.object({url:H.string()}),One=H.object({userName:H.string()}),Bne=H.object({email:H.string().optional().nullable(),address:H.string(),chainId:H.string().or(H.number()),accounts:H.array(H.object({address:H.string(),type:H.enum([Jr.ACCOUNT_TYPES.EOA,Jr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:H.string().optional().nullable(),preferredAccountType:H.optional(H.string())}),Dne=H.object({action:H.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Pne=H.object({email:H.string().email().optional().nullable(),address:H.string(),chainId:H.string().or(H.number()),smartAccountDeployed:H.optional(H.boolean()),accounts:H.array(H.object({address:H.string(),type:H.enum([Jr.ACCOUNT_TYPES.EOA,Jr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:H.optional(H.string())}),$ne=H.object({uri:H.string()}),Mne=H.object({isConnected:H.boolean()}),Une=H.object({chainId:H.string().or(H.number())}),Lne=H.object({chainId:H.string().or(H.number())}),zne=H.object({newEmail:H.string().email()}),Fne=H.object({smartAccountEnabledNetworks:H.array(H.number())});H.object({address:H.string(),isDeployed:H.boolean()});const jne=H.object({version:H.string().optional()}),Hne=H.object({type:H.string(),address:H.string()}),qne=H.any(),Vne=H.object({method:H.literal("eth_accounts")}),Wne=H.object({method:H.literal("eth_blockNumber")}),Kne=H.object({method:H.literal("eth_call"),params:H.array(H.any())}),Gne=H.object({method:H.literal("eth_chainId")}),Yne=H.object({method:H.literal("eth_estimateGas"),params:H.array(H.any())}),Zne=H.object({method:H.literal("eth_feeHistory"),params:H.array(H.any())}),Xne=H.object({method:H.literal("eth_gasPrice")}),Qne=H.object({method:H.literal("eth_getAccount"),params:H.array(H.any())}),Jne=H.object({method:H.literal("eth_getBalance"),params:H.array(H.any())}),ere=H.object({method:H.literal("eth_getBlockByHash"),params:H.array(H.any())}),tre=H.object({method:H.literal("eth_getBlockByNumber"),params:H.array(H.any())}),nre=H.object({method:H.literal("eth_getBlockReceipts"),params:H.array(H.any())}),rre=H.object({method:H.literal("eth_getBlockTransactionCountByHash"),params:H.array(H.any())}),ire=H.object({method:H.literal("eth_getBlockTransactionCountByNumber"),params:H.array(H.any())}),sre=H.object({method:H.literal("eth_getCode"),params:H.array(H.any())}),ore=H.object({method:H.literal("eth_getFilterChanges"),params:H.array(H.any())}),are=H.object({method:H.literal("eth_getFilterLogs"),params:H.array(H.any())}),cre=H.object({method:H.literal("eth_getLogs"),params:H.array(H.any())}),lre=H.object({method:H.literal("eth_getProof"),params:H.array(H.any())}),ure=H.object({method:H.literal("eth_getStorageAt"),params:H.array(H.any())}),dre=H.object({method:H.literal("eth_getTransactionByBlockHashAndIndex"),params:H.array(H.any())}),hre=H.object({method:H.literal("eth_getTransactionByBlockNumberAndIndex"),params:H.array(H.any())}),fre=H.object({method:H.literal("eth_getTransactionByHash"),params:H.array(H.any())}),pre=H.object({method:H.literal("eth_getTransactionCount"),params:H.array(H.any())}),gre=H.object({method:H.literal("eth_getTransactionReceipt"),params:H.array(H.any())}),mre=H.object({method:H.literal("eth_getUncleCountByBlockHash"),params:H.array(H.any())}),yre=H.object({method:H.literal("eth_getUncleCountByBlockNumber"),params:H.array(H.any())}),bre=H.object({method:H.literal("eth_maxPriorityFeePerGas")}),wre=H.object({method:H.literal("eth_newBlockFilter")}),vre=H.object({method:H.literal("eth_newFilter"),params:H.array(H.any())}),Ere=H.object({method:H.literal("eth_newPendingTransactionFilter")}),_re=H.object({method:H.literal("eth_sendRawTransaction"),params:H.array(H.any())}),xre=H.object({method:H.literal("eth_syncing"),params:H.array(H.any())}),Sre=H.object({method:H.literal("eth_uninstallFilter"),params:H.array(H.any())}),TR=H.object({method:H.literal("personal_sign"),params:H.array(H.any())}),Are=H.object({method:H.literal("eth_signTypedData_v4"),params:H.array(H.any())}),Cre=H.object({method:H.literal("eth_sendTransaction"),params:H.array(H.any())}),Tre=H.object({method:H.literal("solana_signMessage"),params:H.object({message:H.string(),pubkey:H.string()})}),Ire=H.object({method:H.literal("solana_signTransaction"),params:H.object({transaction:H.string()})}),Rre=H.object({method:H.literal("solana_signAllTransactions"),params:H.object({transactions:H.array(H.string())})}),kre=H.object({method:H.literal("solana_signAndSendTransaction"),params:H.object({transaction:H.string(),options:H.object({skipPreflight:H.boolean().optional(),preflightCommitment:H.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:H.number().optional(),minContextSlot:H.number().optional()}).optional()})}),Nre=H.object({method:H.literal("wallet_sendCalls"),params:H.array(H.object({chainId:H.string().or(H.number()).optional(),from:H.string().optional(),version:H.string().optional(),capabilities:H.any().optional(),calls:H.array(H.object({to:H.string().startsWith("0x"),data:H.string().startsWith("0x").optional(),value:H.string().optional()}))}))}),Ore=H.object({method:H.literal("wallet_getCallsStatus"),params:H.array(H.string())}),Bre=H.object({method:H.literal("wallet_getCapabilities")}),Dre=H.object({method:H.literal("wallet_grantPermissions"),params:H.array(H.any())}),Pre=H.object({method:H.literal("wallet_revokePermissions"),params:H.any()}),$re=H.object({method:H.literal("wallet_getAssets"),params:H.any()}),IR=H.object({token:H.string()}),ze=H.object({id:H.string().optional()}),Ef={appEvent:ze.extend({type:Le("APP_SWITCH_NETWORK"),payload:bne}).or(ze.extend({type:Le("APP_CONNECT_EMAIL"),payload:wne})).or(ze.extend({type:Le("APP_CONNECT_DEVICE")})).or(ze.extend({type:Le("APP_CONNECT_OTP"),payload:vne})).or(ze.extend({type:Le("APP_CONNECT_SOCIAL"),payload:Ene})).or(ze.extend({type:Le("APP_GET_FARCASTER_URI")})).or(ze.extend({type:Le("APP_CONNECT_FARCASTER")})).or(ze.extend({type:Le("APP_GET_USER"),payload:H.optional(_ne)})).or(ze.extend({type:Le("APP_GET_SOCIAL_REDIRECT_URI"),payload:xne})).or(ze.extend({type:Le("APP_SIGN_OUT")})).or(ze.extend({type:Le("APP_IS_CONNECTED"),payload:H.optional(IR)})).or(ze.extend({type:Le("APP_GET_CHAIN_ID")})).or(ze.extend({type:Le("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ze.extend({type:Le("APP_INIT_SMART_ACCOUNT")})).or(ze.extend({type:Le("APP_SET_PREFERRED_ACCOUNT"),payload:Rne})).or(ze.extend({type:Le("APP_RPC_REQUEST"),payload:TR.or($re).or(Vne).or(Wne).or(Kne).or(Gne).or(Yne).or(Zne).or(Xne).or(Qne).or(Jne).or(ere).or(tre).or(nre).or(rre).or(ire).or(sre).or(ore).or(are).or(cre).or(lre).or(ure).or(dre).or(hre).or(fre).or(pre).or(gre).or(mre).or(yre).or(bre).or(wre).or(vre).or(Ere).or(_re).or(xre).or(Sre).or(TR).or(Are).or(Cre).or(Tre).or(Ire).or(Rre).or(kre).or(Ore).or(Nre).or(Bre).or(Dre).or(Pre)})).or(ze.extend({type:Le("APP_UPDATE_EMAIL"),payload:Sne})).or(ze.extend({type:Le("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Ane})).or(ze.extend({type:Le("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Cne})).or(ze.extend({type:Le("APP_SYNC_THEME"),payload:Tne})).or(ze.extend({type:Le("APP_SYNC_DAPP_DATA"),payload:Ine})).or(ze.extend({type:Le("APP_RELOAD")})),frameEvent:ze.extend({type:Le("FRAME_SWITCH_NETWORK_ERROR"),payload:Yn}).or(ze.extend({type:Le("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Lne})).or(ze.extend({type:Le("FRAME_CONNECT_EMAIL_SUCCESS"),payload:kne})).or(ze.extend({type:Le("FRAME_CONNECT_EMAIL_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Nne})).or(ze.extend({type:Le("FRAME_GET_FARCASTER_URI_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:One})).or(ze.extend({type:Le("FRAME_CONNECT_FARCASTER_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_CONNECT_OTP_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_CONNECT_OTP_SUCCESS")})).or(ze.extend({type:Le("FRAME_CONNECT_DEVICE_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ze.extend({type:Le("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Bne})).or(ze.extend({type:Le("FRAME_CONNECT_SOCIAL_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_GET_USER_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_GET_USER_SUCCESS"),payload:Pne})).or(ze.extend({type:Le("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:$ne})).or(ze.extend({type:Le("FRAME_SIGN_OUT_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_SIGN_OUT_SUCCESS")})).or(ze.extend({type:Le("FRAME_IS_CONNECTED_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_IS_CONNECTED_SUCCESS"),payload:Mne})).or(ze.extend({type:Le("FRAME_GET_CHAIN_ID_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Une})).or(ze.extend({type:Le("FRAME_RPC_REQUEST_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_RPC_REQUEST_SUCCESS"),payload:qne})).or(ze.extend({type:Le("FRAME_SESSION_UPDATE"),payload:IR})).or(ze.extend({type:Le("FRAME_UPDATE_EMAIL_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Dne})).or(ze.extend({type:Le("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ze.extend({type:Le("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:zne})).or(ze.extend({type:Le("FRAME_SYNC_THEME_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_SYNC_THEME_SUCCESS")})).or(ze.extend({type:Le("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ze.extend({type:Le("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Fne})).or(ze.extend({type:Le("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Hne})).or(ze.extend({type:Le("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_READY"),payload:jne})).or(ze.extend({type:Le("FRAME_RELOAD_ERROR"),payload:Yn})).or(ze.extend({type:Le("FRAME_RELOAD_SUCCESS")}))};function R1(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}class Mre{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=Ce.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:u}){if(!R1(He.FRAME_EVENT_KEY,u))return;const h=Ef.frameEvent.parse(u);h.id===s&&(o(h),window.removeEventListener("message",c))}us.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{us.isClient&&window.addEventListener("message",({data:o})=>{if(!R1(He.FRAME_EVENT_KEY,o))return;const a=Ef.frameEvent.parse(o);s(a)})},onAppEvent:s=>{us.isClient&&window.addEventListener("message",({data:o})=>{if(!R1(He.APP_EVENT_KEY,o))return;const a=Ef.appEvent.parse(o);s(a)})},postAppEvent:s=>{if(us.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");Ef.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(us.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Ef.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),us.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${vJ}?projectId=${e}&chainId=${r}&version=${_J}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.border="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Ure{constructor(e){const n=Mh({level:EJ}),{logger:r,chunkLoggerController:i}=wS({opts:n});this.logger=bi(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Lre{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i,abortController:s}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Ure(e)),this.abortController=s,this.w3mFrame=new Mre({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Hr.get(He.EMAIL_LOGIN_USED_KEY)}getEmail(){return Hr.get(He.EMAIL)}getUsername(){return Hr.get(He.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:He.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{us.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:He.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:He.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:He.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:He.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:He.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:He.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:He.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:He.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:He.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:He.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:He.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:He.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:He.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=await this.appEvent({type:He.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1;e?.preferredAccountType&&await this.setPreferredAccount(e.preferredAccountType);const r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:He.APP_GET_USER,payload:{...e,chainId:n}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){try{await this.init();const n=await this.appEvent({type:He.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:He.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:He.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork(e){try{const n=await this.appEvent({type:He.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:He.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){try{if(Jr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();this.rpcRequestHandler?.(e);const n=await this.appEvent({type:He.APP_RPC_REQUEST,payload:e});return this.rpcSuccessHandler?.(n,e),n}catch(n){throw this.rpcErrorHandler?.(n,e),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_IS_CONNECTED_ERROR&&e(),n.type===He.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===He.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Jr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===He.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach(({abortController:e,method:n})=>{Jr.SAFE_RPC_METHODS.includes(n)||e.abort()}),this.openRpcRequests=[]}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function i(c){return c.replace("@w3m-app/","")}const s=[He.APP_SYNC_DAPP_DATA,He.APP_SYNC_THEME,He.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[He.APP_CONNECT_EMAIL,He.APP_CONNECT_DEVICE,He.APP_CONNECT_OTP,He.APP_CONNECT_SOCIAL,He.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((c,u)=>{const h=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:h},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:h});const f=new AbortController;if(o==="RPC_REQUEST"){const m=e;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:f}]}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});function g(m,_){m.id===h&&(_?.logger.info?.({framEvent:m,id:h},"Received frame response"),m.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&c(m.payload),c(void 0)):m.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&u(new Error(m.payload?.message||"An error occurred")),u(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(h,m=>g(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Hr.set(He.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Hr.set(He.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Hr.set(He.EMAIL,e),Hr.set(He.EMAIL_LOGIN_USED_KEY,"true"),Hr.delete(He.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Hr.delete(He.EMAIL_LOGIN_USED_KEY),Hr.delete(He.EMAIL),Hr.delete(He.LAST_USED_CHAIN_KEY),Hr.delete(He.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Hr.set(He.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Hr.get(He.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Hr.set(He.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class cp{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s}){return cp.instance||(cp.instance=new Lre({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s})),cp.instance}}var RR={};const zre={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof RR<"u"?RR.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},G_={filterOutDuplicatesByRDNS(t){const e=we.state.enableEIP6963?Ue.state.connectors:[],n=De.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&tt.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(t){const e=Ue.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=De.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ue.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>(o.info?.rdns&&(s[o.info.rdns]=!0),s),{});return t.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||we.state.features?.connectMethodsOrder,r=e||Ue.state.connectors;if(n)return n;const{injected:i,announced:s}=cy.getConnectorsByType(r,rt.state.recommended,rt.state.featured),o=i.filter(cy.showConnector),a=s.filter(cy.showConnector);return o.length||a.length?["wallet","email","social"]:zre.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&rt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&rt.state.excludedWallets.some(r=>gw.isLowerCaseMatch(r.name,t.name));return e||n}},cy={getConnectorsByType(t,e,n){const{customWallets:r}=we.state,i=De.getRecentWallets(),s=G_.filterOutDuplicateWallets(e),o=G_.filterOutDuplicateWallets(n),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),u=t.filter(f=>f.type==="INJECTED"),h=t.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:i,external:h,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&rt.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&rt.state.excludedWallets.some(i=>gw.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!tt.isMobile()||tt.isMobile()&&!e&&!it.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(Z.state.chains.values()).some(n=>Ue.getConnectorId(n.namespace)===Ce.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=we.state.features?.connectorTypeOrder??[]}){const u=cy.getIsConnectedWithWC(),g=[{type:"walletConnect",isEnabled:we.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(C=>C.isEnabled),m=new Set(g.map(C=>C.type)),_=c.filter(C=>m.has(C)).map(C=>({type:C,isEnabled:!0})),x=g.filter(({type:C})=>!_.some(({type:T})=>T===C));return Array.from(new Set([..._,...x].map(({type:C})=>C)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ly=globalThis,rA=ly.ShadowRoot&&(ly.ShadyCSS===void 0||ly.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,iA=Symbol(),kR=new WeakMap;let _D=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==iA)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(rA&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=kR.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&kR.set(n,e))}return e}toString(){return this.cssText}};const Ns=t=>new _D(typeof t=="string"?t:t+"",void 0,iA),Hd=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new _D(n,t,iA)},Fre=(t,e)=>{if(rA)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=ly.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},NR=rA?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Ns(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:jre,defineProperty:Hre,getOwnPropertyDescriptor:qre,getOwnPropertyNames:Vre,getOwnPropertySymbols:Wre,getPrototypeOf:Kre}=Object,yw=globalThis,OR=yw.trustedTypes,Gre=OR?OR.emptyScript:"",Yre=yw.reactiveElementPolyfillSupport,lp=(t,e)=>t,Y_={toAttribute(t,e){switch(e){case Boolean:t=t?Gre:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},xD=(t,e)=>!jre(t,e),BR={attribute:!0,type:String,converter:Y_,reflect:!1,useDefault:!1,hasChanged:xD};Symbol.metadata??=Symbol("metadata"),yw.litPropertyMetadata??=new WeakMap;let md=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=BR){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Hre(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=qre(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??BR}static _$Ei(){if(this.hasOwnProperty(lp("elementProperties")))return;const e=Kre(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(lp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(lp("properties"))){const n=this.properties,r=[...Vre(n),...Wre(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(NR(i))}else e!==void 0&&n.push(NR(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Fre(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:Y_).toAttribute(n,r.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,n){const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:Y_;this._$Em=i,this[i]=o.fromAttribute(n,s.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){const i=this.constructor,s=this[e];if(r??=i.getPropertyOptions(e),!((r.hasChanged??xD)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(e){}firstUpdated(e){}};md.elementStyles=[],md.shadowRootOptions={mode:"open"},md[lp("elementProperties")]=new Map,md[lp("finalized")]=new Map,Yre?.({ReactiveElement:md}),(yw.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sA=globalThis,Xy=sA.trustedTypes,DR=Xy?Xy.createPolicy("lit-html",{createHTML:t=>t}):void 0,SD="$lit$",bc=`lit$${Math.random().toFixed(9).slice(2)}$`,AD="?"+bc,Zre=`<${AD}>`,au=document,vg=()=>au.createComment(""),Eg=t=>t===null||typeof t!="object"&&typeof t!="function",oA=Array.isArray,Xre=t=>oA(t)||typeof t?.[Symbol.iterator]=="function",k1=`[ 	
\f\r]`,_f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,PR=/-->/g,$R=/>/g,fl=RegExp(`>|${k1}(?:([^\\s"'>=/]+)(${k1}*=${k1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),MR=/'/g,UR=/"/g,CD=/^(?:script|style|textarea|title)$/i,TD=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Mwe=TD(1),Uwe=TD(2),vh=Symbol.for("lit-noChange"),kr=Symbol.for("lit-nothing"),LR=new WeakMap,Ol=au.createTreeWalker(au,129);function ID(t,e){if(!oA(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return DR!==void 0?DR.createHTML(e):e}const Qre=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=_f;for(let a=0;a<n;a++){const c=t[a];let u,h,f=-1,g=0;for(;g<c.length&&(o.lastIndex=g,h=o.exec(c),h!==null);)g=o.lastIndex,o===_f?h[1]==="!--"?o=PR:h[1]!==void 0?o=$R:h[2]!==void 0?(CD.test(h[2])&&(i=RegExp("</"+h[2],"g")),o=fl):h[3]!==void 0&&(o=fl):o===fl?h[0]===">"?(o=i??_f,f=-1):h[1]===void 0?f=-2:(f=o.lastIndex-h[2].length,u=h[1],o=h[3]===void 0?fl:h[3]==='"'?UR:MR):o===UR||o===MR?o=fl:o===PR||o===$R?o=_f:(o=fl,i=void 0);const m=o===fl&&t[a+1].startsWith("/>")?" ":"";s+=o===_f?c+Zre:f>=0?(r.push(u),c.slice(0,f)+SD+c.slice(f)+bc+m):c+bc+(f===-2?a:m)}return[ID(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class _g{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[u,h]=Qre(e,n);if(this.el=_g.createElement(u,r),Ol.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=Ol.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(SD)){const g=h[o++],m=i.getAttribute(f).split(bc),_=/([.?@])?(.*)/.exec(g);c.push({type:1,index:s,name:_[2],strings:m,ctor:_[1]==="."?eie:_[1]==="?"?tie:_[1]==="@"?nie:bw}),i.removeAttribute(f)}else f.startsWith(bc)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(CD.test(i.tagName)){const f=i.textContent.split(bc),g=f.length-1;if(g>0){i.textContent=Xy?Xy.emptyScript:"";for(let m=0;m<g;m++)i.append(f[m],vg()),Ol.nextNode(),c.push({type:2,index:++s});i.append(f[g],vg())}}}else if(i.nodeType===8)if(i.data===AD)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(bc,f+1))!==-1;)c.push({type:7,index:s}),f+=bc.length-1}s++}}static createElement(e,n){const r=au.createElement("template");return r.innerHTML=e,r}}function Eh(t,e,n=t,r){if(e===vh)return e;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=Eg(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(e=Eh(t,i._$AS(t,e.values),i,r)),e}class Jre{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=(e?.creationScope??au).importNode(n,!0);Ol.currentNode=i;let s=Ol.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new ym(s,s.nextSibling,this,e):c.type===1?u=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(u=new rie(s,this,e)),this._$AV.push(u),c=r[++a]}o!==c?.index&&(s=Ol.nextNode(),o++)}return Ol.currentNode=au,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class ym{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=kr,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Eh(this,e,n),Eg(e)?e===kr||e==null||e===""?(this._$AH!==kr&&this._$AR(),this._$AH=kr):e!==this._$AH&&e!==vh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Xre(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==kr&&Eg(this._$AH)?this._$AA.nextSibling.data=e:this.T(au.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=_g.createElement(ID(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new Jre(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=LR.get(e.strings);return n===void 0&&LR.set(e.strings,n=new _g(e)),n}k(e){oA(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new ym(this.O(vg()),this.O(vg()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let bw=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=kr,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=kr}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Eh(this,e,n,0),o=!Eg(e)||e!==this._$AH&&e!==vh,o&&(this._$AH=e);else{const a=e;let c,u;for(e=s[0],c=0;c<s.length-1;c++)u=Eh(this,a[r+c],n,c),u===vh&&(u=this._$AH[c]),o||=!Eg(u)||u!==this._$AH[c],u===kr?e=kr:e!==kr&&(e+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(e)}j(e){e===kr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},eie=class extends bw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===kr?void 0:e}};class tie extends bw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==kr)}}class nie extends bw{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=Eh(this,e,n,0)??kr)===vh)return;const r=this._$AH,i=e===kr&&r!==kr||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==kr&&(r===kr||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}let rie=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Eh(this,e)}};const iie=sA.litHtmlPolyfillSupport;iie?.(_g,ym),(sA.litHtmlVersions??=[]).push("3.3.0");const sie=(t,e,n)=>{const r=n?.renderBefore??e;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new ym(e.insertBefore(vg(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const aA=globalThis;let uy=class extends md{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=sie(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return vh}};uy._$litElement$=!0,uy.finalized=!0,aA.litElementHydrateSupport?.({LitElement:uy});const oie=aA.litElementPolyfillSupport;oie?.({LitElement:uy});(aA.litElementVersions??=[]).push("4.2.0");let up,Oc,Bc;function Hwe(t,e){up=document.createElement("style"),Oc=document.createElement("style"),Bc=document.createElement("style"),up.textContent=qd(t).core.cssText,Oc.textContent=qd(t).dark.cssText,Bc.textContent=qd(t).light.cssText,document.head.appendChild(up),document.head.appendChild(Oc),document.head.appendChild(Bc),RD(e)}function RD(t){Oc&&Bc&&(t==="light"?(Oc.removeAttribute("media"),Bc.media="enabled"):(Bc.removeAttribute("media"),Oc.media="enabled"))}function aie(t){up&&Oc&&Bc&&(up.textContent=qd(t).core.cssText,Oc.textContent=qd(t).dark.cssText,Bc.textContent=qd(t).light.cssText)}function qd(t){return{core:Hd`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Ns(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Ns(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Ns(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${Ns(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${Ns(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Hd`
      :root {
        --w3m-color-mix: ${Ns(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${Ns(ka(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Ns(ka(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Hd`
      :root {
        --w3m-color-mix: ${Ns(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${Ns(ka(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Ns(ka(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const qwe=Hd`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Vwe=Hd`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Wwe=Hd`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Hf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function bm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Qy=bm({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Jy=bm({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}),cie=bm({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});bm({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});bm({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const lie={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},dp={getMethodsByChainNamespace(t){return lie[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,h=r[o];switch(h.chains.push(u),u){case Qy.caipNetworkId:h.chains.push(Qy.deprecatedCaipNetworkId);break;case Jy.caipNetworkId:h.chains.push(Jy.deprecatedCaipNetworkId);break}return h?.rpcMap&&c&&(h.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await ap.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else if(r===t)return!0;return!1}};class cA{constructor({provider:e,namespace:n}){this.id=Ce.CONNECTOR_ID.WALLET_CONNECT,this.name=Ua.ConnectorNamesMap[Ce.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ua.ConnectorImageIds[Ce.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=Z.getCaipNetworks.bind(Z),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=we.state.universalProviderConfigOverride,i=dp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return ip.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:uie})}}const uie=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class kD{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>Z.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Ce.CONNECTOR_ID.AUTH,type:"AUTH",name:Ce.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ua.ConnectorImageIds[Ce.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Ve.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const s=i,o=Ve.state.preferredAccountTypes?.[n.chainNamespace];await s.switchNetwork(n.caipNetworkId);const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof cA);if(!e)throw new Error("WalletConnectConnector not found");return e}}class die extends kD{setUniversalProvider(e){this.addConnector(new cA({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>tt.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&Or.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Ve.state.balanceLoading&&e.chainId===Z.state.activeCaipNetwork?.id)return{balance:Ve.state.balance||"0.00",symbol:Ve.state.balanceSymbol||""};const i=(await Ve.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return Z.state.activeCaipNetwork?.chainNamespace===Ce.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Fi.encode(new TextEncoder().encode(r)),pubkey:i}},Z.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},Z.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Ce.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:sR(n.id)}]})}catch(i){if(i.code===Hf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Hf.ERROR_INVALID_CHAIN_ID||i.code===Hf.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Hf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:sR(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}class hie{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=Z.getNetworkData(n)?.requestedCaipNetworks?.find(a=>a.id===r);if(i)return i;const s=Z.getNetworkData(n)?.caipNetwork;return s||Z.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return Z.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>Z.getCaipNetworks(n),this.getActiveChainNamespace=()=>Z.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{Z.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>Z.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>Z.state.activeChain===n||!n?Z.state.activeCaipAddress:Z.getAccountProp("caipAddress",n),this.setClientId=n=>{ct.setClientId(n)},this.getProvider=n=>qt.getProvider(n),this.getProviderType=n=>qt.getProviderId(n),this.getPreferredAccountType=n=>Ve.state.preferredAccountTypes?.[n],this.setCaipAddress=(n,r)=>{Ve.setCaipAddress(n,r)},this.setBalance=(n,r,i)=>{Ve.setBalance(n,r,i)},this.setProfileName=(n,r)=>{Ve.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Ve.setProfileImage(n,r)},this.setUser=(n,r)=>{Ve.setUser(n,r),we.state.enableEmbedded&&or.close()},this.resetAccount=n=>{Ve.resetAccount(n)},this.setCaipNetwork=n=>{Z.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{Z.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Ve.setAllAccounts(n,r),we.setHasMultipleAddresses(n?.length>1)},this.setStatus=(n,r)=>{Ve.setStatus(n,r),Ue.isConnected()?De.setConnectionStatus("connected"):De.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>Z.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Ue.state.allConnectors,...n];Ue.setConnectors(r)},this.setConnections=(n,r)=>{it.setConnections(n,r)},this.fetchIdentity=n=>ct.fetchIdentity(n),this.getReownName=n=>ap.getNamesForAddress(n),this.getConnectors=()=>Ue.getConnectors(),this.getConnectorImage=n=>s3.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=qt.getProviderId(r),s=n?{...n,type:i}:void 0;Ve.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!Z.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{Ve.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{Ve.removeAddressLabel(n,r)},this.getAddress=n=>Z.state.activeChain===n||!n?Ve.state.address:Z.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>Z.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{Z.resetNetwork(n)},this.addConnector=n=>{Ue.addConnector(n)},this.resetWcConnection=()=>{it.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Ve.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Ve.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{Z.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Ve.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{we.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Ho.set({initialized:!0}),await this.syncExistingConnection(),(we.state.features?.email||Array.isArray(we.state.features?.socials)&&we.state.features?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await rt.fetchAllowedOrigins();if(e&&tt.isClient()){const n=window.location.origin;dp.isOriginAllowed(n,e,Hf.DEFAULT_ALLOWED_ANCESTORS)||$o.open(co.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else $o.open(co.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,yn.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Ui.setThemeMode(e.themeMode),e.themeVariables&&Ui.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");Z.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&Z.setActiveCaipNetwork(n)}initializeConnectionController(e){it.setWcBasic(e.basic??!1)}initializeConnectorController(){Ue.initialize(this.chainNamespaces)}initializeOptionsController(e){we.setDebug(e.debug!==!1),we.setEnableWalletConnect(e.enableWalletConnect!==!1),we.setEnableWalletGuide(e.enableWalletGuide!==!1),we.setEnableWallets(e.enableWallets!==!1),we.setEIP6963Enabled(e.enableEIP6963!==!1),we.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),we.setEnableAuthLogger(e.enableAuthLogger!==!1),we.setCustomRpcUrls(e.customRpcUrls),we.setSdkVersion(e.sdkVersion),we.setProjectId(e.projectId),we.setEnableEmbedded(e.enableEmbedded),we.setAllWallets(e.allWallets),we.setIncludeWalletIds(e.includeWalletIds),we.setExcludeWalletIds(e.excludeWalletIds),we.setFeaturedWalletIds(e.featuredWalletIds),we.setTokens(e.tokens),we.setTermsConditionsUrl(e.termsConditionsUrl),we.setPrivacyPolicyUrl(e.privacyPolicyUrl),we.setCustomWallets(e.customWallets),we.setFeatures(e.features),we.setAllowUnsupportedChain(e.allowUnsupportedChain),we.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),we.setPreferUniversalLinks(e.experimental_preferUniversalLinks),we.setDefaultAccountTypes(e.defaultAccountTypes);const n=De.getPreferredAccountTypes()||{},r={...we.state.defaultAccountTypes,...n};Ve.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),we.setMetadata(e.metadata),we.setDisableAppend(e.disableAppend),we.setEnableEmbedded(e.enableEmbedded),we.setSIWX(e.siwx),!e.projectId){$o.open(co.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(o=>o.namespace===Ce.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");we.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return typeof window<"u"&&typeof document<"u"?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=pd.getUnsupportedNetwork(`${n}:${e}`);Z.setActiveCaipNetwork(r)}}getDefaultNetwork(){return pd.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return pd.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return pd.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?pd.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=Z.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId(i?.clientId||null),De.setConnectedNamespaces([...Z.state.chains.keys()]),this.chainNamespaces.forEach(s=>{Ue.setConnectorId(gn.CONNECTOR_TYPE_WALLET_CONNECT,s)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{const c=Z.state.activeChain,u=s||c,h=this.getAdapter(u);if(s&&s!==c&&!o){const x=this.getCaipNetworks().find(C=>C.chainNamespace===s);x&&this.setCaipNetwork(x)}if(!h)throw new Error("Adapter not found");const f=this.getCaipNetwork(u),g=await h.connect({id:e,info:n,type:r,provider:i,socialUri:a,chainId:o?.id||f?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||f?.rpcUrls?.default?.http?.[0]});if(!g)return;De.addConnectedNamespace(u),this.syncProvider({...g,chainNamespace:u});const m=Ve.state.allAccounts,{accounts:_}=m?.length>0?{accounts:[...m]}:await h.getAccounts({namespace:u,id:e});this.setAllAccounts(_,u),this.setStatus("connected",u),this.syncConnectedWalletInfo(u)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{const s=Z.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),De.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=e||Z.state.activeChain,r=this.getAdapter(n),i=qt.getProvider(n),s=qt.getProviderId(n);await r?.disconnect({provider:i,providerType:s}),De.removeConnectedNamespace(n),qt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>(await this.getAdapter(Z.state.activeChain)?.signMessage({message:e,address:Ve.state.address,provider:qt.getProvider(Z.state.activeChain)}))?.signature||"",sendTransaction:async e=>{const n=e.chainNamespace;if(Or.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(Z.state.activeChain),i=qt.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ce.CHAIN.EVM){const n=this.getAdapter(Z.state.activeChain),r=qt.getProvider(Z.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");return(await n?.estimateGas({...e,provider:r,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.syncIdentity({address:Ve.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:Z.state.activeChain}),Ve.state.profileImage||!1),getEnsAddress:async e=>await dp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(Z.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=qt.getProvider(Z.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(await n?.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}))?.hash},parseUnits:(e,n)=>this.getAdapter(Z.state.activeChain)?.parseUnits({value:e,decimals:n})??0n,formatUnits:(e,n)=>this.getAdapter(Z.state.activeChain)?.formatUnits({value:e,decimals:n})??"0",getCapabilities:async e=>await this.getAdapter(Z.state.activeChain)?.getCapabilities(e),grantPermissions:async e=>await this.getAdapter(Z.state.activeChain)?.grantPermissions(e),revokePermissions:async e=>{const n=this.getAdapter(Z.state.activeChain);return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>await this.getAdapter(Z.state.activeChain)?.walletGetAssets(e)??{},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Ve.state.address||this.updateNativeBalance(Ve.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},it.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(qt.getProviderId(Z.state.activeChain)===gn.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=qt.getProvider(n),s=qt.getProviderId(n);if(e.chainNamespace===Z.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===gn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=ya.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=e?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new die({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=De.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(De.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(u=>u.id===s||u.caipNetworkId===s),a=Z.state.activeChain===e,c=Z.getAccountProp("address",e);if(o){const u=a&&i?i:c;u&&this.syncAccount({address:u,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=Ve.state.address,s=Z.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{const o=Z.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&Z.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:Z.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Ue.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Ce.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ce.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){const n=this.getAdapter(e),r=Ue.getConnectorId(e),i=this.getCaipNetwork(e),s=Ue.getConnectors(e).find(o=>o.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const o=await n?.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});if(o){const a=await n?.getAccounts({namespace:e,id:s.id});a&&a.accounts.length>0?this.setAllAccounts(a.accounts,e):this.setAllAccounts([tt.createAccount(e,o.address,"eoa")],e),this.syncProvider({...o,chainNamespace:e}),await this.syncAccount({...o,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{const r=this.getAdapter(n),i=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],s=Z.state.activeCaipNetwork?.id,o=i.find(a=>{const{chainId:c}=ya.parseCaipAddress(a);return c===s?.toString()})||i[0];if(o){const a=ya.validateCaipAddress(o),{chainId:c,address:u}=ya.parseCaipAddress(a);if(qt.setProviderId(n,gn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&Z.state.activeCaipNetwork&&r?.namespace!==Ce.CHAIN.EVM){const h=r?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:Z.state.activeCaipNetwork});qt.setProvider(n,h)}else qt.setProvider(n,this.universalProvider);Ue.setConnectorId(Ce.CONNECTOR_ID.WALLET_CONNECT,n),De.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:u,chainId:c,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await Z.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){const n=this.universalProvider?.session?.namespaces?.[e]?.accounts?.map(r=>{const{address:i}=ya.parseCaipAddress(r);return i}).filter((r,i,s)=>s.indexOf(r)===i);n&&this.setAllAccounts(n.map(r=>tt.createAccount(e,r,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){qt.setProviderId(i,e),qt.setProvider(i,n),Ue.setConnectorId(r,i)}async syncAllAccounts(e){const n=Ue.getConnectorId(e);if(!n)return;const i=await this.getAdapter(e)?.getAccounts({namespace:e,id:n});i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,e)}async syncAccount(e){const n=e.chainNamespace===Z.state.activeChain,r=Z.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=De.getActiveNetworkProps(),c=s||a,u=Z.state.activeCaipNetwork?.name===Ce.UNSUPPORTED_NETWORK_NAME,h=Z.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!h)&&c){let f=this.getCaipNetworks().find(_=>_.id.toString()===c.toString()),g=this.getCaipNetworks().find(_=>_.chainNamespace===o);if(!h&&!f&&!g){const _=this.getApprovedCaipNetworkIds()||[],x=_.find(S=>ya.parseCaipNetworkId(S)?.chainId===c.toString()),C=_.find(S=>ya.parseCaipNetworkId(S)?.chainNamespace===o);f=this.getCaipNetworks().find(S=>S.caipNetworkId===x),g=this.getCaipNetworks().find(S=>S.caipNetworkId===C||"deprecatedCaipNetworkId"in S&&S.deprecatedCaipNetworkId===C)}const m=f||g;m?.chainNamespace===Z.state.activeChain?we.state.enableNetworkSwitch&&!we.state.allowUnsupportedChain&&Z.state.activeCaipNetwork?.name===Ce.UNSUPPORTED_NETWORK_NAME?Z.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),gw.isLowerCaseMatch(i,Ve.state.address)||this.syncAccountInfo(i,m?.id,o),n?await this.syncBalance({address:i,chainId:m?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=Ue.getConnectorId(e),r=qt.getProviderId(e);if(r===gn.CONNECTOR_TYPE_ANNOUNCED||r===gn.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(s=>s.id===n);if(i){const{info:s,name:o,imageUrl:a}=i,c=a||this.getConnectorImage(i);this.setConnectedWalletInfo({name:o,icon:c,...s},e)}}}else if(r===gn.CONNECTOR_TYPE_WALLET_CONNECT){const i=qt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&n===Ce.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(s=>s.id===Ce.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!n3.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=Z.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=ute.createLogger((r,...i)=>{r&&this.handleAlertError(r),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};we.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await bJ.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{it.setUri(e)}),this.universalProvider.on("connect",it.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),it.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}r?.id!==n?.id&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(dp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&tt.isCaipAddress(r[0])&&this.syncAccount(ya.parseCaipAddress(r[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&tt.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){yn.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(co.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=co.ALERT_ERRORS[o];a&&($o.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e?.uri&&it.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return or.open({...e,data:{swap:e.arguments}})}return or.open(e)}async close(e=!1){await this.injectModalUi(),or.close(e)}setLoading(e,n){or.setLoading(e,n)}async disconnect(e){await it.disconnect(e)}getSIWX(){return we.state.siwx}getError(){return""}getChainId(){return Z.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){$o.open(co.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await Z.switchActiveNetwork(n)}getWalletProvider(){return Z.state.activeChain?qt.state.providers[Z.state.activeChain]:null}getWalletProviderType(){return qt.getProviderId(Z.state.activeChain)}subscribeProviders(e){return qt.subscribeProviders(e)}getThemeMode(){return Ui.state.themeMode}getThemeVariables(){return Ui.state.themeVariables}setThemeMode(e){Ui.setThemeMode(e),RD(Ui.state.themeMode)}setTermsConditionsUrl(e){we.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){we.setPrivacyPolicyUrl(e)}setThemeVariables(e){Ui.setThemeVariables(e),aie(Ui.state.themeVariables)}subscribeTheme(e){return Ui.subscribe(e)}getWalletInfo(){return Ve.state.connectedWalletInfo}getAccount(e){const n=Ue.getAuthConnector(e),r=Z.getAccountData(e),i=Z.state.activeChain,s=De.getConnectedConnectorId(e);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:tt.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===Ce.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:De.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:r.preferredAccountTypes?.[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?Z.subscribeChainProp("accountState",r,n):Z.subscribe(r),Ue.subscribe(r)}subscribeNetwork(e){return Z.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e){return Ve.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Ve.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){Z.subscribeKey("activeCaipNetwork",e)}getState(){return Ho.state}subscribeState(e){return Ho.subscribe(e)}showErrorMessage(e){uo.showError(e)}showSuccessMessage(e){uo.showSuccess(e)}getEvent(){return{...yn.state}}subscribeEvents(e){return yn.subscribe(e)}replace(e){Tt.replace(e)}redirect(e){Tt.push(e)}popTransactionStack(e){Tt.popTransactionStack(e)}isOpen(){return or.state.open}isTransactionStackEmpty(){return Tt.state.transactionStack.length===0}isTransactionShouldReplaceView(){return Tt.state.transactionStack[Tt.state.transactionStack.length-1]?.replace}static getInstance(){return this.instance}updateFeatures(e){we.setFeatures(e)}updateOptions(e){const r={...we.state||{},...e};we.setOptions(r)}setConnectMethodsOrder(e){we.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){we.setWalletFeaturesOrder(e)}setCollapseWallets(e){we.setCollapseWallets(e)}setSocialsOrder(e){we.setSocialsOrder(e)}getConnectMethodsOrder(){return G_.getConnectOrderMethod(we.state.features,Ue.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||Z.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&Z.removeNetwork(e,n)}}let zR=!1;class fie extends hie{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{us.checkIfRequestExists(n)?us.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Jr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Jr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const i=us.checkIfRequestIsSafe(r),s=Ve.state.address,o=Z.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(!0),s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=Z.state.activeChain;Ue.getConnectorId(n)===Ce.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{const r=Z.state.activeChain,i=r===Ce.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=we.state.defaultAccountTypes[r],o=Ve.state.preferredAccountTypes?.[r],a=n.preferredAccountType||o||s;gw.isLowerCaseMatch(n.address,Ve.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...Ve.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=n.accounts?.map(u=>tt.createAccount(r,u.address,u.type||o||s));this.setAllAccounts(c||[tt.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Ve.state.user||{},username:n},Z.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,Z.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,Z.state.activeChain)})}async syncAuthConnector(e,n){const r=Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...Ve.state?.user||{},username:o,email:s},Z.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=Ui.getSnapshot(),u=we.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:ka(c.themeVariables,c.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&(a&&this.connectionControllerClient?.connectExternal?(await this.connectionControllerClient?.connectExternal({id:Ce.CONNECTOR_ID.AUTH,info:{name:Ce.CONNECTOR_ID.AUTH},type:gn.CONNECTOR_TYPE_AUTH,provider:e,chainId:Z.state.activeCaipNetwork?.id,chain:n}),this.setStatus("connected",n)):Ue.getConnectorId(n)===Ce.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),De.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){try{if(!tt.isTelegram())return;const n=De.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Ve.setSocialProvider(n,e),await this.authProvider?.init();const s=Ue.getAuthConnector();n&&s&&(this.setLoading(!0,e),await it.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),De.setConnectedSocialProvider(n),De.removeTelegramSocialProvider(),yn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){if(!Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=this.options?.features?.email===void 0?Or.DEFAULT_FEATURES.email:this.options?.features?.email,i=this.options?.features?.socials?this.options?.features?.socials?.length>0:this.options?.features?.socials??Or.DEFAULT_FEATURES.socials,s=r||i;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=cp.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(e)?.caipNetworkId,abortController:co.EmbeddedWalletAbortController,onTimeout:o=>{o==="iframe_load_failed"?$o.open(co.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):o==="iframe_request_timeout"?$o.open(co.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):o==="unverified_domain"&&$o.open(co.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),Ho.subscribeOpen(o=>{!o&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&rt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const n=Z.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===Z.state.activeChain&&i){const s=this.getAdapter(r),o=qt.getProvider(r),a=qt.getProviderId(r);await s?.switchNetwork({caipNetwork:e,provider:o,providerType:a}),this.setCaipNetwork(e)}else{const o=qt.getProviderId(n)===gn.CONNECTOR_TYPE_AUTH,a=qt.getProviderId(r),c=a===gn.CONNECTOR_TYPE_AUTH,u=Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((o&&a===void 0||c)&&u)try{Z.state.activeChain=e.chainNamespace,await this.connectionControllerClient?.connectExternal?.({id:Ce.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:gn.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:a})}else a===gn.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){const i=`${r}:${n}`,s=this.caipNetworks?.find(o=>o.caipNetworkId===i);if(r!==Ce.CHAIN.EVM||s?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:o,avatar:a}=await this.fetchIdentity({address:e,caipNetworkId:i});this.setProfileName(o,r),this.setProfileImage(a,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=qt.getProviderId(e);if(n===gn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=De.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!zR&&tt.isClient()){const e={...Or.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(Nn(()=>import("./embedded-wallet-5Sd4F2Bi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&n.push(Nn(()=>import("./email-D0qwpMvK.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),e.socials&&n.push(Nn(()=>import("./socials-5Otk3VgL.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),e.swaps&&n.push(Nn(()=>import("./swaps-nY2dwqM3.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&n.push(Nn(()=>import("./send-DRVZ3rNR.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&n.push(Nn(()=>import("./receive-CeD2wL3A.js"),__vite__mapDeps([28,1,29,3,19]))),e.onramp&&n.push(Nn(()=>import("./onramp-CYM7hR36.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]))),e.history&&n.push(Nn(()=>import("./transactions-CepvJWAt.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]))),e.pay&&n.push(Nn(()=>import("./index-Dpd1hpPk.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18])))),await Promise.all([...n,Nn(()=>import("./index-77N3VRLU.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33])),Nn(()=>import("./w3m-modal-Cwy4CrsD.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]))]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!we.state.disableAppend&&!we.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}zR=!0}}}let Qn;function pie(t){t&&(Qn=t)}function gie(t){const{providers:e,providerIds:n}=nA(qt.state),r=e[t],i=n[t];return{walletProvider:r,walletProviderType:i}}function mie(){if(!Qn)throw new Error('Please call "createAppKit" before using "useAppKitTheme" hook');function t(o){o&&Qn?.setThemeMode(o)}function e(o){o&&Qn?.setThemeVariables(o)}const[n,r]=It.useState(Qn.getThemeMode()),[i,s]=It.useState(Qn.getThemeVariables());return It.useEffect(()=>{const o=Qn?.subscribeTheme(a=>{r(a.themeMode),s(a.themeVariables)});return()=>{o?.()}},[]),{themeMode:n,themeVariables:i,setThemeMode:t,setThemeVariables:e}}function yie(){if(!Qn)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await Qn?.open(n)}async function e(){await Qn?.close()}return{open:t,close:e}}function bie(){if(!Qn)throw new Error('Please call "createAppKit" before using "useWalletInfo" hook');return{walletInfo:It.useSyncExternalStore(Qn.subscribeWalletInfo,Qn.getWalletInfo,Qn.getWalletInfo)}}function wie(){if(!Qn)throw new Error('Please call "createAppKit" before using "useAppKitState" hook');const[t,e]=It.useState({...Qn.getState(),initialized:!1});return It.useEffect(()=>{if(Qn){e({...Qn.getState()});const n=Qn?.subscribeState(r=>{e({...r})});return()=>{n?.()}}return()=>null},[]),t}function vie(){if(!Qn)throw new Error('Please call "createAppKit" before using "useAppKitEvents" hook');const[t,e]=It.useState(Qn.getEvent());return It.useEffect(()=>{const n=Qn?.subscribeEvents(r=>{e({...r})});return()=>{n?.()}},[]),t}const Eie="1.7.5";let S0;function _ie(t){return S0||(S0=new fie({...t,sdkVersion:tt.generateSdkVersion(t.adapters??[],"react",Eie)}),pie(S0)),S0}const xf=vn({connection:null}),yl={state:xf,subscribeKey(t,e){return yi(xf,t,e)},subscribe(t){return ti(xf,()=>t(xf))},setConnection(t){xf.connection=Vc(t)}};var bt={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Su,n=Wh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,d){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(p)}return c(p,l,d)}a.poolSize=8192;function c(p,l,d){if(typeof p=="string")return g(p,l);if(ArrayBuffer.isView(p))return _(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ce(p,ArrayBuffer)||p&&ce(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(p,SharedArrayBuffer)||p&&ce(p.buffer,SharedArrayBuffer)))return x(p,l,d);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,l,d);const A=C(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,d){return c(p,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,l,d){return u(p),p<=0?o(p):l!==void 0?typeof d=="string"?o(p).fill(l,d):o(p).fill(l):o(p)}a.alloc=function(p,l,d){return h(p,l,d)};function f(p){return u(p),o(p<0?0:S(p)|0)}a.allocUnsafe=function(p){return f(p)},a.allocUnsafeSlow=function(p){return f(p)};function g(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=I(p,l)|0;let y=o(d);const A=y.write(p,l);return A!==d&&(y=y.slice(0,A)),y}function m(p){const l=p.length<0?0:S(p.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=p[y]&255;return d}function _(p){if(ce(p,Uint8Array)){const l=new Uint8Array(p);return x(l.buffer,l.byteOffset,l.byteLength)}return m(p)}function x(p,l,d){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(p):d===void 0?y=new Uint8Array(p,l):y=new Uint8Array(p,l,d),Object.setPrototypeOf(y,a.prototype),y}function C(p){if(a.isBuffer(p)){const l=S(p.length)|0,d=o(l);return d.length===0||p.copy(d,0,0,l),d}if(p.length!==void 0)return typeof p.length!="number"||Be(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function T(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ce(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ce(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,A=d.length;for(let $=0,F=Math.min(y,A);$<F;++$)if(l[$]!==d[$]){y=l[$],A=d[$];break}return y<A?-1:A<y?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const A=a.allocUnsafe(d);let $=0;for(y=0;y<l.length;++y){let F=l[y];if(ce(F,Uint8Array))$+F.length>A.length?(a.isBuffer(F)||(F=a.from(F)),F.copy(A,$)):Uint8Array.prototype.set.call(A,F,$);else if(a.isBuffer(F))F.copy(A,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=F.length}return A};function I(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ce(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const d=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return N(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(p).length;default:if(A)return y?-1:N(p).length;l=(""+l).toLowerCase(),A=!0}}a.byteLength=I;function P(p,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return R(this,l,d);case"utf8":case"utf-8":return w(this,l,d);case"ascii":return O(this,l,d);case"latin1":case"binary":return B(this,l,d);case"base64":return j(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function z(p,l,d){const y=p[l];p[l]=p[d],p[d]=y}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)z(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)z(this,d,d+3),z(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)z(this,d,d+7),z(this,d+1,d+6),z(this,d+2,d+5),z(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?w(this,0,l):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,y,A,$){if(ce(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),A===void 0&&(A=0),$===void 0&&($=this.length),d<0||y>l.length||A<0||$>this.length)throw new RangeError("out of range index");if(A>=$&&d>=y)return 0;if(A>=$)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,A>>>=0,$>>>=0,this===l)return 0;let F=$-A,le=y-d;const ve=Math.min(F,le),ye=this.slice(A,$),Ne=l.slice(d,y);for(let he=0;he<ve;++he)if(ye[he]!==Ne[he]){F=ye[he],le=Ne[he];break}return F<le?-1:le<F?1:0};function W(p,l,d,y,A){if(p.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Be(d)&&(d=A?0:p.length-1),d<0&&(d=p.length+d),d>=p.length){if(A)return-1;d=p.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,y)),a.isBuffer(l))return l.length===0?-1:L(p,l,d,y,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,d):Uint8Array.prototype.lastIndexOf.call(p,l,d):L(p,[l],d,y,A);throw new TypeError("val must be string, number or Buffer")}function L(p,l,d,y,A){let $=1,F=p.length,le=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||l.length<2)return-1;$=2,F/=2,le/=2,d/=2}function ve(Ne,he){return $===1?Ne[he]:Ne.readUInt16BE(he*$)}let ye;if(A){let Ne=-1;for(ye=d;ye<F;ye++)if(ve(p,ye)===ve(l,Ne===-1?0:ye-Ne)){if(Ne===-1&&(Ne=ye),ye-Ne+1===le)return Ne*$}else Ne!==-1&&(ye-=ye-Ne),Ne=-1}else for(d+le>F&&(d=F-le),ye=d;ye>=0;ye--){let Ne=!0;for(let he=0;he<le;he++)if(ve(p,ye+he)!==ve(l,he)){Ne=!1;break}if(Ne)return ye}return-1}a.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},a.prototype.indexOf=function(l,d,y){return W(this,l,d,y,!0)},a.prototype.lastIndexOf=function(l,d,y){return W(this,l,d,y,!1)};function V(p,l,d,y){d=Number(d)||0;const A=p.length-d;y?(y=Number(y),y>A&&(y=A)):y=A;const $=l.length;y>$/2&&(y=$/2);let F;for(F=0;F<y;++F){const le=parseInt(l.substr(F*2,2),16);if(Be(le))return F;p[d+F]=le}return F}function q(p,l,d,y){return se(N(l,p.length-d),p,d,y)}function X(p,l,d,y){return se(D(l),p,d,y)}function Y(p,l,d,y){return se(J(l),p,d,y)}function ee(p,l,d,y){return se(G(l,p.length-d),p,d,y)}a.prototype.write=function(l,d,y,A){if(d===void 0)A="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")A=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,A===void 0&&(A="utf8")):(A=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-d;if((y===void 0||y>$)&&(y=$),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return V(this,l,d,y);case"utf8":case"utf-8":return q(this,l,d,y);case"ascii":case"latin1":case"binary":return X(this,l,d,y);case"base64":return Y(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,l,d,y);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(p,l,d){return l===0&&d===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,d))}function w(p,l,d){d=Math.min(p.length,d);const y=[];let A=l;for(;A<d;){const $=p[A];let F=null,le=$>239?4:$>223?3:$>191?2:1;if(A+le<=d){let ve,ye,Ne,he;switch(le){case 1:$<128&&(F=$);break;case 2:ve=p[A+1],(ve&192)===128&&(he=($&31)<<6|ve&63,he>127&&(F=he));break;case 3:ve=p[A+1],ye=p[A+2],(ve&192)===128&&(ye&192)===128&&(he=($&15)<<12|(ve&63)<<6|ye&63,he>2047&&(he<55296||he>57343)&&(F=he));break;case 4:ve=p[A+1],ye=p[A+2],Ne=p[A+3],(ve&192)===128&&(ye&192)===128&&(Ne&192)===128&&(he=($&15)<<18|(ve&63)<<12|(ye&63)<<6|Ne&63,he>65535&&he<1114112&&(F=he))}}F===null?(F=65533,le=1):F>65535&&(F-=65536,y.push(F>>>10&1023|55296),F=56320|F&1023),y.push(F),A+=le}return v(y)}const b=4096;function v(p){const l=p.length;if(l<=b)return String.fromCharCode.apply(String,p);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,p.slice(y,y+=b));return d}function O(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]&127);return y}function B(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]);return y}function R(p,l,d){const y=p.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let A="";for(let $=l;$<d;++$)A+=Ge[p[$]];return A}function M(p,l,d){const y=p.slice(l,d);let A="";for(let $=0;$<y.length-1;$+=2)A+=String.fromCharCode(y[$]+y[$+1]*256);return A}a.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const A=this.subarray(l,d);return Object.setPrototypeOf(A,a.prototype),A};function k(p,l,d){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l+--d],$=1;for(;d>0&&($*=256);)A+=this[l+--d]*$;return A},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,$=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(A)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],$=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(A)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return $*=128,A>=$&&(A-=Math.pow(2,8*d)),A},a.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=d,$=1,F=this[l+--A];for(;A>0&&($*=256);)F+=this[l+--A]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*d)),F},a.prototype.readInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(A)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!1,52,8)};function E(p,l,d,y,A,$){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<$)throw new RangeError('"value" argument is out of bounds');if(d+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const le=Math.pow(2,8*y)-1;E(this,l,d,y,le,0)}let $=1,F=0;for(this[d]=l&255;++F<y&&($*=256);)this[d+F]=l/$&255;return d+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const le=Math.pow(2,8*y)-1;E(this,l,d,y,le,0)}let $=y-1,F=1;for(this[d+$]=l&255;--$>=0&&(F*=256);)this[d+$]=l/F&255;return d+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function U(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,d}function Q(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d+7]=$,$=$>>8,p[d+6]=$,$=$>>8,p[d+5]=$,$=$>>8,p[d+4]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d+3]=F,F=F>>8,p[d+2]=F,F=F>>8,p[d+1]=F,F=F>>8,p[d]=F,d+8}a.prototype.writeBigUInt64LE=Ye(function(l,d=0){return U(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(l,d=0){return Q(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=0,F=1,le=0;for(this[d]=l&255;++$<y&&(F*=256);)l<0&&le===0&&this[d+$-1]!==0&&(le=1),this[d+$]=(l/F>>0)-le&255;return d+y},a.prototype.writeIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=y-1,F=1,le=0;for(this[d+$]=l&255;--$>=0&&(F*=256);)l<0&&le===0&&this[d+$+1]!==0&&(le=1),this[d+$]=(l/F>>0)-le&255;return d+y},a.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ye(function(l,d=0){return U(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(l,d=0){return Q(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(p,l,d,y,A,$){if(d+y>p.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function oe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,4),n.write(p,l,d,y,23,4),d+4}a.prototype.writeFloatLE=function(l,d,y){return oe(this,l,d,!0,y)},a.prototype.writeFloatBE=function(l,d,y){return oe(this,l,d,!1,y)};function pe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,8),n.write(p,l,d,y,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,y){return pe(this,l,d,!0,y)},a.prototype.writeDoubleBE=function(l,d,y){return pe(this,l,d,!1,y)},a.prototype.copy=function(l,d,y,A){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!A&&A!==0&&(A=this.length),d>=l.length&&(d=l.length),d||(d=0),A>0&&A<y&&(A=y),A===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-d<A-y&&(A=l.length-d+y);const $=A-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,A):Uint8Array.prototype.set.call(l,this.subarray(y,A),d),$},a.prototype.fill=function(l,d,y,A){if(typeof l=="string"){if(typeof d=="string"?(A=d,d=0,y=this.length):typeof y=="string"&&(A=y,y=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){const F=l.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(l=F)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let $;if(typeof l=="number")for($=d;$<y;++$)this[$]=l;else{const F=a.isBuffer(l)?l:a.from(l,A),le=F.length;if(le===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for($=0;$<y-d;++$)this[$+d]=F[$%le]}return this};const ue={};function me(p,l,d){ue[p]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),me("ERR_OUT_OF_RANGE",function(p,l,d){let y=`The value of "${p}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=et(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=et(A)),A+="n"),y+=` It must be ${l}. Received ${A}`,y},RangeError);function et(p){let l="",d=p.length;const y=p[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${p.slice(d-3,d)}${l}`;return`${p.slice(0,d)}${l}`}function qe(p,l,d){je(l,"offset"),(p[l]===void 0||p[l+d]===void 0)&&Pe(l,p.length-(d+1))}function ke(p,l,d,y,A,$){if(p>d||p<l){const F=typeof l=="bigint"?"n":"";let le;throw l===0||l===BigInt(0)?le=`>= 0${F} and < 2${F} ** ${($+1)*8}${F}`:le=`>= -(2${F} ** ${($+1)*8-1}${F}) and < 2 ** ${($+1)*8-1}${F}`,new ue.ERR_OUT_OF_RANGE("value",le,p)}qe(y,A,$)}function je(p,l){if(typeof p!="number")throw new ue.ERR_INVALID_ARG_TYPE(l,"number",p)}function Pe(p,l,d){throw Math.floor(p)!==p?(je(p,d),new ue.ERR_OUT_OF_RANGE("offset","an integer",p)):l<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,p)}const st=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace(st,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function N(p,l){l=l||1/0;let d;const y=p.length;let A=null;const $=[];for(let F=0;F<y;++F){if(d=p.charCodeAt(F),d>55295&&d<57344){if(!A){if(d>56319){(l-=3)>-1&&$.push(239,191,189);continue}else if(F+1===y){(l-=3)>-1&&$.push(239,191,189);continue}A=d;continue}if(d<56320){(l-=3)>-1&&$.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(l-=3)>-1&&$.push(239,191,189);if(A=null,d<128){if((l-=1)<0)break;$.push(d)}else if(d<2048){if((l-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function D(p){const l=[];for(let d=0;d<p.length;++d)l.push(p.charCodeAt(d)&255);return l}function G(p,l){let d,y,A;const $=[];for(let F=0;F<p.length&&!((l-=2)<0);++F)d=p.charCodeAt(F),y=d>>8,A=d%256,$.push(A),$.push(y);return $}function J(p){return e.toByteArray(K(p))}function se(p,l,d,y){let A;for(A=0;A<y&&!(A+d>=l.length||A>=p.length);++A)l[A+d]=p[A];return A}function ce(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Be(p){return p!==p}const Ge=function(){const p="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let A=0;A<16;++A)l[y+A]=p[d]+p[A]}return l}();function Ye(p){return typeof BigInt>"u"?at:p}function at(){throw new Error("BigInt not supported")}})(bt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hi=BigInt(0),ei=BigInt(1),Bl=BigInt(2),xie=BigInt(3),ND=BigInt(4),OD=BigInt(5),BD=BigInt(8);function xn(t,e){const n=t%e;return n>=Hi?n:e+n}function Zn(t,e,n){let r=t;for(;e-- >Hi;)r*=r,r%=n;return r}function Z_(t,e){if(t===Hi)throw new Error("invert: expected non-zero number");if(e<=Hi)throw new Error("invert: expected positive modulus, got "+e);let n=xn(t,e),r=e,i=Hi,s=ei;for(;n!==Hi;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==ei)throw new Error("invert: does not exist");return xn(i,e)}function DD(t,e){const n=(t.ORDER+ei)/ND,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Sie(t,e){const n=(t.ORDER-OD)/BD,r=t.mul(e,Bl),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Bl),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Aie(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ei,n=0;for(;e%Bl===Hi;)e/=Bl,n++;let r=Bl;const i=wm(t);for(;FR(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return DD;let s=i.pow(r,e);const o=(e+ei)/Bl;return function(c,u){if(c.is0(u))return u;if(FR(c,u)!==1)throw new Error("Cannot find square root");let h=n,f=c.mul(c.ONE,s),g=c.pow(u,e),m=c.pow(u,o);for(;!c.eql(g,c.ONE);){if(c.is0(g))return c.ZERO;let _=1,x=c.sqr(g);for(;!c.eql(x,c.ONE);)if(_++,x=c.sqr(x),_===h)throw new Error("Cannot find square root");const C=ei<<BigInt(h-_-1),S=c.pow(f,C);h=_,f=c.sqr(S),g=c.mul(g,f),m=c.mul(m,S)}return m}}function Cie(t){return t%ND===xie?DD:t%BD===OD?Sie:Aie(t)}const Tie=(t,e)=>(xn(t,e)&ei)===ei,Iie=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rie(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Iie.reduce((r,i)=>(r[i]="function",r),e);return pm(t,n)}function kie(t,e,n){if(n<Hi)throw new Error("invalid exponent, negatives unsupported");if(n===Hi)return t.ONE;if(n===ei)return e;let r=t.ONE,i=e;for(;n>Hi;)n&ei&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ei;return r}function lA(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function FR(t,e){const n=(t.ORDER-ei)/Bl,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function PD(t,e){e!==void 0&&H_(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wm(t,e,n=!1,r={}){if(t<=Hi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=PD(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:pw(i),ZERO:Hi,ONE:ei,create:c=>xn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Hi<=c&&c<t},is0:c=>c===Hi,isOdd:c=>(c&ei)===ei,neg:c=>xn(-c,t),eql:(c,u)=>c===u,sqr:c=>xn(c*c,t),add:(c,u)=>xn(c+u,t),sub:(c,u)=>xn(c-u,t),mul:(c,u)=>xn(c*u,t),pow:(c,u)=>kie(a,c,u),div:(c,u)=>xn(c*Z_(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Z_(c,t),sqrt:r.sqrt||(c=>(o||(o=Cie(t)),o(a,c))),toBytes:c=>n?Uy(c,s):fm(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?op(c):jl(c)},invertBatch:c=>lA(a,c),cmov:(c,u,h)=>h?u:c});return Object.freeze(a)}function $D(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function MD(t){const e=$D(t);return e+Math.ceil(e/2)}function Nie(t,e,n=!1){const r=t.length,i=$D(e),s=MD(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?op(t):jl(t),a=xn(o,e-ei)+ei;return n?Uy(a,i):fm(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jR=BigInt(0),X_=BigInt(1);function N1(t,e){const n=e.negate();return t?n:e}function UD(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function O1(t,e){UD(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=pw(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function HR(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=X_);const u=e*r,h=u+Math.abs(a)-1,f=a===0,g=a<0,m=e%2!==0;return{nextN:c,offset:h,isZero:f,isNeg:g,isNegF:m,offsetF:u}}function Oie(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Bie(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const B1=new WeakMap,LD=new WeakMap;function D1(t){return LD.get(t)||1}function zD(t,e){return{constTimeNegate:N1,hasPrecomputes(n){return D1(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>jR;)r&X_&&(i=i.add(s)),s=s.double(),r>>=X_;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=O1(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let h=1;h<s;h++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=O1(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:h,isZero:f,isNeg:g,isNegF:m,offsetF:_}=HR(i,c,a);i=u,f?o=o.add(N1(m,r[_])):s=s.add(N1(g,r[h]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=O1(n,e);for(let a=0;a<o.windows&&i!==jR;a++){const{nextN:c,offset:u,isZero:h,isNeg:f}=HR(i,a,o);if(i=c,!h){const g=r[u];s=s.add(f?g.negate():g)}}return s},getPrecomputes(n,r,i){let s=B1.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&B1.set(r,i(s))),s},wNAFCached(n,r,i){const s=D1(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=D1(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){UD(r,e),LD.set(n,r),B1.delete(n)}}}function FD(t,e,n,r){Oie(n,t),Bie(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=zJ(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=pw(c),h=new Array(Number(u)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let g=o;for(let m=f;m>=0;m-=c){h.fill(o);for(let x=0;x<s;x++){const C=r[x],S=Number(C>>BigInt(m)&u);h[S]=h[S].add(n[x])}let _=o;for(let x=h.length-1,C=o;x>0;x--)C=C.add(h[x]),_=_.add(C);if(g=g.add(_),m!==0)for(let x=0;x<c;x++)g=g.double()}return g}function uA(t){return Rie(t.Fp),pm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...PD(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const No=BigInt(0),vi=BigInt(1),qR=BigInt(2),Die=BigInt(8),Pie={zip215:!0};function $ie(t){const e=uA(t);return pm(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Mie(t){const e=$ie(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=qR<<BigInt(a*8)-vi,h=n.create,f=wm(e.n,e.nBitLength);function g(B,R){const M=n.sqr(B),k=n.sqr(R),E=n.add(n.mul(e.a,M),k),U=n.add(n.ONE,n.mul(e.d,n.mul(M,k)));return n.eql(E,U)}if(!g(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=e.uvRatio||((B,R)=>{try{return{isValid:!0,value:n.sqrt(B*n.inv(R))}}catch{return{isValid:!1,value:No}}}),_=e.adjustScalarBytes||(B=>B),x=e.domain||((B,R,M)=>{if(Nc("phflag",M),R.length||M)throw new Error("Contexts/pre-hash are not supported");return B});function C(B,R,M=!1){const k=M?vi:No;ho("coordinate "+B,R,k,u)}function S(B){if(!(B instanceof P))throw new Error("ExtendedPoint expected")}const T=Ly((B,R)=>{const{ex:M,ey:k,ez:E}=B,U=B.is0();R==null&&(R=U?Die:n.inv(E));const Q=h(M*R),te=h(k*R),oe=h(E*R);if(U)return{x:No,y:vi};if(oe!==vi)throw new Error("invZ was invalid");return{x:Q,y:te}}),I=Ly(B=>{const{a:R,d:M}=e;if(B.is0())throw new Error("bad point: ZERO");const{ex:k,ey:E,ez:U,et:Q}=B,te=h(k*k),oe=h(E*E),pe=h(U*U),ue=h(pe*pe),me=h(te*R),et=h(pe*h(me+oe)),qe=h(ue+h(M*h(te*oe)));if(et!==qe)throw new Error("bad point: equation left != right (1)");const ke=h(k*E),je=h(U*Q);if(ke!==je)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(R,M,k,E){C("x",R),C("y",M),C("z",k,!0),C("t",E),this.ex=R,this.ey=M,this.ez=k,this.et=E,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof P)throw new Error("extended point not allowed");const{x:M,y:k}=R||{};return C("x",M),C("y",k),new P(M,k,vi,h(M*k))}static normalizeZ(R){const M=lA(n,R.map(k=>k.ez));return R.map((k,E)=>k.toAffine(M[E])).map(P.fromAffine)}static msm(R,M){return FD(P,f,R,M)}_setWindowSize(R){L.setWindowSize(this,R)}assertValidity(){I(this)}equals(R){S(R);const{ex:M,ey:k,ez:E}=this,{ex:U,ey:Q,ez:te}=R,oe=h(M*te),pe=h(U*E),ue=h(k*te),me=h(Q*E);return oe===pe&&ue===me}is0(){return this.equals(P.ZERO)}negate(){return new P(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:R}=e,{ex:M,ey:k,ez:E}=this,U=h(M*M),Q=h(k*k),te=h(qR*h(E*E)),oe=h(R*U),pe=M+k,ue=h(h(pe*pe)-U-Q),me=oe+Q,et=me-te,qe=oe-Q,ke=h(ue*et),je=h(me*qe),Pe=h(ue*qe),st=h(et*me);return new P(ke,je,st,Pe)}add(R){S(R);const{a:M,d:k}=e,{ex:E,ey:U,ez:Q,et:te}=this,{ex:oe,ey:pe,ez:ue,et:me}=R,et=h(E*oe),qe=h(U*pe),ke=h(te*k*me),je=h(Q*ue),Pe=h((E+U)*(oe+pe)-et-qe),st=je-ke,K=je+ke,N=h(qe-M*et),D=h(Pe*st),G=h(K*N),J=h(Pe*N),se=h(st*K);return new P(D,G,se,J)}subtract(R){return this.add(R.negate())}wNAF(R){return L.wNAFCached(this,R,P.normalizeZ)}multiply(R){const M=R;ho("scalar",M,vi,r);const{p:k,f:E}=this.wNAF(M);return P.normalizeZ([k,E])[0]}multiplyUnsafe(R,M=P.ZERO){const k=R;return ho("scalar",k,No,r),k===No?W:this.is0()||k===vi?this:L.wNAFCachedUnsafe(this,k,P.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return L.unsafeLadder(this,r).is0()}toAffine(R){return T(this,R)}clearCofactor(){const{h:R}=e;return R===vi?this:this.multiplyUnsafe(R)}static fromHex(R,M=!1){const{d:k,a:E}=e,U=n.BYTES;R=nr("pointHex",R,U),Nc("zip215",M);const Q=R.slice(),te=R[U-1];Q[U-1]=te&-129;const oe=op(Q),pe=M?u:n.ORDER;ho("pointHex.y",oe,No,pe);const ue=h(oe*oe),me=h(ue-vi),et=h(k*ue-E);let{isValid:qe,value:ke}=m(me,et);if(!qe)throw new Error("Point.fromHex: invalid y coordinate");const je=(ke&vi)===vi,Pe=(te&128)!==0;if(!M&&ke===No&&Pe)throw new Error("Point.fromHex: x=0 and x_0=1");return Pe!==je&&(ke=h(-ke)),P.fromAffine({x:ke,y:oe})}static fromPrivateKey(R){const{scalar:M}=X(R);return z.multiply(M)}toRawBytes(){const{x:R,y:M}=this.toAffine(),k=Uy(M,n.BYTES);return k[k.length-1]|=R&vi?128:0,k}toHex(){return ph(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,vi,h(e.Gx*e.Gy)),P.ZERO=new P(No,vi,vi,No);const{BASE:z,ZERO:W}=P,L=zD(P,a*8);function V(B){return xn(B,r)}function q(B){return V(op(B))}function X(B){const R=n.BYTES;B=nr("private key",B,R);const M=nr("hashed private key",s(B),2*R),k=_(M.slice(0,R)),E=M.slice(R,2*R),U=q(k);return{head:k,prefix:E,scalar:U}}function Y(B){const{head:R,prefix:M,scalar:k}=X(B),E=z.multiply(k),U=E.toRawBytes();return{head:R,prefix:M,scalar:k,point:E,pointBytes:U}}function ee(B){return Y(B).pointBytes}function j(B=Uint8Array.of(),...R){const M=gh(...R);return q(s(x(M,nr("context",B),!!i)))}function w(B,R,M={}){B=nr("message",B),i&&(B=i(B));const{prefix:k,scalar:E,pointBytes:U}=Y(R),Q=j(M.context,k,B),te=z.multiply(Q).toRawBytes(),oe=j(M.context,te,U,B),pe=V(Q+oe*E);ho("signature.s",pe,No,r);const ue=gh(te,Uy(pe,n.BYTES));return nr("result",ue,n.BYTES*2)}const b=Pie;function v(B,R,M,k=b){const{context:E,zip215:U}=k,Q=n.BYTES;B=nr("signature",B,2*Q),R=nr("message",R),M=nr("publicKey",M,Q),U!==void 0&&Nc("zip215",U),i&&(R=i(R));const te=op(B.slice(Q,2*Q));let oe,pe,ue;try{oe=P.fromHex(M,U),pe=P.fromHex(B.slice(0,Q),U),ue=z.multiplyUnsafe(te)}catch{return!1}if(!U&&oe.isSmallOrder())return!1;const me=j(E,pe.toRawBytes(),oe.toRawBytes(),R);return pe.add(oe.multiplyUnsafe(me)).subtract(ue).clearCofactor().equals(P.ZERO)}return z._setWindowSize(8),{CURVE:e,getPublicKey:ee,sign:w,verify:v,ExtendedPoint:P,utils:{getExtendedPublicKey:Y,randomPrivateKey:()=>o(n.BYTES),precompute(B=8,R=P.BASE){return R._setWindowSize(B),R.multiply(BigInt(3)),R}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),VR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Uie=BigInt(1),WR=BigInt(2);BigInt(3);const Lie=BigInt(5),zie=BigInt(8);function Fie(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=dA,a=t*t%s*t%s,c=Zn(a,WR,s)*a%s,u=Zn(c,Uie,s)*t%s,h=Zn(u,Lie,s)*u%s,f=Zn(h,e,s)*h%s,g=Zn(f,n,s)*f%s,m=Zn(g,r,s)*g%s,_=Zn(m,i,s)*m%s,x=Zn(_,i,s)*m%s,C=Zn(x,e,s)*h%s;return{pow_p_5_8:Zn(C,WR,s)*t%s,b2:a}}function jie(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Hie(t,e){const n=dA,r=xn(e*e*e,n),i=xn(r*r*e,n),s=Fie(t*i).pow_p_5_8;let o=xn(t*r*s,n);const a=xn(e*o*o,n),c=o,u=xn(o*VR,n),h=a===t,f=a===xn(-t,n),g=a===xn(-t*VR,n);return h&&(o=c),(f||g)&&(o=u),Tie(o,n)&&(o=xn(-o,n)),{isValid:h||f,value:o}}const KR=wm(dA,void 0,!0),qie={a:KR.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:KR,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:zie,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:xee,randomBytes:QB,adjustScalarBytes:jie,uvRatio:Hie},hA=Mie(qie);var fA={exports:{}};const Vie={},Wie=Object.freeze(Object.defineProperty({__proto__:null,default:Vie},Symbol.toStringTag,{value:"Module"})),Kie=Yg(Wie);fA.exports;(function(t){(function(e,n){function r(j,w){if(!j)throw new Error(w||"Assertion failed")}function i(j,w){j.super_=w;var b=function(){};b.prototype=w.prototype,j.prototype=new b,j.prototype.constructor=j}function s(j,w,b){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((w==="le"||w==="be")&&(b=w,w=10),this._init(j||0,w||10,b||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Kie.Buffer}catch{}s.isBN=function(w){return w instanceof s?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===s.wordSize&&Array.isArray(w.words)},s.max=function(w,b){return w.cmp(b)>0?w:b},s.min=function(w,b){return w.cmp(b)<0?w:b},s.prototype._init=function(w,b,v){if(typeof w=="number")return this._initNumber(w,b,v);if(typeof w=="object")return this._initArray(w,b,v);b==="hex"&&(b=16),r(b===(b|0)&&b>=2&&b<=36),w=w.toString().replace(/\s+/g,"");var O=0;w[0]==="-"&&(O++,this.negative=1),O<w.length&&(b===16?this._parseHex(w,O,v):(this._parseBase(w,b,O),v==="le"&&this._initArray(this.toArray(),b,v)))},s.prototype._initNumber=function(w,b,v){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),b,v)},s.prototype._initArray=function(w,b,v){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var B,R,M=0;if(v==="be")for(O=w.length-1,B=0;O>=0;O-=3)R=w[O]|w[O-1]<<8|w[O-2]<<16,this.words[B]|=R<<M&67108863,this.words[B+1]=R>>>26-M&67108863,M+=24,M>=26&&(M-=26,B++);else if(v==="le")for(O=0,B=0;O<w.length;O+=3)R=w[O]|w[O+1]<<8|w[O+2]<<16,this.words[B]|=R<<M&67108863,this.words[B+1]=R>>>26-M&67108863,M+=24,M>=26&&(M-=26,B++);return this._strip()};function a(j,w){var b=j.charCodeAt(w);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;r(!1,"Invalid character in "+j)}function c(j,w,b){var v=a(j,b);return b-1>=w&&(v|=a(j,b-1)<<4),v}s.prototype._parseHex=function(w,b,v){this.length=Math.ceil((w.length-b)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var B=0,R=0,M;if(v==="be")for(O=w.length-1;O>=b;O-=2)M=c(w,b,O)<<B,this.words[R]|=M&67108863,B>=18?(B-=18,R+=1,this.words[R]|=M>>>26):B+=8;else{var k=w.length-b;for(O=k%2===0?b+1:b;O<w.length;O+=2)M=c(w,b,O)<<B,this.words[R]|=M&67108863,B>=18?(B-=18,R+=1,this.words[R]|=M>>>26):B+=8}this._strip()};function u(j,w,b,v){for(var O=0,B=0,R=Math.min(j.length,b),M=w;M<R;M++){var k=j.charCodeAt(M)-48;O*=v,k>=49?B=k-49+10:k>=17?B=k-17+10:B=k,r(k>=0&&B<v,"Invalid character"),O+=B}return O}s.prototype._parseBase=function(w,b,v){this.words=[0],this.length=1;for(var O=0,B=1;B<=67108863;B*=b)O++;O--,B=B/b|0;for(var R=w.length-v,M=R%O,k=Math.min(R,R-M)+v,E=0,U=v;U<k;U+=O)E=u(w,U,U+O,b),this.imuln(B),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(M!==0){var Q=1;for(E=u(w,U,w.length,b),U=0;U<M;U++)Q*=b;this.imuln(Q),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(w){w.words=new Array(this.length);for(var b=0;b<this.length;b++)w.words[b]=this.words[b];w.length=this.length,w.negative=this.negative,w.red=this.red};function h(j,w){j.words=w.words,j.length=w.length,j.negative=w.negative,j.red=w.red}if(s.prototype._move=function(w){h(w,this)},s.prototype.clone=function(){var w=new s(null);return this.copy(w),w},s.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(w,b){w=w||10,b=b|0||1;var v;if(w===16||w==="hex"){v="";for(var O=0,B=0,R=0;R<this.length;R++){var M=this.words[R],k=((M<<O|B)&16777215).toString(16);B=M>>>24-O&16777215,O+=2,O>=26&&(O-=26,R--),B!==0||R!==this.length-1?v=g[6-k.length]+k+v:v=k+v}for(B!==0&&(v=B.toString(16)+v);v.length%b!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(w===(w|0)&&w>=2&&w<=36){var E=m[w],U=_[w];v="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var te=Q.modrn(U).toString(w);Q=Q.idivn(U),Q.isZero()?v=te+v:v=g[E-te.length]+te+v}for(this.isZero()&&(v="0"+v);v.length%b!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(w,b){return this.toArrayLike(o,w,b)}),s.prototype.toArray=function(w,b){return this.toArrayLike(Array,w,b)};var x=function(w,b){return w.allocUnsafe?w.allocUnsafe(b):new w(b)};s.prototype.toArrayLike=function(w,b,v){this._strip();var O=this.byteLength(),B=v||Math.max(1,O);r(O<=B,"byte array longer than desired length"),r(B>0,"Requested array length <= 0");var R=x(w,B),M=b==="le"?"LE":"BE";return this["_toArrayLike"+M](R,O),R},s.prototype._toArrayLikeLE=function(w,b){for(var v=0,O=0,B=0,R=0;B<this.length;B++){var M=this.words[B]<<R|O;w[v++]=M&255,v<w.length&&(w[v++]=M>>8&255),v<w.length&&(w[v++]=M>>16&255),R===6?(v<w.length&&(w[v++]=M>>24&255),O=0,R=0):(O=M>>>24,R+=2)}if(v<w.length)for(w[v++]=O;v<w.length;)w[v++]=0},s.prototype._toArrayLikeBE=function(w,b){for(var v=w.length-1,O=0,B=0,R=0;B<this.length;B++){var M=this.words[B]<<R|O;w[v--]=M&255,v>=0&&(w[v--]=M>>8&255),v>=0&&(w[v--]=M>>16&255),R===6?(v>=0&&(w[v--]=M>>24&255),O=0,R=0):(O=M>>>24,R+=2)}if(v>=0)for(w[v--]=O;v>=0;)w[v--]=0},Math.clz32?s.prototype._countBits=function(w){return 32-Math.clz32(w)}:s.prototype._countBits=function(w){var b=w,v=0;return b>=4096&&(v+=13,b>>>=13),b>=64&&(v+=7,b>>>=7),b>=8&&(v+=4,b>>>=4),b>=2&&(v+=2,b>>>=2),v+b},s.prototype._zeroBits=function(w){if(w===0)return 26;var b=w,v=0;return b&8191||(v+=13,b>>>=13),b&127||(v+=7,b>>>=7),b&15||(v+=4,b>>>=4),b&3||(v+=2,b>>>=2),b&1||v++,v},s.prototype.bitLength=function(){var w=this.words[this.length-1],b=this._countBits(w);return(this.length-1)*26+b};function C(j){for(var w=new Array(j.bitLength()),b=0;b<w.length;b++){var v=b/26|0,O=b%26;w[b]=j.words[v]>>>O&1}return w}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,b=0;b<this.length;b++){var v=this._zeroBits(this.words[b]);if(w+=v,v!==26)break}return w},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},s.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]|w.words[b];return this._strip()},s.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},s.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},s.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},s.prototype.iuand=function(w){var b;this.length>w.length?b=w:b=this;for(var v=0;v<b.length;v++)this.words[v]=this.words[v]&w.words[v];return this.length=b.length,this._strip()},s.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},s.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},s.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},s.prototype.iuxor=function(w){var b,v;this.length>w.length?(b=this,v=w):(b=w,v=this);for(var O=0;O<v.length;O++)this.words[O]=b.words[O]^v.words[O];if(this!==b)for(;O<b.length;O++)this.words[O]=b.words[O];return this.length=b.length,this._strip()},s.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},s.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},s.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},s.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var b=Math.ceil(w/26)|0,v=w%26;this._expand(b),v>0&&b--;for(var O=0;O<b;O++)this.words[O]=~this.words[O]&67108863;return v>0&&(this.words[O]=~this.words[O]&67108863>>26-v),this._strip()},s.prototype.notn=function(w){return this.clone().inotn(w)},s.prototype.setn=function(w,b){r(typeof w=="number"&&w>=0);var v=w/26|0,O=w%26;return this._expand(v+1),b?this.words[v]=this.words[v]|1<<O:this.words[v]=this.words[v]&~(1<<O),this._strip()},s.prototype.iadd=function(w){var b;if(this.negative!==0&&w.negative===0)return this.negative=0,b=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,b=this.isub(w),w.negative=1,b._normSign();var v,O;this.length>w.length?(v=this,O=w):(v=w,O=this);for(var B=0,R=0;R<O.length;R++)b=(v.words[R]|0)+(O.words[R]|0)+B,this.words[R]=b&67108863,B=b>>>26;for(;B!==0&&R<v.length;R++)b=(v.words[R]|0)+B,this.words[R]=b&67108863,B=b>>>26;if(this.length=v.length,B!==0)this.words[this.length]=B,this.length++;else if(v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this},s.prototype.add=function(w){var b;return w.negative!==0&&this.negative===0?(w.negative=0,b=this.sub(w),w.negative^=1,b):w.negative===0&&this.negative!==0?(this.negative=0,b=w.sub(this),this.negative=1,b):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},s.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var b=this.iadd(w);return w.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var v=this.cmp(w);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,B;v>0?(O=this,B=w):(O=w,B=this);for(var R=0,M=0;M<B.length;M++)b=(O.words[M]|0)-(B.words[M]|0)+R,R=b>>26,this.words[M]=b&67108863;for(;R!==0&&M<O.length;M++)b=(O.words[M]|0)+R,R=b>>26,this.words[M]=b&67108863;if(R===0&&M<O.length&&O!==this)for(;M<O.length;M++)this.words[M]=O.words[M];return this.length=Math.max(this.length,M),O!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(w){return this.clone().isub(w)};function S(j,w,b){b.negative=w.negative^j.negative;var v=j.length+w.length|0;b.length=v,v=v-1|0;var O=j.words[0]|0,B=w.words[0]|0,R=O*B,M=R&67108863,k=R/67108864|0;b.words[0]=M;for(var E=1;E<v;E++){for(var U=k>>>26,Q=k&67108863,te=Math.min(E,w.length-1),oe=Math.max(0,E-j.length+1);oe<=te;oe++){var pe=E-oe|0;O=j.words[pe]|0,B=w.words[oe]|0,R=O*B+Q,U+=R/67108864|0,Q=R&67108863}b.words[E]=Q|0,k=U|0}return k!==0?b.words[E]=k|0:b.length--,b._strip()}var T=function(w,b,v){var O=w.words,B=b.words,R=v.words,M=0,k,E,U,Q=O[0]|0,te=Q&8191,oe=Q>>>13,pe=O[1]|0,ue=pe&8191,me=pe>>>13,et=O[2]|0,qe=et&8191,ke=et>>>13,je=O[3]|0,Pe=je&8191,st=je>>>13,K=O[4]|0,N=K&8191,D=K>>>13,G=O[5]|0,J=G&8191,se=G>>>13,ce=O[6]|0,Be=ce&8191,Ge=ce>>>13,Ye=O[7]|0,at=Ye&8191,p=Ye>>>13,l=O[8]|0,d=l&8191,y=l>>>13,A=O[9]|0,$=A&8191,F=A>>>13,le=B[0]|0,ve=le&8191,ye=le>>>13,Ne=B[1]|0,he=Ne&8191,Un=Ne>>>13,jm=B[2]|0,Ln=jm&8191,zn=jm>>>13,Hm=B[3]|0,Fn=Hm&8191,jn=Hm>>>13,qm=B[4]|0,Hn=qm&8191,dn=qm>>>13,Vm=B[5]|0,Tn=Vm&8191,rn=Vm>>>13,af=B[6]|0,kt=af&8191,qn=af>>>13,Wm=B[7]|0,Vn=Wm&8191,In=Wm>>>13,Km=B[8]|0,Wn=Km&8191,Kn=Km>>>13,Gm=B[9]|0,Rn=Gm&8191,Gn=Gm>>>13;v.negative=w.negative^b.negative,v.length=19,k=Math.imul(te,ve),E=Math.imul(te,ye),E=E+Math.imul(oe,ve)|0,U=Math.imul(oe,ye);var $u=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+($u>>>26)|0,$u&=67108863,k=Math.imul(ue,ve),E=Math.imul(ue,ye),E=E+Math.imul(me,ve)|0,U=Math.imul(me,ye),k=k+Math.imul(te,he)|0,E=E+Math.imul(te,Un)|0,E=E+Math.imul(oe,he)|0,U=U+Math.imul(oe,Un)|0;var Ym=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Ym>>>26)|0,Ym&=67108863,k=Math.imul(qe,ve),E=Math.imul(qe,ye),E=E+Math.imul(ke,ve)|0,U=Math.imul(ke,ye),k=k+Math.imul(ue,he)|0,E=E+Math.imul(ue,Un)|0,E=E+Math.imul(me,he)|0,U=U+Math.imul(me,Un)|0,k=k+Math.imul(te,Ln)|0,E=E+Math.imul(te,zn)|0,E=E+Math.imul(oe,Ln)|0,U=U+Math.imul(oe,zn)|0;var Zm=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Zm>>>26)|0,Zm&=67108863,k=Math.imul(Pe,ve),E=Math.imul(Pe,ye),E=E+Math.imul(st,ve)|0,U=Math.imul(st,ye),k=k+Math.imul(qe,he)|0,E=E+Math.imul(qe,Un)|0,E=E+Math.imul(ke,he)|0,U=U+Math.imul(ke,Un)|0,k=k+Math.imul(ue,Ln)|0,E=E+Math.imul(ue,zn)|0,E=E+Math.imul(me,Ln)|0,U=U+Math.imul(me,zn)|0,k=k+Math.imul(te,Fn)|0,E=E+Math.imul(te,jn)|0,E=E+Math.imul(oe,Fn)|0,U=U+Math.imul(oe,jn)|0;var ae=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(ae>>>26)|0,ae&=67108863,k=Math.imul(N,ve),E=Math.imul(N,ye),E=E+Math.imul(D,ve)|0,U=Math.imul(D,ye),k=k+Math.imul(Pe,he)|0,E=E+Math.imul(Pe,Un)|0,E=E+Math.imul(st,he)|0,U=U+Math.imul(st,Un)|0,k=k+Math.imul(qe,Ln)|0,E=E+Math.imul(qe,zn)|0,E=E+Math.imul(ke,Ln)|0,U=U+Math.imul(ke,zn)|0,k=k+Math.imul(ue,Fn)|0,E=E+Math.imul(ue,jn)|0,E=E+Math.imul(me,Fn)|0,U=U+Math.imul(me,jn)|0,k=k+Math.imul(te,Hn)|0,E=E+Math.imul(te,dn)|0,E=E+Math.imul(oe,Hn)|0,U=U+Math.imul(oe,dn)|0;var Me=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Me>>>26)|0,Me&=67108863,k=Math.imul(J,ve),E=Math.imul(J,ye),E=E+Math.imul(se,ve)|0,U=Math.imul(se,ye),k=k+Math.imul(N,he)|0,E=E+Math.imul(N,Un)|0,E=E+Math.imul(D,he)|0,U=U+Math.imul(D,Un)|0,k=k+Math.imul(Pe,Ln)|0,E=E+Math.imul(Pe,zn)|0,E=E+Math.imul(st,Ln)|0,U=U+Math.imul(st,zn)|0,k=k+Math.imul(qe,Fn)|0,E=E+Math.imul(qe,jn)|0,E=E+Math.imul(ke,Fn)|0,U=U+Math.imul(ke,jn)|0,k=k+Math.imul(ue,Hn)|0,E=E+Math.imul(ue,dn)|0,E=E+Math.imul(me,Hn)|0,U=U+Math.imul(me,dn)|0,k=k+Math.imul(te,Tn)|0,E=E+Math.imul(te,rn)|0,E=E+Math.imul(oe,Tn)|0,U=U+Math.imul(oe,rn)|0;var dt=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(dt>>>26)|0,dt&=67108863,k=Math.imul(Be,ve),E=Math.imul(Be,ye),E=E+Math.imul(Ge,ve)|0,U=Math.imul(Ge,ye),k=k+Math.imul(J,he)|0,E=E+Math.imul(J,Un)|0,E=E+Math.imul(se,he)|0,U=U+Math.imul(se,Un)|0,k=k+Math.imul(N,Ln)|0,E=E+Math.imul(N,zn)|0,E=E+Math.imul(D,Ln)|0,U=U+Math.imul(D,zn)|0,k=k+Math.imul(Pe,Fn)|0,E=E+Math.imul(Pe,jn)|0,E=E+Math.imul(st,Fn)|0,U=U+Math.imul(st,jn)|0,k=k+Math.imul(qe,Hn)|0,E=E+Math.imul(qe,dn)|0,E=E+Math.imul(ke,Hn)|0,U=U+Math.imul(ke,dn)|0,k=k+Math.imul(ue,Tn)|0,E=E+Math.imul(ue,rn)|0,E=E+Math.imul(me,Tn)|0,U=U+Math.imul(me,rn)|0,k=k+Math.imul(te,kt)|0,E=E+Math.imul(te,qn)|0,E=E+Math.imul(oe,kt)|0,U=U+Math.imul(oe,qn)|0;var hn=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(hn>>>26)|0,hn&=67108863,k=Math.imul(at,ve),E=Math.imul(at,ye),E=E+Math.imul(p,ve)|0,U=Math.imul(p,ye),k=k+Math.imul(Be,he)|0,E=E+Math.imul(Be,Un)|0,E=E+Math.imul(Ge,he)|0,U=U+Math.imul(Ge,Un)|0,k=k+Math.imul(J,Ln)|0,E=E+Math.imul(J,zn)|0,E=E+Math.imul(se,Ln)|0,U=U+Math.imul(se,zn)|0,k=k+Math.imul(N,Fn)|0,E=E+Math.imul(N,jn)|0,E=E+Math.imul(D,Fn)|0,U=U+Math.imul(D,jn)|0,k=k+Math.imul(Pe,Hn)|0,E=E+Math.imul(Pe,dn)|0,E=E+Math.imul(st,Hn)|0,U=U+Math.imul(st,dn)|0,k=k+Math.imul(qe,Tn)|0,E=E+Math.imul(qe,rn)|0,E=E+Math.imul(ke,Tn)|0,U=U+Math.imul(ke,rn)|0,k=k+Math.imul(ue,kt)|0,E=E+Math.imul(ue,qn)|0,E=E+Math.imul(me,kt)|0,U=U+Math.imul(me,qn)|0,k=k+Math.imul(te,Vn)|0,E=E+Math.imul(te,In)|0,E=E+Math.imul(oe,Vn)|0,U=U+Math.imul(oe,In)|0;var pr=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(pr>>>26)|0,pr&=67108863,k=Math.imul(d,ve),E=Math.imul(d,ye),E=E+Math.imul(y,ve)|0,U=Math.imul(y,ye),k=k+Math.imul(at,he)|0,E=E+Math.imul(at,Un)|0,E=E+Math.imul(p,he)|0,U=U+Math.imul(p,Un)|0,k=k+Math.imul(Be,Ln)|0,E=E+Math.imul(Be,zn)|0,E=E+Math.imul(Ge,Ln)|0,U=U+Math.imul(Ge,zn)|0,k=k+Math.imul(J,Fn)|0,E=E+Math.imul(J,jn)|0,E=E+Math.imul(se,Fn)|0,U=U+Math.imul(se,jn)|0,k=k+Math.imul(N,Hn)|0,E=E+Math.imul(N,dn)|0,E=E+Math.imul(D,Hn)|0,U=U+Math.imul(D,dn)|0,k=k+Math.imul(Pe,Tn)|0,E=E+Math.imul(Pe,rn)|0,E=E+Math.imul(st,Tn)|0,U=U+Math.imul(st,rn)|0,k=k+Math.imul(qe,kt)|0,E=E+Math.imul(qe,qn)|0,E=E+Math.imul(ke,kt)|0,U=U+Math.imul(ke,qn)|0,k=k+Math.imul(ue,Vn)|0,E=E+Math.imul(ue,In)|0,E=E+Math.imul(me,Vn)|0,U=U+Math.imul(me,In)|0,k=k+Math.imul(te,Wn)|0,E=E+Math.imul(te,Kn)|0,E=E+Math.imul(oe,Wn)|0,U=U+Math.imul(oe,Kn)|0;var ki=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(ki>>>26)|0,ki&=67108863,k=Math.imul($,ve),E=Math.imul($,ye),E=E+Math.imul(F,ve)|0,U=Math.imul(F,ye),k=k+Math.imul(d,he)|0,E=E+Math.imul(d,Un)|0,E=E+Math.imul(y,he)|0,U=U+Math.imul(y,Un)|0,k=k+Math.imul(at,Ln)|0,E=E+Math.imul(at,zn)|0,E=E+Math.imul(p,Ln)|0,U=U+Math.imul(p,zn)|0,k=k+Math.imul(Be,Fn)|0,E=E+Math.imul(Be,jn)|0,E=E+Math.imul(Ge,Fn)|0,U=U+Math.imul(Ge,jn)|0,k=k+Math.imul(J,Hn)|0,E=E+Math.imul(J,dn)|0,E=E+Math.imul(se,Hn)|0,U=U+Math.imul(se,dn)|0,k=k+Math.imul(N,Tn)|0,E=E+Math.imul(N,rn)|0,E=E+Math.imul(D,Tn)|0,U=U+Math.imul(D,rn)|0,k=k+Math.imul(Pe,kt)|0,E=E+Math.imul(Pe,qn)|0,E=E+Math.imul(st,kt)|0,U=U+Math.imul(st,qn)|0,k=k+Math.imul(qe,Vn)|0,E=E+Math.imul(qe,In)|0,E=E+Math.imul(ke,Vn)|0,U=U+Math.imul(ke,In)|0,k=k+Math.imul(ue,Wn)|0,E=E+Math.imul(ue,Kn)|0,E=E+Math.imul(me,Wn)|0,U=U+Math.imul(me,Kn)|0,k=k+Math.imul(te,Rn)|0,E=E+Math.imul(te,Gn)|0,E=E+Math.imul(oe,Rn)|0,U=U+Math.imul(oe,Gn)|0;var Js=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Js>>>26)|0,Js&=67108863,k=Math.imul($,he),E=Math.imul($,Un),E=E+Math.imul(F,he)|0,U=Math.imul(F,Un),k=k+Math.imul(d,Ln)|0,E=E+Math.imul(d,zn)|0,E=E+Math.imul(y,Ln)|0,U=U+Math.imul(y,zn)|0,k=k+Math.imul(at,Fn)|0,E=E+Math.imul(at,jn)|0,E=E+Math.imul(p,Fn)|0,U=U+Math.imul(p,jn)|0,k=k+Math.imul(Be,Hn)|0,E=E+Math.imul(Be,dn)|0,E=E+Math.imul(Ge,Hn)|0,U=U+Math.imul(Ge,dn)|0,k=k+Math.imul(J,Tn)|0,E=E+Math.imul(J,rn)|0,E=E+Math.imul(se,Tn)|0,U=U+Math.imul(se,rn)|0,k=k+Math.imul(N,kt)|0,E=E+Math.imul(N,qn)|0,E=E+Math.imul(D,kt)|0,U=U+Math.imul(D,qn)|0,k=k+Math.imul(Pe,Vn)|0,E=E+Math.imul(Pe,In)|0,E=E+Math.imul(st,Vn)|0,U=U+Math.imul(st,In)|0,k=k+Math.imul(qe,Wn)|0,E=E+Math.imul(qe,Kn)|0,E=E+Math.imul(ke,Wn)|0,U=U+Math.imul(ke,Kn)|0,k=k+Math.imul(ue,Rn)|0,E=E+Math.imul(ue,Gn)|0,E=E+Math.imul(me,Rn)|0,U=U+Math.imul(me,Gn)|0;var mv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(mv>>>26)|0,mv&=67108863,k=Math.imul($,Ln),E=Math.imul($,zn),E=E+Math.imul(F,Ln)|0,U=Math.imul(F,zn),k=k+Math.imul(d,Fn)|0,E=E+Math.imul(d,jn)|0,E=E+Math.imul(y,Fn)|0,U=U+Math.imul(y,jn)|0,k=k+Math.imul(at,Hn)|0,E=E+Math.imul(at,dn)|0,E=E+Math.imul(p,Hn)|0,U=U+Math.imul(p,dn)|0,k=k+Math.imul(Be,Tn)|0,E=E+Math.imul(Be,rn)|0,E=E+Math.imul(Ge,Tn)|0,U=U+Math.imul(Ge,rn)|0,k=k+Math.imul(J,kt)|0,E=E+Math.imul(J,qn)|0,E=E+Math.imul(se,kt)|0,U=U+Math.imul(se,qn)|0,k=k+Math.imul(N,Vn)|0,E=E+Math.imul(N,In)|0,E=E+Math.imul(D,Vn)|0,U=U+Math.imul(D,In)|0,k=k+Math.imul(Pe,Wn)|0,E=E+Math.imul(Pe,Kn)|0,E=E+Math.imul(st,Wn)|0,U=U+Math.imul(st,Kn)|0,k=k+Math.imul(qe,Rn)|0,E=E+Math.imul(qe,Gn)|0,E=E+Math.imul(ke,Rn)|0,U=U+Math.imul(ke,Gn)|0;var yv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(yv>>>26)|0,yv&=67108863,k=Math.imul($,Fn),E=Math.imul($,jn),E=E+Math.imul(F,Fn)|0,U=Math.imul(F,jn),k=k+Math.imul(d,Hn)|0,E=E+Math.imul(d,dn)|0,E=E+Math.imul(y,Hn)|0,U=U+Math.imul(y,dn)|0,k=k+Math.imul(at,Tn)|0,E=E+Math.imul(at,rn)|0,E=E+Math.imul(p,Tn)|0,U=U+Math.imul(p,rn)|0,k=k+Math.imul(Be,kt)|0,E=E+Math.imul(Be,qn)|0,E=E+Math.imul(Ge,kt)|0,U=U+Math.imul(Ge,qn)|0,k=k+Math.imul(J,Vn)|0,E=E+Math.imul(J,In)|0,E=E+Math.imul(se,Vn)|0,U=U+Math.imul(se,In)|0,k=k+Math.imul(N,Wn)|0,E=E+Math.imul(N,Kn)|0,E=E+Math.imul(D,Wn)|0,U=U+Math.imul(D,Kn)|0,k=k+Math.imul(Pe,Rn)|0,E=E+Math.imul(Pe,Gn)|0,E=E+Math.imul(st,Rn)|0,U=U+Math.imul(st,Gn)|0;var bv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(bv>>>26)|0,bv&=67108863,k=Math.imul($,Hn),E=Math.imul($,dn),E=E+Math.imul(F,Hn)|0,U=Math.imul(F,dn),k=k+Math.imul(d,Tn)|0,E=E+Math.imul(d,rn)|0,E=E+Math.imul(y,Tn)|0,U=U+Math.imul(y,rn)|0,k=k+Math.imul(at,kt)|0,E=E+Math.imul(at,qn)|0,E=E+Math.imul(p,kt)|0,U=U+Math.imul(p,qn)|0,k=k+Math.imul(Be,Vn)|0,E=E+Math.imul(Be,In)|0,E=E+Math.imul(Ge,Vn)|0,U=U+Math.imul(Ge,In)|0,k=k+Math.imul(J,Wn)|0,E=E+Math.imul(J,Kn)|0,E=E+Math.imul(se,Wn)|0,U=U+Math.imul(se,Kn)|0,k=k+Math.imul(N,Rn)|0,E=E+Math.imul(N,Gn)|0,E=E+Math.imul(D,Rn)|0,U=U+Math.imul(D,Gn)|0;var wv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(wv>>>26)|0,wv&=67108863,k=Math.imul($,Tn),E=Math.imul($,rn),E=E+Math.imul(F,Tn)|0,U=Math.imul(F,rn),k=k+Math.imul(d,kt)|0,E=E+Math.imul(d,qn)|0,E=E+Math.imul(y,kt)|0,U=U+Math.imul(y,qn)|0,k=k+Math.imul(at,Vn)|0,E=E+Math.imul(at,In)|0,E=E+Math.imul(p,Vn)|0,U=U+Math.imul(p,In)|0,k=k+Math.imul(Be,Wn)|0,E=E+Math.imul(Be,Kn)|0,E=E+Math.imul(Ge,Wn)|0,U=U+Math.imul(Ge,Kn)|0,k=k+Math.imul(J,Rn)|0,E=E+Math.imul(J,Gn)|0,E=E+Math.imul(se,Rn)|0,U=U+Math.imul(se,Gn)|0;var vv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(vv>>>26)|0,vv&=67108863,k=Math.imul($,kt),E=Math.imul($,qn),E=E+Math.imul(F,kt)|0,U=Math.imul(F,qn),k=k+Math.imul(d,Vn)|0,E=E+Math.imul(d,In)|0,E=E+Math.imul(y,Vn)|0,U=U+Math.imul(y,In)|0,k=k+Math.imul(at,Wn)|0,E=E+Math.imul(at,Kn)|0,E=E+Math.imul(p,Wn)|0,U=U+Math.imul(p,Kn)|0,k=k+Math.imul(Be,Rn)|0,E=E+Math.imul(Be,Gn)|0,E=E+Math.imul(Ge,Rn)|0,U=U+Math.imul(Ge,Gn)|0;var Ev=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Ev>>>26)|0,Ev&=67108863,k=Math.imul($,Vn),E=Math.imul($,In),E=E+Math.imul(F,Vn)|0,U=Math.imul(F,In),k=k+Math.imul(d,Wn)|0,E=E+Math.imul(d,Kn)|0,E=E+Math.imul(y,Wn)|0,U=U+Math.imul(y,Kn)|0,k=k+Math.imul(at,Rn)|0,E=E+Math.imul(at,Gn)|0,E=E+Math.imul(p,Rn)|0,U=U+Math.imul(p,Gn)|0;var _v=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(_v>>>26)|0,_v&=67108863,k=Math.imul($,Wn),E=Math.imul($,Kn),E=E+Math.imul(F,Wn)|0,U=Math.imul(F,Kn),k=k+Math.imul(d,Rn)|0,E=E+Math.imul(d,Gn)|0,E=E+Math.imul(y,Rn)|0,U=U+Math.imul(y,Gn)|0;var xv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(xv>>>26)|0,xv&=67108863,k=Math.imul($,Rn),E=Math.imul($,Gn),E=E+Math.imul(F,Rn)|0,U=Math.imul(F,Gn);var Sv=(M+k|0)+((E&8191)<<13)|0;return M=(U+(E>>>13)|0)+(Sv>>>26)|0,Sv&=67108863,R[0]=$u,R[1]=Ym,R[2]=Zm,R[3]=ae,R[4]=Me,R[5]=dt,R[6]=hn,R[7]=pr,R[8]=ki,R[9]=Js,R[10]=mv,R[11]=yv,R[12]=bv,R[13]=wv,R[14]=vv,R[15]=Ev,R[16]=_v,R[17]=xv,R[18]=Sv,M!==0&&(R[19]=M,v.length++),v};Math.imul||(T=S);function I(j,w,b){b.negative=w.negative^j.negative,b.length=j.length+w.length;for(var v=0,O=0,B=0;B<b.length-1;B++){var R=O;O=0;for(var M=v&67108863,k=Math.min(B,w.length-1),E=Math.max(0,B-j.length+1);E<=k;E++){var U=B-E,Q=j.words[U]|0,te=w.words[E]|0,oe=Q*te,pe=oe&67108863;R=R+(oe/67108864|0)|0,pe=pe+M|0,M=pe&67108863,R=R+(pe>>>26)|0,O+=R>>>26,R&=67108863}b.words[B]=M,v=R,R=O}return v!==0?b.words[B]=v:b.length--,b._strip()}function P(j,w,b){return I(j,w,b)}s.prototype.mulTo=function(w,b){var v,O=this.length+w.length;return this.length===10&&w.length===10?v=T(this,w,b):O<63?v=S(this,w,b):O<1024?v=I(this,w,b):v=P(this,w,b),v},s.prototype.mul=function(w){var b=new s(null);return b.words=new Array(this.length+w.length),this.mulTo(w,b)},s.prototype.mulf=function(w){var b=new s(null);return b.words=new Array(this.length+w.length),P(this,w,b)},s.prototype.imul=function(w){return this.clone().mulTo(w,this)},s.prototype.imuln=function(w){var b=w<0;b&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var v=0,O=0;O<this.length;O++){var B=(this.words[O]|0)*w,R=(B&67108863)+(v&67108863);v>>=26,v+=B/67108864|0,v+=R>>>26,this.words[O]=R&67108863}return v!==0&&(this.words[O]=v,this.length++),this.length=w===0?1:this.length,b?this.ineg():this},s.prototype.muln=function(w){return this.clone().imuln(w)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(w){var b=C(w);if(b.length===0)return new s(1);for(var v=this,O=0;O<b.length&&b[O]===0;O++,v=v.sqr());if(++O<b.length)for(var B=v.sqr();O<b.length;O++,B=B.sqr())b[O]!==0&&(v=v.mul(B));return v},s.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var b=w%26,v=(w-b)/26,O=67108863>>>26-b<<26-b,B;if(b!==0){var R=0;for(B=0;B<this.length;B++){var M=this.words[B]&O,k=(this.words[B]|0)-M<<b;this.words[B]=k|R,R=M>>>26-b}R&&(this.words[B]=R,this.length++)}if(v!==0){for(B=this.length-1;B>=0;B--)this.words[B+v]=this.words[B];for(B=0;B<v;B++)this.words[B]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},s.prototype.iushrn=function(w,b,v){r(typeof w=="number"&&w>=0);var O;b?O=(b-b%26)/26:O=0;var B=w%26,R=Math.min((w-B)/26,this.length),M=67108863^67108863>>>B<<B,k=v;if(O-=R,O=Math.max(0,O),k){for(var E=0;E<R;E++)k.words[E]=this.words[E];k.length=R}if(R!==0)if(this.length>R)for(this.length-=R,E=0;E<this.length;E++)this.words[E]=this.words[E+R];else this.words[0]=0,this.length=1;var U=0;for(E=this.length-1;E>=0&&(U!==0||E>=O);E--){var Q=this.words[E]|0;this.words[E]=U<<26-B|Q>>>B,U=Q&M}return k&&U!==0&&(k.words[k.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(w,b,v){return r(this.negative===0),this.iushrn(w,b,v)},s.prototype.shln=function(w){return this.clone().ishln(w)},s.prototype.ushln=function(w){return this.clone().iushln(w)},s.prototype.shrn=function(w){return this.clone().ishrn(w)},s.prototype.ushrn=function(w){return this.clone().iushrn(w)},s.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var b=w%26,v=(w-b)/26,O=1<<b;if(this.length<=v)return!1;var B=this.words[v];return!!(B&O)},s.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var b=w%26,v=(w-b)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(b!==0&&v++,this.length=Math.min(v,this.length),b!==0){var O=67108863^67108863>>>b<<b;this.words[this.length-1]&=O}return this._strip()},s.prototype.maskn=function(w){return this.clone().imaskn(w)},s.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},s.prototype._iaddn=function(w){this.words[0]+=w;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},s.prototype.addn=function(w){return this.clone().iaddn(w)},s.prototype.subn=function(w){return this.clone().isubn(w)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(w,b,v){var O=w.length+v,B;this._expand(O);var R,M=0;for(B=0;B<w.length;B++){R=(this.words[B+v]|0)+M;var k=(w.words[B]|0)*b;R-=k&67108863,M=(R>>26)-(k/67108864|0),this.words[B+v]=R&67108863}for(;B<this.length-v;B++)R=(this.words[B+v]|0)+M,M=R>>26,this.words[B+v]=R&67108863;if(M===0)return this._strip();for(r(M===-1),M=0,B=0;B<this.length;B++)R=-(this.words[B]|0)+M,M=R>>26,this.words[B]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(w,b){var v=this.length-w.length,O=this.clone(),B=w,R=B.words[B.length-1]|0,M=this._countBits(R);v=26-M,v!==0&&(B=B.ushln(v),O.iushln(v),R=B.words[B.length-1]|0);var k=O.length-B.length,E;if(b!=="mod"){E=new s(null),E.length=k+1,E.words=new Array(E.length);for(var U=0;U<E.length;U++)E.words[U]=0}var Q=O.clone()._ishlnsubmul(B,1,k);Q.negative===0&&(O=Q,E&&(E.words[k]=1));for(var te=k-1;te>=0;te--){var oe=(O.words[B.length+te]|0)*67108864+(O.words[B.length+te-1]|0);for(oe=Math.min(oe/R|0,67108863),O._ishlnsubmul(B,oe,te);O.negative!==0;)oe--,O.negative=0,O._ishlnsubmul(B,1,te),O.isZero()||(O.negative^=1);E&&(E.words[te]=oe)}return E&&E._strip(),O._strip(),b!=="div"&&v!==0&&O.iushrn(v),{div:E||null,mod:O}},s.prototype.divmod=function(w,b,v){if(r(!w.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,B,R;return this.negative!==0&&w.negative===0?(R=this.neg().divmod(w,b),b!=="mod"&&(O=R.div.neg()),b!=="div"&&(B=R.mod.neg(),v&&B.negative!==0&&B.iadd(w)),{div:O,mod:B}):this.negative===0&&w.negative!==0?(R=this.divmod(w.neg(),b),b!=="mod"&&(O=R.div.neg()),{div:O,mod:R.mod}):this.negative&w.negative?(R=this.neg().divmod(w.neg(),b),b!=="div"&&(B=R.mod.neg(),v&&B.negative!==0&&B.isub(w)),{div:R.div,mod:B}):w.length>this.length||this.cmp(w)<0?{div:new s(0),mod:this}:w.length===1?b==="div"?{div:this.divn(w.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new s(this.modrn(w.words[0]))}:this._wordDiv(w,b)},s.prototype.div=function(w){return this.divmod(w,"div",!1).div},s.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},s.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},s.prototype.divRound=function(w){var b=this.divmod(w);if(b.mod.isZero())return b.div;var v=b.div.negative!==0?b.mod.isub(w):b.mod,O=w.ushrn(1),B=w.andln(1),R=v.cmp(O);return R<0||B===1&&R===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modrn=function(w){var b=w<0;b&&(w=-w),r(w<=67108863);for(var v=(1<<26)%w,O=0,B=this.length-1;B>=0;B--)O=(v*O+(this.words[B]|0))%w;return b?-O:O},s.prototype.modn=function(w){return this.modrn(w)},s.prototype.idivn=function(w){var b=w<0;b&&(w=-w),r(w<=67108863);for(var v=0,O=this.length-1;O>=0;O--){var B=(this.words[O]|0)+v*67108864;this.words[O]=B/w|0,v=B%w}return this._strip(),b?this.ineg():this},s.prototype.divn=function(w){return this.clone().idivn(w)},s.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var b=this,v=w.clone();b.negative!==0?b=b.umod(w):b=b.clone();for(var O=new s(1),B=new s(0),R=new s(0),M=new s(1),k=0;b.isEven()&&v.isEven();)b.iushrn(1),v.iushrn(1),++k;for(var E=v.clone(),U=b.clone();!b.isZero();){for(var Q=0,te=1;!(b.words[0]&te)&&Q<26;++Q,te<<=1);if(Q>0)for(b.iushrn(Q);Q-- >0;)(O.isOdd()||B.isOdd())&&(O.iadd(E),B.isub(U)),O.iushrn(1),B.iushrn(1);for(var oe=0,pe=1;!(v.words[0]&pe)&&oe<26;++oe,pe<<=1);if(oe>0)for(v.iushrn(oe);oe-- >0;)(R.isOdd()||M.isOdd())&&(R.iadd(E),M.isub(U)),R.iushrn(1),M.iushrn(1);b.cmp(v)>=0?(b.isub(v),O.isub(R),B.isub(M)):(v.isub(b),R.isub(O),M.isub(B))}return{a:R,b:M,gcd:v.iushln(k)}},s.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var b=this,v=w.clone();b.negative!==0?b=b.umod(w):b=b.clone();for(var O=new s(1),B=new s(0),R=v.clone();b.cmpn(1)>0&&v.cmpn(1)>0;){for(var M=0,k=1;!(b.words[0]&k)&&M<26;++M,k<<=1);if(M>0)for(b.iushrn(M);M-- >0;)O.isOdd()&&O.iadd(R),O.iushrn(1);for(var E=0,U=1;!(v.words[0]&U)&&E<26;++E,U<<=1);if(E>0)for(v.iushrn(E);E-- >0;)B.isOdd()&&B.iadd(R),B.iushrn(1);b.cmp(v)>=0?(b.isub(v),O.isub(B)):(v.isub(b),B.isub(O))}var Q;return b.cmpn(1)===0?Q=O:Q=B,Q.cmpn(0)<0&&Q.iadd(w),Q},s.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var b=this.clone(),v=w.clone();b.negative=0,v.negative=0;for(var O=0;b.isEven()&&v.isEven();O++)b.iushrn(1),v.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;v.isEven();)v.iushrn(1);var B=b.cmp(v);if(B<0){var R=b;b=v,v=R}else if(B===0||v.cmpn(1)===0)break;b.isub(v)}while(!0);return v.iushln(O)},s.prototype.invm=function(w){return this.egcd(w).a.umod(w)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(w){return this.words[0]&w},s.prototype.bincn=function(w){r(typeof w=="number");var b=w%26,v=(w-b)/26,O=1<<b;if(this.length<=v)return this._expand(v+1),this.words[v]|=O,this;for(var B=O,R=v;B!==0&&R<this.length;R++){var M=this.words[R]|0;M+=B,B=M>>>26,M&=67108863,this.words[R]=M}return B!==0&&(this.words[R]=B,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(w){var b=w<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var v;if(this.length>1)v=1;else{b&&(w=-w),r(w<=67108863,"Number is too big");var O=this.words[0]|0;v=O===w?0:O<w?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var b=this.ucmp(w);return this.negative!==0?-b|0:b},s.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var b=0,v=this.length-1;v>=0;v--){var O=this.words[v]|0,B=w.words[v]|0;if(O!==B){O<B?b=-1:O>B&&(b=1);break}}return b},s.prototype.gtn=function(w){return this.cmpn(w)===1},s.prototype.gt=function(w){return this.cmp(w)===1},s.prototype.gten=function(w){return this.cmpn(w)>=0},s.prototype.gte=function(w){return this.cmp(w)>=0},s.prototype.ltn=function(w){return this.cmpn(w)===-1},s.prototype.lt=function(w){return this.cmp(w)===-1},s.prototype.lten=function(w){return this.cmpn(w)<=0},s.prototype.lte=function(w){return this.cmp(w)<=0},s.prototype.eqn=function(w){return this.cmpn(w)===0},s.prototype.eq=function(w){return this.cmp(w)===0},s.red=function(w){return new Y(w)},s.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(w){return this.red=w,this},s.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},s.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},s.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},s.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},s.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},s.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},s.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},s.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var z={k256:null,p224:null,p192:null,p25519:null};function W(j,w){this.name=j,this.p=new s(w,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var w=new s(null);return w.words=new Array(Math.ceil(this.n/13)),w},W.prototype.ireduce=function(w){var b=w,v;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),v=b.bitLength();while(v>this.n);var O=v<this.n?-1:b.ucmp(this.p);return O===0?(b.words[0]=0,b.length=1):O>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},W.prototype.split=function(w,b){w.iushrn(this.n,0,b)},W.prototype.imulK=function(w){return w.imul(this.k)};function L(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,W),L.prototype.split=function(w,b){for(var v=4194303,O=Math.min(w.length,9),B=0;B<O;B++)b.words[B]=w.words[B];if(b.length=O,w.length<=9){w.words[0]=0,w.length=1;return}var R=w.words[9];for(b.words[b.length++]=R&v,B=10;B<w.length;B++){var M=w.words[B]|0;w.words[B-10]=(M&v)<<4|R>>>22,R=M}R>>>=22,w.words[B-10]=R,R===0&&w.length>10?w.length-=10:w.length-=9},L.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var b=0,v=0;v<w.length;v++){var O=w.words[v]|0;b+=O*977,w.words[v]=b&67108863,b=O*64+(b/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function V(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,W);function q(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(q,W);function X(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,W),X.prototype.imulK=function(w){for(var b=0,v=0;v<w.length;v++){var O=(w.words[v]|0)*19+b,B=O&67108863;O>>>=26,w.words[v]=B,b=O}return b!==0&&(w.words[w.length++]=b),w},s._prime=function(w){if(z[w])return z[w];var b;if(w==="k256")b=new L;else if(w==="p224")b=new V;else if(w==="p192")b=new q;else if(w==="p25519")b=new X;else throw new Error("Unknown prime "+w);return z[w]=b,b};function Y(j){if(typeof j=="string"){var w=s._prime(j);this.m=w.p,this.prime=w}else r(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}Y.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},Y.prototype._verify2=function(w,b){r((w.negative|b.negative)===0,"red works only with positives"),r(w.red&&w.red===b.red,"red works only with red numbers")},Y.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(h(w,w.umod(this.m)._forceRed(this)),w)},Y.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},Y.prototype.add=function(w,b){this._verify2(w,b);var v=w.add(b);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},Y.prototype.iadd=function(w,b){this._verify2(w,b);var v=w.iadd(b);return v.cmp(this.m)>=0&&v.isub(this.m),v},Y.prototype.sub=function(w,b){this._verify2(w,b);var v=w.sub(b);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},Y.prototype.isub=function(w,b){this._verify2(w,b);var v=w.isub(b);return v.cmpn(0)<0&&v.iadd(this.m),v},Y.prototype.shl=function(w,b){return this._verify1(w),this.imod(w.ushln(b))},Y.prototype.imul=function(w,b){return this._verify2(w,b),this.imod(w.imul(b))},Y.prototype.mul=function(w,b){return this._verify2(w,b),this.imod(w.mul(b))},Y.prototype.isqr=function(w){return this.imul(w,w.clone())},Y.prototype.sqr=function(w){return this.mul(w,w)},Y.prototype.sqrt=function(w){if(w.isZero())return w.clone();var b=this.m.andln(3);if(r(b%2===1),b===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(w,v)}for(var O=this.m.subn(1),B=0;!O.isZero()&&O.andln(1)===0;)B++,O.iushrn(1);r(!O.isZero());var R=new s(1).toRed(this),M=R.redNeg(),k=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,k).cmp(M)!==0;)E.redIAdd(M);for(var U=this.pow(E,O),Q=this.pow(w,O.addn(1).iushrn(1)),te=this.pow(w,O),oe=B;te.cmp(R)!==0;){for(var pe=te,ue=0;pe.cmp(R)!==0;ue++)pe=pe.redSqr();r(ue<oe);var me=this.pow(U,new s(1).iushln(oe-ue-1));Q=Q.redMul(me),U=me.redSqr(),te=te.redMul(U),oe=ue}return Q},Y.prototype.invm=function(w){var b=w._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Y.prototype.pow=function(w,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return w.clone();var v=4,O=new Array(1<<v);O[0]=new s(1).toRed(this),O[1]=w;for(var B=2;B<O.length;B++)O[B]=this.mul(O[B-1],w);var R=O[0],M=0,k=0,E=b.bitLength()%26;for(E===0&&(E=26),B=b.length-1;B>=0;B--){for(var U=b.words[B],Q=E-1;Q>=0;Q--){var te=U>>Q&1;if(R!==O[0]&&(R=this.sqr(R)),te===0&&M===0){k=0;continue}M<<=1,M|=te,k++,!(k!==v&&(B!==0||Q!==0))&&(R=this.mul(R,O[M]),k=0,M=0)}E=26}return R},Y.prototype.convertTo=function(w){var b=w.umod(this.m);return b===w?b.clone():b},Y.prototype.convertFrom=function(w){var b=w.clone();return b.red=null,b},s.mont=function(w){return new ee(w)};function ee(j){Y.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ee,Y),ee.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},ee.prototype.convertFrom=function(w){var b=this.imod(w.mul(this.rinv));return b.red=null,b},ee.prototype.imul=function(w,b){if(w.isZero()||b.isZero())return w.words[0]=0,w.length=1,w;var v=w.imul(b),O=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=v.isub(O).iushrn(this.shift),R=B;return B.cmp(this.m)>=0?R=B.isub(this.m):B.cmpn(0)<0&&(R=B.iadd(this.m)),R._forceRed(this)},ee.prototype.mul=function(w,b){if(w.isZero()||b.isZero())return new s(0)._forceRed(this);var v=w.mul(b),O=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=v.isub(O).iushrn(this.shift),R=B;return B.cmp(this.m)>=0?R=B.isub(this.m):B.cmpn(0)<0&&(R=B.iadd(this.m)),R._forceRed(this)},ee.prototype.invm=function(w){var b=this.imod(w._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(t,rr)})(fA);var jD=fA.exports;const GR=ws(jD);var Q_={exports:{}},HD={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Su,n=Wh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var K=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(K,N),K.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');var N=new Uint8Array(K);return Object.setPrototypeOf(N,a.prototype),N}function a(K,N,D){if(typeof K=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(K)}return c(K,N,D)}a.poolSize=8192;function c(K,N,D){if(typeof K=="string")return g(K,N);if(ArrayBuffer.isView(K))return _(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(je(K,ArrayBuffer)||K&&je(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(K,SharedArrayBuffer)||K&&je(K.buffer,SharedArrayBuffer)))return x(K,N,D);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=K.valueOf&&K.valueOf();if(G!=null&&G!==K)return a.from(G,N,D);var J=C(K);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return a.from(K[Symbol.toPrimitive]("string"),N,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}a.from=function(K,N,D){return c(K,N,D)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function h(K,N,D){return u(K),K<=0?o(K):N!==void 0?typeof D=="string"?o(K).fill(N,D):o(K).fill(N):o(K)}a.alloc=function(K,N,D){return h(K,N,D)};function f(K){return u(K),o(K<0?0:S(K)|0)}a.allocUnsafe=function(K){return f(K)},a.allocUnsafeSlow=function(K){return f(K)};function g(K,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var D=I(K,N)|0,G=o(D),J=G.write(K,N);return J!==D&&(G=G.slice(0,J)),G}function m(K){for(var N=K.length<0?0:S(K.length)|0,D=o(N),G=0;G<N;G+=1)D[G]=K[G]&255;return D}function _(K){if(je(K,Uint8Array)){var N=new Uint8Array(K);return x(N.buffer,N.byteOffset,N.byteLength)}return m(K)}function x(K,N,D){if(N<0||K.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<N+(D||0))throw new RangeError('"length" is outside of buffer bounds');var G;return N===void 0&&D===void 0?G=new Uint8Array(K):D===void 0?G=new Uint8Array(K,N):G=new Uint8Array(K,N,D),Object.setPrototypeOf(G,a.prototype),G}function C(K){if(a.isBuffer(K)){var N=S(K.length)|0,D=o(N);return D.length===0||K.copy(D,0,0,N),D}if(K.length!==void 0)return typeof K.length!="number"||Pe(K.length)?o(0):m(K);if(K.type==="Buffer"&&Array.isArray(K.data))return m(K.data)}function S(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function T(K){return+K!=K&&(K=0),a.alloc(+K)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,D){if(je(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),je(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(N)||!a.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===D)return 0;for(var G=N.length,J=D.length,se=0,ce=Math.min(G,J);se<ce;++se)if(N[se]!==D[se]){G=N[se],J=D[se];break}return G<J?-1:J<G?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,D){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);var G;if(D===void 0)for(D=0,G=0;G<N.length;++G)D+=N[G].length;var J=a.allocUnsafe(D),se=0;for(G=0;G<N.length;++G){var ce=N[G];if(je(ce,Uint8Array))se+ce.length>J.length?a.from(ce).copy(J,se):Uint8Array.prototype.set.call(J,ce,se);else if(a.isBuffer(ce))ce.copy(J,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ce.length}return J};function I(K,N){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||je(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var D=K.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&D===0)return 0;for(var J=!1;;)switch(N){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return ue(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return qe(K).length;default:if(J)return G?-1:ue(K).length;N=(""+N).toLowerCase(),J=!0}}a.byteLength=I;function P(K,N,D){var G=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,N>>>=0,D<=N))return"";for(K||(K="utf8");;)switch(K){case"hex":return R(this,N,D);case"utf8":case"utf-8":return w(this,N,D);case"ascii":return O(this,N,D);case"latin1":case"binary":return B(this,N,D);case"base64":return j(this,N,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,N,D);default:if(G)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),G=!0}}a.prototype._isBuffer=!0;function z(K,N,D){var G=K[N];K[N]=K[D],K[D]=G}a.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<N;D+=2)z(this,D,D+1);return this},a.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<N;D+=4)z(this,D,D+3),z(this,D+1,D+2);return this},a.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<N;D+=8)z(this,D,D+7),z(this,D+1,D+6),z(this,D+2,D+5),z(this,D+3,D+4);return this},a.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?w(this,0,N):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){var N="",D=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(N+=" ... "),"<Buffer "+N+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(N,D,G,J,se){if(je(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(D===void 0&&(D=0),G===void 0&&(G=N?N.length:0),J===void 0&&(J=0),se===void 0&&(se=this.length),D<0||G>N.length||J<0||se>this.length)throw new RangeError("out of range index");if(J>=se&&D>=G)return 0;if(J>=se)return-1;if(D>=G)return 1;if(D>>>=0,G>>>=0,J>>>=0,se>>>=0,this===N)return 0;for(var ce=se-J,Be=G-D,Ge=Math.min(ce,Be),Ye=this.slice(J,se),at=N.slice(D,G),p=0;p<Ge;++p)if(Ye[p]!==at[p]){ce=Ye[p],Be=at[p];break}return ce<Be?-1:Be<ce?1:0};function W(K,N,D,G,J){if(K.length===0)return-1;if(typeof D=="string"?(G=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,Pe(D)&&(D=J?0:K.length-1),D<0&&(D=K.length+D),D>=K.length){if(J)return-1;D=K.length-1}else if(D<0)if(J)D=0;else return-1;if(typeof N=="string"&&(N=a.from(N,G)),a.isBuffer(N))return N.length===0?-1:L(K,N,D,G,J);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(K,N,D):Uint8Array.prototype.lastIndexOf.call(K,N,D):L(K,[N],D,G,J);throw new TypeError("val must be string, number or Buffer")}function L(K,N,D,G,J){var se=1,ce=K.length,Be=N.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(K.length<2||N.length<2)return-1;se=2,ce/=2,Be/=2,D/=2}function Ge(d,y){return se===1?d[y]:d.readUInt16BE(y*se)}var Ye;if(J){var at=-1;for(Ye=D;Ye<ce;Ye++)if(Ge(K,Ye)===Ge(N,at===-1?0:Ye-at)){if(at===-1&&(at=Ye),Ye-at+1===Be)return at*se}else at!==-1&&(Ye-=Ye-at),at=-1}else for(D+Be>ce&&(D=ce-Be),Ye=D;Ye>=0;Ye--){for(var p=!0,l=0;l<Be;l++)if(Ge(K,Ye+l)!==Ge(N,l)){p=!1;break}if(p)return Ye}return-1}a.prototype.includes=function(N,D,G){return this.indexOf(N,D,G)!==-1},a.prototype.indexOf=function(N,D,G){return W(this,N,D,G,!0)},a.prototype.lastIndexOf=function(N,D,G){return W(this,N,D,G,!1)};function V(K,N,D,G){D=Number(D)||0;var J=K.length-D;G?(G=Number(G),G>J&&(G=J)):G=J;var se=N.length;G>se/2&&(G=se/2);for(var ce=0;ce<G;++ce){var Be=parseInt(N.substr(ce*2,2),16);if(Pe(Be))return ce;K[D+ce]=Be}return ce}function q(K,N,D,G){return ke(ue(N,K.length-D),K,D,G)}function X(K,N,D,G){return ke(me(N),K,D,G)}function Y(K,N,D,G){return ke(qe(N),K,D,G)}function ee(K,N,D,G){return ke(et(N,K.length-D),K,D,G)}a.prototype.write=function(N,D,G,J){if(D===void 0)J="utf8",G=this.length,D=0;else if(G===void 0&&typeof D=="string")J=D,G=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(G)?(G=G>>>0,J===void 0&&(J="utf8")):(J=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var se=this.length-D;if((G===void 0||G>se)&&(G=se),N.length>0&&(G<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ce=!1;;)switch(J){case"hex":return V(this,N,D,G);case"utf8":case"utf-8":return q(this,N,D,G);case"ascii":case"latin1":case"binary":return X(this,N,D,G);case"base64":return Y(this,N,D,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,N,D,G);default:if(ce)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ce=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(K,N,D){return N===0&&D===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(N,D))}function w(K,N,D){D=Math.min(K.length,D);for(var G=[],J=N;J<D;){var se=K[J],ce=null,Be=se>239?4:se>223?3:se>191?2:1;if(J+Be<=D){var Ge,Ye,at,p;switch(Be){case 1:se<128&&(ce=se);break;case 2:Ge=K[J+1],(Ge&192)===128&&(p=(se&31)<<6|Ge&63,p>127&&(ce=p));break;case 3:Ge=K[J+1],Ye=K[J+2],(Ge&192)===128&&(Ye&192)===128&&(p=(se&15)<<12|(Ge&63)<<6|Ye&63,p>2047&&(p<55296||p>57343)&&(ce=p));break;case 4:Ge=K[J+1],Ye=K[J+2],at=K[J+3],(Ge&192)===128&&(Ye&192)===128&&(at&192)===128&&(p=(se&15)<<18|(Ge&63)<<12|(Ye&63)<<6|at&63,p>65535&&p<1114112&&(ce=p))}}ce===null?(ce=65533,Be=1):ce>65535&&(ce-=65536,G.push(ce>>>10&1023|55296),ce=56320|ce&1023),G.push(ce),J+=Be}return v(G)}var b=4096;function v(K){var N=K.length;if(N<=b)return String.fromCharCode.apply(String,K);for(var D="",G=0;G<N;)D+=String.fromCharCode.apply(String,K.slice(G,G+=b));return D}function O(K,N,D){var G="";D=Math.min(K.length,D);for(var J=N;J<D;++J)G+=String.fromCharCode(K[J]&127);return G}function B(K,N,D){var G="";D=Math.min(K.length,D);for(var J=N;J<D;++J)G+=String.fromCharCode(K[J]);return G}function R(K,N,D){var G=K.length;(!N||N<0)&&(N=0),(!D||D<0||D>G)&&(D=G);for(var J="",se=N;se<D;++se)J+=st[K[se]];return J}function M(K,N,D){for(var G=K.slice(N,D),J="",se=0;se<G.length-1;se+=2)J+=String.fromCharCode(G[se]+G[se+1]*256);return J}a.prototype.slice=function(N,D){var G=this.length;N=~~N,D=D===void 0?G:~~D,N<0?(N+=G,N<0&&(N=0)):N>G&&(N=G),D<0?(D+=G,D<0&&(D=0)):D>G&&(D=G),D<N&&(D=N);var J=this.subarray(N,D);return Object.setPrototypeOf(J,a.prototype),J};function k(K,N,D){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+N>D)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=this[N],se=1,ce=0;++ce<D&&(se*=256);)J+=this[N+ce]*se;return J},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=this[N+--D],se=1;D>0&&(se*=256);)J+=this[N+--D]*se;return J},a.prototype.readUint8=a.prototype.readUInt8=function(N,D){return N=N>>>0,D||k(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,D){return N=N>>>0,D||k(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,D){return N=N>>>0,D||k(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,D){return N=N>>>0,D||k(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,D){return N=N>>>0,D||k(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readIntLE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=this[N],se=1,ce=0;++ce<D&&(se*=256);)J+=this[N+ce]*se;return se*=128,J>=se&&(J-=Math.pow(2,8*D)),J},a.prototype.readIntBE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=D,se=1,ce=this[N+--J];J>0&&(se*=256);)ce+=this[N+--J]*se;return se*=128,ce>=se&&(ce-=Math.pow(2,8*D)),ce},a.prototype.readInt8=function(N,D){return N=N>>>0,D||k(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,D){N=N>>>0,D||k(N,2,this.length);var G=this[N]|this[N+1]<<8;return G&32768?G|4294901760:G},a.prototype.readInt16BE=function(N,D){N=N>>>0,D||k(N,2,this.length);var G=this[N+1]|this[N]<<8;return G&32768?G|4294901760:G},a.prototype.readInt32LE=function(N,D){return N=N>>>0,D||k(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,D){return N=N>>>0,D||k(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readFloatLE=function(N,D){return N=N>>>0,D||k(N,4,this.length),n.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,D){return N=N>>>0,D||k(N,4,this.length),n.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,D){return N=N>>>0,D||k(N,8,this.length),n.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,D){return N=N>>>0,D||k(N,8,this.length),n.read(this,N,!1,52,8)};function E(K,N,D,G,J,se){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>J||N<se)throw new RangeError('"value" argument is out of bounds');if(D+G>K.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,D,G,J){if(N=+N,D=D>>>0,G=G>>>0,!J){var se=Math.pow(2,8*G)-1;E(this,N,D,G,se,0)}var ce=1,Be=0;for(this[D]=N&255;++Be<G&&(ce*=256);)this[D+Be]=N/ce&255;return D+G},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,D,G,J){if(N=+N,D=D>>>0,G=G>>>0,!J){var se=Math.pow(2,8*G)-1;E(this,N,D,G,se,0)}var ce=G-1,Be=1;for(this[D+ce]=N&255;--ce>=0&&(Be*=256);)this[D+ce]=N/Be&255;return D+G},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,1,255,0),this[D]=N&255,D+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,65535,0),this[D]=N&255,this[D+1]=N>>>8,D+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,65535,0),this[D]=N>>>8,this[D+1]=N&255,D+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,4294967295,0),this[D+3]=N>>>24,this[D+2]=N>>>16,this[D+1]=N>>>8,this[D]=N&255,D+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,4294967295,0),this[D]=N>>>24,this[D+1]=N>>>16,this[D+2]=N>>>8,this[D+3]=N&255,D+4},a.prototype.writeIntLE=function(N,D,G,J){if(N=+N,D=D>>>0,!J){var se=Math.pow(2,8*G-1);E(this,N,D,G,se-1,-se)}var ce=0,Be=1,Ge=0;for(this[D]=N&255;++ce<G&&(Be*=256);)N<0&&Ge===0&&this[D+ce-1]!==0&&(Ge=1),this[D+ce]=(N/Be>>0)-Ge&255;return D+G},a.prototype.writeIntBE=function(N,D,G,J){if(N=+N,D=D>>>0,!J){var se=Math.pow(2,8*G-1);E(this,N,D,G,se-1,-se)}var ce=G-1,Be=1,Ge=0;for(this[D+ce]=N&255;--ce>=0&&(Be*=256);)N<0&&Ge===0&&this[D+ce+1]!==0&&(Ge=1),this[D+ce]=(N/Be>>0)-Ge&255;return D+G},a.prototype.writeInt8=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,1,127,-128),N<0&&(N=255+N+1),this[D]=N&255,D+1},a.prototype.writeInt16LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,32767,-32768),this[D]=N&255,this[D+1]=N>>>8,D+2},a.prototype.writeInt16BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,32767,-32768),this[D]=N>>>8,this[D+1]=N&255,D+2},a.prototype.writeInt32LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,2147483647,-2147483648),this[D]=N&255,this[D+1]=N>>>8,this[D+2]=N>>>16,this[D+3]=N>>>24,D+4},a.prototype.writeInt32BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[D]=N>>>24,this[D+1]=N>>>16,this[D+2]=N>>>8,this[D+3]=N&255,D+4};function U(K,N,D,G,J,se){if(D+G>K.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function Q(K,N,D,G,J){return N=+N,D=D>>>0,J||U(K,N,D,4),n.write(K,N,D,G,23,4),D+4}a.prototype.writeFloatLE=function(N,D,G){return Q(this,N,D,!0,G)},a.prototype.writeFloatBE=function(N,D,G){return Q(this,N,D,!1,G)};function te(K,N,D,G,J){return N=+N,D=D>>>0,J||U(K,N,D,8),n.write(K,N,D,G,52,8),D+8}a.prototype.writeDoubleLE=function(N,D,G){return te(this,N,D,!0,G)},a.prototype.writeDoubleBE=function(N,D,G){return te(this,N,D,!1,G)},a.prototype.copy=function(N,D,G,J){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(G||(G=0),!J&&J!==0&&(J=this.length),D>=N.length&&(D=N.length),D||(D=0),J>0&&J<G&&(J=G),J===G||N.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),N.length-D<J-G&&(J=N.length-D+G);var se=J-G;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,G,J):Uint8Array.prototype.set.call(N,this.subarray(G,J),D),se},a.prototype.fill=function(N,D,G,J){if(typeof N=="string"){if(typeof D=="string"?(J=D,D=0,G=this.length):typeof G=="string"&&(J=G,G=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(N.length===1){var se=N.charCodeAt(0);(J==="utf8"&&se<128||J==="latin1")&&(N=se)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(D<0||this.length<D||this.length<G)throw new RangeError("Out of range index");if(G<=D)return this;D=D>>>0,G=G===void 0?this.length:G>>>0,N||(N=0);var ce;if(typeof N=="number")for(ce=D;ce<G;++ce)this[ce]=N;else{var Be=a.isBuffer(N)?N:a.from(N,J),Ge=Be.length;if(Ge===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ce=0;ce<G-D;++ce)this[ce+D]=Be[ce%Ge]}return this};var oe=/[^+/0-9A-Za-z-_]/g;function pe(K){if(K=K.split("=")[0],K=K.trim().replace(oe,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function ue(K,N){N=N||1/0;for(var D,G=K.length,J=null,se=[],ce=0;ce<G;++ce){if(D=K.charCodeAt(ce),D>55295&&D<57344){if(!J){if(D>56319){(N-=3)>-1&&se.push(239,191,189);continue}else if(ce+1===G){(N-=3)>-1&&se.push(239,191,189);continue}J=D;continue}if(D<56320){(N-=3)>-1&&se.push(239,191,189),J=D;continue}D=(J-55296<<10|D-56320)+65536}else J&&(N-=3)>-1&&se.push(239,191,189);if(J=null,D<128){if((N-=1)<0)break;se.push(D)}else if(D<2048){if((N-=2)<0)break;se.push(D>>6|192,D&63|128)}else if(D<65536){if((N-=3)<0)break;se.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((N-=4)<0)break;se.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return se}function me(K){for(var N=[],D=0;D<K.length;++D)N.push(K.charCodeAt(D)&255);return N}function et(K,N){for(var D,G,J,se=[],ce=0;ce<K.length&&!((N-=2)<0);++ce)D=K.charCodeAt(ce),G=D>>8,J=D%256,se.push(J),se.push(G);return se}function qe(K){return e.toByteArray(pe(K))}function ke(K,N,D,G){for(var J=0;J<G&&!(J+D>=N.length||J>=K.length);++J)N[J+D]=K[J];return J}function je(K,N){return K instanceof N||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===N.name}function Pe(K){return K!==K}var st=function(){for(var K="0123456789abcdef",N=new Array(256),D=0;D<16;++D)for(var G=D*16,J=0;J<16;++J)N[G+J]=K[D]+K[J];return N}()})(HD);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=HD,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Q_,Q_.exports);var qD=Q_.exports,A0=qD.Buffer;function Gie(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=A0.from(m)),!A0.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var _=0,x=0,C=0,S=m.length;C!==S&&m[C]===0;)C++,_++;for(var T=(S-C)*u+1>>>0,I=new Uint8Array(T);C!==S;){for(var P=m[C],z=0,W=T-1;(P!==0||z<x)&&W!==-1;W--,z++)P+=256*I[W]>>>0,I[W]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=z,C++}for(var L=T-x;L!==T&&I[L]===0;)L++;for(var V=a.repeat(_);L<T;++L)V+=t.charAt(I[L]);return V}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return A0.alloc(0);for(var _=0,x=0,C=0;m[_]===a;)x++,_++;for(var S=(m.length-_)*c+1>>>0,T=new Uint8Array(S);_<m.length;){var I=m.charCodeAt(_);if(I>255)return;var P=e[I];if(P===255)return;for(var z=0,W=S-1;(P!==0||z<C)&&W!==-1;W--,z++)P+=o*T[W]>>>0,T[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");C=z,_++}for(var L=S-C;L!==S&&T[L]===0;)L++;var V=A0.allocUnsafe(x+(S-L));V.fill(0,0,x);for(var q=x;L!==S;)V[q++]=T[L++];return V}function g(m){var _=f(m);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:g}}var Yie=Gie,Zie=Yie,Xie="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Qie=Zie(Xie);const Yr=ws(Qie);var Kr={},C0=qD.Buffer;function Jie(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=C0.from(m)),!C0.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var _=0,x=0,C=0,S=m.length;C!==S&&m[C]===0;)C++,_++;for(var T=(S-C)*u+1>>>0,I=new Uint8Array(T);C!==S;){for(var P=m[C],z=0,W=T-1;(P!==0||z<x)&&W!==-1;W--,z++)P+=256*I[W]>>>0,I[W]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=z,C++}for(var L=T-x;L!==T&&I[L]===0;)L++;for(var V=a.repeat(_);L<T;++L)V+=t.charAt(I[L]);return V}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return C0.alloc(0);for(var _=0,x=0,C=0;m[_]===a;)x++,_++;for(var S=(m.length-_)*c+1>>>0,T=new Uint8Array(S);_<m.length;){var I=m.charCodeAt(_);if(I>255)return;var P=e[I];if(P===255)return;for(var z=0,W=S-1;(P!==0||z<C)&&W!==-1;W--,z++)P+=o*T[W]>>>0,T[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");C=z,_++}for(var L=S-C;L!==S&&T[L]===0;)L++;var V=C0.allocUnsafe(x+(S-L));V.fill(0,0,x);for(var q=x;L!==S;)V[q++]=T[L++];return V}function g(m){var _=f(m);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:g}}var ese=Jie,tse=ese,nse="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",rse=tse(nse);function xa(t,e,n){return e<=t&&t<=n}function ww(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function ise(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function sse(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var eb=-1;function pA(t){this.tokens=[].slice.call(t)}pA.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():eb},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var _h=-1;function P1(t,e){if(t)throw TypeError("Decoder error");return e||65533}var tb="utf-8";function nb(t,e){if(!(this instanceof nb))return new nb(t,e);if(t=t!==void 0?String(t).toLowerCase():tb,t!==tb)throw new Error("Encoding not supported. Only utf-8 is supported");e=ww(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}nb.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=ww(n),this._streaming||(this._decoder=new ose({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new pA(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==_h);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===_h)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),sse(s)}};function rb(t,e){if(!(this instanceof rb))return new rb(t,e);if(t=t!==void 0?String(t).toLowerCase():tb,t!==tb)throw new Error("Encoding not supported. Only utf-8 is supported");e=ww(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}rb.prototype={encode:function(e,n){e=e?String(e):"",n=ww(n),this._streaming||(this._encoder=new ase(this._options)),this._streaming=!!n.stream;for(var r=[],i=new pA(ise(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==_h);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==_h;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function ose(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===eb&&i!==0)return i=0,P1(e);if(c===eb)return _h;if(i===0){if(xa(c,0,127))return c;if(xa(c,194,223))i=1,n=c-192;else if(xa(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,n=c-224;else if(xa(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,n=c-240;else return P1(e);return n=n<<6*i,null}if(!xa(c,s,o))return n=i=r=0,s=128,o=191,a.prepend(c),P1(e);if(s=128,o=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function ase(t){t.fatal,this.handler=function(e,n){if(n===eb)return _h;if(xa(n,0,127))return n;var r,i;xa(n,128,2047)?(r=1,i=192):xa(n,2048,65535)?(r=2,i=224):xa(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const cse=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:nb,TextEncoder:rb},Symbol.toStringTag,{value:"Module"})),lse=Yg(cse);var use=rr&&rr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),dse=rr&&rr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qo=rr&&rr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hse=rr&&rr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&use(e,t,n);return dse(e,t),e},VD=rr&&rr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});var WD=Kr.deserializeUnchecked=QD=Kr.deserialize=XD=Kr.serialize=Kr.BinaryReader=Kr.BinaryWriter=Kr.BorshError=Kr.baseDecode=Kr.baseEncode=void 0;const Ac=VD(jD),KD=VD(rse),fse=hse(lse),pse=typeof TextDecoder!="function"?fse.TextDecoder:TextDecoder,gse=new pse("utf-8",{fatal:!0});function mse(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),KD.default.encode(Buffer.from(t))}Kr.baseEncode=mse;function yse(t){return Buffer.from(KD.default.decode(t))}Kr.baseDecode=yse;const $1=1024;class xi extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Kr.BorshError=xi;class GD{constructor(){this.buf=Buffer.alloc($1),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc($1)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ac.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ac.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ac.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ac.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc($1)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Kr.BinaryWriter=GD;function Jo(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new xi("Reached the end of buffer when deserializing")}throw s}}}class Es{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Ac.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Ac.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Ac.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Ac.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new xi(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return gse.decode(n)}catch(r){throw new xi(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Qo([Jo],Es.prototype,"readU8",null);Qo([Jo],Es.prototype,"readU16",null);Qo([Jo],Es.prototype,"readU32",null);Qo([Jo],Es.prototype,"readU64",null);Qo([Jo],Es.prototype,"readU128",null);Qo([Jo],Es.prototype,"readU256",null);Qo([Jo],Es.prototype,"readU512",null);Qo([Jo],Es.prototype,"readString",null);Qo([Jo],Es.prototype,"readFixedArray",null);Qo([Jo],Es.prototype,"readArray",null);Kr.BinaryReader=Es;function YD(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Al(t,e,n,r,i){try{if(typeof r=="string")i[`write${YD(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new xi(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new xi(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)Al(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{Al(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),Al(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{Al(t,e,o,r.key,i),Al(t,e,s,r.value,i)});break}default:throw new xi(`FieldType ${r} unrecognized`)}else ZD(t,n,i)}catch(s){throw s instanceof xi&&s.addToFieldPath(e),s}}function ZD(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new xi(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{Al(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),Al(t,o,e[o],a,n);break}}}else throw new xi(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function bse(t,e,n=GD){const r=new n;return ZD(t,e,r),r.toArray()}var XD=Kr.serialize=bse;function Cl(t,e,n,r){try{if(typeof n=="string")return r[`read${YD(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Cl(t,null,n[0],r));return i}else return r.readArray(()=>Cl(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Cl(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Cl(t,e,n.key,r),c=Cl(t,e,n.value,r);i.set(a,c)}return i}return gA(t,n,r)}catch(i){throw i instanceof xi&&i.addToFieldPath(e),i}}function gA(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new xi(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Cl(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new xi(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Cl(t,s,o,n);return new e({[s]:a})}throw new xi(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function wse(t,e,n,r=Es){const i=new r(n),s=gA(t,e,i);if(i.offset<n.length)throw new xi(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var QD=Kr.deserialize=wse;function vse(t,e,n,r=Es){const i=new r(n);return gA(t,e,i)}WD=Kr.deserializeUnchecked=vse;var re={},JD={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Su,n=Wh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,d){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(p)}return c(p,l,d)}a.poolSize=8192;function c(p,l,d){if(typeof p=="string")return g(p,l);if(ArrayBuffer.isView(p))return _(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ce(p,ArrayBuffer)||p&&ce(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(p,SharedArrayBuffer)||p&&ce(p.buffer,SharedArrayBuffer)))return x(p,l,d);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,l,d);const A=C(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,d){return c(p,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,l,d){return u(p),p<=0?o(p):l!==void 0?typeof d=="string"?o(p).fill(l,d):o(p).fill(l):o(p)}a.alloc=function(p,l,d){return h(p,l,d)};function f(p){return u(p),o(p<0?0:S(p)|0)}a.allocUnsafe=function(p){return f(p)},a.allocUnsafeSlow=function(p){return f(p)};function g(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=I(p,l)|0;let y=o(d);const A=y.write(p,l);return A!==d&&(y=y.slice(0,A)),y}function m(p){const l=p.length<0?0:S(p.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=p[y]&255;return d}function _(p){if(ce(p,Uint8Array)){const l=new Uint8Array(p);return x(l.buffer,l.byteOffset,l.byteLength)}return m(p)}function x(p,l,d){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(p):d===void 0?y=new Uint8Array(p,l):y=new Uint8Array(p,l,d),Object.setPrototypeOf(y,a.prototype),y}function C(p){if(a.isBuffer(p)){const l=S(p.length)|0,d=o(l);return d.length===0||p.copy(d,0,0,l),d}if(p.length!==void 0)return typeof p.length!="number"||Be(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function T(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ce(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ce(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,A=d.length;for(let $=0,F=Math.min(y,A);$<F;++$)if(l[$]!==d[$]){y=l[$],A=d[$];break}return y<A?-1:A<y?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const A=a.allocUnsafe(d);let $=0;for(y=0;y<l.length;++y){let F=l[y];if(ce(F,Uint8Array))$+F.length>A.length?(a.isBuffer(F)||(F=a.from(F)),F.copy(A,$)):Uint8Array.prototype.set.call(A,F,$);else if(a.isBuffer(F))F.copy(A,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=F.length}return A};function I(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ce(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const d=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return N(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(p).length;default:if(A)return y?-1:N(p).length;l=(""+l).toLowerCase(),A=!0}}a.byteLength=I;function P(p,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return R(this,l,d);case"utf8":case"utf-8":return w(this,l,d);case"ascii":return O(this,l,d);case"latin1":case"binary":return B(this,l,d);case"base64":return j(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function z(p,l,d){const y=p[l];p[l]=p[d],p[d]=y}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)z(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)z(this,d,d+3),z(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)z(this,d,d+7),z(this,d+1,d+6),z(this,d+2,d+5),z(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?w(this,0,l):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,y,A,$){if(ce(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),A===void 0&&(A=0),$===void 0&&($=this.length),d<0||y>l.length||A<0||$>this.length)throw new RangeError("out of range index");if(A>=$&&d>=y)return 0;if(A>=$)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,A>>>=0,$>>>=0,this===l)return 0;let F=$-A,le=y-d;const ve=Math.min(F,le),ye=this.slice(A,$),Ne=l.slice(d,y);for(let he=0;he<ve;++he)if(ye[he]!==Ne[he]){F=ye[he],le=Ne[he];break}return F<le?-1:le<F?1:0};function W(p,l,d,y,A){if(p.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Be(d)&&(d=A?0:p.length-1),d<0&&(d=p.length+d),d>=p.length){if(A)return-1;d=p.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,y)),a.isBuffer(l))return l.length===0?-1:L(p,l,d,y,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,d):Uint8Array.prototype.lastIndexOf.call(p,l,d):L(p,[l],d,y,A);throw new TypeError("val must be string, number or Buffer")}function L(p,l,d,y,A){let $=1,F=p.length,le=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||l.length<2)return-1;$=2,F/=2,le/=2,d/=2}function ve(Ne,he){return $===1?Ne[he]:Ne.readUInt16BE(he*$)}let ye;if(A){let Ne=-1;for(ye=d;ye<F;ye++)if(ve(p,ye)===ve(l,Ne===-1?0:ye-Ne)){if(Ne===-1&&(Ne=ye),ye-Ne+1===le)return Ne*$}else Ne!==-1&&(ye-=ye-Ne),Ne=-1}else for(d+le>F&&(d=F-le),ye=d;ye>=0;ye--){let Ne=!0;for(let he=0;he<le;he++)if(ve(p,ye+he)!==ve(l,he)){Ne=!1;break}if(Ne)return ye}return-1}a.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},a.prototype.indexOf=function(l,d,y){return W(this,l,d,y,!0)},a.prototype.lastIndexOf=function(l,d,y){return W(this,l,d,y,!1)};function V(p,l,d,y){d=Number(d)||0;const A=p.length-d;y?(y=Number(y),y>A&&(y=A)):y=A;const $=l.length;y>$/2&&(y=$/2);let F;for(F=0;F<y;++F){const le=parseInt(l.substr(F*2,2),16);if(Be(le))return F;p[d+F]=le}return F}function q(p,l,d,y){return se(N(l,p.length-d),p,d,y)}function X(p,l,d,y){return se(D(l),p,d,y)}function Y(p,l,d,y){return se(J(l),p,d,y)}function ee(p,l,d,y){return se(G(l,p.length-d),p,d,y)}a.prototype.write=function(l,d,y,A){if(d===void 0)A="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")A=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,A===void 0&&(A="utf8")):(A=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-d;if((y===void 0||y>$)&&(y=$),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return V(this,l,d,y);case"utf8":case"utf-8":return q(this,l,d,y);case"ascii":case"latin1":case"binary":return X(this,l,d,y);case"base64":return Y(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,l,d,y);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(p,l,d){return l===0&&d===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,d))}function w(p,l,d){d=Math.min(p.length,d);const y=[];let A=l;for(;A<d;){const $=p[A];let F=null,le=$>239?4:$>223?3:$>191?2:1;if(A+le<=d){let ve,ye,Ne,he;switch(le){case 1:$<128&&(F=$);break;case 2:ve=p[A+1],(ve&192)===128&&(he=($&31)<<6|ve&63,he>127&&(F=he));break;case 3:ve=p[A+1],ye=p[A+2],(ve&192)===128&&(ye&192)===128&&(he=($&15)<<12|(ve&63)<<6|ye&63,he>2047&&(he<55296||he>57343)&&(F=he));break;case 4:ve=p[A+1],ye=p[A+2],Ne=p[A+3],(ve&192)===128&&(ye&192)===128&&(Ne&192)===128&&(he=($&15)<<18|(ve&63)<<12|(ye&63)<<6|Ne&63,he>65535&&he<1114112&&(F=he))}}F===null?(F=65533,le=1):F>65535&&(F-=65536,y.push(F>>>10&1023|55296),F=56320|F&1023),y.push(F),A+=le}return v(y)}const b=4096;function v(p){const l=p.length;if(l<=b)return String.fromCharCode.apply(String,p);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,p.slice(y,y+=b));return d}function O(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]&127);return y}function B(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]);return y}function R(p,l,d){const y=p.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let A="";for(let $=l;$<d;++$)A+=Ge[p[$]];return A}function M(p,l,d){const y=p.slice(l,d);let A="";for(let $=0;$<y.length-1;$+=2)A+=String.fromCharCode(y[$]+y[$+1]*256);return A}a.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const A=this.subarray(l,d);return Object.setPrototypeOf(A,a.prototype),A};function k(p,l,d){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l+--d],$=1;for(;d>0&&($*=256);)A+=this[l+--d]*$;return A},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,$=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(A)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],$=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(A)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return $*=128,A>=$&&(A-=Math.pow(2,8*d)),A},a.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=d,$=1,F=this[l+--A];for(;A>0&&($*=256);)F+=this[l+--A]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*d)),F},a.prototype.readInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(A)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!1,52,8)};function E(p,l,d,y,A,$){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<$)throw new RangeError('"value" argument is out of bounds');if(d+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const le=Math.pow(2,8*y)-1;E(this,l,d,y,le,0)}let $=1,F=0;for(this[d]=l&255;++F<y&&($*=256);)this[d+F]=l/$&255;return d+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const le=Math.pow(2,8*y)-1;E(this,l,d,y,le,0)}let $=y-1,F=1;for(this[d+$]=l&255;--$>=0&&(F*=256);)this[d+$]=l/F&255;return d+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function U(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,d}function Q(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d+7]=$,$=$>>8,p[d+6]=$,$=$>>8,p[d+5]=$,$=$>>8,p[d+4]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d+3]=F,F=F>>8,p[d+2]=F,F=F>>8,p[d+1]=F,F=F>>8,p[d]=F,d+8}a.prototype.writeBigUInt64LE=Ye(function(l,d=0){return U(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(l,d=0){return Q(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=0,F=1,le=0;for(this[d]=l&255;++$<y&&(F*=256);)l<0&&le===0&&this[d+$-1]!==0&&(le=1),this[d+$]=(l/F>>0)-le&255;return d+y},a.prototype.writeIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=y-1,F=1,le=0;for(this[d+$]=l&255;--$>=0&&(F*=256);)l<0&&le===0&&this[d+$+1]!==0&&(le=1),this[d+$]=(l/F>>0)-le&255;return d+y},a.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ye(function(l,d=0){return U(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(l,d=0){return Q(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(p,l,d,y,A,$){if(d+y>p.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function oe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,4),n.write(p,l,d,y,23,4),d+4}a.prototype.writeFloatLE=function(l,d,y){return oe(this,l,d,!0,y)},a.prototype.writeFloatBE=function(l,d,y){return oe(this,l,d,!1,y)};function pe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,8),n.write(p,l,d,y,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,y){return pe(this,l,d,!0,y)},a.prototype.writeDoubleBE=function(l,d,y){return pe(this,l,d,!1,y)},a.prototype.copy=function(l,d,y,A){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!A&&A!==0&&(A=this.length),d>=l.length&&(d=l.length),d||(d=0),A>0&&A<y&&(A=y),A===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-d<A-y&&(A=l.length-d+y);const $=A-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,A):Uint8Array.prototype.set.call(l,this.subarray(y,A),d),$},a.prototype.fill=function(l,d,y,A){if(typeof l=="string"){if(typeof d=="string"?(A=d,d=0,y=this.length):typeof y=="string"&&(A=y,y=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){const F=l.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(l=F)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let $;if(typeof l=="number")for($=d;$<y;++$)this[$]=l;else{const F=a.isBuffer(l)?l:a.from(l,A),le=F.length;if(le===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for($=0;$<y-d;++$)this[$+d]=F[$%le]}return this};const ue={};function me(p,l,d){ue[p]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),me("ERR_OUT_OF_RANGE",function(p,l,d){let y=`The value of "${p}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=et(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=et(A)),A+="n"),y+=` It must be ${l}. Received ${A}`,y},RangeError);function et(p){let l="",d=p.length;const y=p[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${p.slice(d-3,d)}${l}`;return`${p.slice(0,d)}${l}`}function qe(p,l,d){je(l,"offset"),(p[l]===void 0||p[l+d]===void 0)&&Pe(l,p.length-(d+1))}function ke(p,l,d,y,A,$){if(p>d||p<l){const F=typeof l=="bigint"?"n":"";let le;throw l===0||l===BigInt(0)?le=`>= 0${F} and < 2${F} ** ${($+1)*8}${F}`:le=`>= -(2${F} ** ${($+1)*8-1}${F}) and < 2 ** ${($+1)*8-1}${F}`,new ue.ERR_OUT_OF_RANGE("value",le,p)}qe(y,A,$)}function je(p,l){if(typeof p!="number")throw new ue.ERR_INVALID_ARG_TYPE(l,"number",p)}function Pe(p,l,d){throw Math.floor(p)!==p?(je(p,d),new ue.ERR_OUT_OF_RANGE("offset","an integer",p)):l<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,p)}const st=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace(st,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function N(p,l){l=l||1/0;let d;const y=p.length;let A=null;const $=[];for(let F=0;F<y;++F){if(d=p.charCodeAt(F),d>55295&&d<57344){if(!A){if(d>56319){(l-=3)>-1&&$.push(239,191,189);continue}else if(F+1===y){(l-=3)>-1&&$.push(239,191,189);continue}A=d;continue}if(d<56320){(l-=3)>-1&&$.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(l-=3)>-1&&$.push(239,191,189);if(A=null,d<128){if((l-=1)<0)break;$.push(d)}else if(d<2048){if((l-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function D(p){const l=[];for(let d=0;d<p.length;++d)l.push(p.charCodeAt(d)&255);return l}function G(p,l){let d,y,A;const $=[];for(let F=0;F<p.length&&!((l-=2)<0);++F)d=p.charCodeAt(F),y=d>>8,A=d%256,$.push(A),$.push(y);return $}function J(p){return e.toByteArray(K(p))}function se(p,l,d,y){let A;for(A=0;A<y&&!(A+d>=l.length||A>=p.length);++A)l[A+d]=p[A];return A}function ce(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Be(p){return p!==p}const Ge=function(){const p="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let A=0;A<16;++A)l[y+A]=p[d]+p[A]}return l}();function Ye(p){return typeof BigInt>"u"?at:p}function at(){throw new Error("BigInt not supported")}})(JD);Object.defineProperty(re,"__esModule",{value:!0});re.s16=re.s8=re.nu64be=re.u48be=re.u40be=re.u32be=re.u24be=re.u16be=qr=re.nu64=re.u48=re.u40=Qe=re.u32=re.u24=Ms=re.u16=zt=re.u8=ql=re.offset=re.greedy=re.Constant=re.UTF8=re.CString=re.Blob=re.Boolean=re.BitField=re.BitStructure=re.VariantLayout=re.Union=re.UnionLayoutDiscriminator=re.UnionDiscriminator=re.Structure=re.Sequence=re.DoubleBE=re.Double=re.FloatBE=re.Float=re.NearInt64BE=re.NearInt64=re.NearUInt64BE=re.NearUInt64=re.IntBE=re.Int=re.UIntBE=re.UInt=re.OffsetLayout=re.GreedyCount=re.ExternalLayout=re.bindConstructorLayout=re.nameWithProperty=re.Layout=re.uint8ArrayToBuffer=re.checkUint8Array=void 0;re.constant=re.utf8=re.cstr=mn=re.blob=re.unionLayoutDiscriminator=re.union=fi=re.seq=re.bits=Ke=re.struct=re.f64be=re.f64=re.f32be=re.f32=re.ns64be=re.s48be=re.s40be=re.s32be=re.s24be=re.s16be=os=re.ns64=re.s48=re.s40=re.s32=re.s24=void 0;const mA=JD;function Kh(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}re.checkUint8Array=Kh;function Ut(t){return Kh(t),mA.Buffer.from(t.buffer,t.byteOffset,t.length)}re.uint8ArrayToBuffer=Ut;class Kt{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}re.Layout=Kt;function yA(t,e){return e.property?t+"["+e.property+"]":t}re.nameWithProperty=yA;function Ese(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Kt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}re.bindConstructorLayout=Ese;class ji extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}re.ExternalLayout=ji;class eP extends ji{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Kh(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}re.GreedyCount=eP;class bA extends ji{constructor(e,n=0,r){if(!(e instanceof Kt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof Ws||this.layout instanceof bo}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}re.OffsetLayout=bA;class Ws extends Kt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ut(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Ut(n).writeUIntLE(e,r,this.span),this.span}}re.UInt=Ws;class bo extends Kt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ut(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Ut(n).writeUIntBE(e,r,this.span),this.span}}re.UIntBE=bo;class Au extends Kt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ut(e).readIntLE(n,this.span)}encode(e,n,r=0){return Ut(n).writeIntLE(e,r,this.span),this.span}}re.Int=Au;class Gh extends Kt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Ut(e).readIntBE(n,this.span)}encode(e,n,r=0){return Ut(n).writeIntBE(e,r,this.span),this.span}}re.IntBE=Gh;const J_=Math.pow(2,32);function vw(t){const e=Math.floor(t/J_),n=t-e*J_;return{hi32:e,lo32:n}}function Ew(t,e){return t*J_+e}class tP extends Kt{constructor(e){super(8,e)}decode(e,n=0){const r=Ut(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return Ew(s,i)}encode(e,n,r=0){const i=vw(e),s=Ut(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}re.NearUInt64=tP;class nP extends Kt{constructor(e){super(8,e)}decode(e,n=0){const r=Ut(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return Ew(i,s)}encode(e,n,r=0){const i=vw(e),s=Ut(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}re.NearUInt64BE=nP;class rP extends Kt{constructor(e){super(8,e)}decode(e,n=0){const r=Ut(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return Ew(s,i)}encode(e,n,r=0){const i=vw(e),s=Ut(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}re.NearInt64=rP;class iP extends Kt{constructor(e){super(8,e)}decode(e,n=0){const r=Ut(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return Ew(i,s)}encode(e,n,r=0){const i=vw(e),s=Ut(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}re.NearInt64BE=iP;class sP extends Kt{constructor(e){super(4,e)}decode(e,n=0){return Ut(e).readFloatLE(n)}encode(e,n,r=0){return Ut(n).writeFloatLE(e,r),4}}re.Float=sP;class oP extends Kt{constructor(e){super(4,e)}decode(e,n=0){return Ut(e).readFloatBE(n)}encode(e,n,r=0){return Ut(n).writeFloatBE(e,r),4}}re.FloatBE=oP;class aP extends Kt{constructor(e){super(8,e)}decode(e,n=0){return Ut(e).readDoubleLE(n)}encode(e,n,r=0){return Ut(n).writeDoubleLE(e,r),8}}re.Double=aP;class cP extends Kt{constructor(e){super(8,e)}decode(e,n=0){return Ut(e).readDoubleBE(n)}encode(e,n,r=0){return Ut(n).writeDoubleBE(e,r),8}}re.DoubleBE=cP;class lP extends Kt{constructor(e,n,r){if(!(e instanceof Kt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof ji&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof ji)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof ji&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof ji&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof ji&&this.count.encode(e.length,n,r),s}}re.Sequence=lP;class uP extends Kt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Kt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Kh(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>c&&(c=a.getSpan(n,r)))}s=r,r+=c}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}re.Structure=uP;class wA{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}re.UnionDiscriminator=wA;class ib extends wA{constructor(e,n){if(!(e instanceof ji&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}re.UnionLayoutDiscriminator=ib;class vA extends Kt{constructor(e,n,r){let i;if(e instanceof Ws||e instanceof bo)i=new ib(new bA(e));else if(e instanceof ji&&e.isCount())i=new ib(e);else if(e instanceof wA)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof Ws||e instanceof bo)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Ws||e instanceof bo,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new dP(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}re.Union=vA;class dP extends Kt{constructor(e,n,r,i){if(!(e instanceof vA))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Kt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}re.VariantLayout=dP;function yd(t){return 0>t&&(t+=4294967296),t}class EA extends Kt{constructor(e,n,r){if(!(e instanceof Ws||e instanceof bo))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=yd(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new _A(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new hP(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}re.BitStructure=EA;class _A{constructor(e,n,r){if(!(e instanceof EA))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=yd(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return yd(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==yd(e&this.valueMask))throw new TypeError(yA("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=yd(e<<this.start);this.container._packedSetValue(yd(n&~this.wordMask)|r)}}re.BitField=_A;let hP=class extends _A{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};re.Boolean=hP;let fP=class extends Kt{constructor(e,n){if(!(e instanceof ji&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ji||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Ut(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof ji&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(yA("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Ut(e);return Ut(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof ji&&this.length.encode(i,n,r),i}};re.Blob=fP;class pP extends Kt{constructor(e){super(-1,e)}getSpan(e,n=0){Kh(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Ut(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=mA.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Ut(n);return i.copy(o,r),o[r+s]=0,s+1}}re.CString=pP;class gP extends Kt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Kh(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Ut(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=mA.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ut(n),r),s}}re.UTF8=gP;class mP extends Kt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}re.Constant=mP;re.greedy=(t,e)=>new eP(t,e);var ql=re.offset=(t,e,n)=>new bA(t,e,n),zt=re.u8=t=>new Ws(1,t),Ms=re.u16=t=>new Ws(2,t);re.u24=t=>new Ws(3,t);var Qe=re.u32=t=>new Ws(4,t);re.u40=t=>new Ws(5,t);re.u48=t=>new Ws(6,t);var qr=re.nu64=t=>new tP(t);re.u16be=t=>new bo(2,t);re.u24be=t=>new bo(3,t);re.u32be=t=>new bo(4,t);re.u40be=t=>new bo(5,t);re.u48be=t=>new bo(6,t);re.nu64be=t=>new nP(t);re.s8=t=>new Au(1,t);re.s16=t=>new Au(2,t);re.s24=t=>new Au(3,t);re.s32=t=>new Au(4,t);re.s40=t=>new Au(5,t);re.s48=t=>new Au(6,t);var os=re.ns64=t=>new rP(t);re.s16be=t=>new Gh(2,t);re.s24be=t=>new Gh(3,t);re.s32be=t=>new Gh(4,t);re.s40be=t=>new Gh(5,t);re.s48be=t=>new Gh(6,t);re.ns64be=t=>new iP(t);re.f32=t=>new sP(t);re.f32be=t=>new oP(t);re.f64=t=>new aP(t);re.f64be=t=>new cP(t);var Ke=re.struct=(t,e,n)=>new uP(t,e,n);re.bits=(t,e,n)=>new EA(t,e,n);var fi=re.seq=(t,e,n)=>new lP(t,e,n);re.union=(t,e,n)=>new vA(t,e,n);re.unionLayoutDiscriminator=(t,e)=>new ib(t,e);var mn=re.blob=(t,e)=>new fP(t,e);re.cstr=t=>new pP(t);re.utf8=(t,e)=>new gP(t,e);re.constant=(t,e)=>new mP(t,e);var _se=8078e3,xse=8078001,Sse=8078004,Ase=8078005,Cse=8078006,Tse=8078011;function yP(t){return Array.isArray(t)?"%5B"+t.map(yP).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Ise([t,e]){return`${t}=${yP(e)}`}function Rse(t){const e=Object.entries(t).map(Ise).join("&");return btoa(e)}function kse(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Rse(e)}'`),`${n}\``}}var Vd=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=kse(e,r);super(s,i);ar(this,"cause",this.cause);ar(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function Nse(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function Ose(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Nse(e,t));return t.write(e,n,0),n}})}function Bse(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function cd(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Dse(t,e){if(cd(t)!==cd(e))throw new Vd(Sse);if(cd(t)&&cd(e)&&t.fixedSize!==e.fixedSize)throw new Vd(Ase,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!cd(t)&&!cd(e)&&t.maxSize!==e.maxSize)throw new Vd(Cse,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Pse(t,e,n=0){if(e.length-n<=0)throw new Vd(_se,{codecDescription:t})}function $se(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Vd(xse,{bytesLength:i,codecDescription:t,expected:e})}function Mse(t,e,n,r){if(r<e||r>n)throw new Vd(Tse,{codecDescription:t,max:n,min:e,value:r})}function bP(t){return t?.endian!==1}function Use(t){return Ose({fixedSize:t.size,write(e,n,r){t.range&&Mse(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,bP(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function Lse(t){return Bse({fixedSize:t.size,read(e,n=0){Pse(t.name,e,n),$se(t.name,t.size,e,n);const r=new DataView(zse(e,n,t.size));return[t.get(r,bP(t.config)),n+t.size]}})}function zse(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Fse=(t={})=>Use({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),jse=(t={})=>Lse({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),Hse=(t={})=>Dse(Fse(t),jse(t));class qse extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function Vse(t){return vm(t)&&typeof t[Symbol.iterator]=="function"}function vm(t){return typeof t=="object"&&t!=null}function sb(t){return vm(t)&&!Array.isArray(t)}function _o(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Wse(t){const{done:e,value:n}=t.next();return e?void 0:n}function Kse(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${_o(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*YR(t,e,n,r){Vse(t)||(t=[t]);for(const i of t){const s=Kse(i,e,n,r);s&&(yield s)}}function*xA(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,h,f]of e.entries(t,a)){const g=xA(h,f,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,h],coerce:s,mask:o,message:n.message});for(const m of g)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):s&&(h=m[1],u===void 0?t=h:t instanceof Map?t.set(u,h):t instanceof Set?t.add(h):vm(t)&&(h!==void 0||u in t)&&(t[u]=h))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}let ea=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const h=i(c,u);return YR(h,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const h=s(c,u);return YR(h,u,this,c)}:this.refiner=()=>[]}assert(e,n){return Gse(e,this,n)}create(e,n){return Te(e,this,n)}is(e){return wP(e,this)}mask(e,n){return Yse(e,this,n)}validate(e,n={}){return Em(e,this,n)}};function Gse(t,e,n){const r=Em(t,e,{message:n});if(r[0])throw r[0]}function Te(t,e,n){const r=Em(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Yse(t,e,n){const r=Em(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function wP(t,e){return!Em(t,e)[0]}function Em(t,e,n={}){const r=xA(t,e,n),i=Wse(r);return i[0]?[new qse(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Cu(t,e){return new ea({type:t,schema:null,validator:e})}function Zse(){return Cu("any",()=>!0)}function Ie(t){return new ea({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${_o(e)}`}})}function Zo(){return Cu("boolean",t=>typeof t=="boolean")}function SA(t){return Cu("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${_o(e)}`)}function Bn(t){const e=_o(t),n=typeof t;return new ea({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${_o(r)}`}})}function Xse(){return Cu("never",()=>!1)}function Re(t){return new ea({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function ne(){return Cu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${_o(t)}`)}function Je(t){return new ea({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function vP(t,e){return new ea({type:"record",schema:null,*entries(n){if(vm(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return sb(n)||`Expected an object, but received: ${_o(n)}`},coercer(n){return sb(n)?{...n}:n}})}function _e(){return Cu("string",t=>typeof t=="string"||`Expected a string, but received: ${_o(t)}`)}function AA(t){const e=Xse();return new ea({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${_o(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function fe(t){const e=Object.keys(t);return new ea({type:"type",schema:t,*entries(n){if(vm(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return sb(n)||`Expected an object, but received: ${_o(n)}`},coercer(n){return sb(n)?{...n}:n}})}function Ii(t){const e=t.map(n=>n.type).join(" | ");return new ea({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=xA(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${_o(n)}`,...i]}})}function Yh(){return Cu("unknown",()=>!0)}function _m(t,e,n){return new ea({...t,coercer:(r,i)=>wP(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var T0,Qse=new Uint8Array(16);function EP(){if(!T0&&(T0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!T0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T0(Qse)}const Jse=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _w(t){return typeof t=="string"&&Jse.test(t)}var jr=[];for(var M1=0;M1<256;++M1)jr.push((M1+256).toString(16).substr(1));function xw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(jr[t[e+0]]+jr[t[e+1]]+jr[t[e+2]]+jr[t[e+3]]+"-"+jr[t[e+4]]+jr[t[e+5]]+"-"+jr[t[e+6]]+jr[t[e+7]]+"-"+jr[t[e+8]]+jr[t[e+9]]+"-"+jr[t[e+10]]+jr[t[e+11]]+jr[t[e+12]]+jr[t[e+13]]+jr[t[e+14]]+jr[t[e+15]]).toLowerCase();if(!_w(n))throw TypeError("Stringified UUID is invalid");return n}var ZR,U1,L1=0,z1=0;function eoe(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||ZR,o=t.clockseq!==void 0?t.clockseq:U1;if(s==null||o==null){var a=t.random||(t.rng||EP)();s==null&&(s=ZR=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=U1=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:z1+1,h=c-L1+(u-z1)/1e4;if(h<0&&t.clockseq===void 0&&(o=o+1&16383),(h<0||c>L1)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");L1=c,z1=u,U1=o,c+=122192928e5;var f=((c&268435455)*1e4+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var g=c/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=g&255,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var m=0;m<6;++m)i[r+m]=s[m];return e||xw(i)}function _P(t){if(!_w(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function toe(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var noe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",roe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function xP(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=toe(i)),typeof s=="string"&&(s=_P(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return xw(c)}try{r.name=t}catch{}return r.DNS=noe,r.URL=roe,r}function ioe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return soe(ooe(aoe(t),t.length*8))}function soe(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function SP(t){return(t+64>>>9<<4)+14+1}function ooe(t,e){t[e>>5]|=128<<e%32,t[SP(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,c=r,u=i,h=s;n=ci(n,r,i,s,t[o],7,-680876936),s=ci(s,n,r,i,t[o+1],12,-389564586),i=ci(i,s,n,r,t[o+2],17,606105819),r=ci(r,i,s,n,t[o+3],22,-1044525330),n=ci(n,r,i,s,t[o+4],7,-176418897),s=ci(s,n,r,i,t[o+5],12,1200080426),i=ci(i,s,n,r,t[o+6],17,-1473231341),r=ci(r,i,s,n,t[o+7],22,-45705983),n=ci(n,r,i,s,t[o+8],7,1770035416),s=ci(s,n,r,i,t[o+9],12,-1958414417),i=ci(i,s,n,r,t[o+10],17,-42063),r=ci(r,i,s,n,t[o+11],22,-1990404162),n=ci(n,r,i,s,t[o+12],7,1804603682),s=ci(s,n,r,i,t[o+13],12,-40341101),i=ci(i,s,n,r,t[o+14],17,-1502002290),r=ci(r,i,s,n,t[o+15],22,1236535329),n=li(n,r,i,s,t[o+1],5,-165796510),s=li(s,n,r,i,t[o+6],9,-1069501632),i=li(i,s,n,r,t[o+11],14,643717713),r=li(r,i,s,n,t[o],20,-373897302),n=li(n,r,i,s,t[o+5],5,-701558691),s=li(s,n,r,i,t[o+10],9,38016083),i=li(i,s,n,r,t[o+15],14,-660478335),r=li(r,i,s,n,t[o+4],20,-405537848),n=li(n,r,i,s,t[o+9],5,568446438),s=li(s,n,r,i,t[o+14],9,-1019803690),i=li(i,s,n,r,t[o+3],14,-187363961),r=li(r,i,s,n,t[o+8],20,1163531501),n=li(n,r,i,s,t[o+13],5,-1444681467),s=li(s,n,r,i,t[o+2],9,-51403784),i=li(i,s,n,r,t[o+7],14,1735328473),r=li(r,i,s,n,t[o+12],20,-1926607734),n=ui(n,r,i,s,t[o+5],4,-378558),s=ui(s,n,r,i,t[o+8],11,-2022574463),i=ui(i,s,n,r,t[o+11],16,1839030562),r=ui(r,i,s,n,t[o+14],23,-35309556),n=ui(n,r,i,s,t[o+1],4,-1530992060),s=ui(s,n,r,i,t[o+4],11,1272893353),i=ui(i,s,n,r,t[o+7],16,-155497632),r=ui(r,i,s,n,t[o+10],23,-1094730640),n=ui(n,r,i,s,t[o+13],4,681279174),s=ui(s,n,r,i,t[o],11,-358537222),i=ui(i,s,n,r,t[o+3],16,-722521979),r=ui(r,i,s,n,t[o+6],23,76029189),n=ui(n,r,i,s,t[o+9],4,-640364487),s=ui(s,n,r,i,t[o+12],11,-421815835),i=ui(i,s,n,r,t[o+15],16,530742520),r=ui(r,i,s,n,t[o+2],23,-995338651),n=di(n,r,i,s,t[o],6,-198630844),s=di(s,n,r,i,t[o+7],10,1126891415),i=di(i,s,n,r,t[o+14],15,-1416354905),r=di(r,i,s,n,t[o+5],21,-57434055),n=di(n,r,i,s,t[o+12],6,1700485571),s=di(s,n,r,i,t[o+3],10,-1894986606),i=di(i,s,n,r,t[o+10],15,-1051523),r=di(r,i,s,n,t[o+1],21,-2054922799),n=di(n,r,i,s,t[o+8],6,1873313359),s=di(s,n,r,i,t[o+15],10,-30611744),i=di(i,s,n,r,t[o+6],15,-1560198380),r=di(r,i,s,n,t[o+13],21,1309151649),n=di(n,r,i,s,t[o+4],6,-145523070),s=di(s,n,r,i,t[o+11],10,-1120210379),i=di(i,s,n,r,t[o+2],15,718787259),r=di(r,i,s,n,t[o+9],21,-343485551),n=Cc(n,a),r=Cc(r,c),i=Cc(i,u),s=Cc(s,h)}return[n,r,i,s]}function aoe(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(SP(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Cc(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function coe(t,e){return t<<e|t>>>32-e}function Sw(t,e,n,r,i,s){return Cc(coe(Cc(Cc(e,t),Cc(r,s)),i),n)}function ci(t,e,n,r,i,s,o){return Sw(e&n|~e&r,t,e,i,s,o)}function li(t,e,n,r,i,s,o){return Sw(e&r|n&~r,t,e,i,s,o)}function ui(t,e,n,r,i,s,o){return Sw(e^n^r,t,e,i,s,o)}function di(t,e,n,r,i,s,o){return Sw(n^(e|~r),t,e,i,s,o)}var loe=xP("v3",48,ioe);function uoe(t,e,n){t=t||{};var r=t.random||(t.rng||EP)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return xw(r)}function doe(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function F1(t,e){return t<<e|t>>>32-e}function hoe(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),h=0;h<16;++h)u[h]=t[c*64+h*4]<<24|t[c*64+h*4+1]<<16|t[c*64+h*4+2]<<8|t[c*64+h*4+3];a[c]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var g=new Uint32Array(80),m=0;m<16;++m)g[m]=a[f][m];for(var _=16;_<80;++_)g[_]=F1(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var x=n[0],C=n[1],S=n[2],T=n[3],I=n[4],P=0;P<80;++P){var z=Math.floor(P/20),W=F1(x,5)+doe(z,C,S,T)+I+e[z]+g[P]>>>0;I=T,T=S,S=F1(C,30)>>>0,C=x,x=W}n[0]=n[0]+x>>>0,n[1]=n[1]+C>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+T>>>0,n[4]=n[4]+I>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var foe=xP("v5",80,hoe);const poe="00000000-0000-0000-0000-000000000000";function goe(t){if(!_w(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const moe=Object.freeze(Object.defineProperty({__proto__:null,NIL:poe,parse:_P,stringify:xw,v1:eoe,v3:loe,v4:uoe,v5:foe,validate:_w,version:goe},Symbol.toStringTag,{value:"Module"})),AP=Yg(moe),yoe=AP.v4,boe=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return yoe()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var woe=boe;const voe=AP.v4,Eoe=woe,xg=function(t,e){if(!(this instanceof xg))return new xg(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return voe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var _oe=xg;xg.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=Eoe(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(h){if(u)return r(h);throw h}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,h){i._parseResponse(u,h,r)}),s};xg.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const xoe=ws(_oe);var CP={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Su,n=Wh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=T,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,d){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(p)}return c(p,l,d)}a.poolSize=8192;function c(p,l,d){if(typeof p=="string")return g(p,l);if(ArrayBuffer.isView(p))return _(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ce(p,ArrayBuffer)||p&&ce(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(p,SharedArrayBuffer)||p&&ce(p.buffer,SharedArrayBuffer)))return x(p,l,d);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,l,d);const A=C(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,d){return c(p,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,l,d){return u(p),p<=0?o(p):l!==void 0?typeof d=="string"?o(p).fill(l,d):o(p).fill(l):o(p)}a.alloc=function(p,l,d){return h(p,l,d)};function f(p){return u(p),o(p<0?0:S(p)|0)}a.allocUnsafe=function(p){return f(p)},a.allocUnsafeSlow=function(p){return f(p)};function g(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=I(p,l)|0;let y=o(d);const A=y.write(p,l);return A!==d&&(y=y.slice(0,A)),y}function m(p){const l=p.length<0?0:S(p.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=p[y]&255;return d}function _(p){if(ce(p,Uint8Array)){const l=new Uint8Array(p);return x(l.buffer,l.byteOffset,l.byteLength)}return m(p)}function x(p,l,d){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(p):d===void 0?y=new Uint8Array(p,l):y=new Uint8Array(p,l,d),Object.setPrototypeOf(y,a.prototype),y}function C(p){if(a.isBuffer(p)){const l=S(p.length)|0,d=o(l);return d.length===0||p.copy(d,0,0,l),d}if(p.length!==void 0)return typeof p.length!="number"||Be(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function T(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ce(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ce(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,A=d.length;for(let $=0,F=Math.min(y,A);$<F;++$)if(l[$]!==d[$]){y=l[$],A=d[$];break}return y<A?-1:A<y?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const A=a.allocUnsafe(d);let $=0;for(y=0;y<l.length;++y){let F=l[y];if(ce(F,Uint8Array))$+F.length>A.length?(a.isBuffer(F)||(F=a.from(F)),F.copy(A,$)):Uint8Array.prototype.set.call(A,F,$);else if(a.isBuffer(F))F.copy(A,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=F.length}return A};function I(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ce(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const d=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return N(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(p).length;default:if(A)return y?-1:N(p).length;l=(""+l).toLowerCase(),A=!0}}a.byteLength=I;function P(p,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return R(this,l,d);case"utf8":case"utf-8":return w(this,l,d);case"ascii":return O(this,l,d);case"latin1":case"binary":return B(this,l,d);case"base64":return j(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function z(p,l,d){const y=p[l];p[l]=p[d],p[d]=y}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)z(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)z(this,d,d+3),z(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)z(this,d,d+7),z(this,d+1,d+6),z(this,d+2,d+5),z(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?w(this,0,l):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,y,A,$){if(ce(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),A===void 0&&(A=0),$===void 0&&($=this.length),d<0||y>l.length||A<0||$>this.length)throw new RangeError("out of range index");if(A>=$&&d>=y)return 0;if(A>=$)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,A>>>=0,$>>>=0,this===l)return 0;let F=$-A,le=y-d;const ve=Math.min(F,le),ye=this.slice(A,$),Ne=l.slice(d,y);for(let he=0;he<ve;++he)if(ye[he]!==Ne[he]){F=ye[he],le=Ne[he];break}return F<le?-1:le<F?1:0};function W(p,l,d,y,A){if(p.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Be(d)&&(d=A?0:p.length-1),d<0&&(d=p.length+d),d>=p.length){if(A)return-1;d=p.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,y)),a.isBuffer(l))return l.length===0?-1:L(p,l,d,y,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,d):Uint8Array.prototype.lastIndexOf.call(p,l,d):L(p,[l],d,y,A);throw new TypeError("val must be string, number or Buffer")}function L(p,l,d,y,A){let $=1,F=p.length,le=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||l.length<2)return-1;$=2,F/=2,le/=2,d/=2}function ve(Ne,he){return $===1?Ne[he]:Ne.readUInt16BE(he*$)}let ye;if(A){let Ne=-1;for(ye=d;ye<F;ye++)if(ve(p,ye)===ve(l,Ne===-1?0:ye-Ne)){if(Ne===-1&&(Ne=ye),ye-Ne+1===le)return Ne*$}else Ne!==-1&&(ye-=ye-Ne),Ne=-1}else for(d+le>F&&(d=F-le),ye=d;ye>=0;ye--){let Ne=!0;for(let he=0;he<le;he++)if(ve(p,ye+he)!==ve(l,he)){Ne=!1;break}if(Ne)return ye}return-1}a.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},a.prototype.indexOf=function(l,d,y){return W(this,l,d,y,!0)},a.prototype.lastIndexOf=function(l,d,y){return W(this,l,d,y,!1)};function V(p,l,d,y){d=Number(d)||0;const A=p.length-d;y?(y=Number(y),y>A&&(y=A)):y=A;const $=l.length;y>$/2&&(y=$/2);let F;for(F=0;F<y;++F){const le=parseInt(l.substr(F*2,2),16);if(Be(le))return F;p[d+F]=le}return F}function q(p,l,d,y){return se(N(l,p.length-d),p,d,y)}function X(p,l,d,y){return se(D(l),p,d,y)}function Y(p,l,d,y){return se(J(l),p,d,y)}function ee(p,l,d,y){return se(G(l,p.length-d),p,d,y)}a.prototype.write=function(l,d,y,A){if(d===void 0)A="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")A=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,A===void 0&&(A="utf8")):(A=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-d;if((y===void 0||y>$)&&(y=$),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return V(this,l,d,y);case"utf8":case"utf-8":return q(this,l,d,y);case"ascii":case"latin1":case"binary":return X(this,l,d,y);case"base64":return Y(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,l,d,y);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(p,l,d){return l===0&&d===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,d))}function w(p,l,d){d=Math.min(p.length,d);const y=[];let A=l;for(;A<d;){const $=p[A];let F=null,le=$>239?4:$>223?3:$>191?2:1;if(A+le<=d){let ve,ye,Ne,he;switch(le){case 1:$<128&&(F=$);break;case 2:ve=p[A+1],(ve&192)===128&&(he=($&31)<<6|ve&63,he>127&&(F=he));break;case 3:ve=p[A+1],ye=p[A+2],(ve&192)===128&&(ye&192)===128&&(he=($&15)<<12|(ve&63)<<6|ye&63,he>2047&&(he<55296||he>57343)&&(F=he));break;case 4:ve=p[A+1],ye=p[A+2],Ne=p[A+3],(ve&192)===128&&(ye&192)===128&&(Ne&192)===128&&(he=($&15)<<18|(ve&63)<<12|(ye&63)<<6|Ne&63,he>65535&&he<1114112&&(F=he))}}F===null?(F=65533,le=1):F>65535&&(F-=65536,y.push(F>>>10&1023|55296),F=56320|F&1023),y.push(F),A+=le}return v(y)}const b=4096;function v(p){const l=p.length;if(l<=b)return String.fromCharCode.apply(String,p);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,p.slice(y,y+=b));return d}function O(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]&127);return y}function B(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]);return y}function R(p,l,d){const y=p.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let A="";for(let $=l;$<d;++$)A+=Ge[p[$]];return A}function M(p,l,d){const y=p.slice(l,d);let A="";for(let $=0;$<y.length-1;$+=2)A+=String.fromCharCode(y[$]+y[$+1]*256);return A}a.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const A=this.subarray(l,d);return Object.setPrototypeOf(A,a.prototype),A};function k(p,l,d){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l+--d],$=1;for(;d>0&&($*=256);)A+=this[l+--d]*$;return A},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,$=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(A)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],$=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(A)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return $*=128,A>=$&&(A-=Math.pow(2,8*d)),A},a.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=d,$=1,F=this[l+--A];for(;A>0&&($*=256);)F+=this[l+--A]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*d)),F},a.prototype.readInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(A)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&Pe(l,this.length-8);const A=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!1,52,8)};function E(p,l,d,y,A,$){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<$)throw new RangeError('"value" argument is out of bounds');if(d+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const le=Math.pow(2,8*y)-1;E(this,l,d,y,le,0)}let $=1,F=0;for(this[d]=l&255;++F<y&&($*=256);)this[d+F]=l/$&255;return d+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const le=Math.pow(2,8*y)-1;E(this,l,d,y,le,0)}let $=y-1,F=1;for(this[d+$]=l&255;--$>=0&&(F*=256);)this[d+$]=l/F&255;return d+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function U(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,d}function Q(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d+7]=$,$=$>>8,p[d+6]=$,$=$>>8,p[d+5]=$,$=$>>8,p[d+4]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d+3]=F,F=F>>8,p[d+2]=F,F=F>>8,p[d+1]=F,F=F>>8,p[d]=F,d+8}a.prototype.writeBigUInt64LE=Ye(function(l,d=0){return U(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(l,d=0){return Q(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=0,F=1,le=0;for(this[d]=l&255;++$<y&&(F*=256);)l<0&&le===0&&this[d+$-1]!==0&&(le=1),this[d+$]=(l/F>>0)-le&255;return d+y},a.prototype.writeIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=y-1,F=1,le=0;for(this[d+$]=l&255;--$>=0&&(F*=256);)l<0&&le===0&&this[d+$+1]!==0&&(le=1),this[d+$]=(l/F>>0)-le&255;return d+y},a.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ye(function(l,d=0){return U(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(l,d=0){return Q(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(p,l,d,y,A,$){if(d+y>p.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function oe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,4),n.write(p,l,d,y,23,4),d+4}a.prototype.writeFloatLE=function(l,d,y){return oe(this,l,d,!0,y)},a.prototype.writeFloatBE=function(l,d,y){return oe(this,l,d,!1,y)};function pe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,8),n.write(p,l,d,y,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,y){return pe(this,l,d,!0,y)},a.prototype.writeDoubleBE=function(l,d,y){return pe(this,l,d,!1,y)},a.prototype.copy=function(l,d,y,A){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!A&&A!==0&&(A=this.length),d>=l.length&&(d=l.length),d||(d=0),A>0&&A<y&&(A=y),A===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-d<A-y&&(A=l.length-d+y);const $=A-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,A):Uint8Array.prototype.set.call(l,this.subarray(y,A),d),$},a.prototype.fill=function(l,d,y,A){if(typeof l=="string"){if(typeof d=="string"?(A=d,d=0,y=this.length):typeof y=="string"&&(A=y,y=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){const F=l.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(l=F)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let $;if(typeof l=="number")for($=d;$<y;++$)this[$]=l;else{const F=a.isBuffer(l)?l:a.from(l,A),le=F.length;if(le===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for($=0;$<y-d;++$)this[$+d]=F[$%le]}return this};const ue={};function me(p,l,d){ue[p]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),me("ERR_OUT_OF_RANGE",function(p,l,d){let y=`The value of "${p}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=et(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=et(A)),A+="n"),y+=` It must be ${l}. Received ${A}`,y},RangeError);function et(p){let l="",d=p.length;const y=p[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${p.slice(d-3,d)}${l}`;return`${p.slice(0,d)}${l}`}function qe(p,l,d){je(l,"offset"),(p[l]===void 0||p[l+d]===void 0)&&Pe(l,p.length-(d+1))}function ke(p,l,d,y,A,$){if(p>d||p<l){const F=typeof l=="bigint"?"n":"";let le;throw l===0||l===BigInt(0)?le=`>= 0${F} and < 2${F} ** ${($+1)*8}${F}`:le=`>= -(2${F} ** ${($+1)*8-1}${F}) and < 2 ** ${($+1)*8-1}${F}`,new ue.ERR_OUT_OF_RANGE("value",le,p)}qe(y,A,$)}function je(p,l){if(typeof p!="number")throw new ue.ERR_INVALID_ARG_TYPE(l,"number",p)}function Pe(p,l,d){throw Math.floor(p)!==p?(je(p,d),new ue.ERR_OUT_OF_RANGE("offset","an integer",p)):l<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,p)}const st=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace(st,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function N(p,l){l=l||1/0;let d;const y=p.length;let A=null;const $=[];for(let F=0;F<y;++F){if(d=p.charCodeAt(F),d>55295&&d<57344){if(!A){if(d>56319){(l-=3)>-1&&$.push(239,191,189);continue}else if(F+1===y){(l-=3)>-1&&$.push(239,191,189);continue}A=d;continue}if(d<56320){(l-=3)>-1&&$.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(l-=3)>-1&&$.push(239,191,189);if(A=null,d<128){if((l-=1)<0)break;$.push(d)}else if(d<2048){if((l-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function D(p){const l=[];for(let d=0;d<p.length;++d)l.push(p.charCodeAt(d)&255);return l}function G(p,l){let d,y,A;const $=[];for(let F=0;F<p.length&&!((l-=2)<0);++F)d=p.charCodeAt(F),y=d>>8,A=d%256,$.push(A),$.push(y);return $}function J(p){return e.toByteArray(K(p))}function se(p,l,d,y){let A;for(A=0;A<y&&!(A+d>=l.length||A>=p.length);++A)l[A+d]=p[A];return A}function ce(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Be(p){return p!==p}const Ge=function(){const p="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let A=0;A<16;++A)l[y+A]=p[d]+p[A]}return l}();function Ye(p){return typeof BigInt>"u"?at:p}function at(){throw new Error("BigInt not supported")}})(CP);var TP={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||c,g),_=n?n+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],m]:c._events[_].push(m):(c._events[_]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,m=f.length,_=new Array(m);g<m;g++)_[g]=f[g].fn;return _},a.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,h,f,g,m,_){var x=n?n+u:u;if(!this._events[x])return!1;var C=this._events[x],S=arguments.length,T,I;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,f),!0;case 4:return C.fn.call(C.context,h,f,g),!0;case 5:return C.fn.call(C.context,h,f,g,m),!0;case 6:return C.fn.call(C.context,h,f,g,m,_),!0}for(I=1,T=new Array(S-1);I<S;I++)T[I-1]=arguments[I];C.fn.apply(C.context,T)}else{var P=C.length,z;for(I=0;I<P;I++)switch(C[I].once&&this.removeListener(u,C[I].fn,void 0,!0),S){case 1:C[I].fn.call(C[I].context);break;case 2:C[I].fn.call(C[I].context,h);break;case 3:C[I].fn.call(C[I].context,h,f);break;case 4:C[I].fn.call(C[I].context,h,f,g);break;default:if(!T)for(z=1,T=new Array(S-1);z<S;z++)T[z-1]=arguments[z];C[I].fn.apply(C[I].context,T)}}return!0},a.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},a.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},a.prototype.removeListener=function(u,h,f,g){var m=n?n+u:u;if(!this._events[m])return this;if(!h)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===h&&(!g||_.once)&&(!f||_.context===f)&&o(this,m);else{for(var x=0,C=[],S=_.length;x<S;x++)(_[x].fn!==h||g&&!_[x].once||f&&_[x].context!==f)&&C.push(_[x]);C.length?this._events[m]=C.length===1?C[0]:C:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(TP);var Soe=TP.exports;const IP=ws(Soe);var Aoe=class extends IP{constructor(e,n,r){super();ar(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function Coe(t,e){return new Aoe(t,e)}var Toe=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Ioe=class extends IP{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,u){super();ar(this,"address");ar(this,"rpc_id");ar(this,"queue");ar(this,"options");ar(this,"autoconnect");ar(this,"ready");ar(this,"reconnect");ar(this,"reconnect_timer_id");ar(this,"reconnect_interval");ar(this,"max_reconnects");ar(this,"rest_options");ar(this,"current_reconnects");ar(this,"generate_request_id");ar(this,"socket");ar(this,"webSocketFactory");ar(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new Toe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),c={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return o(u);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=CP.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class RP extends ZB{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ree(e);const r=ZS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),mh(s)}update(e){return zy(this),this.iHash.update(e),this}digestInto(e){zy(this),gm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const kP=(t,e,n)=>new RP(t,e).update(n).digest();kP.create=(t,e)=>new RP(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XR(t){t.lowS!==void 0&&Nc("lowS",t.lowS),t.prehash!==void 0&&Nc("prehash",t.prehash)}function Roe(t){const e=uA(t);pm(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class koe extends Error{constructor(e=""){super(e)}}const va={Err:koe,_tlv:{encode:(t,e)=>{const{Err:n}=va;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=f0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?f0(i.length/2|128):"";return f0(t)+s+i+e},decode(t,e){const{Err:n}=va;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of u)o=o<<8|h;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=va;if(t<Sa)throw new e("integer: negative integers are not allowed");let n=f0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=va;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jl(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=va,i=nr("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:h}=r.decode(2,c);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=va,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function j1(t,e){return ph(fm(t,e))}const Sa=BigInt(0),Tr=BigInt(1);BigInt(2);const H1=BigInt(3),Noe=BigInt(4);function Ooe(t){const e=Roe(t),{Fp:n}=e,r=wm(e.n,e.nBitLength),i=e.toBytes||((I,P,z)=>{const W=P.toAffine();return gh(Uint8Array.from([4]),n.toBytes(W.x),n.toBytes(W.y))}),s=e.fromBytes||(I=>{const P=I.subarray(1),z=n.fromBytes(P.subarray(0,n.BYTES)),W=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:z,y:W}});function o(I){const{a:P,b:z}=e,W=n.sqr(I),L=n.mul(W,I);return n.add(n.add(L,n.mul(I,P)),z)}function a(I,P){const z=n.sqr(P),W=o(I);return n.eql(z,W)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,H1),Noe),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function h(I){return YS(I,Tr,e.n)}function f(I){const{allowedPrivateKeyLengths:P,nByteLength:z,wrapPrivateKey:W,n:L}=e;if(P&&typeof I!="bigint"){if(hm(I)&&(I=ph(I)),typeof I!="string"||!P.includes(I.length))throw new Error("invalid private key");I=I.padStart(z*2,"0")}let V;try{V=typeof I=="bigint"?I:jl(nr("private key",I,z))}catch{throw new Error("invalid private key, expected hex or "+z+" bytes, got "+typeof I)}return W&&(V=xn(V,L)),ho("private key",V,Tr,L),V}function g(I){if(!(I instanceof x))throw new Error("ProjectivePoint expected")}const m=Ly((I,P)=>{const{px:z,py:W,pz:L}=I;if(n.eql(L,n.ONE))return{x:z,y:W};const V=I.is0();P==null&&(P=V?n.ONE:n.inv(L));const q=n.mul(z,P),X=n.mul(W,P),Y=n.mul(L,P);if(V)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Y,n.ONE))throw new Error("invZ was invalid");return{x:q,y:X}}),_=Ly(I=>{if(I.is0()){if(e.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:P,y:z}=I.toAffine();if(!n.isValid(P)||!n.isValid(z))throw new Error("bad point: x or y not FE");if(!a(P,z))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(P,z,W){if(P==null||!n.isValid(P))throw new Error("x required");if(z==null||!n.isValid(z)||n.is0(z))throw new Error("y required");if(W==null||!n.isValid(W))throw new Error("z required");this.px=P,this.py=z,this.pz=W,Object.freeze(this)}static fromAffine(P){const{x:z,y:W}=P||{};if(!P||!n.isValid(z)||!n.isValid(W))throw new Error("invalid affine point");if(P instanceof x)throw new Error("projective point not allowed");const L=V=>n.eql(V,n.ZERO);return L(z)&&L(W)?x.ZERO:new x(z,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){const z=lA(n,P.map(W=>W.pz));return P.map((W,L)=>W.toAffine(z[L])).map(x.fromAffine)}static fromHex(P){const z=x.fromAffine(s(nr("pointHex",P)));return z.assertValidity(),z}static fromPrivateKey(P){return x.BASE.multiply(f(P))}static msm(P,z){return FD(x,r,P,z)}_setWindowSize(P){T.setWindowSize(this,P)}assertValidity(){_(this)}hasEvenY(){const{y:P}=this.toAffine();if(n.isOdd)return!n.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){g(P);const{px:z,py:W,pz:L}=this,{px:V,py:q,pz:X}=P,Y=n.eql(n.mul(z,X),n.mul(V,L)),ee=n.eql(n.mul(W,X),n.mul(q,L));return Y&&ee}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:P,b:z}=e,W=n.mul(z,H1),{px:L,py:V,pz:q}=this;let X=n.ZERO,Y=n.ZERO,ee=n.ZERO,j=n.mul(L,L),w=n.mul(V,V),b=n.mul(q,q),v=n.mul(L,V);return v=n.add(v,v),ee=n.mul(L,q),ee=n.add(ee,ee),X=n.mul(P,ee),Y=n.mul(W,b),Y=n.add(X,Y),X=n.sub(w,Y),Y=n.add(w,Y),Y=n.mul(X,Y),X=n.mul(v,X),ee=n.mul(W,ee),b=n.mul(P,b),v=n.sub(j,b),v=n.mul(P,v),v=n.add(v,ee),ee=n.add(j,j),j=n.add(ee,j),j=n.add(j,b),j=n.mul(j,v),Y=n.add(Y,j),b=n.mul(V,q),b=n.add(b,b),j=n.mul(b,v),X=n.sub(X,j),ee=n.mul(b,w),ee=n.add(ee,ee),ee=n.add(ee,ee),new x(X,Y,ee)}add(P){g(P);const{px:z,py:W,pz:L}=this,{px:V,py:q,pz:X}=P;let Y=n.ZERO,ee=n.ZERO,j=n.ZERO;const w=e.a,b=n.mul(e.b,H1);let v=n.mul(z,V),O=n.mul(W,q),B=n.mul(L,X),R=n.add(z,W),M=n.add(V,q);R=n.mul(R,M),M=n.add(v,O),R=n.sub(R,M),M=n.add(z,L);let k=n.add(V,X);return M=n.mul(M,k),k=n.add(v,B),M=n.sub(M,k),k=n.add(W,L),Y=n.add(q,X),k=n.mul(k,Y),Y=n.add(O,B),k=n.sub(k,Y),j=n.mul(w,M),Y=n.mul(b,B),j=n.add(Y,j),Y=n.sub(O,j),j=n.add(O,j),ee=n.mul(Y,j),O=n.add(v,v),O=n.add(O,v),B=n.mul(w,B),M=n.mul(b,M),O=n.add(O,B),B=n.sub(v,B),B=n.mul(w,B),M=n.add(M,B),v=n.mul(O,M),ee=n.add(ee,v),v=n.mul(k,M),Y=n.mul(R,Y),Y=n.sub(Y,v),v=n.mul(R,O),j=n.mul(k,j),j=n.add(j,v),new x(Y,ee,j)}subtract(P){return this.add(P.negate())}is0(){return this.equals(x.ZERO)}wNAF(P){return T.wNAFCached(this,P,x.normalizeZ)}multiplyUnsafe(P){const{endo:z,n:W}=e;ho("scalar",P,Sa,W);const L=x.ZERO;if(P===Sa)return L;if(this.is0()||P===Tr)return this;if(!z||T.hasPrecomputes(this))return T.wNAFCachedUnsafe(this,P,x.normalizeZ);let{k1neg:V,k1:q,k2neg:X,k2:Y}=z.splitScalar(P),ee=L,j=L,w=this;for(;q>Sa||Y>Sa;)q&Tr&&(ee=ee.add(w)),Y&Tr&&(j=j.add(w)),w=w.double(),q>>=Tr,Y>>=Tr;return V&&(ee=ee.negate()),X&&(j=j.negate()),j=new x(n.mul(j.px,z.beta),j.py,j.pz),ee.add(j)}multiply(P){const{endo:z,n:W}=e;ho("scalar",P,Tr,W);let L,V;if(z){const{k1neg:q,k1:X,k2neg:Y,k2:ee}=z.splitScalar(P);let{p:j,f:w}=this.wNAF(X),{p:b,f:v}=this.wNAF(ee);j=T.constTimeNegate(q,j),b=T.constTimeNegate(Y,b),b=new x(n.mul(b.px,z.beta),b.py,b.pz),L=j.add(b),V=w.add(v)}else{const{p:q,f:X}=this.wNAF(P);L=q,V=X}return x.normalizeZ([L,V])[0]}multiplyAndAddUnsafe(P,z,W){const L=x.BASE,V=(X,Y)=>Y===Sa||Y===Tr||!X.equals(L)?X.multiplyUnsafe(Y):X.multiply(Y),q=V(this,z).add(V(P,W));return q.is0()?void 0:q}toAffine(P){return m(this,P)}isTorsionFree(){const{h:P,isTorsionFree:z}=e;if(P===Tr)return!0;if(z)return z(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:P,clearCofactor:z}=e;return P===Tr?this:z?z(x,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return Nc("isCompressed",P),this.assertValidity(),i(x,this,P)}toHex(P=!0){return Nc("isCompressed",P),ph(this.toRawBytes(P))}}x.BASE=new x(e.Gx,e.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO);const{endo:C,nBitLength:S}=e,T=zD(x,C?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:h}}function Boe(t){const e=uA(t);return pm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Doe(t){const e=Boe(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(b){return xn(b,r)}function u(b){return Z_(b,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:g,isWithinCurveOrder:m}=Ooe({...e,toBytes(b,v,O){const B=v.toAffine(),R=n.toBytes(B.x),M=gh;return Nc("isCompressed",O),O?M(Uint8Array.from([v.hasEvenY()?2:3]),R):M(Uint8Array.from([4]),R,n.toBytes(B.y))},fromBytes(b){const v=b.length,O=b[0],B=b.subarray(1);if(v===o&&(O===2||O===3)){const R=jl(B);if(!YS(R,Tr,n.ORDER))throw new Error("Point is not on curve");const M=g(R);let k;try{k=n.sqrt(M)}catch(Q){const te=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+te)}const E=(k&Tr)===Tr;return(O&1)===1!==E&&(k=n.neg(k)),{x:R,y:k}}else if(v===a&&O===4){const R=n.fromBytes(B.subarray(0,n.BYTES)),M=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:R,y:M}}else{const R=o,M=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+M+", got "+v)}}});function _(b){const v=r>>Tr;return b>v}function x(b){return _(b)?c(-b):b}const C=(b,v,O)=>jl(b.slice(v,O));class S{constructor(v,O,B){ho("r",v,Tr,r),ho("s",O,Tr,r),this.r=v,this.s=O,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(v){const O=i;return v=nr("compactSignature",v,O*2),new S(C(v,0,O),C(v,O,2*O))}static fromDER(v){const{r:O,s:B}=va.toSig(nr("DER",v));return new S(O,B)}assertValidity(){}addRecoveryBit(v){return new S(this.r,this.s,v)}recoverPublicKey(v){const{r:O,s:B,recovery:R}=this,M=L(nr("msgHash",v));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const k=R===2||R===3?O+e.n:O;if(k>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const E=R&1?"03":"02",U=h.fromHex(E+j1(k,n.BYTES)),Q=u(k),te=c(-M*Q),oe=c(B*Q),pe=h.BASE.multiplyAndAddUnsafe(U,te,oe);if(!pe)throw new Error("point at infinify");return pe.assertValidity(),pe}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return My(this.toDERHex())}toDERHex(){return va.hexFromSig(this)}toCompactRawBytes(){return My(this.toCompactHex())}toCompactHex(){const v=i;return j1(this.r,v)+j1(this.s,v)}}const T={isValidPrivateKey(b){try{return f(b),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const b=MD(e.n);return Nie(e.randomBytes(b),e.n)},precompute(b=8,v=h.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function I(b,v=!0){return h.fromPrivateKey(b).toRawBytes(v)}function P(b){if(typeof b=="bigint")return!1;if(b instanceof h)return!0;const O=nr("key",b).length,B=n.BYTES,R=B+1,M=2*B+1;if(!(e.allowedPrivateKeyLengths||i===R))return O===R||O===M}function z(b,v,O=!0){if(P(b)===!0)throw new Error("first arg must be private key");if(P(v)===!1)throw new Error("second arg must be public key");return h.fromHex(v).multiply(f(b)).toRawBytes(O)}const W=e.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const v=jl(b),O=b.length*8-s;return O>0?v>>BigInt(O):v},L=e.bits2int_modN||function(b){return c(W(b))},V=pw(s);function q(b){return ho("num < 2^"+s,b,Sa,V),fm(b,i)}function X(b,v,O=Y){if(["recovered","canonical"].some(me=>me in O))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:R}=e;let{lowS:M,prehash:k,extraEntropy:E}=O;M==null&&(M=!0),b=nr("msgHash",b),XR(O),k&&(b=nr("prehashed msgHash",B(b)));const U=L(b),Q=f(v),te=[q(Q),q(U)];if(E!=null&&E!==!1){const me=E===!0?R(n.BYTES):E;te.push(nr("extraEntropy",me))}const oe=gh(...te),pe=U;function ue(me){const et=W(me);if(!m(et))return;const qe=u(et),ke=h.BASE.multiply(et).toAffine(),je=c(ke.x);if(je===Sa)return;const Pe=c(qe*c(pe+je*Q));if(Pe===Sa)return;let st=(ke.x===je?0:2)|Number(ke.y&Tr),K=Pe;return M&&_(Pe)&&(K=x(Pe),st^=1),new S(je,K,st)}return{seed:oe,k2sig:ue}}const Y={lowS:e.lowS,prehash:!1},ee={lowS:e.lowS,prehash:!1};function j(b,v,O=Y){const{seed:B,k2sig:R}=X(b,v,O),M=e;return FJ(M.hash.outputLen,M.nByteLength,M.hmac)(B,R)}h.BASE._setWindowSize(8);function w(b,v,O,B=ee){const R=b;v=nr("msgHash",v),O=nr("publicKey",O);const{lowS:M,prehash:k,format:E}=B;if(XR(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(E!==void 0&&E!=="compact"&&E!=="der")throw new Error("format must be compact or der");const U=typeof R=="string"||hm(R),Q=!U&&!E&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!U&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,oe;try{if(Q&&(te=new S(R.r,R.s)),U){try{E!=="compact"&&(te=S.fromDER(R))}catch(st){if(!(st instanceof va.Err))throw st}!te&&E!=="der"&&(te=S.fromCompact(R))}oe=h.fromHex(O)}catch{return!1}if(!te||M&&te.hasHighS())return!1;k&&(v=e.hash(v));const{r:pe,s:ue}=te,me=L(v),et=u(ue),qe=c(me*et),ke=c(pe*et),je=h.BASE.multiplyAndAddUnsafe(oe,qe,ke)?.toAffine();return je?c(je.x)===pe:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:z,sign:j,verify:w,ProjectivePoint:h,Signature:S,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Poe(t){return{hash:t,hmac:(e,...n)=>kP(t,e,oee(...n)),randomBytes:QB}}function $oe(t,e){const n=r=>Doe({...t,...Poe(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),QR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Moe=BigInt(0),Uoe=BigInt(1),ex=BigInt(2),JR=(t,e)=>(t+e/ex)/e;function Loe(t){const e=NP,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,h=u*u*t%e,f=Zn(h,n,e)*h%e,g=Zn(f,n,e)*h%e,m=Zn(g,ex,e)*u%e,_=Zn(m,i,e)*m%e,x=Zn(_,s,e)*_%e,C=Zn(x,a,e)*x%e,S=Zn(C,c,e)*C%e,T=Zn(S,a,e)*x%e,I=Zn(T,n,e)*h%e,P=Zn(I,o,e)*_%e,z=Zn(P,r,e)*u%e,W=Zn(z,ex,e);if(!tx.eql(tx.sqr(W),t))throw new Error("Cannot find square root");return W}const tx=wm(NP,void 0,void 0,{sqrt:Loe}),zoe=$oe({a:Moe,b:BigInt(7),Fp:tx,n:QR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=QR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Uoe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=JR(s*t,e),c=JR(-r*t,e);let u=xn(t-a*n-c*i,e),h=xn(-a*r-c*s,e);const f=u>o,g=h>o;if(f&&(u=e-u),g&&(h=e-h),u>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:g,k2:h}}}},tD);function ek(t){try{return hA.ExtendedPoint.fromHex(t),!0}catch{return!1}}const OP=(t,e)=>hA.sign(t,e.slice(0,32)),Foe=hA.verify,Vr=t=>bt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bt.Buffer.from(t);class joe{constructor(e){Object.assign(this,e)}encode(){return bt.Buffer.from(XD(dy,this))}static decode(e){return QD(dy,this,e)}static decodeUnchecked(e){return WD(dy,this,e)}}const dy=new Map;var BP;const Hoe=32,Dc=32;function qoe(t){return t._bn!==void 0}let tk=1;class We extends joe{constructor(e){if(super({}),this._bn=void 0,qoe(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Yr.decode(e);if(n.length!=Dc)throw new Error("Invalid public key input");this._bn=new GR(n)}else this._bn=new GR(e);if(this._bn.byteLength()>Dc)throw new Error("Invalid public key input")}}static unique(){const e=new We(tk);return tk+=1,new We(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Yr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bt.Buffer);if(e.length===Dc)return e;const n=bt.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=bt.Buffer.concat([e.toBuffer(),bt.Buffer.from(n),r.toBuffer()]),s=pR(i);return new We(s)}static createProgramAddressSync(e,n){let r=bt.Buffer.alloc(0);e.forEach(function(s){if(s.length>Hoe)throw new TypeError("Max seed length exceeded");r=bt.Buffer.concat([r,Vr(s)])}),r=bt.Buffer.concat([r,n.toBuffer(),bt.Buffer.from("ProgramDerivedAddress")]);const i=pR(r);if(ek(i))throw new Error("Invalid seeds, address must fall off the curve");return new We(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(bt.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new We(e);return ek(n.toBytes())}}BP=We;We.default=new BP("11111111111111111111111111111111");dy.set(We,{kind:"struct",fields:[["_bn","u256"]]});new We("BPFLoader1111111111111111111111111111111111");const Wd=1232,CA=127,ob=64;class DP extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(DP.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class PP extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(PP.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qf extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ab{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const _t=(t="publicKey")=>mn(32,t),Voe=(t="signature")=>mn(64,t),Td=(t="string")=>{const e=Ke([Qe("length"),Qe("lengthPadding"),mn(ql(Qe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:bt.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>Qe().span+Qe().span+bt.Buffer.from(s,"utf8").length,i},Woe=(t="authorized")=>Ke([_t("staker"),_t("withdrawer")],t),Koe=(t="lockup")=>Ke([os("unixTimestamp"),os("epoch"),_t("custodian")],t),Goe=(t="voteInit")=>Ke([_t("nodePubkey"),_t("authorizedVoter"),_t("authorizedWithdrawer"),zt("commission")],t),Yoe=(t="voteAuthorizeWithSeedArgs")=>Ke([Qe("voteAuthorizationType"),_t("currentAuthorityDerivedKeyOwnerPubkey"),Td("currentAuthorityDerivedKeySeed"),_t("newAuthorized")],t);function $P(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return $P({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function as(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function cs(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function _n(t,e){if(!t)throw new Error(e||"Assertion failed")}class Aw{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Aw(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];_n(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{_n(n.length>0,"Expected at least one writable signer key");const[c]=n[0];_n(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new We(c)),...r.map(([c])=>new We(c)),...i.map(([c])=>new We(c)),...s.map(([c])=>new We(c))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new We(s),c=e.findIndex(u=>u.equals(a));c>=0&&(_n(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const MP="Reached end of buffer unexpectedly";function Aa(t){if(t.length===0)throw new Error(MP);return t.shift()}function ls(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(MP);return t.splice(...e)}class Ha{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new We(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Yr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ab(this.staticAccountKeys)}static compile(e){const n=Aw.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new ab(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Yr.encode(a.data)}));return new Ha({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];cs(n,e);const r=this.instructions.map(f=>{const{accounts:g,programIdIndex:m}=f,_=Array.from(Yr.decode(f.data));let x=[];cs(x,g.length);let C=[];return cs(C,_.length),{programIdIndex:m,keyIndicesCount:bt.Buffer.from(x),keyIndices:g,dataLength:bt.Buffer.from(C),data:_}});let i=[];cs(i,r.length);let s=bt.Buffer.alloc(Wd);bt.Buffer.from(i).copy(s);let o=i.length;r.forEach(f=>{const m=Ke([zt("programIdIndex"),mn(f.keyIndicesCount.length,"keyIndicesCount"),fi(zt("keyIndex"),f.keyIndices.length,"keyIndices"),mn(f.dataLength.length,"dataLength"),fi(zt("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=m}),s=s.slice(0,o);const a=Ke([mn(1,"numRequiredSignatures"),mn(1,"numReadonlySignedAccounts"),mn(1,"numReadonlyUnsignedAccounts"),mn(n.length,"keyCount"),fi(_t("key"),e,"keys"),_t("recentBlockhash")]),c={numRequiredSignatures:bt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bt.Buffer.from(n),keys:this.accountKeys.map(f=>Vr(f.toBytes())),recentBlockhash:Yr.decode(this.recentBlockhash)};let u=bt.Buffer.alloc(2048);const h=a.encode(c,u);return s.copy(u,h),u.slice(0,h+s.length)}static from(e){let n=[...e];const r=Aa(n);if(r!==(r&CA))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Aa(n),s=Aa(n),o=as(n);let a=[];for(let g=0;g<o;g++){const m=ls(n,0,Dc);a.push(new We(bt.Buffer.from(m)))}const c=ls(n,0,Dc),u=as(n);let h=[];for(let g=0;g<u;g++){const m=Aa(n),_=as(n),x=ls(n,0,_),C=as(n),S=ls(n,0,C),T=Yr.encode(bt.Buffer.from(S));h.push({programIdIndex:m,accounts:x,data:T})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Yr.encode(bt.Buffer.from(c)),accountKeys:a,instructions:h};return new Ha(f)}}class Sg{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ab(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Aw.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const h of s){const f=n.extractTableLookup(h);if(f!==void 0){const[g,{writable:m,readonly:_}]=f;r.push(g),i.writable.push(...m),i.readonly.push(..._)}}const[o,a]=n.getMessageComponents(),u=new ab(a,i).compileInstructions(e.instructions);return new Sg({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();cs(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();cs(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();cs(s,this.addressTableLookups.length);const o=Ke([zt("prefix"),Ke([zt("numRequiredSignatures"),zt("numReadonlySignedAccounts"),zt("numReadonlyUnsignedAccounts")],"header"),mn(e.length,"staticAccountKeysLength"),fi(_t(),this.staticAccountKeys.length,"staticAccountKeys"),_t("recentBlockhash"),mn(r.length,"instructionsLength"),mn(n.length,"serializedInstructions"),mn(s.length,"addressTableLookupsLength"),mn(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Wd),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:Yr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(Wd);for(const r of this.compiledInstructions){const i=Array();cs(i,r.accountKeyIndexes.length);const s=Array();cs(s,r.data.length);const o=Ke([zt("programIdIndex"),mn(i.length,"encodedAccountKeyIndexesLength"),fi(zt(),r.accountKeyIndexes.length,"accountKeyIndexes"),mn(s.length,"encodedDataLength"),mn(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(Wd);for(const r of this.addressTableLookups){const i=Array();cs(i,r.writableIndexes.length);const s=Array();cs(s,r.readonlyIndexes.length);const o=Ke([_t("accountKey"),mn(i.length,"encodedWritableIndexesLength"),fi(zt(),r.writableIndexes.length,"writableIndexes"),mn(s.length,"encodedReadonlyIndexesLength"),fi(zt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Aa(n),i=r&CA;_n(r!==i,"Expected versioned message but received legacy message");const s=i;_n(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Aa(n),numReadonlySignedAccounts:Aa(n),numReadonlyUnsignedAccounts:Aa(n)},a=[],c=as(n);for(let _=0;_<c;_++)a.push(new We(ls(n,0,Dc)));const u=Yr.encode(ls(n,0,Dc)),h=as(n),f=[];for(let _=0;_<h;_++){const x=Aa(n),C=as(n),S=ls(n,0,C),T=as(n),I=new Uint8Array(ls(n,0,T));f.push({programIdIndex:x,accountKeyIndexes:S,data:I})}const g=as(n),m=[];for(let _=0;_<g;_++){const x=new We(ls(n,0,Dc)),C=as(n),S=ls(n,0,C),T=as(n),I=ls(n,0,T);m.push({accountKey:x,writableIndexes:S,readonlyIndexes:I})}return new Sg({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:m})}}const UP={deserializeMessageVersion(t){const e=t[0],n=e&CA;return n===e?"legacy":n},deserialize:t=>{const e=UP.deserializeMessageVersion(t);if(e==="legacy")return Ha.from(t);if(e===0)return Sg.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let ac=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Zoe=bt.Buffer.alloc(ob).fill(0);class Ei{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Xr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Ei(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];n.forEach(x=>{x.keys.forEach(S=>{s.push({...S})});const C=x.programId.toString();i.includes(C)||i.push(C)}),i.forEach(x=>{s.push({pubkey:new We(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const C=x.pubkey.toString(),S=o.findIndex(T=>T.pubkey.toString()===C);S>-1?(o[S].isWritable=o[S].isWritable||x.isWritable,o[S].isSigner=o[S].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,C){if(x.isSigner!==C.isSigner)return x.isSigner?-1:1;if(x.isWritable!==C.isWritable)return x.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(C.pubkey.toBase58(),"en",S)});const a=o.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const C=o.findIndex(S=>S.pubkey.equals(x.publicKey));if(C>-1)o[C].isSigner||(o[C].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let c=0,u=0,h=0;const f=[],g=[];o.forEach(({pubkey:x,isSigner:C,isWritable:S})=>{C?(f.push(x.toString()),c+=1,S||(u+=1)):(g.push(x.toString()),S||(h+=1))});const m=f.concat(g),_=n.map(x=>{const{data:C,programId:S}=x;return{programIdIndex:m.indexOf(S.toString()),accounts:x.keys.map(T=>m.indexOf(T.pubkey.toString())),data:Yr.encode(C)}});return _.forEach(x=>{_n(x.programIdIndex>=0),x.accounts.forEach(C=>_n(C>=0))}),new Ha({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h},accountKeys:m,recentBlockhash:e,instructions:_})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=OP(r,i.secretKey);this._addSignature(i.publicKey,Vr(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){_n(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bt.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||=[]).push(s):Foe(i,e,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];cs(r,n.length);const i=r.length+n.length*64+e.length,s=bt.Buffer.alloc(i);return _n(n.length<256),bt.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(_n(o.length===64,"signature has invalid length"),bt.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),_n(s.length<=Wd,`Transaction too large: ${s.length} > ${Wd}`),s}get keys(){return _n(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return _n(this.instructions.length===1),this.instructions[0].programId}get data(){return _n(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=as(n);let i=[];for(let s=0;s<r;s++){const o=ls(n,0,ob);i.push(Yr.encode(bt.Buffer.from(o)))}return Xr.populate(Ha.from(n),i)}static populate(e,n=[]){const r=new Xr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Yr.encode(Zoe)?null:Yr.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ei({keys:s,programId:e.accountKeys[i.programIdIndex],data:Yr.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Yc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)_n(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(ob));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();cs(n,this.signatures.length);const r=Ke([mn(n.length,"encodedSignaturesLength"),fi(Voe(),this.signatures.length,"signatures"),mn(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=as(n);for(let o=0;o<i;o++)r.push(new Uint8Array(ls(n,0,ob)));const s=UP.deserialize(new Uint8Array(n));return new Yc(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));_n(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=OP(n,i.secretKey)}}addSignature(e,n){_n(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));_n(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const Xoe=160,Qoe=64,Joe=Xoe/Qoe,eae=1e3/Joe;new We("SysvarC1ock11111111111111111111111111111111");new We("SysvarEpochSchedu1e111111111111111111111111");new We("Sysvar1nstructions1111111111111111111111111");const q1=new We("SysvarRecentB1ockHashes11111111111111111111"),nk=new We("SysvarRent111111111111111111111111111111111");new We("SysvarRewards111111111111111111111111111111");new We("SysvarS1otHashes111111111111111111111111111");new We("SysvarS1otHistory11111111111111111111111111");new We("SysvarStakeHistory1111111111111111111111111");class rk extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Ze extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function bd(t){return new Promise(e=>setTimeout(e,t))}function hi(t,e){const n=t.layout.span>=0?t.layout.span:$P(t,e),r=bt.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const tae=qr("lamportsPerSignature"),LP=Ke([Qe("version"),Qe("state"),_t("authorizedPubkey"),_t("nonce"),Ke([tae],"feeCalculator")]),ik=LP.span;class TA{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=LP.decode(Vr(e),0);return new TA({authorizedPubkey:new We(n.authorizedPubkey),nonce:new We(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function xh(t){const e=mn(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=Hse();return i.decode=(o,a)=>{const c=n(o,a);return s.decode(c)},i.encode=(o,a,c)=>{const u=s.encode(o);return r(u,a,c)},i}const Is=Object.freeze({Create:{index:0,layout:Ke([Qe("instruction"),os("lamports"),os("space"),_t("programId")])},Assign:{index:1,layout:Ke([Qe("instruction"),_t("programId")])},Transfer:{index:2,layout:Ke([Qe("instruction"),xh("lamports")])},CreateWithSeed:{index:3,layout:Ke([Qe("instruction"),_t("base"),Td("seed"),os("lamports"),os("space"),_t("programId")])},AdvanceNonceAccount:{index:4,layout:Ke([Qe("instruction")])},WithdrawNonceAccount:{index:5,layout:Ke([Qe("instruction"),os("lamports")])},InitializeNonceAccount:{index:6,layout:Ke([Qe("instruction"),_t("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ke([Qe("instruction"),_t("authorized")])},Allocate:{index:8,layout:Ke([Qe("instruction"),os("space")])},AllocateWithSeed:{index:9,layout:Ke([Qe("instruction"),_t("base"),Td("seed"),os("space"),_t("programId")])},AssignWithSeed:{index:10,layout:Ke([Qe("instruction"),_t("base"),Td("seed"),_t("programId")])},TransferWithSeed:{index:11,layout:Ke([Qe("instruction"),xh("lamports"),Td("seed"),_t("programId")])},UpgradeNonceAccount:{index:12,layout:Ke([Qe("instruction")])}});class Sh{constructor(){}static createAccount(e){const n=Is.Create,r=hi(n,{lamports:e.lamports,space:e.space,programId:Vr(e.programId.toBuffer())});return new Ei({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Is.TransferWithSeed;n=hi(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Is.Transfer;n=hi(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ei({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Is.AssignWithSeed;n=hi(i,{base:Vr(e.basePubkey.toBuffer()),seed:e.seed,programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Is.Assign;n=hi(i,{programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ei({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Is.CreateWithSeed,r=hi(n,{base:Vr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Vr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ei({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new Xr;"basePubkey"in e&&"seed"in e?n.add(Sh.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ik,programId:this.programId})):n.add(Sh.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ik,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Is.InitializeNonceAccount,r=hi(n,{authorized:Vr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:q1,isSigner:!1,isWritable:!1},{pubkey:nk,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ei(i)}static nonceAdvance(e){const n=Is.AdvanceNonceAccount,r=hi(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:q1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ei(i)}static nonceWithdraw(e){const n=Is.WithdrawNonceAccount,r=hi(n,{lamports:e.lamports});return new Ei({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:q1,isSigner:!1,isWritable:!1},{pubkey:nk,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Is.AuthorizeNonceAccount,r=hi(n,{authorized:Vr(e.newAuthorizedPubkey.toBuffer())});return new Ei({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Is.AllocateWithSeed;n=hi(i,{base:Vr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Vr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Is.Allocate;n=hi(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ei({keys:r,programId:this.programId,data:n})}}Sh.programId=new We("11111111111111111111111111111111");new We("BPFLoader2111111111111111111111111111111111");function nae(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V1,sk;function rae(){if(sk)return V1;sk=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,c,u,h,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(f==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",s=0;s<o;)u=c[s],h=n(r[u],!1),h!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+h),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return V1=function(r){var i=n(r,!1);if(i!==void 0)return""+i},V1}var iae=rae(),ok=nae(iae);const Sf=32;function W1(t){let e=0;for(;t>1;)t/=2,e++;return e}function sae(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class oae{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=W1(sae(e+Sf+1))-W1(Sf)-1,r=this.getSlotsInEpoch(n),i=e-(r-Sf);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Sf:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+W1(Sf)):this.slotsPerEpoch}}var aae=globalThis.fetch;class cae extends Ioe{constructor(e,n,r){const i=s=>{const o=Coe(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function lae(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const ak=56;class ck{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=lae(uae,e),r=e.length-ak;_n(r>=0,"lookup table is invalid"),_n(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=Ke([fi(_t(),i,"addresses")]).decode(e.slice(ak));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new We(n.authority[0]):void 0,addresses:s.map(o=>new We(o))}}}const uae={index:1,layout:Ke([Qe("typeIndex"),xh("deactivationSlot"),qr("lastExtendedSlot"),zt("lastExtendedStartIndex"),zt(),fi(_t(),ql(zt(),-1),"authority")])},dae=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function hae(t){const e=t.match(dae);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const $n=_m(SA(We),_e(),t=>new We(t)),zP=AA([_e(),Bn("base64")]),IA=_m(SA(bt.Buffer),zP,t=>bt.Buffer.from(t[0],"base64")),fae=30*1e3;function pae(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function an(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function lk(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function FP(t){return Ii([fe({jsonrpc:Bn("2.0"),id:_e(),result:t}),fe({jsonrpc:Bn("2.0"),id:_e(),error:fe({code:Yh(),message:_e(),data:Je(Zse())})})])}const gae=FP(Yh());function yt(t){return _m(FP(t),gae,e=>"error"in e?e:{...e,result:Te(e.result,t)})}function tr(t){return yt(fe({context:fe({slot:ne()}),value:t}))}function Cw(t){return fe({context:fe({slot:ne()}),value:t})}function K1(t,e){return t===0?new Sg({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new We(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Yr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new Ha(e)}const mae=fe({foundation:ne(),foundationTerm:ne(),initial:ne(),taper:ne(),terminal:ne()}),yae=yt(Ie(Re(fe({epoch:ne(),effectiveSlot:ne(),amount:ne(),postBalance:ne(),commission:Je(Re(ne()))})))),bae=Ie(fe({slot:ne(),prioritizationFee:ne()})),wae=fe({total:ne(),validator:ne(),foundation:ne(),epoch:ne()}),vae=fe({epoch:ne(),slotIndex:ne(),slotsInEpoch:ne(),absoluteSlot:ne(),blockHeight:Je(ne()),transactionCount:Je(ne())}),Eae=fe({slotsPerEpoch:ne(),leaderScheduleSlotOffset:ne(),warmup:Zo(),firstNormalEpoch:ne(),firstNormalSlot:ne()}),_ae=vP(_e(),Ie(ne())),Tu=Re(Ii([fe({}),_e()])),xae=fe({err:Tu}),Sae=Bn("receivedSignature"),Aae=fe({"solana-core":_e(),"feature-set":Je(ne())}),Cae=fe({program:_e(),programId:$n,parsed:Yh()}),Tae=fe({programId:$n,accounts:Ie($n),data:_e()}),uk=tr(fe({err:Re(Ii([fe({}),_e()])),logs:Re(Ie(_e())),accounts:Je(Re(Ie(Re(fe({executable:Zo(),owner:_e(),lamports:ne(),data:Ie(_e()),rentEpoch:Je(ne())}))))),unitsConsumed:Je(ne()),returnData:Je(Re(fe({programId:_e(),data:AA([_e(),Bn("base64")])}))),innerInstructions:Je(Re(Ie(fe({index:ne(),instructions:Ie(Ii([Cae,Tae]))}))))})),Iae=tr(fe({byIdentity:vP(_e(),Ie(ne())),range:fe({firstSlot:ne(),lastSlot:ne()})}));function Rae(t,e,n,r,i,s){const o=n||aae;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(h,f)=>{const g=await new Promise((m,_)=>{try{r(h,f,(x,C)=>m([x,C]))}catch(x){_(x)}});return await o(...g)}),new xoe(async(h,f)=>{const g={method:"POST",body:h,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Rce)};try{let m=5,_,x=500;for(;c?_=await c(t,g):_=await o(t,g),!(_.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${_.status} ${_.statusText}.  Retrying after ${x}ms delay...`),await bd(x),x*=2;const C=await _.text();_.ok?f(null,C):f(new Error(`${_.status} ${_.statusText}: ${C}`))}catch(m){m instanceof Error&&f(m)}},{})}function kae(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function Nae(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const Oae=yt(mae),Bae=yt(wae),Dae=yt(bae),Pae=yt(vae),$ae=yt(Eae),Mae=yt(_ae),Uae=yt(ne()),Lae=tr(fe({total:ne(),circulating:ne(),nonCirculating:ne(),nonCirculatingAccounts:Ie($n)})),nx=fe({amount:_e(),uiAmount:Re(ne()),decimals:ne(),uiAmountString:Je(_e())}),zae=tr(Ie(fe({address:$n,amount:_e(),uiAmount:Re(ne()),decimals:ne(),uiAmountString:Je(_e())}))),Fae=tr(Ie(fe({pubkey:$n,account:fe({executable:Zo(),owner:$n,lamports:ne(),data:IA,rentEpoch:ne()})}))),rx=fe({program:_e(),parsed:Yh(),space:ne()}),jae=tr(Ie(fe({pubkey:$n,account:fe({executable:Zo(),owner:$n,lamports:ne(),data:rx,rentEpoch:ne()})}))),Hae=tr(Ie(fe({lamports:ne(),address:$n}))),Ag=fe({executable:Zo(),owner:$n,lamports:ne(),data:IA,rentEpoch:ne()}),qae=fe({pubkey:$n,account:Ag}),Vae=_m(Ii([SA(bt.Buffer),rx]),Ii([zP,rx]),t=>Array.isArray(t)?Te(t,IA):t),ix=fe({executable:Zo(),owner:$n,lamports:ne(),data:Vae,rentEpoch:ne()}),Wae=fe({pubkey:$n,account:ix}),Kae=fe({state:Ii([Bn("active"),Bn("inactive"),Bn("activating"),Bn("deactivating")]),active:ne(),inactive:ne()}),Gae=yt(Ie(fe({signature:_e(),slot:ne(),err:Tu,memo:Re(_e()),blockTime:Je(Re(ne()))}))),Yae=yt(Ie(fe({signature:_e(),slot:ne(),err:Tu,memo:Re(_e()),blockTime:Je(Re(ne()))}))),Zae=fe({subscription:ne(),result:Cw(Ag)}),Xae=fe({pubkey:$n,account:Ag}),Qae=fe({subscription:ne(),result:Cw(Xae)}),Jae=fe({parent:ne(),slot:ne(),root:ne()}),ece=fe({subscription:ne(),result:Jae}),tce=Ii([fe({type:Ii([Bn("firstShredReceived"),Bn("completed"),Bn("optimisticConfirmation"),Bn("root")]),slot:ne(),timestamp:ne()}),fe({type:Bn("createdBank"),parent:ne(),slot:ne(),timestamp:ne()}),fe({type:Bn("frozen"),slot:ne(),timestamp:ne(),stats:fe({numTransactionEntries:ne(),numSuccessfulTransactions:ne(),numFailedTransactions:ne(),maxTransactionsPerEntry:ne()})}),fe({type:Bn("dead"),slot:ne(),timestamp:ne(),err:_e()})]),nce=fe({subscription:ne(),result:tce}),rce=fe({subscription:ne(),result:Cw(Ii([xae,Sae]))}),ice=fe({subscription:ne(),result:ne()}),sce=fe({pubkey:_e(),gossip:Re(_e()),tpu:Re(_e()),rpc:Re(_e()),version:Re(_e())}),dk=fe({votePubkey:_e(),nodePubkey:_e(),activatedStake:ne(),epochVoteAccount:Zo(),epochCredits:Ie(AA([ne(),ne(),ne()])),commission:ne(),lastVote:ne(),rootSlot:Re(ne())}),oce=yt(fe({current:Ie(dk),delinquent:Ie(dk)})),ace=Ii([Bn("processed"),Bn("confirmed"),Bn("finalized")]),cce=fe({slot:ne(),confirmations:Re(ne()),err:Tu,confirmationStatus:Je(ace)}),lce=tr(Ie(Re(cce))),uce=yt(ne()),jP=fe({accountKey:$n,writableIndexes:Ie(ne()),readonlyIndexes:Ie(ne())}),RA=fe({signatures:Ie(_e()),message:fe({accountKeys:Ie(_e()),header:fe({numRequiredSignatures:ne(),numReadonlySignedAccounts:ne(),numReadonlyUnsignedAccounts:ne()}),instructions:Ie(fe({accounts:Ie(ne()),data:_e(),programIdIndex:ne()})),recentBlockhash:_e(),addressTableLookups:Je(Ie(jP))})}),HP=fe({pubkey:$n,signer:Zo(),writable:Zo(),source:Je(Ii([Bn("transaction"),Bn("lookupTable")]))}),qP=fe({accountKeys:Ie(HP),signatures:Ie(_e())}),VP=fe({parsed:Yh(),program:_e(),programId:$n}),WP=fe({accounts:Ie($n),data:_e(),programId:$n}),dce=Ii([WP,VP]),hce=Ii([fe({parsed:Yh(),program:_e(),programId:_e()}),fe({accounts:Ie(_e()),data:_e(),programId:_e()})]),KP=_m(dce,hce,t=>"accounts"in t?Te(t,WP):Te(t,VP)),GP=fe({signatures:Ie(_e()),message:fe({accountKeys:Ie(HP),instructions:Ie(KP),recentBlockhash:_e(),addressTableLookups:Je(Re(Ie(jP)))})}),cb=fe({accountIndex:ne(),mint:_e(),owner:Je(_e()),programId:Je(_e()),uiTokenAmount:nx}),YP=fe({writable:Ie($n),readonly:Ie($n)}),Tw=fe({err:Tu,fee:ne(),innerInstructions:Je(Re(Ie(fe({index:ne(),instructions:Ie(fe({accounts:Ie(ne()),data:_e(),programIdIndex:ne()}))})))),preBalances:Ie(ne()),postBalances:Ie(ne()),logMessages:Je(Re(Ie(_e()))),preTokenBalances:Je(Re(Ie(cb))),postTokenBalances:Je(Re(Ie(cb))),loadedAddresses:Je(YP),computeUnitsConsumed:Je(ne())}),kA=fe({err:Tu,fee:ne(),innerInstructions:Je(Re(Ie(fe({index:ne(),instructions:Ie(KP)})))),preBalances:Ie(ne()),postBalances:Ie(ne()),logMessages:Je(Re(Ie(_e()))),preTokenBalances:Je(Re(Ie(cb))),postTokenBalances:Je(Re(Ie(cb))),loadedAddresses:Je(YP),computeUnitsConsumed:Je(ne())}),Zh=Ii([Bn(0),Bn("legacy")]),Iu=fe({pubkey:_e(),lamports:ne(),postBalance:Re(ne()),rewardType:Re(_e()),commission:Je(Re(ne()))}),fce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(fe({transaction:RA,meta:Re(Tw),version:Je(Zh)})),rewards:Je(Ie(Iu)),blockTime:Re(ne()),blockHeight:Re(ne())}))),pce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),rewards:Je(Ie(Iu)),blockTime:Re(ne()),blockHeight:Re(ne())}))),gce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(fe({transaction:qP,meta:Re(Tw),version:Je(Zh)})),rewards:Je(Ie(Iu)),blockTime:Re(ne()),blockHeight:Re(ne())}))),mce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(fe({transaction:GP,meta:Re(kA),version:Je(Zh)})),rewards:Je(Ie(Iu)),blockTime:Re(ne()),blockHeight:Re(ne())}))),yce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(fe({transaction:qP,meta:Re(kA),version:Je(Zh)})),rewards:Je(Ie(Iu)),blockTime:Re(ne()),blockHeight:Re(ne())}))),bce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),rewards:Je(Ie(Iu)),blockTime:Re(ne()),blockHeight:Re(ne())}))),wce=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(fe({transaction:RA,meta:Re(Tw)})),rewards:Je(Ie(Iu)),blockTime:Re(ne())}))),hk=yt(Re(fe({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),signatures:Ie(_e()),blockTime:Re(ne())}))),G1=yt(Re(fe({slot:ne(),meta:Re(Tw),blockTime:Je(Re(ne())),transaction:RA,version:Je(Zh)}))),I0=yt(Re(fe({slot:ne(),transaction:GP,meta:Re(kA),blockTime:Je(Re(ne())),version:Je(Zh)}))),vce=tr(fe({blockhash:_e(),lastValidBlockHeight:ne()})),Ece=tr(Zo()),_ce=fe({slot:ne(),numTransactions:ne(),numSlots:ne(),samplePeriodSecs:ne()}),xce=yt(Ie(_ce)),Sce=tr(Re(fe({feeCalculator:fe({lamportsPerSignature:ne()})}))),Ace=yt(_e()),Cce=yt(_e()),Tce=fe({err:Tu,logs:Ie(_e()),signature:_e()}),Ice=fe({result:Cw(Tce),subscription:ne()}),Rce={"solana-client":"js/1.0.0-maintenance"};class Af{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async h=>{const{commitment:f,config:g}=an(h),m=this._buildArgs([],f,void 0,g),_=ok(m);return u[_]=u[_]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",m),C=Te(x,yt(ne()));if("error"in C)throw new Ze(C.error,"failed to get block height information");return C.result}finally{delete u[_]}})(),await u[_]}})();let r,i,s,o,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=pae(e),this._rpcWsEndpoint=r||hae(e),this._rpcClient=Rae(e,i,s,o,a,c),this._rpcRequest=kae(this._rpcClient),this._rpcBatchRequest=Nae(this._rpcClient),this._rpcWebSocket=new cae(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=Te(o,tr(ne()));if("error"in a)throw new Ze(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=Te(n,yt(Re(ne())));if("error"in r)throw new Ze(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Te(e,yt(ne()));if("error"in n)throw new Ze(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Te(e,Uae);if("error"in n)throw new Ze(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=Te(r,Lae);if("error"in i)throw new Ze(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=Te(i,tr(nx));if("error"in s)throw new Ze(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=Te(i,tr(nx));if("error"in s)throw new Ze(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=an(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Te(c,Fae);if("error"in u)throw new Ze(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Te(o,jae);if("error"in a)throw new Ze(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=Te(i,Hae);if("error"in s)throw new Ze(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=Te(i,zae);if("error"in s)throw new Ze(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Te(o,tr(Re(Ag)));if("error"in a)throw new Ze(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Te(o,tr(Re(ix)));if("error"in a)throw new Ze(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=an(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Te(a,tr(Ie(Re(ix))));if("error"in c)throw new Ze(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=an(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Te(a,tr(Ie(Re(Ag))));if("error"in c)throw new Ze(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=an(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=Te(a,yt(Kae));if("error"in c)throw new Ze(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=an(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:lk(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Ie(qae),h=o.withContext===!0?Te(c,tr(u)):Te(c,yt(u));if("error"in h)throw new Ze(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Te(o,yt(Ie(Wae)));if("error"in a)throw new Ze(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){let r;if(typeof e=="string")r=e;else{const s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Yr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return _n(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(n,(f,g)=>{r=void 0;const m={context:g,value:f};c({__type:ac.PROCESSED,response:m})},e);const h=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,g=>{g==="subscribed"&&f()})});(async()=>{if(await h,s)return;const f=await this.getSignatureStatus(n);if(s||f==null)return;const{context:g,value:m}=f;if(m!=null)if(m?.err)u(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:ac.PROCESSED,response:{context:g,value:m}})}})()}catch(h){u(h)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(f=>{const g=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await g();if(!s){for(;m<=r;)if(await bd(1e3),s||(m=await g(),s))return;f({__type:ac.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(n);let h;try{const f=await Promise.race([u,c,o]);if(f.__type===ac.PROCESSED)h=f.response;else throw new DP(i)}finally{s=!0,a()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(m=>{let _=s,x=null;const C=async()=>{try{const{context:S,value:T}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=S.slot,T?.nonce}catch{return _}};(async()=>{if(_=await C(),!a)for(;;){if(s!==_){m({__type:ac.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await bd(2e3),a||(_=await C(),a))return}})()}),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let g;try{const m=await Promise.race([f,h,c]);if(m.__type===ac.PROCESSED)g=m.response;else{let _;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(m.slotInWhichNonceDidAdvance??r)){await bd(400);continue}_=x;break}if(_?.value){const x=e||"finalized",{confirmationStatus:C}=_.value;switch(x){case"processed":case"recent":if(C!=="processed"&&C!=="confirmed"&&C!=="finalized")throw new qf(o);break;case"confirmed":case"single":case"singleGossip":if(C!=="confirmed"&&C!=="finalized")throw new qf(o);break;case"finalized":case"max":case"root":if(C!=="finalized")throw new qf(o);break;default:}g={context:_.context,value:{err:_.value.err}}}else throw new qf(o)}}finally{a=!0,u()}return g}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:ac.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const c=await Promise.race([o,i]);if(c.__type===ac.PROCESSED)a=c.response;else throw new PP(n,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Te(e,yt(Ie(sce)));if("error"in n)throw new Ze(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=Te(r,oce);if("error"in i)throw new Ze(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=an(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=Te(s,yt(ne()));if("error"in o)throw new Ze(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=an(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=Te(s,yt(_e()));if("error"in o)throw new Ze(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=Te(i,yt(Ie($n)));if("error"in s)throw new Ze(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);_n(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=Te(i,lce);if("error"in s)throw new Ze(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=an(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=Te(s,yt(ne()));if("error"in o)throw new Ze(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=Te(r,Oae);if("error"in i)throw new Ze(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=an(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=Te(a,yae);if("error"in c)throw new Ze(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Te(e,Bae);if("error"in n)throw new Ze(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=an(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=Te(s,Pae);if("error"in o)throw new Ze(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Te(e,$ae);if("error"in n)throw new Ze(n.error,"failed to get epoch schedule");const r=n.result;return new oae(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Te(e,Mae);if("error"in n)throw new Ze(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=Te(i,uce);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Te(n,xce);if("error"in r)throw new Ze(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=Te(i,Sce);if("error"in s)throw new Ze(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Vr(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=Te(s,tr(Re(ne())));if("error"in o)throw new Ze(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(o=>o.toBase58()),r=n?.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=Te(i,Dae);if("error"in s)throw new Ze(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=an(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=Te(s,vce);if("error"in o)throw new Ze(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Te(o,Ece);if("error"in a)throw new Ze(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Te(e,yt(Aae));if("error"in n)throw new Ze(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Te(e,yt(_e()));if("error"in n)throw new Ze(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Te(o,gce);if("error"in a)throw a.error;return a.result}case"none":{const a=Te(o,pce);if("error"in a)throw a.error;return a.result}default:{const a=Te(o,fce);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:h,version:f})=>({meta:h,transaction:{...u,message:K1(f,u.message)},version:f}))}:null}}}catch(a){throw new Ze(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Te(o,yce);if("error"in a)throw a.error;return a.result}case"none":{const a=Te(o,bce);if("error"in a)throw a.error;return a.result}default:{const a=Te(o,mce);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ze(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,n=c}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=Te(s,Iae);if("error"in o)throw new Ze(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Te(o,G1);if("error"in a)throw new Ze(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:K1(c.version,c.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=an(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Te(o,I0);if("error"in a)throw new Ze(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=an(n),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Te(c,I0);if("error"in u)throw new Ze(u.error,"failed to get transactions");return u.result})}async getTransactions(e,n){const{commitment:r,config:i}=an(n),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Te(c,G1);if("error"in u)throw new Ze(u.error,"failed to get transactions");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:K1(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=Te(i,wce);if("error"in s)throw new Ze(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const h=new Ha(c.message);return{meta:u,transaction:{...c,message:h}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Xr.populate(c.message,c.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=Te(s,yt(Ie(ne())));if("error"in o)throw new Ze(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Te(i,hk);if("error"in s)throw new Ze(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Te(i,hk);if("error"in s)throw new Ze(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=Te(i,G1);if("error"in s)throw new Ze(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Ha(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Xr.populate(a,c)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=Te(i,I0);if("error"in s)throw new Ze(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=Te(o,I0);if("error"in a)throw new Ze(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Te(s,Gae);if("error"in o)throw new Ze(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=Te(s,Yae);if("error"in o)throw new Ze(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new ck({key:e,state:ck.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=TA.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=Te(r,Ace);if("error"in i)throw new Ze(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await bd(100);const r=Date.now()-this._blockhashInfo.lastFetch>=fae;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await bd(eae/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=an(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Te(s,tr(ne()));if("error"in o)throw new Ze(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),C=bt.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const T=[C,S],I=await this._rpcRequest("simulateTransaction",T),P=Te(I,uk);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof Xr){let _=e;i=new Xr,i.feePayer=_.feePayer,i.instructions=e.instructions,i.nonceInfo=_.nonceInfo,i.signatures=_.signatures}else i=Xr.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let _=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(_);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const C=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(C)&&!this._blockhashInfo.transactionSignatures.includes(C)){this._blockhashInfo.simulatedSignatures.push(C);break}else _=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(r){const _=(Array.isArray(r)?r:o.nonProgramIds()).map(x=>x.toBase58());h.accounts={encoding:"base64",addresses:_}}s&&(h.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(h.innerInstructions=n.innerInstructions);const f=[u,h],g=await this._rpcRequest("simulateTransaction",f),m=Te(g,uk);if("error"in m){let _;if("data"in m.error&&(_=m.error.data.logs,_&&Array.isArray(_))){const x=`
    `,C=x+_.join(x);console.error(m.error.message,C)}throw new rk({action:"simulate",signature:"",transactionMessage:m.error.message,logs:_})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=Vr(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=Te(a,Cce);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new rk({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=Te(e,Zae);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=ok([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];_n(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=an(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=Te(e,Qae);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=an(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:lk(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=Te(e,Ice);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=Te(e,ece);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=Te(e,nce);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=Te(e,rce);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{n(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=Te(e,ice);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Ke([Qe("instruction"),xh("recentSlot"),zt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ke([Qe("instruction")])},ExtendLookupTable:{index:2,layout:Ke([Qe("instruction"),xh(),fi(_t(),ql(Qe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ke([Qe("instruction")])},CloseLookupTable:{index:4,layout:Ke([Qe("instruction")])}});new We("AddressLookupTab1e1111111111111111111111111");const R0=Object.freeze({RequestUnits:{index:0,layout:Ke([zt("instruction"),Qe("units"),Qe("additionalFee")])},RequestHeapFrame:{index:1,layout:Ke([zt("instruction"),Qe("bytes")])},SetComputeUnitLimit:{index:2,layout:Ke([zt("instruction"),Qe("units")])},SetComputeUnitPrice:{index:3,layout:Ke([zt("instruction"),xh("microLamports")])}});class sx{constructor(){}static requestUnits(e){const n=R0.RequestUnits,r=hi(n,e);return new Ei({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=R0.RequestHeapFrame,r=hi(n,e);return new Ei({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=R0.SetComputeUnitLimit,r=hi(n,e);return new Ei({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=R0.SetComputeUnitPrice,r=hi(n,{microLamports:BigInt(e.microLamports)});return new Ei({keys:[],programId:this.programId,data:r})}}sx.programId=new We("ComputeBudget111111111111111111111111111111");Ke([zt("numSignatures"),zt("padding"),Ms("signatureOffset"),Ms("signatureInstructionIndex"),Ms("publicKeyOffset"),Ms("publicKeyInstructionIndex"),Ms("messageDataOffset"),Ms("messageDataSize"),Ms("messageInstructionIndex")]);new We("Ed25519SigVerify111111111111111111111111111");zoe.utils.isValidPrivateKey;Ke([zt("numSignatures"),Ms("signatureOffset"),zt("signatureInstructionIndex"),Ms("ethAddressOffset"),zt("ethAddressInstructionIndex"),Ms("messageDataOffset"),Ms("messageDataSize"),zt("messageInstructionIndex"),mn(20,"ethAddress"),mn(64,"signature"),zt("recoveryId")]);new We("KeccakSecp256k11111111111111111111111111111");var ZP;new We("StakeConfig11111111111111111111111111111111");class XP{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}ZP=XP;XP.default=new ZP(0,0,We.default);Object.freeze({Initialize:{index:0,layout:Ke([Qe("instruction"),Woe(),Koe()])},Authorize:{index:1,layout:Ke([Qe("instruction"),_t("newAuthorized"),Qe("stakeAuthorizationType")])},Delegate:{index:2,layout:Ke([Qe("instruction")])},Split:{index:3,layout:Ke([Qe("instruction"),os("lamports")])},Withdraw:{index:4,layout:Ke([Qe("instruction"),os("lamports")])},Deactivate:{index:5,layout:Ke([Qe("instruction")])},Merge:{index:7,layout:Ke([Qe("instruction")])},AuthorizeWithSeed:{index:8,layout:Ke([Qe("instruction"),_t("newAuthorized"),Qe("stakeAuthorizationType"),Td("authoritySeed"),_t("authorityOwner")])}});new We("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Ke([Qe("instruction"),Goe()])},Authorize:{index:1,layout:Ke([Qe("instruction"),_t("newAuthorized"),Qe("voteAuthorizationType")])},Withdraw:{index:3,layout:Ke([Qe("instruction"),os("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ke([Qe("instruction")])},AuthorizeWithSeed:{index:10,layout:Ke([Qe("instruction"),Yoe()])}});new We("Vote111111111111111111111111111111111111111");new We("Va1idator1nfo111111111111111111111111111111");fe({name:_e(),website:Je(_e()),details:Je(_e()),iconUrl:Je(_e()),keybaseUsername:Je(_e())});new We("Vote111111111111111111111111111111111111111");Ke([_t("nodePubkey"),_t("authorizedWithdrawer"),zt("commission"),qr(),fi(Ke([qr("slot"),Qe("confirmationCount")]),ql(Qe(),-8),"votes"),zt("rootSlotValid"),qr("rootSlot"),qr(),fi(Ke([qr("epoch"),_t("authorizedVoter")]),ql(Qe(),-8),"authorizedVoters"),Ke([fi(Ke([_t("authorizedPubkey"),qr("epochOfLastAuthorizedSwitch"),qr("targetEpoch")]),32,"buf"),qr("idx"),zt("isEmpty")],"priorVoters"),qr(),fi(Ke([qr("epoch"),qr("credits"),qr("prevCredits")]),ql(Qe(),-8),"epochCredits"),Ke([qr("slot"),qr("timestamp")],"lastTimestamp")]);const ox=1e9,so={UNIVERSAL_PROVIDER_RELAY_URL:"wss://relay.walletconnect.org",HASH_PREFIX:"SPL Name Service",ROOT_DOMAIN_ACCOUNT:new We("58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx"),NAME_PROGRAM_ID:new We("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),REVERSE_LOOKUP_CLASS:new We("33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z"),DEFAULT_CHAIN:{id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",chainNamespace:Ce.CHAIN.SOLANA,nativeCurrency:{name:"Solana",decimals:9,symbol:"SOL"},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},rpcUrls:{default:{http:[`${Ce.BLOCKCHAIN_API_RPC_URL}/v1`]}}},CHAIN_IDS:{Mainnet:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",Devnet:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",Testnet:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",Deprecated_Mainnet:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",Deprecated_Devnet:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"},LAMPORTS_PER_SOL:1e9};class Iw extends Error{constructor(e,n){super(e),this.error=n}}class kce extends Iw{constructor(){super(...arguments),this.name="WalletAccountError"}}class Nce extends Iw{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class fk extends Iw{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Oce extends Iw{constructor(){super(...arguments),this.name="WalletSignMessageError"}}function Vl(t){return"version"in t}const QP="solana:signAndSendTransaction",Bce="solana:signMessage",ax="solana:signTransaction",JP="standard:connect",Dce="standard:disconnect",e6="standard:events";function Pce(t){return JP in t.features&&e6 in t.features&&(QP in t.features||ax in t.features)}function $ce(t){if(typeof t=="string")return`solana:${t}`}class Rw{constructor(){this.listeners={accountsChanged:[],chainChanged:[],connect:[],disconnect:[],pendingTransaction:[],auth_rpcRequest:[],auth_rpcSuccess:[],auth_rpcError:[]}}on(e,n){this.listeners[e].push(n)}removeListener(e,n){this.listeners[e]=this.listeners[e].filter(r=>r!==n)}emit(e,n){this.listeners[e].forEach(r=>r(n))}}class Mce extends Rw{constructor(e){super(),this.id=Ce.CONNECTOR_ID.AUTH,this.name=Ce.CONNECTOR_NAMES.AUTH,this.type="AUTH",this.chain=Ce.CHAIN.SOLANA,this.provider=e.w3mFrameProvider,this.requestedChains=e.chains,this.getActiveChain=e.getActiveChain}get publicKey(){const e=this.provider.user?.address;return e?new We(e):void 0}get chains(){const e=this.provider.getAvailableChainIds();return this.requestedChains.filter(n=>e.includes(n.caipNetworkId))}async connect(e={}){const n=e.chainId||this.getActiveChain()?.id,r=Ve.state.preferredAccountTypes?.solana;if(await this.provider.connect({chainId:$ce(n),socialUri:e.socialUri,preferredAccountType:r}),!this.publicKey)throw new Error("Failed to connect to the wallet");return this.emit("connect",this.publicKey),this.publicKey.toBase58()}async disconnect(){await this.provider.disconnect(),this.emit("disconnect",void 0)}async signMessage(e){if(!this.publicKey)throw new Error("Wallet not connected");const n=await this.provider.request({method:"solana_signMessage",params:{message:Fi.encode(e),pubkey:this.publicKey.toBase58()}});return Fi.decode(n.signature)}async signTransaction(e){const n=await this.provider.request({method:"solana_signTransaction",params:{transaction:this.serializeTransaction(e)}}),r=Fi.decode(n.transaction);return Vl(e)?Yc.deserialize(r):Xr.from(r)}async signAndSendTransaction(e,n){const r=this.serializeTransaction(e);return(await this.provider.request({method:"solana_signAndSendTransaction",params:{transaction:r,options:n}})).signature}async sendTransaction(e,n,r){const i=await this.signTransaction(e);return await n.sendRawTransaction(i.serialize(),r)}async signAllTransactions(e){return(await this.provider.request({method:"solana_signAllTransactions",params:{transactions:e.map(r=>this.serializeTransaction(r))}})).transactions.map((r,i)=>{const s=e[i];if(!s)throw new Error("Invalid solana_signAllTransactions response");const o=Fi.decode(r);return Vl(s)?Yc.deserialize(o):Xr.from(o)})}async request(e){return this.provider.request({method:e.method,params:e.params})}async getAccounts(){return this.publicKey?Promise.resolve([{namespace:this.chain,address:this.publicKey.toBase58(),type:"eoa"}]):Promise.resolve([])}serializeTransaction(e){return Fi.encode(new Uint8Array(e.serialize({verifySignatures:!1})))}}class Uce extends Rw{constructor(e){super(),this.name="Coinbase Wallet",this.id=Ua.ConnectorExplorerIds[Ce.CONNECTOR_ID.COINBASE_SDK],this.explorerId=Ua.ConnectorExplorerIds[Ce.CONNECTOR_ID.COINBASE_SDK],this.type="ANNOUNCED",this.imageUrl="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.chain=Ce.CHAIN.SOLANA,this.provider=this,this.coinbase=e.provider,this.requestedChains=e.chains}get chains(){return this.requestedChains.filter(e=>e.id===Qy.id)}get publicKey(){return this.coinbase.publicKey}get imageId(){return Ua.ConnectorImageIds[Ce.CONNECTOR_ID.COINBASE]}async connect(){try{await this.coinbase.connect();const e=this.getAccount(!0);return this.coinbase.emit("connect",this.coinbase.publicKey),this.emit("connect",e),e.toBase58()}catch(e){throw this.coinbase.emit("error",e),e}}async disconnect(){await this.coinbase.disconnect(),this.coinbase.emit("disconnect",void 0),this.emit("disconnect",void 0)}async signMessage(e){return(await this.coinbase.signMessage(e)).signature}async signTransaction(e){return this.coinbase.signTransaction(e)}async signAndSendTransaction(e,n){return(await this.coinbase.signAndSendTransaction(e,n)).signature}async sendTransaction(e,n,r){const i=await this.signTransaction(e);return await n.sendRawTransaction(i.serialize(),r)}async signAllTransactions(e){return await this.coinbase.signAllTransactions(e)}async request(e){return Promise.reject(new Error('The "request" method is not supported on Coinbase Wallet'))}async getAccounts(){const e=this.getAccount();return e?Promise.resolve([{namespace:this.chain,address:e.toBase58(),type:"eoa"}]):Promise.resolve([])}getAccount(e){const n=this.coinbase.publicKey;if(e&&!n)throw new Error("Not connected");return n}}class pk extends Error{constructor(e){super(`The wallet does not support the "${e}" feature`)}}class gk extends Error{constructor(e){super(`The method "${e}" is not supported by the wallet`)}}class mk extends cA{constructor({provider:e,chains:n,getActiveChain:r}){super({caipNetworks:n,namespace:"solana",provider:e}),this.eventEmitter=new Rw,this.emit=this.eventEmitter.emit.bind(this.eventEmitter),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.removeListener=this.eventEmitter.removeListener.bind(this.eventEmitter),this.getActiveChain=r}get session(){return this.provider.session}get chains(){return this.sessionChains.map(e=>{let n=e;return n===so.CHAIN_IDS.Deprecated_Mainnet?n=so.CHAIN_IDS.Mainnet:n===so.CHAIN_IDS.Deprecated_Devnet&&(n=so.CHAIN_IDS.Devnet),this.caipNetworks.find(r=>r.caipNetworkId===n)}).filter(Boolean)}get publicKey(){const e=this.getAccount(!1);if(e)return new We(e.publicKey)}async connect(){await super.connectWalletConnect();const e=this.getAccount(!0);return this.emit("connect",new We(e.publicKey)),e.address}async disconnect(){await super.disconnect(),this.emit("disconnect",void 0)}async signMessage(e){this.checkIfMethodIsSupported("solana_signMessage");const n=await this.internalRequest("solana_signMessage",{message:Fi.encode(e),pubkey:this.getAccount(!0).address});return Fi.decode(n.signature)}async signTransaction(e){this.checkIfMethodIsSupported("solana_signTransaction");const n=this.serializeTransaction(e),r=await this.internalRequest("solana_signTransaction",{transaction:n,pubkey:this.getAccount(!0).address,...this.getRawRPCParams(e)});if("signature"in r){const s=Fi.decode(r.signature);return e.addSignature(new We(this.getAccount(!0).publicKey),Buffer.from(s)),e}const i=Buffer.from(r.transaction,"base64");return Vl(e)?Yc.deserialize(new Uint8Array(i)):Xr.from(i)}async signAndSendTransaction(e,n){this.checkIfMethodIsSupported("solana_signAndSendTransaction");const r=this.serializeTransaction(e),i=await this.internalRequest("solana_signAndSendTransaction",{transaction:r,pubkey:this.getAccount(!0).address,sendOptions:n});return this.emit("pendingTransaction",void 0),i.signature}async sendTransaction(e,n,r){const i=await this.signTransaction(e),s=await n.sendRawTransaction(i.serialize(),r);return this.emit("pendingTransaction",void 0),s}async signAllTransactions(e){try{return this.checkIfMethodIsSupported("solana_signAllTransactions"),(await this.internalRequest("solana_signAllTransactions",{transactions:e.map(r=>this.serializeTransaction(r))})).transactions.map((r,i)=>{const s=e[i];if(!s)throw new Error("Invalid transactions response");const o=Buffer.from(r,"base64");return Vl(s)?Yc.deserialize(new Uint8Array(o)):(this.emit("pendingTransaction",void 0),Xr.from(o))})}catch(n){if(n instanceof gk){const r=[];for(const i of e)r.push(await this.signTransaction(i));return r}throw n}}request(e){return this.internalRequest(e.method,e.params)}async getAccounts(){const e=this.session?.namespaces.solana?.accounts||[];return Promise.resolve(e.map(n=>({namespace:this.chain,address:ya.parseCaipAddress(n).address,type:"eoa"})))}internalRequest(e,n){let i=this.chains.find(s=>this.getActiveChain()?.id===s.id)?.caipNetworkId;switch(i){case so.CHAIN_IDS.Mainnet:this.sessionChains.includes(so.CHAIN_IDS.Mainnet)||(i=so.CHAIN_IDS.Deprecated_Mainnet);break;case so.CHAIN_IDS.Devnet:this.sessionChains.includes(so.CHAIN_IDS.Devnet)||(i=so.CHAIN_IDS.Deprecated_Devnet);break}return this.provider?.request({method:e,params:n},i)}get sessionChains(){return dp.getChainsFromNamespaces(this.session?.namespaces)}serializeTransaction(e){return Buffer.from(new Uint8Array(e.serialize({verifySignatures:!1}))).toString("base64")}getAccount(e){const n=this.session?.namespaces.solana?.accounts[0];if(!n){if(e)throw new Error("Account not found");return}const r=n.split(":")[2];if(!r){if(e)throw new Error("Address not found");return}return{address:r,publicKey:Fi.decode(r)}}getRawRPCParams(e){return Vl(e)?{}:{feePayer:e.feePayer?.toBase58()??"",instructions:e.instructions.map(n=>({data:Fi.encode(new Uint8Array(n.data)),keys:n.keys.map(r=>({isWritable:r.isWritable,isSigner:r.isSigner,pubkey:r.pubkey.toBase58()})),programId:n.programId.toBase58()})),recentBlockhash:e.recentBlockhash??""}}checkIfMethodIsSupported(e){if(!this.session?.namespaces.solana?.methods.includes(e))throw new gk(e)}}const yk={UNIT_PRICE_MICRO_LAMPORTS:2e7,UNIT_LIMIT:500};async function bk({provider:t,to:e,value:n,connection:r}){if(!t.publicKey)throw Error("No public key found");const i=new We(e),s=Math.floor(n*ox),{blockhash:o,lastValidBlockHeight:a}=await r.getLatestBlockhash(),c=[sx.setComputeUnitPrice({microLamports:yk.UNIT_PRICE_MICRO_LAMPORTS}),sx.setComputeUnitLimit({units:yk.UNIT_LIMIT}),Sh.transfer({fromPubkey:t.publicKey,toPubkey:i,lamports:s})];return new Xr({feePayer:t.publicKey,blockhash:o,lastValidBlockHeight:a}).add(...c)}var Lce=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},zce=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},hy;let Cf;const kw=new Set;function Fce(t){hp=void 0,kw.add(t)}function jce(t){hp=void 0,kw.delete(t)}const Id={};function Hce(){if(Cf||(Cf=Object.freeze({register:wk,get:qce,on:Vce}),typeof window>"u"))return Cf;const t=Object.freeze({register:wk});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new Wce(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Cf}function wk(...t){return t=t.filter(e=>!kw.has(e)),t.length?(t.forEach(e=>Fce(e)),Id.register?.forEach(e=>vk(()=>e(...t))),function(){t.forEach(n=>jce(n)),Id.unregister?.forEach(n=>vk(()=>n(...t)))}):()=>{}}let hp;function qce(){return hp||(hp=[...kw]),hp}function Vce(t,e){return Id[t]?.push(e)||(Id[t]=[e]),function(){Id[t]=Id[t]?.filter(r=>e!==r)}}function vk(t){try{t()}catch(e){console.error(e)}}class Wce extends Event{get detail(){return Lce(this,hy,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),hy.set(this,void 0),zce(this,hy,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}hy=new WeakMap;function Kce(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Ek={"solana:mainnet":Qy,"solana:testnet":cie,"solana:devnet":Jy};class Gce extends Rw{constructor({wallet:e,getActiveChain:n,requestedChains:r}){super(),this.chain=Ce.CHAIN.SOLANA,this.provider=this,this.wallet=e,this.getActiveChain=n,this.requestedChains=r,this.bindEvents()}get id(){const e=this.name;return Ua.ConnectorExplorerIds[e]||e}get name(){return this.wallet.name==="Trust"?"Trust Wallet":this.wallet.name}get type(){return"ANNOUNCED"}get explorerId(){return Ua.ConnectorExplorerIds[this.name]}get publicKey(){const e=this.getAccount(!1);if(e)return new We(e.publicKey)}get imageUrl(){return this.wallet.icon}get chains(){return this.wallet.chains.map(e=>this.requestedChains.find(n=>n.id===e||n.id===Ek[e]?.id)).filter(Boolean)}async connect(){await this.getWalletFeature(JP).connect();const n=this.getAccount(!0),r=new We(n.publicKey);return this.emit("connect",r),n.address}async disconnect(){await this.getWalletFeature(Dce).disconnect(),this.emit("disconnect",void 0)}async signMessage(e){const n=this.getWalletFeature(Bce),r=this.getAccount(!0),[i]=await n.signMessage({message:e,account:r});if(!i)throw new Oce("Empty result");return i.signature}async signTransaction(e){const n=this.getWalletFeature(ax),r=this.getAccount(!0),i=this.serializeTransaction(e),[s]=await n.signTransaction({account:r,transaction:new Uint8Array(i),chain:this.getActiveChainName()});if(!s)throw new fk("Empty result");return this.emit("pendingTransaction",void 0),Vl(e)?Yc.deserialize(s.signedTransaction):Xr.from(s.signedTransaction)}async signAndSendTransaction(e,n){const r=this.getWalletFeature(QP),i=this.getAccount(!0),[s]=await r.signAndSendTransaction({account:i,transaction:new Uint8Array(this.serializeTransaction(e)),options:{...n,preflightCommitment:Kce(n?.preflightCommitment)},chain:this.getActiveChainName()});if(!s)throw new Nce("Empty result");return this.emit("pendingTransaction",void 0),Fi.encode(s.signature)}async sendTransaction(e,n,r){const i=await this.signTransaction(e);return await n.sendRawTransaction(i.serialize(),r)}async signAllTransactions(e){const n=this.getWalletFeature(ax),r=this.getAccount(!0),i=this.getActiveChainName();return(await n.signTransaction(...e.map(o=>({transaction:new Uint8Array(this.serializeTransaction(o)),account:r,chain:i})))).map(({signedTransaction:o},a)=>{const c=e[a];if(!c)throw new fk("Invalid transaction signature response");return this.emit("pendingTransaction",void 0),Vl(c)?Yc.deserialize(o):Xr.from(o)})}async request(e){return Promise.reject(new pk("request"))}async getAccounts(){return Promise.resolve(this.wallet.accounts.map(e=>({namespace:this.chain,address:e.address,type:"eoa"})))}serializeTransaction(e){return e.serialize({verifySignatures:!1})}getAccount(e){const n=this.wallet.accounts[0];if(e&&!n)throw new kce;return n}getWalletFeature(e){if(!(e in this.wallet.features))throw new pk(e);return this.wallet.features[e]}getActiveChainName(){const e=Object.entries(Ek).find(([,n])=>n.id===this.getActiveChain()?.id);if(!e)throw new Error("Invalid chain id");return e[0]}bindEvents(){this.getWalletFeature(e6).on("change",n=>{if(n.accounts){const r=n.accounts[0];r&&this.emit("accountsChanged",new We(r.publicKey))}})}}const{get:Yce,on:_k}=Hce();let cc=[];function Zce(t,e,n){const r=[_k("register",(...i)=>{cc=[...cc,...xk(i,t,e)],n(...cc)}),_k("unregister",(...i)=>{cc=cc.filter(s=>i.some(o=>o.name===s.wallet.name)),n(...cc)})];return cc=xk(Yce(),t,e),n(...cc),()=>r.forEach(i=>i())}function xk(t,e,n){return t.filter(Pce).map(r=>new Gce({wallet:r,requestedChains:e,getActiveChain:n}))}class Xce extends kD{constructor(e={}){super({adapterType:Ce.ADAPTER_TYPES.SOLANA,namespace:Ce.CHAIN.SOLANA}),this.balancePromises={},this.providerHandlers=null,this.connectionSettings=e.connectionSettings||"confirmed",this.wallets=e.wallets}construct(e){super.construct(e);const n=De.getActiveCaipNetworkId(),i=(e.networks?.find(s=>s.caipNetworkId===n)||e.networks?.[0])?.rpcUrls.default.http[0];i&&yl.setConnection(new Af(i,this.connectionSettings))}setAuthProvider(e){this.addConnector(new Mce({w3mFrameProvider:e,getActiveChain:()=>Z.getCaipNetworkByNamespace(this.namespace),chains:this.getCaipNetworks()}))}syncConnectors(e,n){e.projectId||$o.open(co.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");const r=()=>n.getCaipNetwork(this.namespace);tt.isClient()&&"coinbaseSolana"in window&&this.addConnector(new Uce({provider:window.coinbaseSolana,chains:this.getCaipNetworks(),getActiveChain:r})),Zce(this.getCaipNetworks(),r,this.addConnector.bind(this))}async writeContract(){return Promise.resolve({hash:""})}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async walletGetAssets(e){return Promise.resolve({})}async getAccounts(e){const n=this.connectors.find(r=>r.id===e.id);return n?{accounts:await n.getAccounts()}:{accounts:[]}}async signMessage(e){const n=e.provider;if(!n)throw new Error("connectionControllerClient:signMessage - provider is undefined");const r=await n.signMessage(new TextEncoder().encode(e.message));return{signature:Fi.encode(r)}}async estimateGas(e){const n=yl.state.connection;if(!n||!e.provider)throw new Error("Connection is not set");const i=await(await bk({provider:e.provider,connection:n,to:"11111111111111111111111111111111",value:1})).getEstimatedFee(n);return{gas:BigInt(i||0)}}async sendTransaction(e){const n=yl.state.connection;if(!n||!e.provider)throw new Error("Connection is not set");const r=e.provider,i=await bk({provider:r,connection:n,to:e.to,value:Number.isNaN(Number(e.value))?0:Number(e.value)}),s=await r.sendTransaction(i,n);return await new Promise(o=>{const a=setInterval(async()=>{(await n.getSignatureStatus(s))?.value&&(clearInterval(a),o())},1e3)}),{hash:s}}parseUnits(){return 0n}formatUnits(){return""}async connect(e){const n=this.connectors.find(s=>s.id===e.id);if(!n)throw new Error("Provider not found");const r=e.rpcUrl||this.getCaipNetworks()?.find(s=>s.id===e.chainId)?.rpcUrls.default.http[0];if(!r)throw new Error(`RPC URL not found for chainId: ${e.chainId}`);const i=await n.connect({chainId:e.chainId,socialUri:e.socialUri});return this.listenProviderEvents(n),yl.setConnection(new Af(r,this.connectionSettings)),this.emit("accountChanged",{address:i,chainId:e.chainId}),{id:n.id,address:i,chainId:e.chainId,provider:n,type:n.type}}async getBalance(e){const n=e.address,r=this.getCaipNetworks()?.find(c=>c.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"SOL"});const i=new Af(r?.rpcUrls?.default?.http?.[0],this.connectionSettings),s=`${r?.caipNetworkId}:${e.address}`,o=this.balancePromises[s];if(o)return o;const a=De.getNativeBalanceCacheForCaipAddress(s);return a?{balance:a.balance,symbol:a.symbol}:(this.balancePromises[s]=new Promise(async c=>{try{const h=(await i.getBalance(new We(n))/so.LAMPORTS_PER_SOL).toString();if(De.updateNativeBalanceCache({caipAddress:s,balance:h,symbol:e.caipNetwork?.nativeCurrency.symbol||"SOL",timestamp:Date.now()}),!e.caipNetwork)throw new Error("caipNetwork is required");c({balance:h,symbol:e.caipNetwork?.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"SOL"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"SOL"})}async switchNetwork(e){await super.switchNetwork(e);const{caipNetwork:n}=e;n?.rpcUrls?.default?.http?.[0]&&yl.setConnection(new Af(n.rpcUrls.default.http[0],this.connectionSettings))}listenProviderEvents(e){const n=()=>{this.removeProviderListeners(e),this.emit("disconnect")},r=i=>{const s=i.toBase58();s&&this.emit("accountChanged",{address:s})};e.on("disconnect",n),e.on("accountsChanged",r),e.on("connect",r),e.on("pendingTransaction",()=>{this.emit("pendingTransactions")}),this.providerHandlers={disconnect:n,accountsChanged:r}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("connect",this.providerHandlers.accountsChanged),this.providerHandlers=null)}setUniversalProvider(e){this.addConnector(new mk({provider:e,chains:this.getCaipNetworks(),getActiveChain:()=>Z.getCaipNetworkByNamespace(this.namespace)}))}async connectWalletConnect(e){const n=await super.connectWalletConnect(e),r=this.getCaipNetworks()?.find(s=>s.id===e)?.rpcUrls.default.http[0],i=new Af(r,this.connectionSettings);return yl.setConnection(i),n}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");await e.provider.disconnect()}async syncConnection(e){return this.connect({...e,type:""})}getWalletConnectProvider(e){return new mk({provider:e.provider,chains:e.caipNetworks,getActiveChain:()=>Z.getCaipNetworkByNamespace(this.namespace)})}}function Qce(){return{connection:nA(yl.state).connection}}var t6={exports:{}},Nw={},n6={exports:{}},r6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(v,O){var B=v.length;v.push(O);e:for(;0<B;){var R=B-1>>>1,M=v[R];if(0<i(M,O))v[R]=O,v[B]=M,B=R;else break e}}function n(v){return v.length===0?null:v[0]}function r(v){if(v.length===0)return null;var O=v[0],B=v.pop();if(B!==O){v[0]=B;e:for(var R=0,M=v.length,k=M>>>1;R<k;){var E=2*(R+1)-1,U=v[E],Q=E+1,te=v[Q];if(0>i(U,B))Q<M&&0>i(te,U)?(v[R]=te,v[Q]=B,R=Q):(v[R]=U,v[E]=B,R=E);else if(Q<M&&0>i(te,B))v[R]=te,v[Q]=B,R=Q;else break e}}return O}function i(v,O){var B=v.sortIndex-O.sortIndex;return B!==0?B:v.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,g=3,m=!1,_=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function I(v){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=v)r(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(u)}}function P(v){if(x=!1,I(v),!_)if(n(c)!==null)_=!0,w();else{var O=n(u);O!==null&&b(P,O.startTime-v)}}var z=!1,W=-1,L=5,V=-1;function q(){return!(t.unstable_now()-V<L)}function X(){if(z){var v=t.unstable_now();V=v;var O=!0;try{e:{_=!1,x&&(x=!1,S(W),W=-1),m=!0;var B=g;try{t:{for(I(v),f=n(c);f!==null&&!(f.expirationTime>v&&q());){var R=f.callback;if(typeof R=="function"){f.callback=null,g=f.priorityLevel;var M=R(f.expirationTime<=v);if(v=t.unstable_now(),typeof M=="function"){f.callback=M,I(v),O=!0;break t}f===n(c)&&r(c),I(v)}else r(c);f=n(c)}if(f!==null)O=!0;else{var k=n(u);k!==null&&b(P,k.startTime-v),O=!1}}break e}finally{f=null,g=B,m=!1}O=void 0}}finally{O?Y():z=!1}}}var Y;if(typeof T=="function")Y=function(){T(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,j=ee.port2;ee.port1.onmessage=X,Y=function(){j.postMessage(null)}}else Y=function(){C(X,0)};function w(){z||(z=!0,Y())}function b(v,O){W=C(function(){v(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(v){v.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,w())},t.unstable_forceFrameRate=function(v){0>v||125<v?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<v?Math.floor(1e3/v):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(v){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var B=g;g=O;try{return v()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(v,O){switch(v){case 1:case 2:case 3:case 4:case 5:break;default:v=3}var B=g;g=v;try{return O()}finally{g=B}},t.unstable_scheduleCallback=function(v,O,B){var R=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?R+B:R):B=R,v){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,v={id:h++,callback:O,priorityLevel:v,startTime:B,expirationTime:M,sortIndex:-1},B>R?(v.sortIndex=B,e(u,v),n(c)===null&&v===n(u)&&(x?(S(W),W=-1):x=!0,b(P,B-R))):(v.sortIndex=M,e(c,v),_||m||(_=!0,w())),v},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(v){var O=g;return function(){var B=g;g=O;try{return v.apply(this,arguments)}finally{g=B}}}})(r6);n6.exports=r6;var Jce=n6.exports,i6={exports:{}},Ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ele=It;function s6(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lc(){}var Si={d:{f:lc,r:function(){throw Error(s6(522))},D:lc,C:lc,L:lc,m:lc,X:lc,S:lc,M:lc},p:0,findDOMNode:null},tle=Symbol.for("react.portal");function nle(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tle,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var fp=ele.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ow(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Si;Ri.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(s6(299));return nle(t,e,null,n)};Ri.flushSync=function(t){var e=fp.T,n=Si.p;try{if(fp.T=null,Si.p=2,t)return t()}finally{fp.T=e,Si.p=n,Si.d.f()}};Ri.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Si.d.C(t,e))};Ri.prefetchDNS=function(t){typeof t=="string"&&Si.d.D(t)};Ri.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Ow(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Si.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Si.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ri.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ow(e.as,e.crossOrigin);Si.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Si.d.M(t)};Ri.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Ow(n,e.crossOrigin);Si.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ri.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ow(e.as,e.crossOrigin);Si.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Si.d.m(t)};Ri.requestFormReset=function(t){Si.d.r(t)};Ri.unstable_batchedUpdates=function(t,e){return t(e)};Ri.useFormState=function(t,e,n){return fp.H.useFormState(t,e,n)};Ri.useFormStatus=function(){return fp.H.useHostTransitionStatus()};Ri.version="19.0.0";function o6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o6)}catch(t){console.error(t)}}o6(),i6.exports=Ri;var NA=i6.exports;const rle=ws(NA);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=Jce,a6=It,ile=NA;function de(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var sle=Symbol.for("react.element"),k0=Symbol.for("react.transitional.element"),Vf=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),l6=Symbol.for("react.strict_mode"),cx=Symbol.for("react.profiler"),ole=Symbol.for("react.provider"),u6=Symbol.for("react.consumer"),Na=Symbol.for("react.context"),OA=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),ux=Symbol.for("react.suspense_list"),BA=Symbol.for("react.memo"),pc=Symbol.for("react.lazy"),d6=Symbol.for("react.offscreen"),ale=Symbol.for("react.memo_cache_sentinel"),Sk=Symbol.iterator;function Tf(t){return t===null||typeof t!="object"?null:(t=Sk&&t[Sk]||t["@@iterator"],typeof t=="function"?t:null)}var cle=Symbol.for("react.client.reference");function dx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===cle?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rd:return"Fragment";case Vf:return"Portal";case cx:return"Profiler";case l6:return"StrictMode";case lx:return"Suspense";case ux:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Na:return(t.displayName||"Context")+".Provider";case u6:return(t._context.displayName||"Context")+".Consumer";case OA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BA:return e=t.displayName||null,e!==null?e:dx(t.type)||"Memo";case pc:e=t._payload,t=t._init;try{return dx(t(e))}catch{}}return null}var gt=a6.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,En=Object.assign,Y1,Ak;function Wf(t){if(Y1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Y1=e&&e[1]||"",Ak=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y1+t+Ak}var Z1=!1;function X1(t,e){if(!t||Z1)return"";Z1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var g=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){g=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){g=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split(`
`),u=a.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var h=`
`+c[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{Z1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Wf(n):""}function lle(t){switch(t.tag){case 26:case 27:case 5:return Wf(t.type);case 16:return Wf("Lazy");case 13:return Wf("Suspense");case 19:return Wf("SuspenseList");case 0:case 15:return t=X1(t.type,!1),t;case 11:return t=X1(t.type.render,!1),t;case 1:return t=X1(t.type,!0),t;default:return""}}function Ck(t){try{var e="";do e+=lle(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Xh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function h6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tk(t){if(Xh(t)!==t)throw Error(de(188))}function ule(t){var e=t.alternate;if(!e){if(e=Xh(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tk(i),t;if(s===r)return Tk(i),e;s=s.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function f6(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=f6(t),e!==null)return e;t=t.sibling}return null}var Kf=Array.isArray,wn=ile.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wl={pending:!1,data:null,method:null,action:null},hx=[],kd=-1;function ta(t){return{current:t}}function $r(t){0>kd||(t.current=hx[kd],hx[kd]=null,kd--)}function Sn(t,e){kd++,hx[kd]=t.current,t.current=e}var qo=ta(null),Cg=ta(null),Pc=ta(null),lb=ta(null);function ub(t,e){switch(Sn(Pc,e),Sn(Cg,t),Sn(qo,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?IN(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=IN(t),e=A5(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$r(qo),Sn(qo,e)}function Ah(){$r(qo),$r(Cg),$r(Pc)}function fx(t){t.memoizedState!==null&&Sn(lb,t);var e=qo.current,n=A5(e,t.type);e!==n&&(Sn(Cg,t),Sn(qo,n))}function db(t){Cg.current===t&&($r(qo),$r(Cg)),lb.current===t&&($r(lb),Mg._currentValue=Wl)}var px=Object.prototype.hasOwnProperty,DA=Er.unstable_scheduleCallback,Q1=Er.unstable_cancelCallback,dle=Er.unstable_shouldYield,hle=Er.unstable_requestPaint,Vo=Er.unstable_now,fle=Er.unstable_getCurrentPriorityLevel,p6=Er.unstable_ImmediatePriority,g6=Er.unstable_UserBlockingPriority,hb=Er.unstable_NormalPriority,ple=Er.unstable_LowPriority,m6=Er.unstable_IdlePriority,gle=Er.log,mle=Er.unstable_setDisableYieldValue,xm=null,fs=null;function yle(t){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(xm,t,void 0,(t.current.flags&128)===128)}catch{}}function Tc(t){if(typeof gle=="function"&&mle(t),fs&&typeof fs.setStrictMode=="function")try{fs.setStrictMode(xm,t)}catch{}}var ps=Math.clz32?Math.clz32:vle,ble=Math.log,wle=Math.LN2;function vle(t){return t>>>=0,t===0?32:31-(ble(t)/wle|0)|0}var N0=128,O0=4194304;function bl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=t.warmLanes;t=t.finishedLanes!==0;var a=n&134217727;return a!==0?(n=a&~i,n!==0?r=bl(n):(s&=a,s!==0?r=bl(s):t||(o=a&~o,o!==0&&(r=bl(o))))):(a=n&~i,a!==0?r=bl(a):s!==0?r=bl(s):t||(o=n&~o,o!==0&&(r=bl(o)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===32&&(o&4194176)!==0)?e:r}function Sm(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ele(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y6(){var t=N0;return N0<<=1,!(N0&4194176)&&(N0=128),t}function b6(){var t=O0;return O0<<=1,!(O0&62914560)&&(O0=4194304),t}function J1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Am(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _le(t,e,n,r,i,s){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var h=31-ps(n),f=1<<h;a[h]=0,c[h]=-1;var g=u[h];if(g!==null)for(u[h]=null,h=0;h<g.length;h++){var m=g[h];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&w6(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(o&~e))}function w6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-ps(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194218}function v6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ps(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function E6(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _6(){var t=wn.p;return t!==0?t:(t=window.event,t===void 0?32:P5(t.type))}function xle(t,e){var n=wn.p;try{return wn.p=t,e()}finally{wn.p=n}}var sl=Math.random().toString(36).slice(2),pi="__reactFiber$"+sl,Wi="__reactProps$"+sl,Qh="__reactContainer$"+sl,gx="__reactEvents$"+sl,Sle="__reactListeners$"+sl,Ale="__reactHandles$"+sl,Ik="__reactResources$"+sl,Tg="__reactMarker$"+sl;function PA(t){delete t[pi],delete t[Wi],delete t[gx],delete t[Sle],delete t[Ale]}function Dl(t){var e=t[pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qh]||n[pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kN(t);t!==null;){if(n=t[pi])return n;t=kN(t)}return e}t=n,n=t.parentNode}return null}function Jh(t){if(t=t[pi]||t[Qh]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Gf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(de(33))}function Kd(t){var e=t[Ik];return e||(e=t[Ik]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Nr(t){t[Tg]=!0}var x6=new Set,S6={};function Ru(t,e){Ch(t,e),Ch(t+"Capture",e)}function Ch(t,e){for(S6[t]=e,t=0;t<e.length;t++)x6.add(e[t])}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cle=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rk={},kk={};function Tle(t){return px.call(kk,t)?!0:px.call(Rk,t)?!1:Cle.test(t)?kk[t]=!0:(Rk[t]=!0,!1)}function fy(t,e,n){if(Tle(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function B0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function fa(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Us(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ile(t){var e=A6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fb(t){t._valueTracker||(t._valueTracker=Ile(t))}function C6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rle=/[\n"\\]/g;function Fs(t){return t.replace(Rle,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mx(t,e,n,r,i,s,o,a){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Us(e)):t.value!==""+Us(e)&&(t.value=""+Us(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?yx(t,o,Us(e)):n!=null?yx(t,o,Us(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+Us(a):t.removeAttribute("name")}function T6(t,e,n,r,i,s,o,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Us(n):"",e=e!=null?""+Us(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=a?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function yx(t,e,n){e==="number"&&pb(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Gd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function I6(t,e,n){if(e!=null&&(e=""+Us(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Us(n):""}function R6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(de(92));if(Kf(r)){if(1<r.length)throw Error(de(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Us(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Th(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kle=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nk(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||kle.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function k6(t,e,n){if(e!=null&&typeof e!="object")throw Error(de(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&Nk(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&Nk(t,s,e[s])}function $A(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nle=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ole=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function py(t){return Ole.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bx=null;function MA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nd=null,Yd=null;function Ok(t){var e=Jh(t);if(e&&(t=e.stateNode)){var n=t[Wi]||null;e:switch(t=e.stateNode,e.type){case"input":if(mx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fs(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Wi]||null;if(!i)throw Error(de(90));mx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&C6(r)}break e;case"textarea":I6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Gd(t,!!n.multiple,e,!1)}}}var eE=!1;function N6(t,e,n){if(eE)return t(e,n);eE=!0;try{var r=t(e);return r}finally{if(eE=!1,(Nd!==null||Yd!==null)&&(Hw(),Nd&&(e=Nd,t=Yd,Yd=Nd=null,Ok(e),t)))for(e=0;e<t.length;e++)Ok(t[e])}}function Ig(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Wi]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var wx=!1;if(qa)try{var If={};Object.defineProperty(If,"passive",{get:function(){wx=!0}}),window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{wx=!1}var Ic=null,UA=null,gy=null;function O6(){if(gy)return gy;var t,e=UA,n=e.length,r,i="value"in Ic?Ic.value:Ic.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gy=i.slice(t,1<r?1-r:void 0)}function my(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function D0(){return!0}function Bk(){return!1}function Zi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?D0:Bk,this.isPropagationStopped=Bk,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=D0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=D0)},persist:function(){},isPersistent:D0}),e}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=Zi(ku),Cm=En({},ku,{view:0,detail:0}),Ble=Zi(Cm),tE,nE,Rf,Pw=En({},Cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rf&&(Rf&&t.type==="mousemove"?(tE=t.screenX-Rf.screenX,nE=t.screenY-Rf.screenY):nE=tE=0,Rf=t),tE)},movementY:function(t){return"movementY"in t?t.movementY:nE}}),Dk=Zi(Pw),Dle=En({},Pw,{dataTransfer:0}),Ple=Zi(Dle),$le=En({},Cm,{relatedTarget:0}),rE=Zi($le),Mle=En({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),Ule=Zi(Mle),Lle=En({},ku,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zle=Zi(Lle),Fle=En({},ku,{data:0}),Pk=Zi(Fle),jle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qle[t])?!!e[t]:!1}function LA(){return Vle}var Wle=En({},Cm,{key:function(t){if(t.key){var e=jle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=my(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LA,charCode:function(t){return t.type==="keypress"?my(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?my(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kle=Zi(Wle),Gle=En({},Pw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$k=Zi(Gle),Yle=En({},Cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LA}),Zle=Zi(Yle),Xle=En({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qle=Zi(Xle),Jle=En({},Pw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eue=Zi(Jle),tue=En({},ku,{newState:0,oldState:0}),nue=Zi(tue),rue=[9,13,27,32],zA=qa&&"CompositionEvent"in window,pp=null;qa&&"documentMode"in document&&(pp=document.documentMode);var iue=qa&&"TextEvent"in window&&!pp,B6=qa&&(!zA||pp&&8<pp&&11>=pp),Mk=" ",Uk=!1;function D6(t,e){switch(t){case"keyup":return rue.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Od=!1;function sue(t,e){switch(t){case"compositionend":return P6(e);case"keypress":return e.which!==32?null:(Uk=!0,Mk);case"textInput":return t=e.data,t===Mk&&Uk?null:t;default:return null}}function oue(t,e){if(Od)return t==="compositionend"||!zA&&D6(t,e)?(t=O6(),gy=UA=Ic=null,Od=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return B6&&e.locale!=="ko"?null:e.data;default:return null}}var aue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aue[t.type]:e==="textarea"}function $6(t,e,n,r){Nd?Yd?Yd.push(r):Yd=[r]:Nd=r,e=kb(e,"onChange"),0<e.length&&(n=new Dw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gp=null,Rg=null;function cue(t){_5(t,0)}function $w(t){var e=Gf(t);if(C6(e))return t}function zk(t,e){if(t==="change")return e}var M6=!1;if(qa){var iE;if(qa){var sE="oninput"in document;if(!sE){var Fk=document.createElement("div");Fk.setAttribute("oninput","return;"),sE=typeof Fk.oninput=="function"}iE=sE}else iE=!1;M6=iE&&(!document.documentMode||9<document.documentMode)}function jk(){gp&&(gp.detachEvent("onpropertychange",U6),Rg=gp=null)}function U6(t){if(t.propertyName==="value"&&$w(Rg)){var e=[];$6(e,Rg,t,MA(t)),N6(cue,e)}}function lue(t,e,n){t==="focusin"?(jk(),gp=e,Rg=n,gp.attachEvent("onpropertychange",U6)):t==="focusout"&&jk()}function uue(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $w(Rg)}function due(t,e){if(t==="click")return $w(e)}function hue(t,e){if(t==="input"||t==="change")return $w(e)}function fue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bs=typeof Object.is=="function"?Object.is:fue;function kg(t,e){if(bs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!px.call(e,i)||!bs(t[i],e[i]))return!1}return!0}function Hk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qk(t,e){var n=Hk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hk(n)}}function L6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=pb(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pb(t.document)}return e}function FA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pue(t,e){var n=z6(e);e=t.focusedElem;var r=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&L6(e.ownerDocument.documentElement,e)){if(r!==null&&FA(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=qk(e,s);var o=qk(e,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var gue=qa&&"documentMode"in document&&11>=document.documentMode,Bd=null,vx=null,mp=null,Ex=!1;function Vk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ex||Bd==null||Bd!==pb(r)||(r=Bd,"selectionStart"in r&&FA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mp&&kg(mp,r)||(mp=r,r=kb(vx,"onSelect"),0<r.length&&(e=new Dw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bd)))}function pl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dd={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionrun:pl("Transition","TransitionRun"),transitionstart:pl("Transition","TransitionStart"),transitioncancel:pl("Transition","TransitionCancel"),transitionend:pl("Transition","TransitionEnd")},oE={},F6={};qa&&(F6=document.createElement("div").style,"AnimationEvent"in window||(delete Dd.animationend.animation,delete Dd.animationiteration.animation,delete Dd.animationstart.animation),"TransitionEvent"in window||delete Dd.transitionend.transition);function Nu(t){if(oE[t])return oE[t];if(!Dd[t])return t;var e=Dd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F6)return oE[t]=e[n];return t}var j6=Nu("animationend"),H6=Nu("animationiteration"),q6=Nu("animationstart"),mue=Nu("transitionrun"),yue=Nu("transitionstart"),bue=Nu("transitioncancel"),V6=Nu("transitionend"),W6=new Map,Wk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function So(t,e){W6.set(t,e),Ru(e,[t])}var $s=[],Pd=0,jA=0;function Mw(){for(var t=Pd,e=jA=Pd=0;e<t;){var n=$s[e];$s[e++]=null;var r=$s[e];$s[e++]=null;var i=$s[e];$s[e++]=null;var s=$s[e];if($s[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}s!==0&&K6(n,i,s)}}function Uw(t,e,n,r){$s[Pd++]=t,$s[Pd++]=e,$s[Pd++]=n,$s[Pd++]=r,jA|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function HA(t,e,n,r){return Uw(t,e,n,r),gb(t)}function Zc(t,e){return Uw(t,null,null,e),gb(t)}function K6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;i&&e!==null&&t.tag===3&&(s=t.stateNode,i=31-ps(n),s=s.hiddenUpdates,t=s[i],t===null?s[i]=[e]:t.push(e),e.lane=n|536870912)}function gb(t){if(50<Ip)throw Ip=0,Hx=null,Error(de(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var $d={},Kk=new WeakMap;function js(t,e){if(typeof t=="object"&&t!==null){var n=Kk.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ck(e)},Kk.set(t,e),e)}return{value:t,source:e,stack:Ck(e)}}var Md=[],Ud=0,mb=null,yb=0,Ls=[],zs=0,Kl=null,Oa=1,Ba="";function wl(t,e){Md[Ud++]=yb,Md[Ud++]=mb,mb=t,yb=e}function G6(t,e,n){Ls[zs++]=Oa,Ls[zs++]=Ba,Ls[zs++]=Kl,Kl=t;var r=Oa;t=Ba;var i=32-ps(r)-1;r&=~(1<<i),n+=1;var s=32-ps(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Oa=1<<32-ps(e)+i|n<<i|r,Ba=s+t}else Oa=1<<s|n<<i|r,Ba=t}function qA(t){t.return!==null&&(wl(t,1),G6(t,1,0))}function VA(t){for(;t===mb;)mb=Md[--Ud],Md[Ud]=null,yb=Md[--Ud],Md[Ud]=null;for(;t===Kl;)Kl=Ls[--zs],Ls[zs]=null,Ba=Ls[--zs],Ls[zs]=null,Oa=Ls[--zs],Ls[zs]=null}var _i=null,Zr=null,Pt=!1,lo=null,Uo=!1,_x=Error(de(519));function cu(t){var e=Error(de(418,""));throw Ng(js(e,t)),_x}function Gk(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[pi]=t,e[Wi]=r,n){case"dialog":Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":case"embed":Ct("load",e);break;case"video":case"audio":for(n=0;n<Dg.length;n++)Ct(Dg[n],e);break;case"source":Ct("error",e);break;case"img":case"image":case"link":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"input":Ct("invalid",e),T6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),fb(e);break;case"select":Ct("invalid",e);break;case"textarea":Ct("invalid",e),R6(e,r.value,r.defaultValue,r.children),fb(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||S5(e.textContent,n)?(r.popover!=null&&(Ct("beforetoggle",e),Ct("toggle",e)),r.onScroll!=null&&Ct("scroll",e),r.onScrollEnd!=null&&Ct("scrollend",e),r.onClick!=null&&(e.onclick=Vw),e=!0):e=!1,e||cu(t)}function Yk(t){for(_i=t.return;_i;)switch(_i.tag){case 3:case 27:Uo=!0;return;case 5:case 13:Uo=!1;return;default:_i=_i.return}}function kf(t){if(t!==_i)return!1;if(!Pt)return Yk(t),Pt=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Zx(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&Zr&&cu(t),Yk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Zr=wo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Zr=null}}else Zr=_i?wo(t.stateNode.nextSibling):null;return!0}function Tm(){Zr=_i=null,Pt=!1}function Ng(t){lo===null?lo=[t]:lo.push(t)}var yp=Error(de(460)),Y6=Error(de(474)),xx={then:function(){}};function Zk(t){return t=t.status,t==="fulfilled"||t==="rejected"}function P0(){}function Z6(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(P0,P0),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===yp?Error(de(483)):t;default:if(typeof e.status=="string")e.then(P0,P0);else{if(t=un,t!==null&&100<t.shellSuspendCounter)throw Error(de(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===yp?Error(de(483)):t}throw bp=e,yp}}var bp=null;function Xk(){if(bp===null)throw Error(de(459));var t=bp;return bp=null,t}var Zd=null,Og=0;function $0(t){var e=Og;return Og+=1,Zd===null&&(Zd=[]),Z6(Zd,t,e)}function Nf(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function M0(t,e){throw e.$$typeof===sle?Error(de(525)):(t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Qk(t){var e=t._init;return e(t._payload)}function X6(t){function e(S,T){if(t){var I=S.deletions;I===null?(S.deletions=[T],S.flags|=16):I.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S){for(var T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function i(S,T){return S=Uc(S,T),S.index=0,S.sibling=null,S}function s(S,T,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<T?(S.flags|=33554434,T):I):(S.flags|=33554434,T)):(S.flags|=1048576,T)}function o(S){return t&&S.alternate===null&&(S.flags|=33554434),S}function a(S,T,I,P){return T===null||T.tag!==6?(T=bE(I,S.mode,P),T.return=S,T):(T=i(T,I),T.return=S,T)}function c(S,T,I,P){var z=I.type;return z===Rd?h(S,T,I.props.children,P,I.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===pc&&Qk(z)===T.type)?(T=i(T,I.props),Nf(T,I),T.return=S,T):(T=Ey(I.type,I.key,I.props,null,S.mode,P),Nf(T,I),T.return=S,T)}function u(S,T,I,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=wE(I,S.mode,P),T.return=S,T):(T=i(T,I.children||[]),T.return=S,T)}function h(S,T,I,P,z){return T===null||T.tag!==7?(T=Yl(I,S.mode,P,z),T.return=S,T):(T=i(T,I),T.return=S,T)}function f(S,T,I){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=bE(""+T,S.mode,I),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case k0:return I=Ey(T.type,T.key,T.props,null,S.mode,I),Nf(I,T),I.return=S,I;case Vf:return T=wE(T,S.mode,I),T.return=S,T;case pc:var P=T._init;return T=P(T._payload),f(S,T,I)}if(Kf(T)||Tf(T))return T=Yl(T,S.mode,I,null),T.return=S,T;if(typeof T.then=="function")return f(S,$0(T),I);if(T.$$typeof===Na)return f(S,U0(S,T),I);M0(S,T)}return null}function g(S,T,I,P){var z=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z!==null?null:a(S,T,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case k0:return I.key===z?c(S,T,I,P):null;case Vf:return I.key===z?u(S,T,I,P):null;case pc:return z=I._init,I=z(I._payload),g(S,T,I,P)}if(Kf(I)||Tf(I))return z!==null?null:h(S,T,I,P,null);if(typeof I.then=="function")return g(S,T,$0(I),P);if(I.$$typeof===Na)return g(S,T,U0(S,I),P);M0(S,I)}return null}function m(S,T,I,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return S=S.get(I)||null,a(T,S,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case k0:return S=S.get(P.key===null?I:P.key)||null,c(T,S,P,z);case Vf:return S=S.get(P.key===null?I:P.key)||null,u(T,S,P,z);case pc:var W=P._init;return P=W(P._payload),m(S,T,I,P,z)}if(Kf(P)||Tf(P))return S=S.get(I)||null,h(T,S,P,z,null);if(typeof P.then=="function")return m(S,T,I,$0(P),z);if(P.$$typeof===Na)return m(S,T,I,U0(T,P),z);M0(T,P)}return null}function _(S,T,I,P){for(var z=null,W=null,L=T,V=T=0,q=null;L!==null&&V<I.length;V++){L.index>V?(q=L,L=null):q=L.sibling;var X=g(S,L,I[V],P);if(X===null){L===null&&(L=q);break}t&&L&&X.alternate===null&&e(S,L),T=s(X,T,V),W===null?z=X:W.sibling=X,W=X,L=q}if(V===I.length)return n(S,L),Pt&&wl(S,V),z;if(L===null){for(;V<I.length;V++)L=f(S,I[V],P),L!==null&&(T=s(L,T,V),W===null?z=L:W.sibling=L,W=L);return Pt&&wl(S,V),z}for(L=r(L);V<I.length;V++)q=m(L,S,V,I[V],P),q!==null&&(t&&q.alternate!==null&&L.delete(q.key===null?V:q.key),T=s(q,T,V),W===null?z=q:W.sibling=q,W=q);return t&&L.forEach(function(Y){return e(S,Y)}),Pt&&wl(S,V),z}function x(S,T,I,P){if(I==null)throw Error(de(151));for(var z=null,W=null,L=T,V=T=0,q=null,X=I.next();L!==null&&!X.done;V++,X=I.next()){L.index>V?(q=L,L=null):q=L.sibling;var Y=g(S,L,X.value,P);if(Y===null){L===null&&(L=q);break}t&&L&&Y.alternate===null&&e(S,L),T=s(Y,T,V),W===null?z=Y:W.sibling=Y,W=Y,L=q}if(X.done)return n(S,L),Pt&&wl(S,V),z;if(L===null){for(;!X.done;V++,X=I.next())X=f(S,X.value,P),X!==null&&(T=s(X,T,V),W===null?z=X:W.sibling=X,W=X);return Pt&&wl(S,V),z}for(L=r(L);!X.done;V++,X=I.next())X=m(L,S,V,X.value,P),X!==null&&(t&&X.alternate!==null&&L.delete(X.key===null?V:X.key),T=s(X,T,V),W===null?z=X:W.sibling=X,W=X);return t&&L.forEach(function(ee){return e(S,ee)}),Pt&&wl(S,V),z}function C(S,T,I,P){if(typeof I=="object"&&I!==null&&I.type===Rd&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case k0:e:{for(var z=I.key;T!==null;){if(T.key===z){if(z=I.type,z===Rd){if(T.tag===7){n(S,T.sibling),P=i(T,I.props.children),P.return=S,S=P;break e}}else if(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===pc&&Qk(z)===T.type){n(S,T.sibling),P=i(T,I.props),Nf(P,I),P.return=S,S=P;break e}n(S,T);break}else e(S,T);T=T.sibling}I.type===Rd?(P=Yl(I.props.children,S.mode,P,I.key),P.return=S,S=P):(P=Ey(I.type,I.key,I.props,null,S.mode,P),Nf(P,I),P.return=S,S=P)}return o(S);case Vf:e:{for(z=I.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(S,T.sibling),P=i(T,I.children||[]),P.return=S,S=P;break e}else{n(S,T);break}else e(S,T);T=T.sibling}P=wE(I,S.mode,P),P.return=S,S=P}return o(S);case pc:return z=I._init,I=z(I._payload),C(S,T,I,P)}if(Kf(I))return _(S,T,I,P);if(Tf(I)){if(z=Tf(I),typeof z!="function")throw Error(de(150));return I=z.call(I),x(S,T,I,P)}if(typeof I.then=="function")return C(S,T,$0(I),P);if(I.$$typeof===Na)return C(S,T,U0(S,I),P);M0(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,T!==null&&T.tag===6?(n(S,T.sibling),P=i(T,I),P.return=S,S=P):(n(S,T),P=bE(I,S.mode,P),P.return=S,S=P),o(S)):n(S,T)}return function(S,T,I,P){try{Og=0;var z=C(S,T,I,P);return Zd=null,z}catch(L){if(L===yp)throw L;var W=qs(29,L,null,S.mode);return W.lanes=P,W.return=S,W}finally{}}}var lu=X6(!0),Q6=X6(!1),Ih=ta(null),bb=ta(0);function Jk(t,e){t=Ka,Sn(bb,t),Sn(Ih,e),Ka=t|e.baseLanes}function Sx(){Sn(bb,Ka),Sn(Ih,Ih.current)}function WA(){Ka=bb.current,$r(Ih),$r(bb)}var Ks=ta(null),Wo=null;function wc(t){var e=t.alternate;Sn(vr,vr.current&1),Sn(Ks,t),Wo===null&&(e===null||Ih.current!==null||e.memoizedState!==null)&&(Wo=t)}function J6(t){if(t.tag===22){if(Sn(vr,vr.current),Sn(Ks,t),Wo===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Wo=t)}}else vc()}function vc(){Sn(vr,vr.current),Sn(Ks,Ks.current)}function Da(t){$r(Ks),Wo===t&&(Wo=null),$r(vr)}var vr=ta(0);function wb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wue=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},vue=Er.unstable_scheduleCallback,Eue=Er.unstable_NormalPriority,wr={$$typeof:Na,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function KA(){return{controller:new wue,data:new Map,refCount:0}}function Im(t){t.refCount--,t.refCount===0&&vue(Eue,function(){t.controller.abort()})}var wp=null,Ax=0,Rh=0,Xd=null;function _ue(t,e){if(wp===null){var n=wp=[];Ax=0,Rh=mC(),Xd={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Ax++,e.then(eN,eN),e}function eN(){if(--Ax===0&&wp!==null){Xd!==null&&(Xd.status="fulfilled");var t=wp;wp=null,Rh=0,Xd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function xue(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var tN=gt.S;gt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&_ue(t,e),tN!==null&&tN(t,e)};var Gl=ta(null);function GA(){var t=Gl.current;return t!==null?t:un.pooledCache}function yy(t,e){e===null?Sn(Gl,Gl.current):Sn(Gl,e.pool)}function e4(){var t=GA();return t===null?null:{parent:wr._currentValue,pool:t}}var Xc=0,Et=null,Xt=null,ur=null,vb=!1,Qd=!1,uu=!1,Eb=0,Bg=0,Jd=null,Sue=0;function er(){throw Error(de(321))}function YA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bs(t[n],e[n]))return!1;return!0}function ZA(t,e,n,r,i,s){return Xc=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gt.H=t===null||t.memoizedState===null?Ou:ol,uu=!1,s=n(r,i),uu=!1,Qd&&(s=n4(e,n,r,i)),t4(t),s}function t4(t){gt.H=Xo;var e=Xt!==null&&Xt.next!==null;if(Xc=0,ur=Xt=Et=null,vb=!1,Bg=0,Jd=null,e)throw Error(de(300));t===null||Pr||(t=t.dependencies,t!==null&&Sb(t)&&(Pr=!0))}function n4(t,e,n,r){Et=t;var i=0;do{if(Qd&&(Jd=null),Bg=0,Qd=!1,25<=i)throw Error(de(301));if(i+=1,ur=Xt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}gt.H=Bu,s=e(n,r)}while(Qd);return s}function Aue(){var t=gt.H,e=t.useState()[0];return e=typeof e.then=="function"?Rm(e):e,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Et.flags|=1024),e}function XA(){var t=Eb!==0;return Eb=0,t}function QA(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function JA(t){if(vb){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}vb=!1}Xc=0,ur=Xt=Et=null,Qd=!1,Bg=Eb=0,Jd=null}function Li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Et.memoizedState=ur=t:ur=ur.next=t,ur}function hr(){if(Xt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=ur===null?Et.memoizedState:ur.next;if(e!==null)ur=e,Xt=t;else{if(t===null)throw Et.alternate===null?Error(de(467)):Error(de(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ur===null?Et.memoizedState=ur=t:ur=ur.next=t}return ur}var Lw;Lw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Rm(t){var e=Bg;return Bg+=1,Jd===null&&(Jd=[]),t=Z6(Jd,t,e),e=Et,(ur===null?e.memoizedState:ur.next)===null&&(e=e.alternate,gt.H=e===null||e.memoizedState===null?Ou:ol),t}function zw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rm(t);if(t.$$typeof===Na)return gi(t)}throw Error(de(438,String(t)))}function eC(t){var e=null,n=Et.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Et.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Lw(),Et.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=ale;return e.index++,n}function Va(t,e){return typeof e=="function"?e(t):e}function by(t){var e=hr();return tC(e,Xt,t)}function tC(t,e,n){var r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var a=o=null,c=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Rt&f)===f:(Xc&f)===f){var g=u.revertLane;if(g===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Rh&&(h=!0);else if((Xc&g)===g){u=u.next,g===Rh&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=f,o=s):c=c.next=f,Et.lanes|=g,Jc|=g;f=u.action,uu&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else g={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=g,o=s):c=c.next=g,Et.lanes|=f,Jc|=f;u=u.next}while(u!==null&&u!==e);if(c===null?o=s:c.next=a,!bs(s,t.memoizedState)&&(Pr=!0,h&&(n=Xd,n!==null)))throw n;t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function aE(t){var e=hr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bs(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function r4(t,e,n){var r=Et,i=hr(),s=Pt;if(s){if(n===void 0)throw Error(de(407));n=n()}else n=e();var o=!bs((Xt||i).memoizedState,n);if(o&&(i.memoizedState=n,Pr=!0),i=i.queue,nC(o4.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,kh(9,s4.bind(null,r,i,n,e),{destroy:void 0},null),un===null)throw Error(de(349));s||Xc&60||i4(r,e,n)}return n}function i4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e=Lw(),Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s4(t,e,n,r){e.value=n,e.getSnapshot=r,a4(e)&&c4(t)}function o4(t,e,n){return n(function(){a4(e)&&c4(t)})}function a4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bs(t,n)}catch{return!0}}function c4(t){var e=Zc(t,2);e!==null&&Ci(e,t,2)}function Cx(t){var e=Li();if(typeof t=="function"){var n=t;if(t=n(),uu){Tc(!0);try{n()}finally{Tc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:t},e}function l4(t,e,n,r){return t.baseState=n,tC(t,Xt,typeof r=="function"?r:Va)}function Cue(t,e,n,r,i){if(jw(t))throw Error(de(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};gt.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,u4(e,s)):(s.next=n.next,e.pending=n.next=s)}}function u4(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=gt.T,o={};gt.T=o;try{var a=n(i,r),c=gt.S;c!==null&&c(o,a),nN(t,e,a)}catch(u){Tx(t,e,u)}finally{gt.T=s}}else try{s=n(i,r),nN(t,e,s)}catch(u){Tx(t,e,u)}}function nN(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){rN(t,e,r)},function(r){return Tx(t,e,r)}):rN(t,e,n)}function rN(t,e,n){e.status="fulfilled",e.value=n,d4(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,u4(t,n)))}function Tx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,d4(e),e=e.next;while(e!==r)}t.action=null}function d4(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function h4(t,e){return e}function f4(t,e){if(Pt){var n=un.formState;if(n!==null){e:{var r=Et;if(Pt){if(Zr){t:{for(var i=Zr,s=Uo;i.nodeType!==8;){if(!s){i=null;break t}if(i=wo(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Zr=wo(i.nextSibling),r=i.data==="F!";break e}}cu(r)}r=!1}r&&(e=n[0])}}return n=Li(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h4,lastRenderedState:e},n.queue=r,n=k4.bind(null,Et,r),r.dispatch=n,r=Cx(!1),s=oC.bind(null,Et,!1,r.queue),r=Li(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=Cue.bind(null,Et,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function p4(t){var e=hr();return g4(e,Xt,t)}function g4(t,e,n){e=tC(t,e,h4)[0],t=by(Va)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Rm(e):e;var r=hr(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Et.flags|=2048,kh(9,Tue.bind(null,i,n),{destroy:void 0},null)),[e,s,t]}function Tue(t,e){t.action=e}function m4(t){var e=hr(),n=Xt;if(n!==null)return g4(e,n,t);hr(),e=e.memoizedState,n=hr();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function kh(t,e,n,r){return t={tag:t,create:e,inst:n,deps:r,next:null},e=Et.updateQueue,e===null&&(e=Lw(),Et.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function y4(){return hr().memoizedState}function wy(t,e,n,r){var i=Li();Et.flags|=t,i.memoizedState=kh(1|e,n,{destroy:void 0},r===void 0?null:r)}function Fw(t,e,n,r){var i=hr();r=r===void 0?null:r;var s=i.memoizedState.inst;Xt!==null&&r!==null&&YA(r,Xt.memoizedState.deps)?i.memoizedState=kh(e,n,s,r):(Et.flags|=t,i.memoizedState=kh(1|e,n,s,r))}function iN(t,e){wy(8390656,8,t,e)}function nC(t,e){Fw(2048,8,t,e)}function b4(t,e){return Fw(4,2,t,e)}function w4(t,e){return Fw(4,4,t,e)}function v4(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E4(t,e,n){n=n!=null?n.concat([t]):null,Fw(4,4,v4.bind(null,e,t),n)}function rC(){}function _4(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&YA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function x4(t,e){var n=hr();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&YA(e,r[1]))return r[0];if(r=t(),uu){Tc(!0);try{t()}finally{Tc(!1)}}return n.memoizedState=[r,e],r}function iC(t,e,n){return n===void 0||Xc&1073741824?t.memoizedState=e:(t.memoizedState=n,t=d5(),Et.lanes|=t,Jc|=t,n)}function S4(t,e,n,r){return bs(n,e)?n:Ih.current!==null?(t=iC(t,n,r),bs(t,e)||(Pr=!0),t):Xc&42?(t=d5(),Et.lanes|=t,Jc|=t,e):(Pr=!0,t.memoizedState=n)}function A4(t,e,n,r,i){var s=wn.p;wn.p=s!==0&&8>s?s:8;var o=gt.T,a={};gt.T=a,oC(t,!1,e,n);try{var c=i(),u=gt.S;if(u!==null&&u(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=xue(c,r);vp(t,e,h,gs(t))}else vp(t,e,r,gs(t))}catch(f){vp(t,e,{then:function(){},status:"rejected",reason:f},gs())}finally{wn.p=s,gt.T=o}}function Iue(){}function Ix(t,e,n,r){if(t.tag!==5)throw Error(de(476));var i=C4(t).queue;A4(t,i,e,Wl,n===null?Iue:function(){return T4(t),n(r)})}function C4(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Wl,baseState:Wl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:Wl},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function T4(t){var e=C4(t).next.queue;vp(t,e,{},gs())}function sC(){return gi(Mg)}function I4(){return hr().memoizedState}function R4(){return hr().memoizedState}function Rue(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=gs();t=$c(n);var r=Mc(e,t,n);r!==null&&(Ci(r,e,n),_p(r,e,n)),e={cache:KA()},t.payload=e;return}e=e.return}}function kue(t,e,n){var r=gs();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},jw(t)?N4(e,n):(n=HA(t,e,n,r),n!==null&&(Ci(n,t,r),O4(n,e,r)))}function k4(t,e,n){var r=gs();vp(t,e,n,r)}function vp(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(jw(t))N4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bs(a,o))return Uw(t,e,i,0),un===null&&Mw(),!1}catch{}finally{}if(n=HA(t,e,i,r),n!==null)return Ci(n,t,r),O4(n,e,r),!0}return!1}function oC(t,e,n,r){if(r={lane:2,revertLane:mC(),action:r,hasEagerState:!1,eagerState:null,next:null},jw(t)){if(e)throw Error(de(479))}else e=HA(t,n,r,2),e!==null&&Ci(e,t,2)}function jw(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function N4(t,e){Qd=vb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O4(t,e,n){if(n&4194176){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v6(t,n)}}var Xo={readContext:gi,use:zw,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useLayoutEffect:er,useInsertionEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useSyncExternalStore:er,useId:er};Xo.useCacheRefresh=er;Xo.useMemoCache=er;Xo.useHostTransitionStatus=er;Xo.useFormState=er;Xo.useActionState=er;Xo.useOptimistic=er;var Ou={readContext:gi,use:zw,useCallback:function(t,e){return Li().memoizedState=[t,e===void 0?null:e],t},useContext:gi,useEffect:iN,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,wy(4194308,4,v4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wy(4194308,4,t,e)},useInsertionEffect:function(t,e){wy(4,2,t,e)},useMemo:function(t,e){var n=Li();e=e===void 0?null:e;var r=t();if(uu){Tc(!0);try{t()}finally{Tc(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Li();if(n!==void 0){var i=n(e);if(uu){Tc(!0);try{n(e)}finally{Tc(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=kue.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Li();return t={current:t},e.memoizedState=t},useState:function(t){t=Cx(t);var e=t.queue,n=k4.bind(null,Et,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:rC,useDeferredValue:function(t,e){var n=Li();return iC(n,t,e)},useTransition:function(){var t=Cx(!1);return t=A4.bind(null,Et,t.queue,!0,!1),Li().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Et,i=Li();if(Pt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),un===null)throw Error(de(349));Rt&60||i4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iN(o4.bind(null,r,s,t),[t]),r.flags|=2048,kh(9,s4.bind(null,r,s,n,e),{destroy:void 0},null),n},useId:function(){var t=Li(),e=un.identifierPrefix;if(Pt){var n=Ba,r=Oa;n=(r&~(1<<32-ps(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Eb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Sue++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Li().memoizedState=Rue.bind(null,Et)}};Ou.useMemoCache=eC;Ou.useHostTransitionStatus=sC;Ou.useFormState=f4;Ou.useActionState=f4;Ou.useOptimistic=function(t){var e=Li();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=oC.bind(null,Et,!0,n),n.dispatch=e,[t,e]};var ol={readContext:gi,use:zw,useCallback:_4,useContext:gi,useEffect:nC,useImperativeHandle:E4,useInsertionEffect:b4,useLayoutEffect:w4,useMemo:x4,useReducer:by,useRef:y4,useState:function(){return by(Va)},useDebugValue:rC,useDeferredValue:function(t,e){var n=hr();return S4(n,Xt.memoizedState,t,e)},useTransition:function(){var t=by(Va)[0],e=hr().memoizedState;return[typeof t=="boolean"?t:Rm(t),e]},useSyncExternalStore:r4,useId:I4};ol.useCacheRefresh=R4;ol.useMemoCache=eC;ol.useHostTransitionStatus=sC;ol.useFormState=p4;ol.useActionState=p4;ol.useOptimistic=function(t,e){var n=hr();return l4(n,Xt,t,e)};var Bu={readContext:gi,use:zw,useCallback:_4,useContext:gi,useEffect:nC,useImperativeHandle:E4,useInsertionEffect:b4,useLayoutEffect:w4,useMemo:x4,useReducer:aE,useRef:y4,useState:function(){return aE(Va)},useDebugValue:rC,useDeferredValue:function(t,e){var n=hr();return Xt===null?iC(n,t,e):S4(n,Xt.memoizedState,t,e)},useTransition:function(){var t=aE(Va)[0],e=hr().memoizedState;return[typeof t=="boolean"?t:Rm(t),e]},useSyncExternalStore:r4,useId:I4};Bu.useCacheRefresh=R4;Bu.useMemoCache=eC;Bu.useHostTransitionStatus=sC;Bu.useFormState=m4;Bu.useActionState=m4;Bu.useOptimistic=function(t,e){var n=hr();return Xt!==null?l4(n,Xt,t,e):(n.baseState=t,[t,n.queue.dispatch])};function cE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rx={isMounted:function(t){return(t=t._reactInternals)?Xh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gs(),i=$c(r);i.payload=e,n!=null&&(i.callback=n),e=Mc(t,i,r),e!==null&&(Ci(e,t,r),_p(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gs(),i=$c(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mc(t,i,r),e!==null&&(Ci(e,t,r),_p(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gs(),r=$c(n);r.tag=2,e!=null&&(r.callback=e),e=Mc(t,r,n),e!==null&&(Ci(e,t,n),_p(e,t,n))}};function sN(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kg(n,r)||!kg(i,s):!0}function oN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rx.enqueueReplaceState(e,e.state,null)}function du(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=En({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var _b=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function B4(t){_b(t)}function D4(t){console.error(t)}function P4(t){_b(t)}function xb(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function aN(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function kx(t,e,n){return n=$c(n),n.tag=3,n.payload={element:null},n.callback=function(){xb(t,e)},n}function $4(t){return t=$c(t),t.tag=3,t}function M4(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){aN(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){aN(e,n,r),typeof i!="function"&&(Lc===null?Lc=new Set([this]):Lc.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function Nue(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&km(e,n,i,!0),n=Ks.current,n!==null){switch(n.tag){case 13:return Wo===null?Vx():n.alternate===null&&Jn===0&&(Jn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===xx?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),EE(t,r,i)),!1;case 22:return n.flags|=65536,r===xx?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),EE(t,r,i)),!1}throw Error(de(435,n.tag))}return EE(t,r,i),Vx(),!1}if(Pt)return e=Ks.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==_x&&(t=Error(de(422),{cause:r}),Ng(js(t,n)))):(r!==_x&&(e=Error(de(423),{cause:r}),Ng(js(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=js(r,n),i=kx(t.stateNode,r,i),pE(t,i),Jn!==4&&(Jn=2)),!1;var s=Error(de(520),{cause:r});if(s=js(s,n),Cp===null?Cp=[s]:Cp.push(s),Jn!==4&&(Jn=2),e===null)return!0;r=js(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=kx(n.stateNode,r,t),pE(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Lc===null||!Lc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=$4(i),M4(i,t,n,r),pE(n,i),!1}n=n.return}while(n!==null);return!1}var U4=Error(de(461)),Pr=!1;function Wr(t,e,n,r){e.child=t===null?Q6(e,null,n,r):lu(e,t.child,n,r)}function cN(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var o={};for(var a in r)a!=="ref"&&(o[a]=r[a])}else o=r;return hu(e),r=ZA(t,e,n,o,s,i),a=XA(),t!==null&&!Pr?(QA(t,e,i),Wa(t,e,i)):(Pt&&a&&qA(e),e.flags|=1,Wr(t,e,r,i),e.child)}function lN(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!dC(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,L4(t,e,s,r,i)):(t=Ey(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!aC(t,i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kg,n(o,r)&&t.ref===e.ref)return Wa(t,e,i)}return e.flags|=1,t=Uc(s,r),t.ref=e.ref,t.return=e,e.child=t}function L4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(kg(s,r)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=r=s,aC(t,i))t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Wa(t,e,i)}return Nx(t,e,n,r,i)}function z4(t,e,n){var r=e.pendingProps,i=r.children,s=(e.stateNode._pendingVisibility&2)!==0,o=t!==null?t.memoizedState:null;if(Ep(t,e),r.mode==="hidden"||s){if(e.flags&128){if(r=o!==null?o.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return uN(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&yy(e,o!==null?o.cachePool:null),o!==null?Jk(e,o):Sx(),J6(e);else return e.lanes=e.childLanes=536870912,uN(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(yy(e,o.cachePool),Jk(e,o),vc(),e.memoizedState=null):(t!==null&&yy(e,null),Sx(),vc());return Wr(t,e,i,n),e.child}function uN(t,e,n,r){var i=GA();return i=i===null?null:{parent:wr._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&yy(e,null),Sx(),J6(e),t!==null&&km(t,e,r,!0),null}function Ep(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(de(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function Nx(t,e,n,r,i){return hu(e),n=ZA(t,e,n,r,void 0,i),r=XA(),t!==null&&!Pr?(QA(t,e,i),Wa(t,e,i)):(Pt&&r&&qA(e),e.flags|=1,Wr(t,e,n,i),e.child)}function dN(t,e,n,r,i,s){return hu(e),e.updateQueue=null,n=n4(e,r,n,i),t4(t),r=XA(),t!==null&&!Pr?(QA(t,e,s),Wa(t,e,s)):(Pt&&r&&qA(e),e.flags|=1,Wr(t,e,n,s),e.child)}function hN(t,e,n,r,i){if(hu(e),e.stateNode===null){var s=$d,o=n.contextType;typeof o=="object"&&o!==null&&(s=gi(o)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Rx,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},cC(e),o=n.contextType,s.context=typeof o=="object"&&o!==null?gi(o):$d,s.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(cE(e,n,o,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Rx.enqueueReplaceState(s,s.state,null),Sp(e,r,s,i),xp(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var a=e.memoizedProps,c=du(n,a);s.props=c;var u=s.context,h=n.contextType;o=$d,typeof h=="object"&&h!==null&&(o=gi(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||u!==o)&&oN(e,s,r,o),gc=!1;var g=e.memoizedState;s.state=g,Sp(e,r,s,i),xp(),u=e.memoizedState,a||g!==u||gc?(typeof f=="function"&&(cE(e,n,f,r),u=e.memoizedState),(c=gc||sN(e,n,c,r,g,u,o))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=o,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Mx(t,e),o=e.memoizedProps,h=du(n,o),s.props=h,f=e.pendingProps,g=s.context,u=n.contextType,c=$d,typeof u=="object"&&u!==null&&(c=gi(u)),a=n.getDerivedStateFromProps,(u=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||g!==c)&&oN(e,s,r,c),gc=!1,g=e.memoizedState,s.state=g,Sp(e,r,s,i),xp();var m=e.memoizedState;o!==f||g!==m||gc||t!==null&&t.dependencies!==null&&Sb(t.dependencies)?(typeof a=="function"&&(cE(e,n,a,r),m=e.memoizedState),(h=gc||sN(e,n,h,r,g,m,c)||t!==null&&t.dependencies!==null&&Sb(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=c,r=h):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Ep(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=lu(e,t.child,null,i),e.child=lu(e,null,n,i)):Wr(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Wa(t,e,i),t}function fN(t,e,n,r){return Tm(),e.flags|=256,Wr(t,e,n,r),e.child}var lE={dehydrated:null,treeContext:null,retryLane:0};function uE(t){return{baseLanes:t,cachePool:e4()}}function dE(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Vs),t}function F4(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(vr.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pt){if(i?wc(e):vc(),Pt){var a=Zr,c;if(c=a){e:{for(c=a,a=Uo;c.nodeType!==8;){if(!a){a=null;break e}if(c=wo(c.nextSibling),c===null){a=null;break e}}a=c}a!==null?(e.memoizedState={dehydrated:a,treeContext:Kl!==null?{id:Oa,overflow:Ba}:null,retryLane:536870912},c=qs(18,null,null,0),c.stateNode=a,c.return=e,e.child=c,_i=e,Zr=null,c=!0):c=!1}c||cu(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return a.data==="$!"?e.lanes=16:e.lanes=536870912,null;Da(e)}return a=r.children,r=r.fallback,i?(vc(),i=e.mode,a=Bx({mode:"hidden",children:a},i),r=Yl(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,i=e.child,i.memoizedState=uE(n),i.childLanes=dE(t,o,n),e.memoizedState=lE,r):(wc(e),Ox(e,a))}if(c=t.memoizedState,c!==null&&(a=c.dehydrated,a!==null)){if(s)e.flags&256?(wc(e),e.flags&=-257,e=hE(t,e,n)):e.memoizedState!==null?(vc(),e.child=t.child,e.flags|=128,e=null):(vc(),i=r.fallback,a=e.mode,r=Bx({mode:"visible",children:r.children},a),i=Yl(i,a,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,lu(e,t.child,null,n),r=e.child,r.memoizedState=uE(n),r.childLanes=dE(t,o,n),e.memoizedState=lE,e=i);else if(wc(e),a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(de(419)),r.stack="",r.digest=o,Ng({value:r,source:null,stack:null}),e=hE(t,e,n)}else if(Pr||km(t,e,n,!1),o=(n&t.childLanes)!==0,Pr||o){if(o=un,o!==null){if(r=n&-n,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane)throw c.retryLane=r,Zc(t,r),Ci(o,t,r),U4}a.data==="$?"||Vx(),e=hE(t,e,n)}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=Wue.bind(null,t),a._reactRetry=e,e=null):(t=c.treeContext,Zr=wo(a.nextSibling),_i=e,Pt=!0,lo=null,Uo=!1,t!==null&&(Ls[zs++]=Oa,Ls[zs++]=Ba,Ls[zs++]=Kl,Oa=t.id,Ba=t.overflow,Kl=e),e=Ox(e,r.children),e.flags|=4096);return e}return i?(vc(),i=r.fallback,a=e.mode,c=t.child,u=c.sibling,r=Uc(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&31457280,u!==null?i=Uc(u,i):(i=Yl(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a===null?a=uE(n):(c=a.cachePool,c!==null?(u=wr._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=e4(),a={baseLanes:a.baseLanes|n,cachePool:c}),i.memoizedState=a,i.childLanes=dE(t,o,n),e.memoizedState=lE,r):(wc(e),n=t.child,t=n.sibling,n=Uc(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Ox(t,e){return e=Bx({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Bx(t,e){return l5(t,e,0,null)}function hE(t,e,n){return lu(e,t.child,null,n),t=Ox(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Px(t.return,e,n)}function fE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function j4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wr(t,e,r.children,n),r=vr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pN(t,n,e);else if(t.tag===19)pN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Sn(vr,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),fE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}fE(e,!0,n,null,s);break;case"together":fE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jc|=e.lanes,!(n&e.childLanes))if(t!==null){if(km(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Uc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Uc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aC(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Sb(t)))}function Oue(t,e,n){switch(e.tag){case 3:ub(e,e.stateNode.containerInfo),Ec(e,wr,t.memoizedState.cache),Tm();break;case 27:case 5:fx(e);break;case 4:ub(e,e.stateNode.containerInfo);break;case 10:Ec(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(wc(e),e.flags|=128,null):n&e.child.childLanes?F4(t,e,n):(wc(e),t=Wa(t,e,n),t!==null?t.sibling:null);wc(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(km(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return j4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Sn(vr,vr.current),r)break;return null;case 22:case 23:return e.lanes=0,z4(t,e,n);case 24:Ec(e,wr,t.memoizedState.cache)}return Wa(t,e,n)}function H4(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pr=!0;else{if(!aC(t,n)&&!(e.flags&128))return Pr=!1,Oue(t,e,n);Pr=!!(t.flags&131072)}else Pr=!1,Pt&&e.flags&1048576&&G6(e,yb,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")dC(r)?(t=du(r,t),e.tag=1,e=hN(null,e,r,t,n)):(e.tag=0,e=Nx(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===OA){e.tag=11,e=cN(null,e,r,t,n);break e}else if(i===BA){e.tag=14,e=lN(null,e,r,t,n);break e}}throw e=dx(r)||r,Error(de(306,e,""))}}return e;case 0:return Nx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=du(r,e.pendingProps),hN(t,e,r,i,n);case 3:e:{if(ub(e,e.stateNode.containerInfo),t===null)throw Error(de(387));var s=e.pendingProps;i=e.memoizedState,r=i.element,Mx(t,e),Sp(e,s,null,n);var o=e.memoizedState;if(s=o.cache,Ec(e,wr,s),s!==i.cache&&$x(e,[wr],n,!0),xp(),s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=fN(t,e,s,n);break e}else if(s!==r){r=js(Error(de(424)),e),Ng(r),e=fN(t,e,s,n);break e}else for(Zr=wo(e.stateNode.containerInfo.firstChild),_i=e,Pt=!0,lo=null,Uo=!0,n=Q6(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tm(),s===r){e=Wa(t,e,n);break e}Wr(t,e,s,n)}e=e.child}return e;case 26:return Ep(t,e),t===null?(n=ON(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pt||(n=e.type,t=e.pendingProps,r=Nb(Pc.current).createElement(n),r[pi]=e,r[Wi]=t,Qr(r,n,t),Nr(r),e.stateNode=r):e.memoizedState=ON(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return fx(e),t===null&&Pt&&(r=e.stateNode=T5(e.type,e.pendingProps,Pc.current),_i=e,Uo=!0,Zr=wo(r.firstChild)),r=e.pendingProps.children,t!==null||Pt?Wr(t,e,r,n):e.child=lu(e,null,r,n),Ep(t,e),e.child;case 5:return t===null&&Pt&&((i=r=Zr)&&(r=cde(r,e.type,e.pendingProps,Uo),r!==null?(e.stateNode=r,_i=e,Zr=wo(r.firstChild),Uo=!1,i=!0):i=!1),i||cu(e)),fx(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,r=s.children,Zx(i,s)?r=null:o!==null&&Zx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=ZA(t,e,Aue,null,null,n),Mg._currentValue=i),Ep(t,e),Wr(t,e,r,n),e.child;case 6:return t===null&&Pt&&((t=n=Zr)&&(n=lde(n,e.pendingProps,Uo),n!==null?(e.stateNode=n,_i=e,Zr=null,t=!0):t=!1),t||cu(e)),null;case 13:return F4(t,e,n);case 4:return ub(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lu(e,null,r,n):Wr(t,e,r,n),e.child;case 11:return cN(t,e,e.type,e.pendingProps,n);case 7:return Wr(t,e,e.pendingProps,n),e.child;case 8:return Wr(t,e,e.pendingProps.children,n),e.child;case 12:return Wr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ec(e,e.type,r.value),Wr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,hu(e),i=gi(i),r=r(i),e.flags|=1,Wr(t,e,r,n),e.child;case 14:return lN(t,e,e.type,e.pendingProps,n);case 15:return L4(t,e,e.type,e.pendingProps,n);case 19:return j4(t,e,n);case 22:return z4(t,e,n);case 24:return hu(e),r=gi(wr),t===null?(i=GA(),i===null&&(i=un,s=KA(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},cC(e),Ec(e,wr,i)):(t.lanes&n&&(Mx(t,e),Sp(e,null,null,n),xp()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ec(e,wr,r)):(r=s.cache,Ec(e,wr,r),r!==i.cache&&$x(e,[wr],n,!0))),Wr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(de(156,e.tag))}var Dx=ta(null),Du=null,Pa=null;function Ec(t,e,n){Sn(Dx,e._currentValue),e._currentValue=n}function za(t){t._currentValue=Dx.current,$r(Dx)}function Px(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $x(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var o=i.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=i;for(var c=0;c<e.length;c++)if(a.context===e[c]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Px(s.return,n,t),r||(o=null);break e}s=a.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Px(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function km(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(de(387));if(o=o.memoizedProps,o!==null){var a=i.type;bs(i.pendingProps.value,o.value)||(t!==null?t.push(a):t=[a])}}else if(i===lb.current){if(o=i.alternate,o===null)throw Error(de(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Mg):t=[Mg])}i=i.return}t!==null&&$x(e,t,n,r),e.flags|=262144}function Sb(t){for(t=t.firstContext;t!==null;){if(!bs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hu(t){Du=t,Pa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function gi(t){return q4(Du,t)}function U0(t,e){return Du===null&&hu(t),q4(t,e)}function q4(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Pa===null){if(t===null)throw Error(de(308));Pa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pa=Pa.next=e;return n}var gc=!1;function cC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $c(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=gb(t),K6(t,null,n),e}return Uw(t,r,e,n),gb(t)}function _p(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v6(t,n)}}function pE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ux=!1;function xp(){if(Ux){var t=Xd;if(t!==null)throw t}}function Sp(t,e,n,r){Ux=!1;var i=t.updateQueue;gc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,h=u=c=null,a=s;do{var g=a.lane&-536870913,m=g!==a.lane;if(m?(Rt&g)===g:(r&g)===g){g!==0&&g===Rh&&(Ux=!0),h!==null&&(h=h.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var _=t,x=a;g=e;var C=n;switch(x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(C,f,g);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,g=typeof _=="function"?_.call(C,f,g):_,g==null)break e;f=En({},f,g);break e;case 2:gc=!0}}g=a.callback,g!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[g]:m.push(g))}else m={lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,c=f):h=h.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Jc|=o,t.lanes=o,t.memoizedState=f}}function V4(t,e){if(typeof t!="function")throw Error(de(191,t));t.call(e)}function W4(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)V4(n[t],e)}function Nm(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){nn(e,e.return,a)}}function Qc(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var o=r.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,i=e;var c=n;try{a()}catch(u){nn(i,c,u)}}}r=r.next}while(r!==s)}}catch(u){nn(e,e.return,u)}}function K4(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{W4(e,n)}catch(r){nn(t,t.return,r)}}}function G4(t,e,n){n.props=du(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){nn(t,e,r)}}function Pl(t,e){try{var n=t.ref;if(n!==null){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){nn(t,e,s)}}function ds(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){nn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){nn(t,e,i)}else n.current=null}function Y4(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){nn(t,t.return,i)}}function gN(t,e,n){try{var r=t.stateNode;rde(r,t.type,n,e),r[Wi]=e}catch(i){nn(t,t.return,i)}}function Z4(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function gE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vw));else if(r!==4&&r!==27&&(t=t.child,t!==null))for(Lx(t,e,n),t=t.sibling;t!==null;)Lx(t,e,n),t=t.sibling}function Ab(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&r!==27&&(t=t.child,t!==null))for(Ab(t,e,n),t=t.sibling;t!==null;)Ab(t,e,n),t=t.sibling}var Ca=!1,Xn=!1,mE=!1,mN=typeof WeakSet=="function"?WeakSet:Set,Ir=null,yN=!1;function Bue(t,e){if(t=t.containerInfo,Gx=Pb,t=z6(t),FA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++h===r&&(c=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yx={focusedElem:t,selectionRange:n},Pb=!1,Ir=e;Ir!==null;)if(e=Ir,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ir=t;else for(;Ir!==null;){switch(e=Ir,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var _=du(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(_,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(x){nn(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Xx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(de(163))}if(t=e.sibling,t!==null){t.return=e.return,Ir=t;break}Ir=e.return}return _=yN,yN=!1,_}function X4(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ga(t,n),r&4&&Nm(5,n);break;case 1:if(ga(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){nn(n,n.return,a)}else{var i=du(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){nn(n,n.return,a)}}r&64&&K4(n),r&512&&Pl(n,n.return);break;case 3:if(ga(t,n),r&64&&(r=n.updateQueue,r!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{W4(r,t)}catch(a){nn(n,n.return,a)}}break;case 26:ga(t,n),r&512&&Pl(n,n.return);break;case 27:case 5:ga(t,n),e===null&&r&4&&Y4(n),r&512&&Pl(n,n.return);break;case 12:ga(t,n);break;case 13:ga(t,n),r&4&&e5(t,n);break;case 22:if(i=n.memoizedState!==null||Ca,!i){e=e!==null&&e.memoizedState!==null||Xn;var s=Ca,o=Xn;Ca=i,(Xn=e)&&!o?dc(t,n,(n.subtreeFlags&8772)!==0):ga(t,n),Ca=s,Xn=o}r&512&&(n.memoizedProps.mode==="manual"?Pl(n,n.return):ds(n,n.return));break;default:ga(t,n)}}function Q4(t){var e=t.alternate;e!==null&&(t.alternate=null,Q4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&PA(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lr=null,ts=!1;function pa(t,e,n){for(n=n.child;n!==null;)J4(t,e,n),n=n.sibling}function J4(t,e,n){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(xm,n)}catch{}switch(n.tag){case 26:Xn||ds(n,e),pa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xn||ds(n,e);var r=lr,i=ts;for(lr=n.stateNode,pa(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);PA(n),lr=r,ts=i;break;case 5:Xn||ds(n,e);case 6:i=lr;var s=ts;if(lr=null,pa(t,e,n),lr=i,ts=s,lr!==null)if(ts)try{t=lr,r=n.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)}catch(o){nn(n,e,o)}else try{lr.removeChild(n.stateNode)}catch(o){nn(n,e,o)}break;case 18:lr!==null&&(ts?(e=lr,n=n.stateNode,e.nodeType===8?IE(e.parentNode,n):e.nodeType===1&&IE(e,n),zg(e)):IE(lr,n.stateNode));break;case 4:r=lr,i=ts,lr=n.stateNode.containerInfo,ts=!0,pa(t,e,n),lr=r,ts=i;break;case 0:case 11:case 14:case 15:Xn||Qc(2,n,e),Xn||Qc(4,n,e),pa(t,e,n);break;case 1:Xn||(ds(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&G4(n,e,r)),pa(t,e,n);break;case 21:pa(t,e,n);break;case 22:Xn||ds(n,e),Xn=(r=Xn)||n.memoizedState!==null,pa(t,e,n),Xn=r;break;default:pa(t,e,n)}}function e5(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zg(t)}catch(n){nn(e,e.return,n)}}function Due(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new mN),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new mN),e;default:throw Error(de(435,t.tag))}}function yE(t,e){var n=Due(t);e.forEach(function(r){var i=Kue.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Rs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 27:case 5:lr=a.stateNode,ts=!1;break e;case 3:lr=a.stateNode.containerInfo,ts=!0;break e;case 4:lr=a.stateNode.containerInfo,ts=!0;break e}a=a.return}if(lr===null)throw Error(de(160));J4(s,o,i),lr=null,ts=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)t5(e,t),e=e.sibling}var oo=null;function t5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rs(e,t),ks(t),r&4&&(Qc(3,t,t.return),Nm(3,t),Qc(5,t,t.return));break;case 1:Rs(e,t),ks(t),r&512&&(Xn||n===null||ds(n,n.return)),r&64&&Ca&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=oo;if(Rs(e,t),ks(t),r&512&&(Xn||n===null||ds(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Tg]||s[pi]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Qr(s,r,n),s[pi]=t,Nr(s),r=s;break e;case"link":var o=DN("link","href",i).get(r+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(s=o[a],s.getAttribute("href")===(n.href==null?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}s=i.createElement(r),Qr(s,r,n),i.head.appendChild(s);break;case"meta":if(o=DN("meta","content",i).get(r+(n.content||""))){for(a=0;a<o.length;a++)if(s=o[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}s=i.createElement(r),Qr(s,r,n),i.head.appendChild(s);break;default:throw Error(de(468,r))}s[pi]=t,Nr(s),r=s}t.stateNode=r}else PN(i,t.type,t.stateNode);else t.stateNode=BN(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?PN(i,t.type,t.stateNode):BN(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&gN(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(r&4&&t.alternate===null){i=t.stateNode,s=t.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,h=c.nodeName;c[Tg]||h==="HEAD"||h==="BODY"||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=u}for(var f=t.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Qr(i,f,s),i[pi]=t,i[Wi]=s}catch(_){nn(t,t.return,_)}}case 5:if(Rs(e,t),ks(t),r&512&&(Xn||n===null||ds(n,n.return)),t.flags&32){i=t.stateNode;try{Th(i,"")}catch(_){nn(t,t.return,_)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,gN(t,i,n!==null?n.memoizedProps:i)),r&1024&&(mE=!0);break;case 6:if(Rs(e,t),ks(t),r&4){if(t.stateNode===null)throw Error(de(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(_){nn(t,t.return,_)}}break;case 3:if(xy=null,i=oo,oo=Ob(e.containerInfo),Rs(e,t),oo=i,ks(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zg(e.containerInfo)}catch(_){nn(t,t.return,_)}mE&&(mE=!1,n5(t));break;case 4:r=oo,oo=Ob(t.stateNode.containerInfo),Rs(e,t),ks(t),oo=r;break;case 12:Rs(e,t),ks(t);break;case 13:Rs(e,t),ks(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(pC=Vo()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,yE(t,r)));break;case 22:if(r&512&&(Xn||n===null||ds(n,n.return)),c=t.memoizedState!==null,u=n!==null&&n.memoizedState!==null,h=Ca,f=Xn,Ca=h||c,Xn=f||u,Rs(e,t),Xn=f,Ca=h,ks(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,r&8192&&(e._visibility=c?e._visibility&-2:e._visibility|1,c&&(e=Ca||Xn,n===null||u||e||wd(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){u=n=e;try{if(i=u.stateNode,c)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode,a=u.memoizedProps.style;var m=a!=null&&a.hasOwnProperty("display")?a.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){nn(u,u.return,_)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(_){nn(u,u.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,yE(t,n))));break;case 19:Rs(e,t),ks(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,yE(t,r)));break;case 21:break;default:Rs(e,t),ks(t)}}function ks(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(Z4(n)){var r=n;break e}n=n.return}throw Error(de(160))}switch(r.tag){case 27:var i=r.stateNode,s=gE(t);Ab(t,s,i);break;case 5:var o=r.stateNode;r.flags&32&&(Th(o,""),r.flags&=-33);var a=gE(t);Ab(t,a,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=gE(t);Lx(t,u,c);break;default:throw Error(de(161))}}}catch(h){nn(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n5(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;n5(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ga(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)X4(t,e.alternate,e),e=e.sibling}function wd(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Qc(4,e,e.return),wd(e);break;case 1:ds(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&G4(e,e.return,n),wd(e);break;case 26:case 27:case 5:ds(e,e.return),wd(e);break;case 22:ds(e,e.return),e.memoizedState===null&&wd(e);break;default:wd(e)}t=t.sibling}}function dc(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,o=s.flags;switch(s.tag){case 0:case 11:case 15:dc(i,s,n),Nm(4,s);break;case 1:if(dc(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){nn(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)V4(c[i],a)}catch(u){nn(r,r.return,u)}}n&&o&64&&K4(s),Pl(s,s.return);break;case 26:case 27:case 5:dc(i,s,n),n&&r===null&&o&4&&Y4(s),Pl(s,s.return);break;case 12:dc(i,s,n);break;case 13:dc(i,s,n),n&&o&4&&e5(i,s);break;case 22:s.memoizedState===null&&dc(i,s,n),Pl(s,s.return);break;default:dc(i,s,n)}e=e.sibling}}function lC(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Im(n))}function uC(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Im(t))}function uc(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)r5(t,e,n,r),e=e.sibling}function r5(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:uc(t,e,n,r),i&2048&&Nm(9,e);break;case 3:uc(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Im(t)));break;case 12:if(i&2048){uc(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,o=s.id,a=s.onPostCommit;typeof a=="function"&&a(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){nn(e,e.return,c)}}else uc(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,e.memoizedState!==null?s._visibility&4?uc(t,e,n,r):Ap(t,e):s._visibility&4?uc(t,e,n,r):(s._visibility|=4,vd(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&lC(e.alternate,e);break;case 24:uc(t,e,n,r),i&2048&&uC(e.alternate,e);break;default:uc(t,e,n,r)}}function vd(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,o=e,a=n,c=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:vd(s,o,a,c,i),Nm(8,o);break;case 23:break;case 22:var h=o.stateNode;o.memoizedState!==null?h._visibility&4?vd(s,o,a,c,i):Ap(s,o):(h._visibility|=4,vd(s,o,a,c,i)),i&&u&2048&&lC(o.alternate,o);break;case 24:vd(s,o,a,c,i),i&&u&2048&&uC(o.alternate,o);break;default:vd(s,o,a,c,i)}e=e.sibling}}function Ap(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Ap(n,r),i&2048&&lC(r.alternate,r);break;case 24:Ap(n,r),i&2048&&uC(r.alternate,r);break;default:Ap(n,r)}e=e.sibling}}var Yf=8192;function ld(t){if(t.subtreeFlags&Yf)for(t=t.child;t!==null;)i5(t),t=t.sibling}function i5(t){switch(t.tag){case 26:ld(t),t.flags&Yf&&t.memoizedState!==null&&_de(oo,t.memoizedState,t.memoizedProps);break;case 5:ld(t);break;case 3:case 4:var e=oo;oo=Ob(t.stateNode.containerInfo),ld(t),oo=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Yf,Yf=16777216,ld(t),Yf=e):ld(t));break;default:ld(t)}}function s5(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Of(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Ir=r,a5(r,t)}s5(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)o5(t),t=t.sibling}function o5(t){switch(t.tag){case 0:case 11:case 15:Of(t),t.flags&2048&&Qc(9,t,t.return);break;case 3:Of(t);break;case 12:Of(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,vy(t)):Of(t);break;default:Of(t)}}function vy(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Ir=r,a5(r,t)}s5(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Qc(8,e,e.return),vy(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,vy(e));break;default:vy(e)}t=t.sibling}}function a5(t,e){for(;Ir!==null;){var n=Ir;switch(n.tag){case 0:case 11:case 15:Qc(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Im(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Ir=r;else e:for(n=t;Ir!==null;){r=Ir;var i=r.sibling,s=r.return;if(Q4(r),r===n){Ir=null;break e}if(i!==null){i.return=s,Ir=i;break e}Ir=s}}}function Pue(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(t,e,n,r){return new Pue(t,e,n,r)}function dC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uc(t,e){var n=t.alternate;return n===null?(n=qs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function c5(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ey(t,e,n,r,i,s){var o=0;if(r=t,typeof t=="function")dC(t)&&(o=1);else if(typeof t=="string")o=vde(t,n,qo.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Rd:return Yl(n.children,i,s,e);case l6:o=8,i|=24;break;case cx:return t=qs(12,n,e,i|2),t.elementType=cx,t.lanes=s,t;case lx:return t=qs(13,n,e,i),t.elementType=lx,t.lanes=s,t;case ux:return t=qs(19,n,e,i),t.elementType=ux,t.lanes=s,t;case d6:return l5(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ole:case Na:o=10;break e;case u6:o=9;break e;case OA:o=11;break e;case BA:o=14;break e;case pc:o=16,r=null;break e}o=29,n=Error(de(130,t===null?"null":typeof t,"")),r=null}return e=qs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yl(t,e,n,r){return t=qs(7,t,r,e),t.lanes=n,t}function l5(t,e,n,r){t=qs(22,t,r,e),t.elementType=d6,t.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var s=i._current;if(s===null)throw Error(de(456));if(!(i._pendingVisibility&2)){var o=Zc(s,2);o!==null&&(i._pendingVisibility|=2,Ci(o,s,2))}},attach:function(){var s=i._current;if(s===null)throw Error(de(456));if(i._pendingVisibility&2){var o=Zc(s,2);o!==null&&(i._pendingVisibility&=-3,Ci(o,s,2))}}};return t.stateNode=i,t}function bE(t,e,n){return t=qs(6,t,null,e),t.lanes=n,t}function wE(t,e,n){return e=qs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ma(t){t.flags|=4}function bN(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!k5(e)){if(e=Ks.current,e!==null&&((Rt&4194176)===Rt?Wo!==null:(Rt&62914560)!==Rt&&!(Rt&536870912)||e!==Wo))throw bp=xx,Y6;t.flags|=8192}}function L0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?b6():536870912,t.lanes|=e,Nh|=e)}function Bf(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $ue(t,e,n){var r=e.pendingProps;switch(VA(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return kn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),za(wr),Ah(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(kf(e)?ma(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lo!==null&&(qx(lo),lo=null))),kn(e),null;case 26:return n=e.memoizedState,t===null?(ma(e),n!==null?(kn(e),bN(e,n)):(kn(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ma(e),kn(e),bN(e,n)):(kn(e),e.flags&=-16777217):(t.memoizedProps!==r&&ma(e),kn(e),e.flags&=-16777217),null;case 27:db(e),n=Pc.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ma(e);else{if(!r){if(e.stateNode===null)throw Error(de(166));return kn(e),null}t=qo.current,kf(e)?Gk(e):(t=T5(i,r,n),e.stateNode=t,ma(e))}return kn(e),null;case 5:if(db(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ma(e);else{if(!r){if(e.stateNode===null)throw Error(de(166));return kn(e),null}if(t=qo.current,kf(e))Gk(e);else{switch(i=Nb(Pc.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[pi]=e,t[Wi]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Qr(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ma(e)}}return kn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ma(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(de(166));if(t=Pc.current,kf(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=_i,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[pi]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||S5(t.nodeValue,n)),t||cu(e)}else t=Nb(t).createTextNode(r),t[pi]=e,e.stateNode=t}return kn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=kf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(de(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[pi]=e}else Tm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),i=!1}else lo!==null&&(qx(lo),lo=null),i=!0;if(!i)return e.flags&256?(Da(e),e):(Da(e),null)}if(Da(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),L0(e,e.updateQueue),kn(e),null;case 4:return Ah(),t===null&&yC(e.stateNode.containerInfo),kn(e),null;case 10:return za(e.type),kn(e),null;case 19:if($r(vr),i=e.memoizedState,i===null)return kn(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Bf(i,!1);else{if(Jn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=wb(t),s!==null){for(e.flags|=128,Bf(i,!1),t=s.updateQueue,e.updateQueue=t,L0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)c5(n,t),n=n.sibling;return Sn(vr,vr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Vo()>Cb&&(e.flags|=128,r=!0,Bf(i,!1),e.lanes=4194304)}else{if(!r)if(t=wb(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,L0(e,t),Bf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Pt)return kn(e),null}else 2*Vo()-i.renderingStartTime>Cb&&n!==536870912&&(e.flags|=128,r=!0,Bf(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Vo(),e.sibling=null,t=vr.current,Sn(vr,r?t&1|2:t&1),e):(kn(e),null);case 22:case 23:return Da(e),WA(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),n=e.updateQueue,n!==null&&L0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&$r(Gl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),za(wr),kn(e),null;case 25:return null}throw Error(de(156,e.tag))}function Mue(t,e){switch(VA(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(wr),Ah(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return db(e),null;case 13:if(Da(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));Tm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $r(vr),null;case 4:return Ah(),null;case 10:return za(e.type),null;case 22:case 23:return Da(e),WA(),t!==null&&$r(Gl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return za(wr),null;case 25:return null;default:return null}}function u5(t,e){switch(VA(e),e.tag){case 3:za(wr),Ah();break;case 26:case 27:case 5:db(e);break;case 4:Ah();break;case 13:Da(e);break;case 19:$r(vr);break;case 10:za(e.type);break;case 22:case 23:Da(e),WA(),t!==null&&$r(Gl);break;case 24:za(wr)}}var Uue={getCacheForType:function(t){var e=gi(wr),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Lue=typeof WeakMap=="function"?WeakMap:Map,Pn=0,un=null,xt=null,Rt=0,cn=0,rs=null,Ta=!1,ef=!1,hC=!1,Ka=0,Jn=0,Jc=0,Zl=0,fC=0,Vs=0,Nh=0,Cp=null,Lo=null,zx=!1,pC=0,Cb=1/0,Tb=null,Lc=null,z0=!1,Tl=null,Tp=0,Fx=0,jx=null,Ip=0,Hx=null;function gs(){if(Pn&2&&Rt!==0)return Rt&-Rt;if(gt.T!==null){var t=Rh;return t!==0?t:mC()}return _6()}function d5(){Vs===0&&(Vs=!(Rt&536870912)||Pt?y6():536870912);var t=Ks.current;return t!==null&&(t.flags|=32),Vs}function Ci(t,e,n){(t===un&&cn===2||t.cancelPendingCommit!==null)&&(Oh(t,0),Ia(t,Rt,Vs,!1)),Am(t,n),(!(Pn&2)||t!==un)&&(t===un&&(!(Pn&2)&&(Zl|=n),Jn===4&&Ia(t,Rt,Vs,!1)),na(t))}function h5(t,e,n){if(Pn&6)throw Error(de(327));var r=!n&&(e&60)===0&&(e&t.expiredLanes)===0||Sm(t,e),i=r?jue(t,e):vE(t,e,!0),s=r;do{if(i===0){ef&&!r&&Ia(t,e,0,!1);break}else if(i===6)Ia(t,e,0,!Ta);else{if(n=t.current.alternate,s&&!zue(n)){i=vE(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var a=t;i=Cp;var c=a.current.memoizedState.isDehydrated;if(c&&(Oh(a,o).flags|=256),o=vE(a,o,!1),o!==2){if(hC&&!c){a.errorRecoveryDisabledLanes|=s,Zl|=s,i=4;break e}s=Lo,Lo=i,s!==null&&qx(s)}i=o}if(s=!1,i!==2)continue}}if(i===1){Oh(t,0),Ia(t,e,0,!0);break}e:{switch(r=t,i){case 0:case 1:throw Error(de(345));case 4:if((e&4194176)===e){Ia(r,e,Vs,!Ta);break e}break;case 2:Lo=null;break;case 3:case 5:break;default:throw Error(de(329))}if(r.finishedWork=n,r.finishedLanes=e,(e&62914560)===e&&(s=pC+300-Vo(),10<s)){if(Ia(r,e,Vs,!Ta),Bw(r,0)!==0)break e;r.timeoutHandle=C5(wN.bind(null,r,n,Lo,Tb,zx,e,Vs,Zl,Nh,Ta,2,-0,0),s);break e}wN(r,n,Lo,Tb,zx,e,Vs,Zl,Nh,Ta,0,-0,0)}}break}while(!0);na(t)}function qx(t){Lo===null?Lo=t:Lo.push.apply(Lo,t)}function wN(t,e,n,r,i,s,o,a,c,u,h,f,g){var m=e.subtreeFlags;if((m&8192||(m&16785408)===16785408)&&($g={stylesheets:null,count:0,unsuspend:Ede},i5(e),e=xde(),e!==null)){t.cancelPendingCommit=e(EN.bind(null,t,n,r,i,o,a,c,1,f,g)),Ia(t,s,o,!u);return}EN(t,n,r,i,o,a,c,h,f,g)}function zue(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bs(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ia(t,e,n,r){e&=~fC,e&=~Zl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-ps(i),o=1<<s;r[s]=-1,i&=~o}n!==0&&w6(t,n,e)}function Hw(){return Pn&6?!0:(Om(0),!1)}function gC(){if(xt!==null){if(cn===0)var t=xt.return;else t=xt,Pa=Du=null,JA(t),Zd=null,Og=0,t=xt;for(;t!==null;)u5(t.alternate,t),t=t.return;xt=null}}function Oh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,sde(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),gC(),un=t,xt=n=Uc(t.current,null),Rt=e,cn=0,rs=null,Ta=!1,ef=Sm(t,e),hC=!1,Nh=Vs=fC=Zl=Jc=Jn=0,Lo=Cp=null,zx=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-ps(r),s=1<<i;e|=t[i],r&=~s}return Ka=e,Mw(),n}function f5(t,e){Et=null,gt.H=Xo,e===yp?(e=Xk(),cn=3):e===Y6?(e=Xk(),cn=4):cn=e===U4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,rs=e,xt===null&&(Jn=1,xb(t,js(e,t.current)))}function p5(){var t=gt.H;return gt.H=Xo,t===null?Xo:t}function g5(){var t=gt.A;return gt.A=Uue,t}function Vx(){Jn=4,Ta||(Rt&4194176)!==Rt&&Ks.current!==null||(ef=!0),!(Jc&134217727)&&!(Zl&134217727)||un===null||Ia(un,Rt,Vs,!1)}function vE(t,e,n){var r=Pn;Pn|=2;var i=p5(),s=g5();(un!==t||Rt!==e)&&(Tb=null,Oh(t,e)),e=!1;var o=Jn;e:do try{if(cn!==0&&xt!==null){var a=xt,c=rs;switch(cn){case 8:gC(),o=6;break e;case 3:case 2:case 6:Ks.current===null&&(e=!0);var u=cn;if(cn=0,rs=null,Ld(t,a,c,u),n&&ef){o=0;break e}break;default:u=cn,cn=0,rs=null,Ld(t,a,c,u)}}Fue(),o=Jn;break}catch(h){f5(t,h)}while(!0);return e&&t.shellSuspendCounter++,Pa=Du=null,Pn=r,gt.H=i,gt.A=s,xt===null&&(un=null,Rt=0,Mw()),o}function Fue(){for(;xt!==null;)m5(xt)}function jue(t,e){var n=Pn;Pn|=2;var r=p5(),i=g5();un!==t||Rt!==e?(Tb=null,Cb=Vo()+500,Oh(t,e)):ef=Sm(t,e);e:do try{if(cn!==0&&xt!==null){e=xt;var s=rs;t:switch(cn){case 1:cn=0,rs=null,Ld(t,e,s,1);break;case 2:if(Zk(s)){cn=0,rs=null,vN(e);break}e=function(){cn===2&&un===t&&(cn=7),na(t)},s.then(e,e);break e;case 3:cn=7;break e;case 4:cn=5;break e;case 7:Zk(s)?(cn=0,rs=null,vN(e)):(cn=0,rs=null,Ld(t,e,s,7));break;case 5:var o=null;switch(xt.tag){case 26:o=xt.memoizedState;case 5:case 27:var a=xt;if(!o||k5(o)){cn=0,rs=null;var c=a.sibling;if(c!==null)xt=c;else{var u=a.return;u!==null?(xt=u,qw(u)):xt=null}break t}}cn=0,rs=null,Ld(t,e,s,5);break;case 6:cn=0,rs=null,Ld(t,e,s,6);break;case 8:gC(),Jn=6;break e;default:throw Error(de(462))}}Hue();break}catch(h){f5(t,h)}while(!0);return Pa=Du=null,gt.H=r,gt.A=i,Pn=n,xt!==null?0:(un=null,Rt=0,Mw(),Jn)}function Hue(){for(;xt!==null&&!dle();)m5(xt)}function m5(t){var e=H4(t.alternate,t,Ka);t.memoizedProps=t.pendingProps,e===null?qw(t):xt=e}function vN(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=dN(n,e,e.pendingProps,e.type,void 0,Rt);break;case 11:e=dN(n,e,e.pendingProps,e.type.render,e.ref,Rt);break;case 5:JA(e);default:u5(n,e),e=xt=c5(e,Ka),e=H4(n,e,Ka)}t.memoizedProps=t.pendingProps,e===null?qw(t):xt=e}function Ld(t,e,n,r){Pa=Du=null,JA(e),Zd=null,Og=0;var i=e.return;try{if(Nue(t,i,e,n,Rt)){Jn=1,xb(t,js(n,t.current)),xt=null;return}}catch(s){if(i!==null)throw xt=i,s;Jn=1,xb(t,js(n,t.current)),xt=null;return}e.flags&32768?(Pt||r===1?t=!0:ef||Rt&536870912?t=!1:(Ta=t=!0,(r===2||r===3||r===6)&&(r=Ks.current,r!==null&&r.tag===13&&(r.flags|=16384))),y5(e,t)):qw(e)}function qw(t){var e=t;do{if(e.flags&32768){y5(e,Ta);return}t=e.return;var n=$ue(e.alternate,e,Ka);if(n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Jn===0&&(Jn=5)}function y5(t,e){do{var n=Mue(t.alternate,t);if(n!==null){n.flags&=32767,xt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=n}while(t!==null);Jn=6,xt=null}function EN(t,e,n,r,i,s,o,a,c,u){var h=gt.T,f=wn.p;try{wn.p=2,gt.T=null,que(t,e,n,r,f,i,s,o,a,c,u)}finally{gt.T=h,wn.p=f}}function que(t,e,n,r,i,s,o,a){do eh();while(Tl!==null);if(Pn&6)throw Error(de(327));var c=t.finishedWork;if(r=t.finishedLanes,c===null)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(u|=jA,_le(t,r,u,s,o,a),t===un&&(xt=un=null,Rt=0),!(c.subtreeFlags&10256)&&!(c.flags&10256)||z0||(z0=!0,Fx=u,jx=n,Gue(hb,function(){return eh(),null})),n=(c.flags&15990)!==0,c.subtreeFlags&15990||n?(n=gt.T,gt.T=null,s=wn.p,wn.p=2,o=Pn,Pn|=4,Bue(t,c),t5(c,t),pue(Yx,t.containerInfo),Pb=!!Gx,Yx=Gx=null,t.current=c,X4(t,c.alternate,c),hle(),Pn=o,wn.p=s,gt.T=n):t.current=c,z0?(z0=!1,Tl=t,Tp=r):b5(t,u),u=t.pendingLanes,u===0&&(Lc=null),yle(c.stateNode),na(t),e!==null)for(i=t.onRecoverableError,c=0;c<e.length;c++)u=e[c],i(u.value,{componentStack:u.stack});return Tp&3&&eh(),u=t.pendingLanes,r&4194218&&u&42?t===Hx?Ip++:(Ip=0,Hx=t):Ip=0,Om(0),null}function b5(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Im(e)))}function eh(){if(Tl!==null){var t=Tl,e=Fx;Fx=0;var n=E6(Tp),r=gt.T,i=wn.p;try{if(wn.p=32>n?32:n,gt.T=null,Tl===null)var s=!1;else{n=jx,jx=null;var o=Tl,a=Tp;if(Tl=null,Tp=0,Pn&6)throw Error(de(331));var c=Pn;if(Pn|=4,o5(o.current),r5(o,o.current,a,n),Pn=c,Om(0,!1),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(xm,o)}catch{}s=!0}return s}finally{wn.p=i,gt.T=r,b5(t,e)}}return!1}function _N(t,e,n){e=js(n,e),e=kx(t.stateNode,e,2),t=Mc(t,e,2),t!==null&&(Am(t,2),na(t))}function nn(t,e,n){if(t.tag===3)_N(t,t,n);else for(;e!==null;){if(e.tag===3){_N(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lc===null||!Lc.has(r))){t=js(n,t),n=$4(2),r=Mc(e,n,2),r!==null&&(M4(n,r,e,t),Am(r,2),na(r));break}}e=e.return}}function EE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Lue;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(hC=!0,i.add(n),t=Vue.bind(null,t,e,n),e.then(t,t))}function Vue(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,un===t&&(Rt&n)===n&&(Jn===4||Jn===3&&(Rt&62914560)===Rt&&300>Vo()-pC?!(Pn&2)&&Oh(t,0):fC|=n,Nh===Rt&&(Nh=0)),na(t)}function w5(t,e){e===0&&(e=b6()),t=Zc(t,e),t!==null&&(Am(t,e),na(t))}function Wue(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),w5(t,n)}function Kue(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(de(314))}r!==null&&r.delete(e),w5(t,n)}function Gue(t,e){return DA(t,e)}var Ib=null,Ed=null,Wx=!1,Rb=!1,_E=!1,Xl=0;function na(t){t!==Ed&&t.next===null&&(Ed===null?Ib=Ed=t:Ed=Ed.next=t),Rb=!0,Wx||(Wx=!0,Zue(Yue))}function Om(t,e){if(!_E&&Rb){_E=!0;do for(var n=!1,r=Ib;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-ps(42|t)+1)-1,s&=i&~(o&~a),s=s&201326677?s&201326677|1:s?s|2:0}s!==0&&(n=!0,xN(r,s))}else s=Rt,s=Bw(r,r===un?s:0),!(s&3)||Sm(r,s)||(n=!0,xN(r,s));r=r.next}while(n);_E=!1}}function Yue(){Rb=Wx=!1;var t=0;Xl!==0&&(ide()&&(t=Xl),Xl=0);for(var e=Vo(),n=null,r=Ib;r!==null;){var i=r.next,s=v5(r,e);s===0?(r.next=null,n===null?Ib=i:n.next=i,i===null&&(Ed=n)):(n=r,(t!==0||s&3)&&(Rb=!0)),r=i}Om(t)}function v5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var o=31-ps(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=Ele(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}if(e=un,n=Rt,n=Bw(t,t===e?n:0),r=t.callbackNode,n===0||t===e&&cn===2||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Q1(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Sm(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Q1(r),E6(n)){case 2:case 8:n=g6;break;case 32:n=hb;break;case 268435456:n=m6;break;default:n=hb}return r=E5.bind(null,t),n=DA(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Q1(r),t.callbackPriority=2,t.callbackNode=null,2}function E5(t,e){var n=t.callbackNode;if(eh()&&t.callbackNode!==n)return null;var r=Rt;return r=Bw(t,t===un?r:0),r===0?null:(h5(t,r,e),v5(t,Vo()),t.callbackNode!=null&&t.callbackNode===n?E5.bind(null,t):null)}function xN(t,e){if(eh())return null;h5(t,e,!0)}function Zue(t){ode(function(){Pn&6?DA(p6,t):t()})}function mC(){return Xl===0&&(Xl=y6()),Xl}function SN(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:py(""+t)}function AN(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Xue(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=SN((i[Wi]||null).action),o=r.submitter;o&&(e=(e=o[Wi]||null)?SN(e.formAction):o.getAttribute("formAction"),e!==null&&(s=e,o=null));var a=new Dw("action","action",null,r,i);t.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Xl!==0){var c=o?AN(i,o):new FormData(i);Ix(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(a.preventDefault(),c=o?AN(i,o):new FormData(i),Ix(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var xE=0;xE<Wk.length;xE++){var SE=Wk[xE],Que=SE.toLowerCase(),Jue=SE[0].toUpperCase()+SE.slice(1);So(Que,"on"+Jue)}So(j6,"onAnimationEnd");So(H6,"onAnimationIteration");So(q6,"onAnimationStart");So("dblclick","onDoubleClick");So("focusin","onFocus");So("focusout","onBlur");So(mue,"onTransitionRun");So(yue,"onTransitionStart");So(bue,"onTransitionCancel");So(V6,"onTransitionEnd");Ch("onMouseEnter",["mouseout","mouseover"]);Ch("onMouseLeave",["mouseout","mouseover"]);Ch("onPointerEnter",["pointerout","pointerover"]);Ch("onPointerLeave",["pointerout","pointerover"]);Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ede=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dg));function _5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(h){_b(h)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(h){_b(h)}i.currentTarget=null,s=c}}}}function Ct(t,e){var n=e[gx];n===void 0&&(n=e[gx]=new Set);var r=t+"__bubble";n.has(r)||(x5(e,t,2,!1),n.add(r))}function AE(t,e,n){var r=0;e&&(r|=4),x5(n,t,r,e)}var F0="_reactListening"+Math.random().toString(36).slice(2);function yC(t){if(!t[F0]){t[F0]=!0,x6.forEach(function(n){n!=="selectionchange"&&(ede.has(n)||AE(n,!1,t),AE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[F0]||(e[F0]=!0,AE("selectionchange",!1,e))}}function x5(t,e,n,r){switch(P5(e)){case 2:var i=Cde;break;case 8:i=Tde;break;default:i=EC}n=i.bind(null,e,n,t),i=void 0,!wx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function CE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Dl(a),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){r=s=o;continue e}a=a.parentNode}}r=r.return}N6(function(){var u=s,h=MA(n),f=[];e:{var g=W6.get(t);if(g!==void 0){var m=Dw,_=t;switch(t){case"keypress":if(my(n)===0)break e;case"keydown":case"keyup":m=Kle;break;case"focusin":_="focus",m=rE;break;case"focusout":_="blur",m=rE;break;case"beforeblur":case"afterblur":m=rE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Dk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Ple;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Zle;break;case j6:case H6:case q6:m=Ule;break;case V6:m=Qle;break;case"scroll":case"scrollend":m=Ble;break;case"wheel":m=eue;break;case"copy":case"cut":case"paste":m=zle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$k;break;case"toggle":case"beforetoggle":m=nue}var x=(e&4)!==0,C=!x&&(t==="scroll"||t==="scrollend"),S=x?g!==null?g+"Capture":null:g;x=[];for(var T=u,I;T!==null;){var P=T;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||S===null||(P=Ig(T,S),P!=null&&x.push(Pg(T,P,I))),C)break;T=T.return}0<x.length&&(g=new m(g,_,null,n,h),f.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==bx&&(_=n.relatedTarget||n.fromElement)&&(Dl(_)||_[Qh]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Dl(_):null,_!==null&&(C=Xh(_),x=_.tag,_!==C||x!==5&&x!==27&&x!==6)&&(_=null)):(m=null,_=u),m!==_)){if(x=Dk,P="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(x=$k,P="onPointerLeave",S="onPointerEnter",T="pointer"),C=m==null?g:Gf(m),I=_==null?g:Gf(_),g=new x(P,T+"leave",m,n,h),g.target=C,g.relatedTarget=I,P=null,Dl(h)===u&&(x=new x(S,T+"enter",_,n,h),x.target=I,x.relatedTarget=C,P=x),C=P,m&&_)t:{for(x=m,S=_,T=0,I=x;I;I=ud(I))T++;for(I=0,P=S;P;P=ud(P))I++;for(;0<T-I;)x=ud(x),T--;for(;0<I-T;)S=ud(S),I--;for(;T--;){if(x===S||S!==null&&x===S.alternate)break t;x=ud(x),S=ud(S)}x=null}else x=null;m!==null&&CN(f,g,m,x,!1),_!==null&&C!==null&&CN(f,C,_,x,!0)}}e:{if(g=u?Gf(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var z=zk;else if(Lk(g))if(M6)z=hue;else{z=uue;var W=lue}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?u&&$A(u.elementType)&&(z=zk):z=due;if(z&&(z=z(t,u))){$6(f,z,n,h);break e}W&&W(t,g,u),t==="focusout"&&u&&g.type==="number"&&u.memoizedProps.value!=null&&yx(g,"number",g.value)}switch(W=u?Gf(u):window,t){case"focusin":(Lk(W)||W.contentEditable==="true")&&(Bd=W,vx=u,mp=null);break;case"focusout":mp=vx=Bd=null;break;case"mousedown":Ex=!0;break;case"contextmenu":case"mouseup":case"dragend":Ex=!1,Vk(f,n,h);break;case"selectionchange":if(gue)break;case"keydown":case"keyup":Vk(f,n,h)}var L;if(zA)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Od?D6(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(B6&&n.locale!=="ko"&&(Od||V!=="onCompositionStart"?V==="onCompositionEnd"&&Od&&(L=O6()):(Ic=h,UA="value"in Ic?Ic.value:Ic.textContent,Od=!0)),W=kb(u,V),0<W.length&&(V=new Pk(V,t,null,n,h),f.push({event:V,listeners:W}),L?V.data=L:(L=P6(n),L!==null&&(V.data=L)))),(L=iue?sue(t,n):oue(t,n))&&(V=kb(u,"onBeforeInput"),0<V.length&&(W=new Pk("onBeforeInput","beforeinput",null,n,h),f.push({event:W,listeners:V}),W.data=L)),Xue(f,t,u,n,h)}_5(f,e)})}function Pg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Ig(t,n),i!=null&&r.unshift(Pg(t,i,s)),i=Ig(t,e),i!=null&&r.push(Pg(t,i,s))),t=t.return}return r}function ud(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function CN(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(a=a.tag,c!==null&&c===r)break;a!==5&&a!==26&&a!==27||u===null||(c=u,i?(u=Ig(n,s),u!=null&&o.unshift(Pg(n,u,c))):i||(u=Ig(n,s),u!=null&&o.push(Pg(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tde=/\r\n?/g,nde=/\u0000|\uFFFD/g;function TN(t){return(typeof t=="string"?t:""+t).replace(tde,`
`).replace(nde,"")}function S5(t,e){return e=TN(e),TN(t)===e}function Vw(){}function Zt(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Th(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Th(t,""+r);break;case"className":B0(t,"class",r);break;case"tabIndex":B0(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":B0(t,n,r);break;case"style":k6(t,r,s);break;case"data":if(e!=="object"){B0(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=py(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Zt(t,e,"name",i.name,i,null),Zt(t,e,"formEncType",i.formEncType,i,null),Zt(t,e,"formMethod",i.formMethod,i,null),Zt(t,e,"formTarget",i.formTarget,i,null)):(Zt(t,e,"encType",i.encType,i,null),Zt(t,e,"method",i.method,i,null),Zt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=py(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Vw);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(de(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(de(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=py(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),fy(t,"popover",r);break;case"xlinkActuate":fa(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":fa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":fa(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":fa(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":fa(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":fa(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":fa(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":fa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":fa(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":fy(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Nle.get(n)||n,fy(t,n,r))}}function Kx(t,e,n,r,i,s){switch(n){case"style":k6(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(de(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(de(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Th(t,r):(typeof r=="number"||typeof r=="bigint")&&Th(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Vw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!S6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[Wi]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):fy(t,n,r)}}}function Qr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(de(137,e));default:Zt(t,e,s,o,n,null)}}i&&Zt(t,e,"srcSet",n.srcSet,n,null),r&&Zt(t,e,"src",n.src,n,null);return;case"input":Ct("invalid",t);var a=s=o=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":a=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(de(137,e));break;default:Zt(t,e,r,h,n,null)}}T6(t,s,a,c,u,o,i,!1),fb(t);return;case"select":Ct("invalid",t),r=o=s=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":s=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:Zt(t,e,i,a,n,null)}e=s,n=o,t.multiple=!!r,e!=null?Gd(t,!!r,e,!1):n!=null&&Gd(t,!!r,n,!0);return;case"textarea":Ct("invalid",t),s=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":i=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(de(91));break;default:Zt(t,e,o,a,n,null)}R6(t,r,i,s),fb(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Zt(t,e,c,r,n,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<Dg.length;r++)Ct(Dg[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(de(137,e));default:Zt(t,e,u,r,n,null)}return;default:if($A(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Kx(t,e,h,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&Zt(t,e,a,r,n,null))}function rde(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,a=null,c=null,u=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||Zt(t,e,m,null,r,f)}}for(var g in r){var m=r[g];if(f=n[g],r.hasOwnProperty(g)&&(m!=null||f!=null))switch(g){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":o=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(de(137,e));break;default:m!==f&&Zt(t,e,g,m,r,f)}}mx(t,o,a,c,u,h,s,i);return;case"select":m=o=a=g=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||Zt(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":g=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:s!==c&&Zt(t,e,i,s,r,c)}e=a,n=o,r=m,g!=null?Gd(t,!!n,g,!1):!!r!=!!n&&(e!=null?Gd(t,!!n,e,!0):Gd(t,!!n,n?[]:"",!1));return;case"textarea":m=g=null;for(a in n)if(i=n[a],n.hasOwnProperty(a)&&i!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Zt(t,e,a,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(i!=null||s!=null))switch(o){case"value":g=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(de(91));break;default:i!==s&&Zt(t,e,o,i,r,s)}I6(t,g,m);return;case"option":for(var _ in n)if(g=n[_],n.hasOwnProperty(_)&&g!=null&&!r.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:Zt(t,e,_,null,r,g)}for(c in r)if(g=r[c],m=n[c],r.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Zt(t,e,c,g,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!r.hasOwnProperty(x)&&Zt(t,e,x,null,r,g);for(u in r)if(g=r[u],m=n[u],r.hasOwnProperty(u)&&g!==m&&(g!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(de(137,e));break;default:Zt(t,e,u,g,r,m)}return;default:if($A(e)){for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!==void 0&&!r.hasOwnProperty(C)&&Kx(t,e,C,void 0,r,g);for(h in r)g=r[h],m=n[h],!r.hasOwnProperty(h)||g===m||g===void 0&&m===void 0||Kx(t,e,h,g,r,m);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!r.hasOwnProperty(S)&&Zt(t,e,S,null,r,g);for(f in r)g=r[f],m=n[f],!r.hasOwnProperty(f)||g===m||g==null&&m==null||Zt(t,e,f,g,r,m)}var Gx=null,Yx=null;function Nb(t){return t.nodeType===9?t:t.ownerDocument}function IN(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A5(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Zx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var TE=null;function ide(){var t=window.event;return t&&t.type==="popstate"?t===TE?!1:(TE=t,!0):(TE=null,!1)}var C5=typeof setTimeout=="function"?setTimeout:void 0,sde=typeof clearTimeout=="function"?clearTimeout:void 0,RN=typeof Promise=="function"?Promise:void 0,ode=typeof queueMicrotask=="function"?queueMicrotask:typeof RN<"u"?function(t){return RN.resolve(null).then(t).catch(ade)}:C5;function ade(t){setTimeout(function(){throw t})}function IE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zg(e)}function Xx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xx(n),PA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function cde(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Tg])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=wo(t.nextSibling),t===null)break}return null}function lde(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=wo(t.nextSibling),t===null))return null;return t}function wo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function kN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function T5(t,e,n){switch(e=Nb(n),t){case"html":if(t=e.documentElement,!t)throw Error(de(452));return t;case"head":if(t=e.head,!t)throw Error(de(453));return t;case"body":if(t=e.body,!t)throw Error(de(454));return t;default:throw Error(de(451))}}var Gs=new Map,NN=new Set;function Ob(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ya=wn.d;wn.d={f:ude,r:dde,D:hde,C:fde,L:pde,m:gde,X:yde,S:mde,M:bde};function ude(){var t=Ya.f(),e=Hw();return t||e}function dde(t){var e=Jh(t);e!==null&&e.tag===5&&e.type==="form"?T4(e):Ya.r(t)}var tf=typeof document>"u"?null:document;function I5(t,e,n){var r=tf;if(r&&typeof e=="string"&&e){var i=Fs(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),NN.has(i)||(NN.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Qr(e,"link",t),Nr(e),r.head.appendChild(e)))}}function hde(t){Ya.D(t),I5("dns-prefetch",t,null)}function fde(t,e){Ya.C(t,e),I5("preconnect",t,e)}function pde(t,e,n){Ya.L(t,e,n);var r=tf;if(r&&t&&e){var i='link[rel="preload"][as="'+Fs(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Fs(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Fs(n.imageSizes)+'"]')):i+='[href="'+Fs(t)+'"]';var s=i;switch(e){case"style":s=Bh(t);break;case"script":s=nf(t)}Gs.has(s)||(t=En({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Gs.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Bm(s))||e==="script"&&r.querySelector(Dm(s))||(e=r.createElement("link"),Qr(e,"link",t),Nr(e),r.head.appendChild(e)))}}function gde(t,e){Ya.m(t,e);var n=tf;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Fs(r)+'"][href="'+Fs(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=nf(t)}if(!Gs.has(s)&&(t=En({rel:"modulepreload",href:t},e),Gs.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dm(s)))return}r=n.createElement("link"),Qr(r,"link",t),Nr(r),n.head.appendChild(r)}}}function mde(t,e,n){Ya.S(t,e,n);var r=tf;if(r&&t){var i=Kd(r).hoistableStyles,s=Bh(t);e=e||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Bm(s)))a.loading=5;else{t=En({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Gs.get(s))&&bC(t,n);var c=o=r.createElement("link");Nr(c),Qr(c,"link",t),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,_y(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}}function yde(t,e){Ya.X(t,e);var n=tf;if(n&&t){var r=Kd(n).hoistableScripts,i=nf(t),s=r.get(i);s||(s=n.querySelector(Dm(i)),s||(t=En({src:t,async:!0},e),(e=Gs.get(i))&&wC(t,e),s=n.createElement("script"),Nr(s),Qr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function bde(t,e){Ya.M(t,e);var n=tf;if(n&&t){var r=Kd(n).hoistableScripts,i=nf(t),s=r.get(i);s||(s=n.querySelector(Dm(i)),s||(t=En({src:t,async:!0,type:"module"},e),(e=Gs.get(i))&&wC(t,e),s=n.createElement("script"),Nr(s),Qr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function ON(t,e,n,r){var i=(i=Pc.current)?Ob(i):null;if(!i)throw Error(de(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Bh(n.href),n=Kd(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Bh(n.href);var s=Kd(i).hoistableStyles,o=s.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,o),(s=i.querySelector(Bm(t)))&&!s._p&&(o.instance=s,o.state.loading=5),Gs.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Gs.set(t,n),s||wde(i,t,n,o.state))),e&&r===null)throw Error(de(528,""));return o}if(e&&r!==null)throw Error(de(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=nf(n),n=Kd(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(de(444,t))}}function Bh(t){return'href="'+Fs(t)+'"'}function Bm(t){return'link[rel="stylesheet"]['+t+"]"}function R5(t){return En({},t,{"data-precedence":t.precedence,precedence:null})}function wde(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Qr(e,"link",n),Nr(e),t.head.appendChild(e))}function nf(t){return'[src="'+Fs(t)+'"]'}function Dm(t){return"script[async]"+t}function BN(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Fs(n.href)+'"]');if(r)return e.instance=r,Nr(r),r;var i=En({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Nr(r),Qr(r,"style",i),_y(r,n.precedence,t),e.instance=r;case"stylesheet":i=Bh(n.href);var s=t.querySelector(Bm(i));if(s)return e.state.loading|=4,e.instance=s,Nr(s),s;r=R5(n),(i=Gs.get(i))&&bC(r,i),s=(t.ownerDocument||t).createElement("link"),Nr(s);var o=s;return o._p=new Promise(function(a,c){o.onload=a,o.onerror=c}),Qr(s,"link",r),e.state.loading|=4,_y(s,n.precedence,t),e.instance=s;case"script":return s=nf(n.src),(i=t.querySelector(Dm(s)))?(e.instance=i,Nr(i),i):(r=n,(i=Gs.get(s))&&(r=En({},n),wC(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Nr(i),Qr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(de(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,_y(r,n.precedence,t));return e.instance}function _y(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===e)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function bC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function wC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xy=null;function DN(t,e,n){if(xy===null){var r=new Map,i=xy=new Map;i.set(n,r)}else i=xy,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Tg]||s[pi]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(e)||"";o=t+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function PN(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function vde(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function k5(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var $g=null;function Ede(){}function _de(t,e,n){if($g===null)throw Error(de(475));var r=$g;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Bh(n.href),s=t.querySelector(Bm(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Bb.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,Nr(s);return}s=t.ownerDocument||t,n=R5(n),(i=Gs.get(i))&&bC(n,i),s=s.createElement("link"),Nr(s);var o=s;o._p=new Promise(function(a,c){o.onload=a,o.onerror=c}),Qr(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Bb.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function xde(){if($g===null)throw Error(de(475));var t=$g;return t.stylesheets&&t.count===0&&Qx(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Qx(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Bb(){if(this.count--,this.count===0){if(this.stylesheets)Qx(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Db=null;function Qx(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Db=new Map,e.forEach(Sde,t),Db=null,Bb.call(t))}function Sde(t,e){if(!(e.state.loading&4)){var n=Db.get(t);if(n)var r=n.get(null);else{n=new Map,Db.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),s=n.get(o)||r,s===r&&n.set(null,i),n.set(o,i),this.count++,r=Bb.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Mg={$$typeof:Na,Provider:null,Consumer:null,_currentValue:Wl,_currentValue2:Wl,_threadCount:0};function Ade(t,e,n,r,i,s,o,a){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=J1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J1(0),this.hiddenUpdates=J1(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function N5(t,e,n,r,i,s,o,a,c,u,h,f){return t=new Ade(t,e,n,o,a,c,u,f),e=1,s===!0&&(e|=24),s=qs(3,null,null,e),t.current=s,s.stateNode=t,e=KA(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},cC(s),t}function O5(t){return t?(t=$d,t):$d}function B5(t,e,n,r,i,s){i=O5(i),r.context===null?r.context=i:r.pendingContext=i,r=$c(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Mc(t,r,e),n!==null&&(Ci(n,t,e),_p(n,t,e))}function $N(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vC(t,e){$N(t,e),(t=t.alternate)&&$N(t,e)}function D5(t){if(t.tag===13){var e=Zc(t,67108864);e!==null&&Ci(e,t,67108864),vC(t,67108864)}}var Pb=!0;function Cde(t,e,n,r){var i=gt.T;gt.T=null;var s=wn.p;try{wn.p=2,EC(t,e,n,r)}finally{wn.p=s,gt.T=i}}function Tde(t,e,n,r){var i=gt.T;gt.T=null;var s=wn.p;try{wn.p=8,EC(t,e,n,r)}finally{wn.p=s,gt.T=i}}function EC(t,e,n,r){if(Pb){var i=Jx(r);if(i===null)CE(t,e,r,$b,n),MN(t,r);else if(Rde(i,t,e,n,r))r.stopPropagation();else if(MN(t,r),e&4&&-1<Ide.indexOf(t)){for(;i!==null;){var s=Jh(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=bl(s.pendingLanes);if(o!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-ps(o);a.entanglements[1]|=c,o&=~c}na(s),!(Pn&6)&&(Cb=Vo()+500,Om(0))}}break;case 13:a=Zc(s,2),a!==null&&Ci(a,s,2),Hw(),vC(s,2)}if(s=Jx(r),s===null&&CE(t,e,r,$b,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else CE(t,e,r,null,n)}}function Jx(t){return t=MA(t),_C(t)}var $b=null;function _C(t){if($b=null,t=Dl(t),t!==null){var e=Xh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=h6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return $b=t,null}function P5(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fle()){case p6:return 2;case g6:return 8;case hb:case ple:return 32;case m6:return 268435456;default:return 32}default:return 32}}var eS=!1,zc=null,Fc=null,jc=null,Ug=new Map,Lg=new Map,_c=[],Ide="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MN(t,e){switch(t){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Fc=null;break;case"mouseover":case"mouseout":jc=null;break;case"pointerover":case"pointerout":Ug.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lg.delete(e.pointerId)}}function Df(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jh(e),e!==null&&D5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rde(t,e,n,r,i){switch(e){case"focusin":return zc=Df(zc,t,e,n,r,i),!0;case"dragenter":return Fc=Df(Fc,t,e,n,r,i),!0;case"mouseover":return jc=Df(jc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ug.set(s,Df(Ug.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lg.set(s,Df(Lg.get(s)||null,t,e,n,r,i)),!0}return!1}function $5(t){var e=Dl(t.target);if(e!==null){var n=Xh(e);if(n!==null){if(e=n.tag,e===13){if(e=h6(n),e!==null){t.blockedOn=e,xle(t.priority,function(){if(n.tag===13){var r=gs(),i=Zc(n,r);i!==null&&Ci(i,n,r),vC(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bx=r,n.target.dispatchEvent(r),bx=null}else return e=Jh(n),e!==null&&D5(e),t.blockedOn=n,!1;e.shift()}return!0}function UN(t,e,n){Sy(t)&&n.delete(e)}function kde(){eS=!1,zc!==null&&Sy(zc)&&(zc=null),Fc!==null&&Sy(Fc)&&(Fc=null),jc!==null&&Sy(jc)&&(jc=null),Ug.forEach(UN),Lg.forEach(UN)}function j0(t,e){t.blockedOn===e&&(t.blockedOn=null,eS||(eS=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,kde)))}var H0=null;function LN(t){H0!==t&&(H0=t,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,function(){H0===t&&(H0=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(_C(r||n)===null)continue;break}var s=Jh(n);s!==null&&(t.splice(e,3),e-=3,Ix(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function zg(t){function e(c){return j0(c,t)}zc!==null&&j0(zc,t),Fc!==null&&j0(Fc,t),jc!==null&&j0(jc,t),Ug.forEach(e),Lg.forEach(e);for(var n=0;n<_c.length;n++){var r=_c[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<_c.length&&(n=_c[0],n.blockedOn===null);)$5(n),n.blockedOn===null&&_c.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Wi]||null;if(typeof s=="function")o||LN(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Wi]||null)a=o.formAction;else if(_C(i)!==null)continue}else a=o.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),LN(n)}}}function xC(t){this._internalRoot=t}Ww.prototype.render=xC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));var n=e.current,r=gs();B5(n,r,t,e,null,null)};Ww.prototype.unmount=xC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&eh(),B5(t.current,2,null,t,null,null),Hw(),e[Qh]=null}};function Ww(t){this._internalRoot=t}Ww.prototype.unstable_scheduleHydration=function(t){if(t){var e=_6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_c.length&&e!==0&&e<_c[n].priority;n++);_c.splice(n,0,t),n===0&&$5(t)}};var zN=a6.version;if(zN!=="19.0.0")throw Error(de(527,zN,"19.0.0"));wn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=ule(e),t=t!==null?f6(t):null,t=t===null?null:t.stateNode,t};var Nde={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:gt,findFiberByHostInstance:Dl,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q0.isDisabled&&q0.supportsFiber)try{xm=q0.inject(Nde),fs=q0}catch{}}Nw.createRoot=function(t,e){if(!c6(t))throw Error(de(299));var n=!1,r="",i=B4,s=D4,o=P4,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=N5(t,1,!1,null,null,n,r,i,s,o,a,null),t[Qh]=e.current,yC(t.nodeType===8?t.parentNode:t),new xC(e)};Nw.hydrateRoot=function(t,e,n){if(!c6(t))throw Error(de(299));var r=!1,i="",s=B4,o=D4,a=P4,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=N5(t,1,!0,e,n??null,r,i,s,o,a,c,u),e.context=O5(null),n=e.current,r=gs(),i=$c(r),i.callback=null,Mc(n,i,r),e.current.lanes=r,Am(e,r),na(e),t[Qh]=e.current,yC(t),new Ww(e)};Nw.version="19.0.0";function M5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M5)}catch(t){console.error(t)}}M5(),t6.exports=Nw;var Ode=t6.exports,fo={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},Bde=Object.defineProperty,Dde=(t,e)=>{for(var n in e)Bde(t,n,{get:e[n],enumerable:!0})},Pde={isBrowser:!0},U5=new WeakMap,al=t=>U5.get(t),$de=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return U5.set(t,n)},FN=(t,e)=>e in t,Pm=(t,e)=>(0,console.error)(t,e),Mb=new Map,L5=[],Mde="slot-fb{display:contents}slot-fb[hidden]{display:none}",jN="http://www.w3.org/1999/xlink",$m=typeof window<"u"?window:{},vo=$m.document||{head:{}},An=$m.HTMLElement||class{},ni={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},Ude=(()=>{let t=!1;try{vo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),Lde=t=>Promise.resolve(t),zde=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),tS=!1,nS=[],z5=[],F5=(t,e)=>n=>{t.push(n),tS||(tS=!0,e&&ni.$flags$&4?Fde(rS):ni.raf(rS))},HN=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Pm(n)}t.length=0},rS=()=>{HN(nS),HN(z5),(tS=nS.length>0)&&ni.raf(rS)},Fde=t=>Lde().then(t),Fg=F5(nS,!1),el=F5(z5,!0),j5=t=>{const e=new URL(t,ni.$resourcesUrl$);return e.origin!==$m.location.origin?e.href:e.pathname},qN={},jde="http://www.w3.org/2000/svg",Hde="http://www.w3.org/1999/xhtml",qde=t=>t!=null,SC=t=>(t=typeof t,t==="object"||t==="function");function Vde(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var Wde={};Dde(Wde,{err:()=>H5,map:()=>Kde,ok:()=>iS,unwrap:()=>Gde,unwrapErr:()=>Yde});var iS=t=>({isOk:!0,isErr:!1,value:t}),H5=t=>({isOk:!1,isErr:!0,value:t});function Kde(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>iS(r)):iS(n)}if(t.isErr){const n=t.value;return H5(n)}throw"should never get here"}var Gde=t=>{if(t.isOk)return t.value;throw t.value},Yde=t=>{if(t.isErr)return t.value;throw t.value},fu=(t,e="")=>()=>{},Ae=(t,e,...n)=>{let r=null,i=null,s=null,o=!1,a=!1;const c=[],u=f=>{for(let g=0;g<f.length;g++)r=f[g],Array.isArray(r)?u(r):r!=null&&typeof r!="boolean"&&((o=typeof t!="function"&&!SC(r))&&(r=String(r)),o&&a?c[c.length-1].$text$+=r:c.push(o?Ub(null,r):r),a=o)};if(u(n),e){e.key&&(i=e.key),e.name&&(s=e.name);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(g=>f[g]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,c,Xde);const h=Ub(t,null);return h.$attrs$=e,c.length>0&&(h.$children$=c),h.$key$=i,h.$name$=s,h},Ub=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Mn={},Zde=t=>t&&t.$tag$===Mn,Xde={forEach:(t,e)=>t.map(VN).forEach(e),map:(t,e)=>t.map(VN).map(e).map(Qde)},VN=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),Qde=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Ae(t.vtag,n,...t.vchildren||[])}const e=Ub(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},Jde=t=>L5.map(e=>e(t)).find(e=>!!e),ehe=t=>L5.push(t),the=t=>al(t).$modeName$,nhe=(t,e)=>t!=null&&!SC(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,rhe=t=>t,bn=(t,e,n)=>{const r=rhe(t);return{emit:i=>ihe(r,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},ihe=(t,e,n)=>{const r=ni.ce(e,n);return t.dispatchEvent(r),r},WN=new WeakMap,she=(t,e,n)=>{let r=Mb.get(t);zde&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Mb.set(t,r)},ohe=(t,e,n)=>{var r;const i=q5(e,n),s=Mb.get(i);if(t=t.nodeType===11?t:vo,s)if(typeof s=="string"){t=t.head||t;let o=WN.get(t),a;if(o||WN.set(t,o=new Set),!o.has(i)){{a=vo.createElement("style"),a.innerHTML=s;const c=(r=ni.$nonce$)!=null?r:Vde(vo);c!=null&&a.setAttribute("nonce",c),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=Mde),o&&o.add(i)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return i},ahe=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=fu("attachStyles",e.$tagName$),s=ohe(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);r&10&&r&2&&(n["s-sc"]=s,n.classList.add(s+"-h"),r&2&&n.classList.add(s+"-s")),i()},q5=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),KN=(t,e,n,r,i,s)=>{if(n!==r){let o=FN(t,e),a=e.toLowerCase();if(e==="class"){const c=t.classList,u=GN(n),h=GN(r);c.remove(...u.filter(f=>f&&!h.includes(f))),c.add(...h.filter(f=>f&&!u.includes(f)))}else if(e==="style"){for(const c in n)(!r||r[c]==null)&&(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in r)(!n||r[c]!==n[c])&&(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):FN($m,a)?e=a.slice(2):e=a[2]+e.slice(3),n||r){const c=e.endsWith(V5);e=e.replace(lhe,""),n&&ni.rel(t,e,n,c),r&&ni.ael(t,e,r,c)}}else{const c=SC(r);if((o||c&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const h=r??"";e==="list"?o=!1:(n==null||t[e]!=h)&&(t[e]=h)}}catch{}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,u=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(u?t.removeAttributeNS(jN,e):t.removeAttribute(e)):(!o||s&4||i)&&!c&&(r=r===!0?"":r,u?t.setAttributeNS(jN,e,r):t.setAttribute(e,r))}}},che=/\s/,GN=t=>t?t.split(che):[],V5="Capture",lhe=new RegExp(V5+"$"),W5=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||qN,s=e.$attrs$||qN;for(const o of YN(Object.keys(i)))o in s||KN(r,o,i[o],void 0,n,e.$flags$);for(const o of YN(Object.keys(s)))KN(r,o,i[o],s[o],n,e.$flags$)};function YN(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var _d,sS,jg,Lb=!1,zb=!1,AC=!1,is=!1,Fb=(t,e,n,r)=>{var i;const s=e.$children$[n];let o=0,a,c,u;if(Lb||(AC=!0,s.$tag$==="slot"&&(_d&&r.classList.add(_d+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=vo.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=vo.createTextNode("");else{if(is||(is=s.$tag$==="svg"),a=s.$elm$=vo.createElementNS(is?jde:Hde,!Lb&&fo.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),is&&s.$tag$==="foreignObject"&&(is=!1),W5(null,s,is),!!a.getRootNode().querySelector("body")&&fo.scoped&&qde(_d)&&a["s-si"]!==_d&&a.classList.add(a["s-si"]=_d),TC(a,r),s.$children$)for(o=0;o<s.$children$.length;++o)c=Fb(t,s,o,a),c&&a.appendChild(c);s.$tag$==="svg"?is=!1:a.tagName==="foreignObject"&&(is=!0)}return a["s-hn"]=jg,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=sS,a["s-sn"]=s.$name$||"",a["s-rf"]=(i=s.$attrs$)==null?void 0:i.ref,u=t&&t.$children$&&t.$children$[n],u&&u.$tag$===s.$tag$&&t.$elm$&&Hg(t.$elm$,!1)),a},Hg=(t,e)=>{ni.$flags$|=1;const n=Array.from(t.childNodes);t["s-sr"]&&fo.experimentalSlotFixes;for(let r=n.length-1;r>=0;r--){const i=n[r];i["s-hn"]!==jg&&i["s-ol"]&&(Hc(Y5(i),i,CC(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,AC=!0),e&&Hg(i,e)}ni.$flags$&=-2},K5=(t,e,n,r,i,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===jg&&(o=o.shadowRoot);i<=s;++i)r[i]&&(a=Fb(null,n,i,t),a&&(r[i].$elm$=a,Hc(o,a,CC(e))))},G5=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const s=i.$elm$;Q5(i),s&&(zb=!0,s["s-ol"]?s["s-ol"].remove():Hg(s,!0),s.remove())}}},uhe=(t,e,n,r,i=!1)=>{let s=0,o=0,a=0,c=0,u=e.length-1,h=e[0],f=e[u],g=r.length-1,m=r[0],_=r[g],x,C;for(;s<=u&&o<=g;)if(h==null)h=e[++s];else if(f==null)f=e[--u];else if(m==null)m=r[++o];else if(_==null)_=r[--g];else if(V0(h,m,i))xd(h,m,i),h=e[++s],m=r[++o];else if(V0(f,_,i))xd(f,_,i),f=e[--u],_=r[--g];else if(V0(h,_,i))(h.$tag$==="slot"||_.$tag$==="slot")&&Hg(h.$elm$.parentNode,!1),xd(h,_,i),Hc(t,h.$elm$,f.$elm$.nextSibling),h=e[++s],_=r[--g];else if(V0(f,m,i))(h.$tag$==="slot"||_.$tag$==="slot")&&Hg(f.$elm$.parentNode,!1),xd(f,m,i),Hc(t,f.$elm$,h.$elm$),f=e[--u],m=r[++o];else{for(a=-1,c=s;c<=u;++c)if(e[c]&&e[c].$key$!==null&&e[c].$key$===m.$key$){a=c;break}a>=0?(C=e[a],C.$tag$!==m.$tag$?x=Fb(e&&e[o],n,a,t):(xd(C,m,i),e[a]=void 0,x=C.$elm$),m=r[++o]):(x=Fb(e&&e[o],n,o,t),m=r[++o]),x&&Hc(Y5(h.$elm$),x,CC(h.$elm$))}s>u?K5(t,r[g+1]==null?null:r[g+1].$elm$,n,r,o,g):o>g&&G5(e,s,u)},V0=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,CC=t=>t&&t["s-ol"]||t,Y5=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,xd=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let c;a===null?(is=o==="svg"?!0:o==="foreignObject"?!1:is,o==="slot"&&!Lb||W5(t,e,is),i!==null&&s!==null?uhe(r,i,e,s,n):s!==null?(t.$text$!==null&&(r.textContent=""),K5(r,null,e,s,0,s.length-1)):!n&&fo.updatable&&i!==null&&G5(i,0,i.length-1),is&&o==="svg"&&(is=!1)):(c=r["s-cr"])?c.parentNode.textContent=a:t.$text$!==a&&(r.data=a)},Z5=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const r=n["s-sn"];n.hidden=!1;for(const i of e)if(i!==n){if(i["s-hn"]!==n["s-hn"]||r!==""){if(i.nodeType===1&&(r===i.getAttribute("slot")||r===i["s-sn"])||i.nodeType===3&&r===i["s-sn"]){n.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){n.hidden=!0;break}}}Z5(n)}},Ea=[],X5=t=>{let e,n,r;for(const i of t.childNodes){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const s=i["s-sn"];for(r=n.length-1;r>=0;r--)if(e=n[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"])if(ZN(e,s)){let o=Ea.find(a=>a.$nodeToRelocate$===e);zb=!0,e["s-sn"]=e["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],Ea.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&Ea.map(a=>{ZN(a.$nodeToRelocate$,e["s-sn"])&&(o=Ea.find(c=>c.$nodeToRelocate$===e),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else Ea.some(o=>o.$nodeToRelocate$===e)||Ea.push({$nodeToRelocate$:e})}i.nodeType===1&&X5(i)}},ZN=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",Q5=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(Q5)},Hc=(t,e,n)=>{const r=t?.insertBefore(e,n);return TC(e,t),r},J5=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...J5(t.parentElement)),e},TC=(t,e,n=!1)=>{var r;if(t&&e&&t.nodeType===1){const i=new Set(J5(e).filter(Boolean));if(i.size&&((r=t.classList)==null||r.add(...t["s-scs"]=[...i]),t["s-ol"]||n))for(const s of Array.from(t.childNodes))TC(s,t,!0)}},dhe=(t,e,n=!1)=>{var r,i,s,o,a;const c=t.$hostElement$,u=t.$cmpMeta$,h=t.$vnode$||Ub(null,null),f=Zde(e)?e:Ae(null,null,e);if(jg=c.tagName,u.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},u.$attrsToReflect$.map(([g,m])=>f.$attrs$[m]=c[g])),n&&f.$attrs$)for(const g of Object.keys(f.$attrs$))c.hasAttribute(g)&&!["key","ref","style","class"].includes(g)&&(f.$attrs$[g]=c[g]);f.$tag$=null,f.$flags$|=4,t.$vnode$=f,f.$elm$=h.$elm$=c.shadowRoot||c,_d=c["s-sc"],Lb=(u.$flags$&1)!==0,sS=c["s-cr"],zb=!1,xd(h,f,n);{if(ni.$flags$|=1,AC){X5(f.$elm$);for(const g of Ea){const m=g.$nodeToRelocate$;if(!m["s-ol"]){const _=vo.createTextNode("");_["s-nr"]=m,Hc(m.parentNode,m["s-ol"]=_,m)}}for(const g of Ea){const m=g.$nodeToRelocate$,_=g.$slotRefNode$;if(_){const x=_.parentNode;let C=_.nextSibling;{let S=(r=m["s-ol"])==null?void 0:r.previousSibling;for(;S;){let T=(i=S["s-nr"])!=null?i:null;if(T&&T["s-sn"]===m["s-sn"]&&x===T.parentNode){for(T=T.nextSibling;T===m||T?.["s-sr"];)T=T?.nextSibling;if(!T||!T["s-nr"]){C=T;break}}S=S.previousSibling}}(!C&&x!==m.parentNode||m.nextSibling!==C)&&m!==C&&(!m["s-hn"]&&m["s-ol"]&&(m["s-hn"]=m["s-ol"].parentNode.nodeName),Hc(x,m,C),m.nodeType===1&&(m.hidden=(s=m["s-ih"])!=null?s:!1)),m&&typeof _["s-rf"]=="function"&&_["s-rf"](m)}else m.nodeType===1&&(n&&(m["s-ih"]=(o=m.hidden)!=null?o:!1),m.hidden=!0)}}zb&&Z5(f.$elm$),ni.$flags$&=-2,Ea.length=0}if(fo.experimentalScopedSlotChanges&&u.$flags$&2)for(const g of f.$elm$.childNodes)g["s-hn"]!==jg&&!g["s-sh"]&&(n&&g["s-ih"]==null&&(g["s-ih"]=(a=g.hidden)!=null?a:!1),g.hidden=!0);sS=void 0},hhe=(t,e)=>{},IC=(t,e)=>(t.$flags$|=16,hhe(t,t.$ancestorComponent$),el(()=>fhe(t,e))),fhe=(t,e)=>{const n=t.$hostElement$,r=fu("scheduleUpdate",t.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return e?s=th(i,"componentWillLoad"):s=th(i,"componentWillUpdate"),s=XN(s,()=>th(i,"componentWillRender")),r(),XN(s,()=>ghe(t,i,e))},XN=(t,e)=>phe(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),phe=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",ghe=async(t,e,n)=>{const r=t.$hostElement$,i=fu("update",t.$cmpMeta$.$tagName$);r["s-rc"],n&&ahe(t);const s=fu("render",t.$cmpMeta$.$tagName$);mhe(t,e,r,n),s(),i(),yhe(t)},QN=null,mhe=(t,e,n,r)=>{try{QN=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(fo.hasRenderFn||fo.reflect)&&(fo.vdomRender||fo.reflect)&&(fo.hydrateServerSide||dhe(t,e,r))}catch(c){Pm(c,t.$hostElement$)}return QN=null,null},yhe=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=fu("postUpdate",e),i=n;t.$ancestorComponent$,th(i,"componentDidRender"),t.$flags$&64?(th(i,"componentDidUpdate"),r()):(t.$flags$|=64,th(i,"componentDidLoad"),r())},jb=t=>{{const e=al(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&IC(e,!1),n}},th=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){Pm(r)}},bhe=(t,e)=>al(t).$instanceValues$.get(e),whe=(t,e,n,r)=>{const i=al(t),s=t,o=i.$instanceValues$.get(e),a=i.$flags$,c=s;n=nhe(n,r.$members$[e][0]);const u=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!u){i.$instanceValues$.set(e,n);{if(r.$watchers$&&a&128){const f=r.$watchers$[e];f&&f.map(g=>{try{c[g](n,o,e)}catch(m){Pm(m,s)}})}if((a&18)===2){if(c.componentShouldUpdate&&c.componentShouldUpdate(n,o,e)===!1)return;IC(i,!1)}}}},vhe=(t,e,n)=>{var r,i;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((r=e.$members$)!=null?r:{});o.map(([a,[c]])=>{(c&31||c&32)&&Object.defineProperty(s,a,{get(){return bhe(this,a)},set(u){whe(this,a,u,e)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(c,u,h){ni.jmp(()=>{var f;const g=a.get(c);if(this.hasOwnProperty(g))h=this[g],delete this[g];else{if(s.hasOwnProperty(g)&&typeof this[g]=="number"&&this[g]==h)return;if(g==null){const m=al(this),_=m?.$flags$;if(_&&!(_&8)&&_&128&&h!==u){const C=this,S=(f=e.$watchers$)==null?void 0:f[c];S?.forEach(T=>{C[T]!=null&&C[T].call(C,h,u,c)})}return}}this[g]=h===null&&typeof this[g]=="boolean"?!1:h})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([c,u])=>u[0]&15).map(([c,u])=>{var h;const f=u[1]||c;return a.set(f,c),u[0]&512&&((h=e.$attrsToReflect$)==null||h.push([c,f])),f})]))}}return t},Ehe=async(t,e,n,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{i=t.constructor;const o=t.localName;customElements.whenDefined(o).then(()=>e.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(e.$modeName$=Jde(t),e.$modeName$&&(o=i.style[e.$modeName$]));const a=q5(n,e.$modeName$);if(!Mb.has(a)){const c=fu("registerStyles",n.$tagName$);she(a,o,!!(n.$flags$&1)),c()}}}e.$ancestorComponent$,IC(e,!0)},JN=t=>{},_he=t=>{if(!(ni.$flags$&1)){const e=al(t),n=e.$cmpMeta$,r=fu("connectedCallback",n.$tagName$);e.$flags$&1?(e$(t,e,n.$listeners$),e?.$lazyInstance$?JN(e.$lazyInstance$):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>JN(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&xhe(t),n.$members$&&Object.entries(n.$members$).map(([i,[s]])=>{if(s&31&&t.hasOwnProperty(i)){const o=t[i];delete t[i],t[i]=o}}),Ehe(t,e,n)),r()}},xhe=t=>{const e=t["s-cr"]=vo.createComment("");e["s-cn"]=!0,Hc(t,e,t.firstChild)},She=async t=>{if(!(ni.$flags$&1)){const e=al(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},Cn=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){$de(this,n)},connectedCallback(){const s=al(this);e$(this,s,n.$listeners$),_he(this),r&&r.call(this)},disconnectedCallback(){She(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=n.$tagName$,vhe(t,n)},e$=(t,e,n,r)=>{n&&n.map(([i,s,o])=>{const a=Che(t,i),c=Ahe(e,o),u=The(i);ni.ael(a,s,c,u),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>ni.rel(a,s,c,u))})},Ahe=(t,e)=>n=>{var r;try{fo.lazyLoad||t.$hostElement$[e](n)}catch(i){Pm(i)}},Che=(t,e)=>e&4?vo:e&8?$m:e&16?vo.body:t,The=t=>Ude?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class Ihe{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return r!==void 0?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return r===void 0?n:typeof r=="string"?r==="true":!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?n!==void 0?n:NaN:r}set(e,n){this.m.set(e,n)}}const Nt=new Ihe,Rhe=t=>{try{const e=t.sessionStorage.getItem(t$);return e!==null?JSON.parse(e):{}}catch{return{}}},khe=(t,e)=>{try{t.sessionStorage.setItem(t$,JSON.stringify(e))}catch{return}},Nhe=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,r])=>{try{return[decodeURIComponent(n),decodeURIComponent(r)]}catch{return["",""]}}).filter(([n])=>Ohe(n,eO)).map(([n,r])=>[n.slice(eO.length),r]).forEach(([n,r])=>{e[n]=r}),e},Ohe=(t,e)=>t.substr(0,e.length)===e,eO="ionic:",t$="ionic-persist-config";var Ql;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(Ql||(Ql={}));const tl=(t,...e)=>{const n=Nt.get("logLevel",Ql.WARN);if([Ql.WARN].includes(n))return console.warn(`[Ionic Warning]: ${t}`,...e)},nl=(t,...e)=>{const n=Nt.get("logLevel",Ql.ERROR);if([Ql.ERROR,Ql.WARN].includes(n))return console.error(`[Ionic Error]: ${t}`,...e)},Bhe=(t,...e)=>console.error(`<${t.tagName.toLowerCase()}> must be used inside ${e.join(" or ")}.`);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yr=typeof window<"u"?window:void 0,nh=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let RE;const Dhe=t=>{if(RE===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;RE=!e&&n?"-webkit-":""}return RE},kE=(t,e,n)=>{const r=e.startsWith("animation")?Dhe(t):"";t.style.setProperty(r+e,n)},W0=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},qc=t=>{let e,n,r,i,s,o,a=[],c=[],u=[],h=!1,f,g={},m=[],_=[],x={},C=0,S=!1,T=!1,I,P,z,W=!0,L=!1,V=!0,q,X=!1;const Y=t,ee=[],j=[],w=[],b=[],v=[],O=[],B=[],R=[],M=[],k=[],E=[],U=typeof AnimationEffect=="function"||yr!==void 0&&typeof yr.AnimationEffect=="function",Q=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&U,te=()=>E,oe=ae=>(v.forEach(Me=>{Me.destroy(ae)}),pe(ae),b.length=0,v.length=0,a.length=0,je(),h=!1,V=!0,q),pe=ae=>{Pe(),ae&&st()},ue=()=>{S=!1,T=!1,V=!0,I=void 0,P=void 0,z=void 0,C=0,L=!1,W=!0,X=!1},me=()=>C!==0&&!X,et=(ae,Me)=>{const dt=Me.findIndex(hn=>hn.c===ae);dt>-1&&Me.splice(dt,1)},qe=(ae,Me)=>(w.push({c:ae,o:Me}),q),ke=(ae,Me)=>((Me?.oneTimeCallback?j:ee).push({c:ae,o:Me}),q),je=()=>(ee.length=0,j.length=0,q),Pe=()=>{Q&&(E.forEach(ae=>{ae.cancel()}),E.length=0)},st=()=>{O.forEach(ae=>{ae?.parentNode&&ae.parentNode.removeChild(ae)}),O.length=0},K=ae=>(B.push(ae),q),N=ae=>(R.push(ae),q),D=ae=>(M.push(ae),q),G=ae=>(k.push(ae),q),J=ae=>(c=W0(c,ae),q),se=ae=>(u=W0(u,ae),q),ce=(ae={})=>(g=ae,q),Be=(ae=[])=>{for(const Me of ae)g[Me]="";return q},Ge=ae=>(m=W0(m,ae),q),Ye=ae=>(_=W0(_,ae),q),at=(ae={})=>(x=ae,q),p=(ae=[])=>{for(const Me of ae)x[Me]="";return q},l=()=>s!==void 0?s:f?f.getFill():"both",d=()=>I!==void 0?I:o!==void 0?o:f?f.getDirection():"normal",y=()=>S?"linear":r!==void 0?r:f?f.getEasing():"linear",A=()=>T?0:P!==void 0?P:n!==void 0?n:f?f.getDuration():0,$=()=>i!==void 0?i:f?f.getIterations():1,F=()=>z!==void 0?z:e!==void 0?e:f?f.getDelay():0,le=()=>a,ve=ae=>(o=ae,kt(!0),q),ye=ae=>(s=ae,kt(!0),q),Ne=ae=>(e=ae,kt(!0),q),he=ae=>(r=ae,kt(!0),q),Un=ae=>(!Q&&ae===0&&(ae=1),n=ae,kt(!0),q),jm=ae=>(i=ae,kt(!0),q),Ln=ae=>(f=ae,q),zn=ae=>{if(ae!=null)if(ae.nodeType===1)b.push(ae);else if(ae.length>=0)for(let Me=0;Me<ae.length;Me++)b.push(ae[Me]);else nl("createAnimation - Invalid addElement value.");return q},Hm=ae=>{if(ae!=null)if(Array.isArray(ae))for(const Me of ae)Me.parent(q),v.push(Me);else ae.parent(q),v.push(ae);return q},Fn=ae=>{const Me=a!==ae;return a=ae,Me&&jn(a),q},jn=ae=>{Q&&te().forEach(Me=>{const dt=Me.effect;if(dt.setKeyframes)dt.setKeyframes(ae);else{const hn=new KeyframeEffect(dt.target,ae,dt.getTiming());Me.effect=hn}})},qm=()=>{B.forEach(hn=>hn()),R.forEach(hn=>hn());const ae=c,Me=u,dt=g;b.forEach(hn=>{const pr=hn.classList;ae.forEach(ki=>pr.add(ki)),Me.forEach(ki=>pr.remove(ki));for(const ki in dt)dt.hasOwnProperty(ki)&&kE(hn,ki,dt[ki])})},Hn=()=>{M.forEach(pr=>pr()),k.forEach(pr=>pr());const ae=W?1:0,Me=m,dt=_,hn=x;b.forEach(pr=>{const ki=pr.classList;Me.forEach(Js=>ki.add(Js)),dt.forEach(Js=>ki.remove(Js));for(const Js in hn)hn.hasOwnProperty(Js)&&kE(pr,Js,hn[Js])}),P=void 0,I=void 0,z=void 0,ee.forEach(pr=>pr.c(ae,q)),j.forEach(pr=>pr.c(ae,q)),j.length=0,V=!0,W&&(L=!0),W=!0},dn=()=>{C!==0&&(C--,C===0&&(Hn(),f&&f.animationFinish()))},Vm=()=>{b.forEach(ae=>{const Me=ae.animate(a,{id:Y,delay:F(),duration:A(),easing:y(),iterations:$(),fill:l(),direction:d()});Me.pause(),E.push(Me)}),E.length>0&&(E[0].onfinish=()=>{dn()})},Tn=()=>{qm(),a.length>0&&Q&&Vm(),h=!0},rn=ae=>{ae=Math.min(Math.max(ae,0),.9999),Q&&E.forEach(Me=>{Me.currentTime=Me.effect.getComputedTiming().delay+A()*ae,Me.pause()})},af=ae=>{E.forEach(Me=>{Me.effect.updateTiming({delay:F(),duration:A(),easing:y(),iterations:$(),fill:l(),direction:d()})}),ae!==void 0&&rn(ae)},kt=(ae=!1,Me=!0,dt)=>(ae&&v.forEach(hn=>{hn.update(ae,Me,dt)}),Q&&af(dt),q),qn=(ae=!1,Me)=>(v.forEach(dt=>{dt.progressStart(ae,Me)}),In(),S=ae,h||Tn(),kt(!1,!0,Me),q),Wm=ae=>(v.forEach(Me=>{Me.progressStep(ae)}),rn(ae),q),Vn=(ae,Me,dt)=>(S=!1,v.forEach(hn=>{hn.progressEnd(ae,Me,dt)}),dt!==void 0&&(P=dt),L=!1,W=!0,ae===0?(I=d()==="reverse"?"normal":"reverse",I==="reverse"&&(W=!1),Q?(kt(),rn(1-Me)):(z=(1-Me)*A()*-1,kt(!1,!1))):ae===1&&(Q?(kt(),rn(Me)):(z=Me*A()*-1,kt(!1,!1))),ae!==void 0&&!f&&Rn(),q),In=()=>{h&&(Q?E.forEach(ae=>{ae.pause()}):b.forEach(ae=>{kE(ae,"animation-play-state","paused")}),X=!0)},Km=()=>(v.forEach(ae=>{ae.pause()}),In(),q),Wn=()=>{dn()},Kn=()=>{E.forEach(ae=>{ae.play()}),(a.length===0||b.length===0)&&dn()},Gm=()=>{Q&&(rn(0),af())},Rn=ae=>new Promise(Me=>{ae?.sync&&(T=!0,ke(()=>T=!1,{oneTimeCallback:!0})),h||Tn(),L&&(Gm(),L=!1),V&&(C=v.length+1,V=!1);const dt=()=>{et(hn,j),Me()},hn=()=>{et(dt,w),Me()};ke(hn,{oneTimeCallback:!0}),qe(dt,{oneTimeCallback:!0}),v.forEach(pr=>{pr.play()}),Q?Kn():Wn(),X=!1}),Gn=()=>{v.forEach(ae=>{ae.stop()}),h&&(Pe(),h=!1),ue(),w.forEach(ae=>ae.c(0,q)),w.length=0},$u=(ae,Me)=>{const dt=a[0];return dt!==void 0&&(dt.offset===void 0||dt.offset===0)?dt[ae]=Me:a=[{offset:0,[ae]:Me},...a],q};return q={parentAnimation:f,elements:b,childAnimations:v,id:Y,animationFinish:dn,from:$u,to:(ae,Me)=>{const dt=a[a.length-1];return dt!==void 0&&(dt.offset===void 0||dt.offset===1)?dt[ae]=Me:a=[...a,{offset:1,[ae]:Me}],q},fromTo:(ae,Me,dt)=>$u(ae,Me).to(ae,dt),parent:Ln,play:Rn,pause:Km,stop:Gn,destroy:oe,keyframes:Fn,addAnimation:Hm,addElement:zn,update:kt,fill:ye,direction:ve,iterations:jm,duration:Un,easing:he,delay:Ne,getWebAnimations:te,getKeyframes:le,getFill:l,getDirection:d,getDelay:F,getIterations:$,getEasing:y,getDuration:A,afterAddRead:D,afterAddWrite:G,afterClearStyles:p,afterStyles:at,afterRemoveClass:Ye,afterAddClass:Ge,beforeAddRead:K,beforeAddWrite:N,beforeClearStyles:Be,beforeStyles:ce,beforeRemoveClass:se,beforeAddClass:J,onFinish:ke,isRunning:me,progressStart:qn,progressStep:Wm,progressEnd:Vn}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Dh=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):kC(()=>e(t))},oS=t=>t.componentOnReady!==void 0,RC=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},Phe=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Kw=(t,e)=>RC(t,Phe),Jwe=(t,e,n,r)=>t.addEventListener(e,n,r),eve=(t,e,n,r)=>t.removeEventListener(e,n,r),kC=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),$he=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},NC=(t,e,n)=>Math.max(t,Math.min(e,n)),Ar=(t,e)=>{if(!t){const n="ASSERT: "+e;nl(n);debugger;throw new Error(n)}},tve=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},tO=t=>{const e=document.dir==="rtl";switch(t){case"start":return e;case"end":return!e;default:throw new Error(`"${t}" is not a valid value for [side]. Use "start" or "end" instead.`)}},n$=(t,e)=>{if(t??(t={}),e??(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!(r in e)||t[r]!==e[r])return!1;return!0},Mhe="ionViewWillEnter",Uhe="ionViewDidEnter",r$="ionViewWillLeave",i$="ionViewDidLeave",NE="ionViewWillUnload",Pf=t=>{t.tabIndex=-1,t.focus()},K0=t=>t.offsetParent!==null,Lhe=()=>({saveViewFocus:n=>{if(Nt.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&n?.contains(i)&&i.setAttribute(nO,"true")}},setViewFocus:n=>{const r=Nt.get("focusManagerPriority",!1);if(Array.isArray(r)&&!n.contains(document.activeElement)){const i=n.querySelector(`[${nO}]`);if(i&&K0(i)){Pf(i);return}for(const s of r)switch(s){case"content":const o=n.querySelector('main, [role="main"]');if(o&&K0(o)){Pf(o);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&K0(a)){Pf(a);return}break;case"banner":const c=n.querySelector('header, [role="banner"]');if(c&&K0(c)){Pf(c);return}break;default:tl(`Unrecognized focus manager priority value ${s}`);break}Pf(n)}}}),nO="ion-last-focus",zhe=()=>Nn(()=>import("./ios.transition-Cg79iSme.js"),[]),Fhe=()=>Nn(()=>import("./md.transition-DnnWgOpw.js"),[]),s$=Lhe(),o$=t=>new Promise((e,n)=>{el(()=>{jhe(t),Hhe(t).then(r=>{r.animation&&r.animation.destroy(),rO(t),e(r)},r=>{rO(t),n(r)})})}),jhe=t=>{const e=t.enteringEl,n=t.leavingEl;s$.saveViewFocus(n),Yhe(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),cS(e,!1),e.style.setProperty("pointer-events","none"),n&&(cS(n,!1),n.style.setProperty("pointer-events","none"))},Hhe=async t=>{const e=await qhe(t);return e&&Pde.isBrowser?Vhe(e,t):Whe(t)},rO=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),s$.setViewFocus(e)},qhe=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await zhe()).iosTransitionAnimation:(await Fhe()).mdTransitionAnimation,Vhe=async(t,e)=>{await a$(e,!0);const n=t(e.baseEl,e);c$(e.enteringEl,e.leavingEl);const r=await Ghe(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&l$(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},Whe=async t=>{const e=t.enteringEl,n=t.leavingEl,r=Nt.get("focusManagerPriority",!1);return await a$(t,r),c$(e,n),l$(e,n),{hasCompleted:!0}},a$=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([aS(t.enteringEl),aS(t.leavingEl)]),await Khe(t.viewIsReady,t.enteringEl)},Khe=async(t,e)=>{t&&await t(e)},Ghe=(t,e)=>{const n=e.progressCallback,r=new Promise(i=>{t.onFinish(s=>i(s===1))});return n?(t.progressStart(!0),n(t)):t.play(),r},c$=(t,e)=>{Ra(e,r$),Ra(t,Mhe)},l$=(t,e)=>{Ra(t,Uhe),Ra(e,i$)},Ra=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},aS=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>kC(r));return}await Promise.all(Array.from(e.children).map(aS))}},cS=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},Yhe=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},nve=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qg=(t,e,n,r,i)=>Xhe(t[1],e[1],n[1],r[1],i).map(s=>Zhe(t[0],e[0],n[0],r[0],s)),Zhe=(t,e,n,r,i)=>{const s=3*e*Math.pow(i-1,2),o=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(s+i*o)-a},Xhe=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,Jhe(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(o=>o>=0&&o<=1)),Qhe=(t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},Jhe=(t,e,n,r)=>{if(t===0)return Qhe(e,n,r);e/=t,n/=t,r/=t;const i=(3*n-e*e)/3,s=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const o=Math.pow(s/2,2)+Math.pow(i/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(i/3),3)),c=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(i/3),3))))),u=2*Math.pow(a,1/3);return[u*Math.cos(c/3)-e/3,u*Math.cos((c+2*Math.PI)/3)-e/3,u*Math.cos((c+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class efe{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new tfe(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new nfe(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,r){return this.canStart(e)?(this.requestedStart.set(n,r),!0):(this.requestedStart.delete(n),!1)}capture(e,n,r){if(!this.start(e,n,r))return!1;const i=this.requestedStart;let s=-1e4;if(i.forEach(o=>{s=Math.max(s,o)}),s===r){this.capturedId=n,i.clear();const o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return i.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let r=this.disabledGestures.get(e);r===void 0&&(r=new Set,this.disabledGestures.set(e,r)),r.add(n)}enableGesture(e,n){const r=this.disabledGestures.get(e);r!==void 0&&r.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(iO)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(iO)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class tfe{constructor(e,n,r,i,s){this.id=n,this.name=r,this.disableScroll=s,this.priority=i*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class nfe{constructor(e,n,r,i){this.id=n,this.disable=r,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const iO="backdrop-no-scroll",rfe=new efe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ife=t=>u$(t),zo=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),ife(t).includes(e)),u$=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=sfe(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},sfe=t=>{const e=Nt.get("platform");return Object.keys(sO).filter(n=>{const r=e?.[n];return typeof r=="function"?r(t):sO[n](t)})},ofe=t=>Gw(t)&&!h$(t),OC=t=>!!(pu(t,/iPad/i)||pu(t,/Macintosh/i)&&Gw(t)),afe=t=>pu(t,/iPhone/i),cfe=t=>pu(t,/iPhone|iPod/i)||OC(t),d$=t=>pu(t,/android|sink/i),lfe=t=>d$(t)&&!pu(t,/mobile/i),ufe=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},dfe=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return OC(t)||lfe(t)||r>460&&r<820&&i>780&&i<1400},Gw=t=>gfe(t,"(any-pointer:coarse)"),hfe=t=>!Gw(t),h$=t=>f$(t)||p$(t),f$=t=>!!(t.cordova||t.phonegap||t.PhoneGap),p$=t=>{const e=t.Capacitor;return!!(e?.isNative||e?.isNativePlatform&&e.isNativePlatform())},ffe=t=>pu(t,/electron/i),pfe=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},pu=(t,e)=>e.test(t.navigator.userAgent),gfe=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},sO={ipad:OC,iphone:afe,ios:cfe,android:d$,phablet:ufe,tablet:dfe,cordova:f$,capacitor:p$,electron:ffe,pwa:pfe,mobile:Gw,mobileweb:ofe,desktop:hfe,hybrid:h$};let Sd;const Wt=t=>t&&the(t)||Sd,mfe=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,r=n.Ionic=n.Ionic||{},i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Rhe(n)),{persistConfig:!1}),r.config),Nhe(n)),t);Nt.reset(i),Nt.getBoolean("persistConfig")&&khe(n,i),u$(n),r.config=Nt,r.mode=Sd=Nt.get("mode",e.documentElement.getAttribute("mode")||(zo(n,"ios")?"ios":"md")),Nt.set("mode",Sd),e.documentElement.setAttribute("mode",Sd),e.documentElement.classList.add(Sd),Nt.getBoolean("_testing")&&Nt.set("animated",!1);const s=a=>{var c;return(c=a.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},o=a=>["ios","md"].includes(a);ehe(a=>{for(;a;){const c=a.mode||a.getAttribute("mode");if(c){if(o(c))return c;s(a)&&tl('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}a=a.parentElement}return Sd})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ga=(t,e)=>e.closest(t)!==null,Za=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,yfe=/^[a-z][a-z0-9+\-.]*:/,g$=async(t,e,n,r)=>{if(t!=null&&t[0]!=="#"&&!yfe.test(t)){const i=document.querySelector("ion-router");if(i)return e?.preventDefault(),i.push(t,n,r)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vg=()=>Nt.get("experimentalCloseWatcher",!1)&&yr!==void 0&&"CloseWatcher"in yr,bfe=()=>{document.addEventListener("backbutton",()=>{})},wfe=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let r=0,i=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(c,u){i.push({priority:c,handler:u,id:r++})}}});t.dispatchEvent(s);const o=async c=>{try{if(c?.handler){const u=c.handler(a);u!=null&&await u}}catch(u){nl("[ion-app] - Exception in startHardwareBackButton:",u)}},a=()=>{if(i.length>0){let c={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(u=>{u.priority>=c.priority&&(c=u)}),e=!0,i=i.filter(u=>u.id!==c.id),o(c).then(()=>e=!1)}};a()};if(Vg()){let r;const i=()=>{r?.destroy(),r=new yr.CloseWatcher,r.onclose=()=>{n(),i()}};i()}else t.addEventListener("backbutton",n)},vfe=100,m$=99,Efe=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:m$,OVERLAY_BACK_BUTTON_PRIORITY:vfe,blockHardwareBackButton:bfe,shouldUseCloseWatcher:Vg,startHardwareBackButton:wfe},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const BC=t=>qc().duration(t?400:300),_fe=t=>{let e,n;const r=t.width+8,i=qc(),s=qc();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${n})`);const a=Wt(t)==="ios",c=a?.2:.25;return s.addElement(t.backdropEl).fromTo("opacity",.01,c),BC(a).addAnimation([i,s])},xfe=t=>{let e,n;const r=Wt(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");const s=qc().addElement(t.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),o=qc().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),a=qc().addElement(t.backdropEl).fromTo("opacity",.01,.32);return BC(r==="ios").addAnimation([s,o,a])},Sfe=t=>{const e=Wt(t),n=t.width*(t.isEndSide?-1:1)+"px",r=qc().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return BC(e==="ios").addAnimation(r)},Afe=()=>{const t=new Map,e=[],n=async L=>{const V=await u(L,!0);return V?V.open():!1},r=async L=>{const V=await(L!==void 0?u(L,!0):h());return V!==void 0?V.close():!1},i=async L=>{const V=await u(L,!0);return V?V.toggle():!1},s=async(L,V)=>{const q=await u(V);return q&&(q.disabled=!L),q},o=async(L,V)=>{const q=await u(V);return q&&(q.swipeGesture=L),q},a=async L=>{if(L!=null){const V=await u(L);return V!==void 0&&V.isOpen()}else return await h()!==void 0},c=async L=>{const V=await u(L);return V?!V.disabled:!1},u=async(L,V=!1)=>{if(await W(),L==="start"||L==="end"){const X=e.filter(ee=>ee.side===L&&!ee.disabled);if(X.length>=1)return X.length>1&&V&&tl(`menuController queried for a menu on the "${L}" side, but ${X.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,X.map(ee=>ee.el)),X[0].el;const Y=e.filter(ee=>ee.side===L);if(Y.length>=1)return Y.length>1&&V&&tl(`menuController queried for a menu on the "${L}" side, but ${Y.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Y.map(ee=>ee.el)),Y[0].el}else if(L!=null)return z(X=>X.menuId===L);const q=z(X=>!X.disabled);return q||(e.length>0?e[0].el:void 0)},h=async()=>(await W(),T()),f=async()=>(await W(),I()),g=async()=>(await W(),P()),m=(L,V)=>{t.set(L,V)},_=L=>{e.indexOf(L)<0&&e.push(L)},x=L=>{const V=e.indexOf(L);V>-1&&e.splice(V,1)},C=async(L,V,q,X)=>{if(P())return!1;if(V){const Y=await h();Y&&L.el!==Y&&await Y.setOpen(!1,!1)}return L._setOpen(V,q,X)},S=(L,V)=>{const q=t.get(L);if(!q)throw new Error("animation not registered");return q(V)},T=()=>z(L=>L._isOpen),I=()=>e.map(L=>L.el),P=()=>e.some(L=>L.isAnimating),z=L=>{const V=e.find(L);if(V!==void 0)return V.el},W=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(V=>Dh(L,V))));return m("reveal",Sfe),m("push",xfe),m("overlay",_fe),nh?.addEventListener("ionBackButton",L=>{const V=T();V&&L.detail.register(m$,()=>V.close())}),{registerAnimation:m,get:u,getMenus:f,getOpen:h,isEnabled:c,swipeGesture:o,isAnimating:g,isOpen:a,enable:s,toggle:i,close:r,open:n,_getOpenSync:T,_createAnimation:S,_register:_,_unregister:x,_setOpen:C}},Il=Afe();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DC=async(t,e,n,r,i,s)=>{var o;if(t)return t.attachViewToDom(e,n,i,r);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(n):n;return r&&r.forEach(c=>a.classList.add(c)),i&&Object.assign(a,i),e.appendChild(a),await new Promise(c=>Dh(a,c)),a},Cfe=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PC='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Tfe=(t,e)=>{const n=t.querySelector(PC);y$(n,t)},Ife=(t,e)=>{const n=Array.from(t.querySelectorAll(PC)),r=n.length>0?n[n.length-1]:null;y$(r,t)},y$=(t,e)=>{let n=t;const r=t?.shadowRoot;if(r&&(n=r.querySelector(PC)||t),n){const i=n.closest("ion-radio-group");i?i.setFocus():$he(n)}else e.focus()},Rfe=t=>t.classList.contains("overlay-hidden"),kfe=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Nfe=(t,e)=>kfe(t,e).filter(n=>!Rfe(n)),Ofe=(t,e,n)=>{const r=Nfe(t,e);return r[r.length-1]},oO="backdrop",OE="gesture";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bfe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",Dfe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",aO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let BE;const Pfe=()=>{if(typeof window>"u")return new Map;if(!BE){const t=window;t.Ionicons=t.Ionicons||{},BE=t.Ionicons.map=t.Ionicons.map||new Map}return BE},$fe=t=>{let e=DE(t.src);return e||(e=b$(t.name,t.icon,t.mode,t.ios,t.md),e?Mfe(e,t):t.icon&&(e=DE(t.icon),e||(e=DE(t.icon[t.mode]),e))?e:null)},Mfe=(t,e)=>{const n=Pfe().get(t);if(n)return n;try{return j5(`svg/${t}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},b$=(t,e,n,r,i)=>(n=(n&&G0(n))==="ios"?"ios":"md",r&&n==="ios"?t=G0(r):i&&n==="md"?t=G0(i):(!t&&e&&!w$(e)&&(t=e),Hb(t)&&(t=G0(t))),!Hb(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),DE=t=>Hb(t)&&(t=t.trim(),w$(t))?t:null,w$=t=>t.length>0&&/(\/|\.)/.test(t),Hb=t=>typeof t=="string",G0=t=>t.toLowerCase(),Ufe=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},Lfe=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl",zfe=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),v$(n))return e.innerHTML}return""},v$=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Hb(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!v$(t.childNodes[e]))return!1}return!0},Ffe=t=>t.startsWith("data:image/svg+xml"),jfe=t=>t.indexOf(";utf8,")!==-1,$l=new Map,cO=new Map;let PE;const Hfe=(t,e)=>{let n=cO.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(Ffe(t)&&jfe(t)){PE||(PE=new DOMParser);const i=PE.parseFromString(t,"text/html").querySelector("svg");return i&&$l.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=zfe(i)),$l.set(t,i||"")});$l.set(t,"")}),cO.set(t,n);else return $l.set(t,""),Promise.resolve();return n},qfe=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",Vfe=qfe,Wfe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=Kfe(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=Ufe(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=$fe(this);e&&($l.has(e)?this.svgContent=$l.get(e):Hfe(e,this.sanitize).then(()=>this.svgContent=$l.get(e)),this.didLoadIcon=!0)}this.iconName=b$(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Ae(Mn,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},Gfe(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&Lfe(i)})},r),this.svgContent?Ae("div",{class:"icon-inner",innerHTML:this.svgContent}):Ae("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return Vfe}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),Kfe=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",Gfe=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function Yfe(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,Wfe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Zfe=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Xfe=Zfe,Qfe=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Jfe=Qfe,epe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=bn(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=Wt(this);return Ae(Mn,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:Xfe,md:Jfe}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function tpe(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,epe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const npe=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",rpe=npe,ipe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(r=>{Fg(()=>{const i=this.el.getBoundingClientRect(),s=i.width,o=i.height,a=Math.sqrt(s*s+o*o),c=Math.max(o,s),u=this.unbounded?c:a+ope,h=Math.floor(c*ape),f=u/h;let g=e-i.left,m=n-i.top;this.unbounded&&(g=s*.5,m=o*.5);const _=g-h*.5,x=m-h*.5,C=s*.5-g,S=o*.5-m;el(()=>{const T=document.createElement("div");T.classList.add("ripple-effect");const I=T.style;I.top=x+"px",I.left=_+"px",I.width=I.height=h+"px",I.setProperty("--final-scale",`${f}`),I.setProperty("--translate-end",`${C}px, ${S}px`),(this.el.shadowRoot||this.el).appendChild(T),setTimeout(()=>{r(()=>{spe(T)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Wt(this);return Ae(Mn,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return rpe}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),spe=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},ope=10,ape=.5;function E$(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,ipe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Y0=typeof window<"u"?window:void 0;Y0&&(Y0.CSS&&Y0.CSS.supports&&Y0.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cpe=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lpe=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',upe=lpe,dpe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=bn(this,"ionScrollStart",7),this.ionScroll=bn(this,"ionScroll",7),this.ionScrollEnd=bn(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=Kw(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,oS(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),oS(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=Wt(this);return e===void 0?n==="ios"&&zo("ios"):e}resize(){this.fullscreen?Fg(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,jb(this))}readDimensions(){const e=fpe(this.el),n=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||r!==this.cBottom)&&(this.cTop=n,this.cBottom=r,jb(this))}onScroll(e){const n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Fg(i=>{this.queued=!1,this.detail.event=e,ppe(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Dh(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Dh(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),r=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,n,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r)}async scrollToPoint(e,n,r=0){const i=await this.getScrollElement();if(r<32){n!=null&&(i.scrollTop=n),e!=null&&(i.scrollLeft=e);return}let s,o=0;const a=new Promise(m=>s=m),c=i.scrollTop,u=i.scrollLeft,h=n!=null?n-c:0,f=e!=null?e-u:0,g=m=>{const _=Math.min(1,(m-o)/r)-1,x=Math.pow(_,3)+1;h!==0&&(i.scrollTop=Math.floor(x*h+c)),f!==0&&(i.scrollLeft=Math.floor(x*f+u)),x<1?requestAnimationFrame(g):s()};return requestAnimationFrame(m=>{o=m,g(m)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:r,scrollX:i,scrollY:s,el:o}=this,a=cpe(o)?"rtl":"ltr",c=Wt(this),u=this.shouldForceOverscroll(),h=c==="ios";return this.resize(),Ae(Mn,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:Za(this.color,{[c]:!0,"content-sizing":Ga("ion-popover",this.el),overscroll:u,[`content-${a}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},n),Ae("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:f=>this.backgroundContentEl=f,id:"background-content",part:"background"}),e==="before"?Ae("slot",{name:"fixed"}):null,Ae("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":s,overscroll:(i||s)&&u},ref:f=>this.scrollEl=f,onScroll:this.scrollEvents?f=>this.onScroll(f):void 0,part:"scroll"},Ae("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),h?Ae("div",{class:"transition-effect"},Ae("div",{class:"transition-cover"}),Ae("div",{class:"transition-shadow"})):null,e==="after"?Ae("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return upe}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),hpe=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},fpe=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||hpe(t)},ppe=(t,e,n,r)=>{const i=t.currentX,s=t.currentY,o=t.currentTime,a=e.scrollLeft,c=e.scrollTop,u=n-o;if(r&&(t.startTime=n,t.startX=a,t.startY=c,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=c,t.deltaX=a-t.startX,t.deltaY=c-t.startY,u>0&&u<100){const h=(a-i)/u,f=(c-s)/u;t.velocityX=h*.7+t.velocityX*.3,t.velocityY=f*.7+t.velocityY*.3}};function gpe(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,dpe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mpe=gpe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ype=()=>{if(yr!==void 0)return yr.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bpe=()=>{let t;return{lock:async()=>{const n=t;let r;return t=new Promise(i=>r=i),n!==void 0&&await n,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wpe="ION-CONTENT",_$="ion-content",x$=".ion-content-scroll-host",S$=`${_$}, ${x$}`,$C=t=>t.tagName===wpe,lO=async t=>$C(t)?(await new Promise(e=>Dh(t,e)),t.getScrollElement()):t,uO=t=>{const e=t.querySelector(x$);return e||t.querySelector(S$)},ave=t=>t.closest(S$),cve=(t,e)=>$C(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),lve=(t,e,n,r)=>$C(t)?t.scrollByPoint(e,n,r):Promise.resolve(t.scrollBy({top:n,left:e,behavior:r>0?"smooth":"auto"})),dO=t=>Bhe(t,_$);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var lS;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(lS||(lS={}));var uS;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(uS||(uS={}));const vpe={getEngine(){const t=ype();if(t?.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t?.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==lS.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const A$=t=>{if(nh===void 0||t===uS.None||t===void 0)return null;const e=nh.querySelector("ion-app");return e??nh.body},hO=t=>{const e=A$(t);return e===null?0:e.clientHeight},Epe=async t=>{let e,n,r,i;const s=async()=>{const h=await vpe.getResizeMode(),f=h===void 0?void 0:h.mode;e=()=>{i===void 0&&(i=hO(f)),r=!0,o(r,f)},n=()=>{r=!1,o(r,f)},yr?.addEventListener("keyboardWillShow",e),yr?.addEventListener("keyboardWillHide",n)},o=(h,f)=>{t&&t(h,a(f))},a=h=>{if(i===0||i===hO(h))return;const f=A$(h);if(f!==null)return new Promise(g=>{const m=()=>{f.clientHeight===i&&(_.disconnect(),g())},_=new ResizeObserver(m);_.observe(f)})},c=()=>{yr?.removeEventListener("keyboardWillShow",e),yr?.removeEventListener("keyboardWillHide",n),e=n=void 0},u=()=>r;return await s(),{init:s,destroy:c,isKeyboardVisible:u}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _pe="all 0.2s ease-in-out",fO=t=>{const e=document.querySelector(`${t}.ion-cloned-element`);if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},pO=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const r=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:r,innerTitleEl:r?r.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},xpe=(t,e,n)=>{Fg(()=>{const r=t.scrollTop,i=NC(1,1+-r/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&el(()=>{Cpe(e.toolbars,i)})})},MC=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},Spe=(t,e,n)=>{if(!t[0].isIntersecting)return;const r=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;MC(e.el,r===1?void 0:r)},Ape=(t,e,n,r)=>{el(()=>{const i=r.scrollTop;Spe(t,e,i);const s=t[0],o=s.intersectionRect,a=o.width*o.height,c=s.rootBounds.width*s.rootBounds.height,u=a===0&&c===0,h=Math.abs(o.left-s.boundingClientRect.left),f=Math.abs(o.right-s.boundingClientRect.right),g=a>0&&(h>=5||f>=5);u||g||(s.isIntersecting?(Zf(e,!1),Zf(n)):(o.x===0&&o.y===0||o.width!==0&&o.height!==0)&&i>0&&(Zf(e),Zf(n,!1),MC(e.el)))})},Zf=(t,e=!0)=>{const n=t.el,i=t.toolbars.map(s=>s.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),i.forEach(s=>{s&&s.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),i.forEach(s=>{s&&s.setAttribute("aria-hidden","true")}))},Cpe=(t=[],e=1,n=!1)=>{t.forEach(r=>{const i=r.ionTitleEl,s=r.innerTitleEl;!i||i.size!=="large"||(s.style.transition=n?_pe:"",s.style.transform=`scale3d(${e}, ${e}, 1)`)})},gO=(t,e,n)=>{Fg(()=>{const r=t.scrollTop,i=e.clientHeight,s=n?n.clientHeight:0;if(n!==null&&r<s){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path",`inset(${i}px 0px 0px 0px)`);return}const o=r-s,c=NC(0,o/10,1);el(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",c.toString())})})},Tpe="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",Ipe=Tpe,Rpe="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",kpe=Rpe,Npe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const r=this.scrollEl=await lO(e);this.contentScrollCallback=()=>{gO(this.scrollEl,this.el,n)},r.addEventListener("scroll",this.contentScrollCallback),gO(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Kw(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Wt(this)!=="ios")return;const{collapse:n}=this,r=n==="condense",i=n==="fade";if(this.destroyCollapsibleHeader(),r){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?uO(s):null;el(()=>{const a=fO("ion-title");a.size="large",fO("ion-back-button")}),await this.setupCondenseHeader(o,s)}else if(i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?uO(s):null;if(!o){dO(this.el);return}const a=o.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(o,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){dO(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await lO(e);const r=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(r).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const i=pO(this.collapsibleMainHeader),s=pO(this.el);if(!i||!s)return;Zf(i,!1),MC(i.el,0);const o=a=>{Ape(a,i,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(o,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{xpe(this.scrollEl,s,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),el(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,r=Wt(this),i=this.collapse||"none",s=Ga("ion-menu",this.el)?"none":"banner";return Ae(Mn,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:s,class:{[r]:!0,[`header-${r}`]:!0,"header-translucent":this.translucent,[`header-collapse-${i}`]:!0,[`header-translucent-${r}`]:this.translucent}},n),r==="ios"&&e&&Ae("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),Ae("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:Ipe,md:kpe}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function Ope(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,Npe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bpe=Ope;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Dpe=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",Ppe=Dpe,$pe=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",Mpe=$pe,Upe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.ionColor=bn(this,"ionColor",7),this.ionStyle=bn(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,[`ion-color-${e}`]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,[`label-${n}`]:n!==void 0})}render(){const e=this.position,n=Wt(this);return Ae(Mn,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:Za(this.color,{[n]:!0,"in-item-color":Ga("ion-item.ion-color",this.el),[`label-${e}`]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},Ae("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:Ppe,md:Mpe}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function Lpe(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,Upe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zpe=Lpe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fpe="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",jpe=Fpe,Hpe="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",qpe=Hpe,Vpe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e?.closeOpened?e.closeOpened():!1}render(){const e=Wt(this),{lines:n,inset:r}=this;return Ae(Mn,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":r,[`list-lines-${n}`]:n!==void 0,[`list-${e}-lines-${n}`]:n!==void 0}})}get el(){return this}static get style(){return{ios:jpe,md:qpe}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function Wpe(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,Vpe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kpe=Wpe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gpe=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",Ype=Gpe,Zpe=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",Xpe=Zpe,Qpe=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=Wt(this);return Ae(Mn,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:Za(this.color,{[n]:!0,[`list-header-lines-${e}`]:e!==void 0})},Ae("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},Ae("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:Ype,md:Xpe}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function Jpe(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,Qpe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ege=Jpe,tge=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",nge=tge,rge=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",ige=rge,sge="cubic-bezier(0.32,0.72,0,1)",oge="cubic-bezier(0.0,0.0,0.2,1)",age="cubic-bezier(1, 0, 0.68, 0.28)",cge="cubic-bezier(0.4, 0, 0.6, 1)",lge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=bn(this,"ionWillOpen",7),this.ionWillClose=bn(this,"ionWillClose",7),this.ionDidOpen=bn(this,"ionDidOpen",7),this.ionDidClose=bn(this,"ionDidClose",7),this.ionMenuChange=bn(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=rfe.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const n=Ofe(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){const r=this.contentEl;r&&(n!==void 0&&r.classList.remove(`menu-content-${n}`),r.classList.add(`menu-content-${e}`),r.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=tO(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=Nt.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){nl('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&nl(`[ion-menu] - The "contentId" should refer to the main view's ion-content, not the ion-content inside of the ion-menu.`),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Il._register(this),this.menuChanged(),this.gesture=(await Nn(()=>import("./index3-BtSDVHqQ.js"),[])).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Kw(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Il._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const n=this.el.closest("ion-split-pane");n!==null&&n===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,oO))}onKeydown(e){e.key==="Escape"&&this.close(void 0,oO)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,n){return this.setOpen(!1,e,n)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0,r){return Il._setOpen(this,e,n,r)}trapKeyboardFocus(e,n){const r=e.target;if(r)if(this.el.contains(r))this.lastFocus=r;else{const{el:i}=this;Tfe(i),this.lastFocus===n.activeElement&&Ife(i)}}async _setOpen(e,n=!0,r){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,r),await this.loadAnimation(),await this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,r),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,n=tO(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const r=this.animation=await Il._createAnimation(this.type,this);Nt.getBoolean("animated",!0)||r.duration(0),r.fill("both")}async startAnimation(e,n){const r=!e,i=Wt(this),s=i==="ios"?sge:oge,o=i==="ios"?age:cge,a=this.animation.direction(r?"reverse":"normal").easing(r?o:s);n?await a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Il._getOpenSync()?!1:uge(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,OE),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Ar(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Ar(!1,"isAnimating has to be true");return}const r=mO(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-r:r)}onEnd(e){if(!this.isAnimating||!this.animation){Ar(!1,"isAnimating has to be true");return}const n=this._isOpen,r=this.isEndSide,i=mO(e.deltaX,n,r),s=this.width,o=i/s,a=e.velocityX,c=s/2,u=a>=0&&(a>.2||e.deltaX>c),h=a<=0&&(a<-.2||e.deltaX<-c),f=n?r?u:h:r?h:u;let g=!n&&f;n&&!f&&(g=!0),this.lastOnEnd=e.currentTime;let m=f?.001:-.001;const _=o<0?.01:o;m+=qg([0,0],[.4,0],[.6,1],[1,1],NC(0,_,.9999))[0]||0;const x=this._isOpen?!f:f;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(g,OE),{oneTimeCallback:!0}).progressEnd(x?1:0,this._isOpen?1-m:m,300)}beforeAnimation(e,n){Ar(!this.isAnimating,"_before() should not be called while animating"),zo("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(yO),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(bO),this.contentEl&&(this.contentEl.classList.add(wO),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:n})}afterAnimation(e,n){var r;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(zo("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((r=document.activeElement)===null||r===void 0?void 0:r.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(yO),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(wO),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(bO),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:n}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,OE))}render(){const{type:e,disabled:n,el:r,isPaneVisible:i,inheritedAttributes:s,side:o}=this,a=Wt(this);return Ae(Mn,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:Vg()?null:this.onKeydown,role:"navigation","aria-label":s["aria-label"]||"menu",class:{[a]:!0,[`menu-type-${e}`]:!0,"menu-enabled":!n,[`menu-side-${o}`]:!0,"menu-pane-visible":i,"split-pane-side":Ga("ion-split-pane",r)}},Ae("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:c=>this.menuInnerEl=c},Ae("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),Ae("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:c=>this.backdropEl=c,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:nge,md:ige}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),mO=(t,e,n)=>Math.max(0,e!==n?-t:t),uge=(t,e,n,r)=>n?e>=t.innerWidth-r:e<=r,yO="show-menu",bO="show-backdrop",wO="menu-content-open";function dge(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,lge);break;case"ion-backdrop":customElements.get(e)||tpe();break}})}const hge=dge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fge=async t=>{const e=await Il.get(t);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pge=":host(.menu-toggle-hidden){display:none}",gge=pge,mge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>Il.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await fge(this.menu)}render(){const e=Wt(this),n=this.autoHide&&!this.visible;return Ae(Mn,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":n?"true":null,class:{[e]:!0,"menu-toggle-hidden":n}},Ae("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return gge}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function yge(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,mge);break}})}const bge=yge,C$=1,T$=2,qb=3;class dS{constructor(e,n){this.component=e,this.params=n,this.state=C$}async init(e){if(this.state=T$,!this.element){const n=this.component;this.element=await DC(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Ar(this.state!==qb,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=qb}}const vO=(t,e,n)=>!t||t.component!==e?!1:n$(t.params,n),EO=(t,e)=>t?t instanceof dS?t:new dS(t,e):null,wge=t=>t.map(e=>e instanceof dS?e:"component"in e?EO(e.component,e.componentProps===null?void 0:e.componentProps):EO(e,void 0)).filter(e=>e!==null),vge=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Ege=vge,_ge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=bn(this,"ionNavWillLoad",7),this.ionNavWillChange=bn(this,"ionNavWillChange",3),this.ionNavDidChange=bn(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Wt(this);this.swipeGesture=Nt.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Nn(()=>import("./swipe-back-DIDMQV5C.js"),__vite__mapDeps([41,42]))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ra(e.element,NE),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,r,i){return this.insert(-1,e,n,r,i)}insert(e,n,r,i,s){return this.insertPages(e,[{component:n,componentProps:r}],i,s)}insertPages(e,n,r,i){return this.queueTrns({insertStart:e,insertViews:n,opts:r},i)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,r){const i={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,r,i){return this.queueTrns({removeStart:e,removeCount:n,opts:r},i)}setRoot(e,n,r,i){return this.setPages([{component:e,componentProps:n}],r,i)}setPages(e,n,r){return n??(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},r)}setRouteId(e,n,r,i){const s=this.getActiveSync();if(vO(s,e,n))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(h=>o=h);let c;const u={updateURL:!1,viewIsReady:h=>{let f;const g=new Promise(m=>f=m);return o({changed:!0,element:h,markVisible:async()=>{f(),await c}}),g}};if(r==="root")c=this.setRoot(e,n,u);else{const h=this.views.find(f=>vO(f,e,n));h?c=this.popTo(h,Object.assign(Object.assign({},u),{direction:"back",animationBuilder:i})):r==="forward"?c=this.push(e,n,Object.assign(Object.assign({},u),{animationBuilder:i})):r==="back"&&(c=this.setRoot(e,n,Object.assign(Object.assign({},u),{direction:"back",animated:!0,animationBuilder:i})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,r=n.indexOf(e);return r>0?n[r-1]:void 0}async queueTrns(e,n){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),r=this.getEnteringView(e,n);if(!n&&!r)throw new Error("no views in the stack to be removed");r&&r.state===C$&&await r.init(this.el),this.postViewInit(r,n,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n;i&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||r?.animationBuilder),n.animationBuilder=e.opts.animationBuilder);let s;i?s=await this.transition(r,n,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,r,i;const s=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){Ar(e.removeStart!==void 0,"removeView needs removeStart"),Ar(e.removeCount!==void 0,"removeView needs removeCount");const c=this.views.indexOf(e.removeView);if(c<0)throw new Error("removeView was not found");e.removeStart+=c}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;Ar(o.length>0,"length can not be zero");const a=wge(o);if(a.length===0)throw new Error("invalid views to insert");for(const c of a){c.delegate=e.opts.delegate;const u=c.nav;if(u&&u!==this)throw new Error("inserted view was already inserted");if(c.state===qb)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const s=this.views,o=i+e.removeCount;for(let a=s.length-1;a>=0;a--){const c=s[a];if((a<i||a>=o)&&c!==n)return c}}}postViewInit(e,n,r){var i,s,o;Ar(n||e,"Both leavingView and enteringView are null"),Ar(r.resolve,"resolve must be valid"),Ar(r.reject,"reject must be valid");const a=r.opts,{insertViews:c,removeStart:u,removeCount:h}=r;let f;if(u!==void 0&&h!==void 0){Ar(u>=0,"removeStart can not be negative"),Ar(h>=0,"removeCount can not be negative"),f=[];for(let m=u;m<u+h;m++){const _=this.views[m];_!==void 0&&_!==e&&_!==n&&f.push(_)}(i=a.direction)!==null&&i!==void 0||(a.direction="back")}const g=this.views.length+((s=c?.length)!==null&&s!==void 0?s:0)-(h??0);if(Ar(g>=0,"final balance can not be negative"),g===0)throw tl("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(c){let m=r.insertStart;for(const _ of c)this.insertViewAt(_,m),m++;r.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(f&&f.length>0){for(const m of f)Ra(m.element,r$),Ra(m.element,i$),Ra(m.element,NE);for(const m of f)this.destroyView(m)}}async transition(e,n,r){const i=r.opts,s=i.progressAnimation?f=>{f!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,f.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),f.progressEnd(0,0,0)):this.sbAni=f}:void 0,o=Wt(this),a=e.element,c=n&&n.element,u=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&Nt.getBoolean("animated",!0),enteringEl:a,leavingEl:c},i),{animationBuilder:i.animationBuilder||this.animation||Nt.get("navAnimation")}),{hasCompleted:h}=await o$(u);return this.transitionFinish(h,e,n,i)}transitionFinish(e,n,r,i){const s=e?n:r;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:r,direction:i.direction}}insertViewAt(e,n){const r=this.views,i=r.indexOf(e);i>-1?(Ar(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(n,0,e)):(Ar(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))}removeView(e){Ar(e.state===T$||e.state===qb,"view state should be loaded or destroyed");const n=this.views,r=n.indexOf(e);Ar(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,r=n.indexOf(e);for(let i=n.length-1;i>=0;i--){const s=n[i],o=s.element;o&&(i>r?(Ra(o,NE),this.destroyView(s)):i<r&&cS(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=qg([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=qg([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return Ae("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return Ege}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function xge(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,_ge);break}})}const Sge=xge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Age=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",Cge=Age,Tge=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",Ige=Tge,Rge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Wt(this);return Ae(Mn,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:Za(this.color,{[e]:!0})},Ae("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:Cge,md:Ige}}},[33,"ion-note",{color:[513]}]);function kge(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,Rge);break}})}const Nge=kge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Oge=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',Bge=Oge,Dge=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',Pge=Dge,$ge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=aO,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,r=e.detail,i={},s=this.itemStyles.get(n)||{};let o=!1;Object.keys(r).forEach(a=>{if(r[a]){const c=`item-${a}`;s[c]||(o=!0),i[c]=!0}}),!o&&Object.keys(i).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(n,i),jb(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=RC(this.el,["aria-label"])}componentDidLoad(){kC(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),r=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+r.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:r,labelColorStyles:i,lines:s,disabled:o,href:a,rel:c,target:u,routerAnimation:h,routerDirection:f,inheritedAriaAttributes:g,multipleInputs:m}=this,_={},x=Wt(this),C=this.isClickable(),S=this.canActivate(),T=C?a===void 0?"button":"a":"div",I=T==="button"?{type:this.type}:{download:r,href:a,rel:c,target:u};let P={};const z=this.getFirstInteractive();(C||z!==void 0&&!m)&&(P={onClick:X=>{if(C&&g$(a,X,f,h),z!==void 0&&!m){const ee=X.composedPath()[0];X.isTrusted&&this.el.shadowRoot.contains(ee)&&((z.tagName==="ION-INPUT"||z.tagName==="ION-TEXTAREA")&&z.setFocus(),z.click(),X.stopImmediatePropagation())}}});const W=e!==void 0?e:x==="ios"&&C;this.itemStyles.forEach(X=>{Object.assign(_,X)});const L=o||_["item-interactive-disabled"]?"true":null,V=Ga("ion-list",this.el)&&!Ga("ion-radio-group",this.el),q=z!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(z.tagName);return Ae(Mn,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":L,class:Object.assign(Object.assign(Object.assign({},_),i),Za(this.color,{item:!0,[x]:!0,"item-lines-default":s===void 0,[`item-lines-${s}`]:s!==void 0,"item-control-needs-pointer-cursor":q,"item-disabled":o,"in-list":V,"item-multiple-inputs":this.multipleInputs,"ion-activatable":S,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:V?"listitem":null},Ae(T,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},I,g,{class:"item-native",part:"native",disabled:o},P),Ae("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),Ae("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},Ae("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},Ae("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),Ae("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),W&&Ae("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===aO})),S&&x==="md"&&Ae("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:Bge,md:Pge}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mge=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",Uge=Mge,Lge=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",zge=Lge,Fge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=bn(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=Wt(this),n=this.getSize();return Ae(Mn,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:Za(this.color,{[e]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},Ae("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},Ae("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:Uge,md:zge}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function jge(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,Fge);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Hge=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",qge=Hge,Vge=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",Wge=Vge,Kge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(s=>s.slot==="start");n&&n.classList.add("buttons-first-slot");const r=e.reverse(),i=r.find(s=>s.slot==="end")||r.find(s=>s.slot==="primary")||r.find(s=>s.slot==="secondary");i&&i.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,r=e.detail,i={},s=this.childrenStyles.get(n)||{};let o=!1;Object.keys(r).forEach(a=>{const c=`toolbar-${a}`,u=r[a];u!==s[c]&&(o=!0),u&&(i[c]=!0)}),o&&(this.childrenStyles.set(n,i),jb(this))}render(){const e=Wt(this),n={};return this.childrenStyles.forEach(r=>{Object.assign(n,r)}),Ae(Mn,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},n),Za(this.color,{[e]:!0,"in-toolbar":Ga("ion-toolbar",this.el)}))},Ae("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),Ae("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},Ae("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),Ae("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),Ae("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},Ae("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),Ae("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),Ae("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:qge,md:Wge}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function Gge(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,Kge);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yge=":host{--side-width:100%;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;contain:strict}:host(.split-pane-visible) ::slotted(.split-pane-main){left:0;right:0;top:0;bottom:0;position:relative;-ms-flex:1;flex:1;-webkit-box-shadow:none;box-shadow:none;overflow:hidden;z-index:0}::slotted(.split-pane-side:not(ion-menu)){display:none}:host{--border:0.55px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--side-min-width:270px;--side-max-width:28%}",Zge=Yge,Xge=":host{--side-width:100%;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;contain:strict}:host(.split-pane-visible) ::slotted(.split-pane-main){left:0;right:0;top:0;bottom:0;position:relative;-ms-flex:1;flex:1;-webkit-box-shadow:none;box-shadow:none;overflow:hidden;z-index:0}::slotted(.split-pane-side:not(ion-menu)){display:none}:host{--border:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--side-min-width:270px;--side-max-width:28%}",Qge=Xge,_O="split-pane-main",xO="split-pane-side",SO={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},Jge=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionSplitPaneVisible=bn(this,"ionSplitPaneVisible",7),this.visible=!1,this.contentId=void 0,this.disabled=!1,this.when=SO.lg}visibleChanged(e){this.ionSplitPaneVisible.emit({visible:e})}async isVisible(){return Promise.resolve(this.visible)}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-split-pane"),this.styleMainElement(),this.updateState()}disconnectedCallback(){this.rmL&&(this.rmL(),this.rmL=void 0)}updateState(){if(this.rmL&&(this.rmL(),this.rmL=void 0),this.disabled){this.visible=!1;return}const e=this.when;if(typeof e=="boolean"){this.visible=e;return}const n=SO[e]||e;if(n.length===0){this.visible=!1;return}const r=s=>{this.visible=s.matches},i=window.matchMedia(n);i.addListener(r),this.rmL=()=>i.removeListener(r),this.visible=i.matches}styleMainElement(){const e=this.contentId,n=this.el.children,r=this.el.childElementCount;let i=!1;for(let s=0;s<r;s++){const o=n[s],a=e!==void 0&&o.id===e;if(a)if(i){tl("[ion-split-pane] - Cannot have more than one main node.");return}else eme(o,a),i=!0}i||tl("[ion-split-pane] - Does not have a specified main node.")}render(){const e=Wt(this);return Ae(Mn,{key:"098801b5a318e2fc6913fb0d9079b1552927b99b",class:{[e]:!0,[`split-pane-${e}`]:!0,"split-pane-visible":this.visible}},Ae("slot",{key:"8cbc6a942ecba54fc3c62027d46917db067b65c8"}))}get el(){return this}static get watchers(){return{visible:["visibleChanged"],disabled:["updateState"],when:["updateState"]}}static get style(){return{ios:Zge,md:Qge}}},[33,"ion-split-pane",{contentId:[513,"content-id"],disabled:[4],when:[8],visible:[32],isVisible:[64]},void 0,{visible:["visibleChanged"],disabled:["updateState"],when:["updateState"]}]),eme=(t,e)=>{let n,r;e?(n=_O,r=xO):(n=xO,r=_O);const i=t.classList;i.add(n),i.remove(r)};function tme(){if(typeof customElements>"u")return;["ion-split-pane"].forEach(e=>{switch(e){case"ion-split-pane":customElements.get(e)||customElements.define(e,Jge);break}})}const nme=tme;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rme=":host(.tab-hidden){display:none !important}",ime=rme,sme=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return DC(this.delegate,this.el,this.component,["ion-page"])}catch(e){nl("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:r}=this;return Ae(Mn,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":`tab-button-${e}`,class:{"ion-page":r===void 0,"tab-hidden":!n}},Ae("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return ime}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function ome(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,sme);break}})}const ame=ome;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cme=jge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lme=Gge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ume=$ge,dme="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",hme=dme,fme=Cn(class extends An{constructor(){super(),this.__registerHost()}componentDidLoad(){gme(async()=>{const e=zo(window,"hybrid");if(Nt.getBoolean("_testing")||Nn(()=>import("./index9-M3AoQqv5.js"),[]).then(i=>i.startTapClick(Nt)),Nt.getBoolean("statusTap",e)&&Nn(()=>import("./status-tap-BQ6pabC3.js"),[]).then(i=>i.startStatusTap()),Nt.getBoolean("inputShims",pme())){const i=zo(window,"ios")?"ios":"android";Nn(()=>import("./input-shims-CDA7zgJv.js"),[]).then(s=>s.startInputShims(Nt,i))}const n=await Nn(()=>Promise.resolve().then(()=>Efe),void 0),r=e||Vg();Nt.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(Vg()&&tl("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&Nn(()=>import("./keyboard2-BZZNxFBx.js"),[]).then(i=>i.startKeyboardAssist(window)),Nn(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Wt(this);return Ae(Mn,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Nt.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return hme}},[0,"ion-app",{setFocus:[64]}]),pme=()=>!!(zo(window,"ios")&&zo(window,"mobile")||zo(window,"android")&&zo(window,"mobileweb")),gme=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function mme(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,fme);break}})}const yme=mme;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bme=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',wme=bme,vme=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',Eme=vme,_me=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):g$(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Kw(this.el),this.defaultHref===void 0&&(this.defaultHref=Nt.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e??(Wt(this)==="ios"?Nt.get("backButtonIcon",Dfe):Nt.get("backButtonIcon",Bfe))}get backButtonText(){const e=Wt(this)==="ios"?"Back":null;return this.text!=null?this.text:Nt.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:r,type:i,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:c,inheritedAttributes:u}=this,h=n!==void 0,f=Wt(this),g=u["aria-label"]||a||"back";return Ae(Mn,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:Za(e,{[f]:!0,button:!0,"back-button-disabled":r,"back-button-has-icon-only":s,"in-toolbar":Ga("ion-toolbar",this.el),"in-toolbar-color":Ga("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":h})},Ae("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:i,disabled:r,class:"button-native",part:"native","aria-label":g},Ae("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},o&&Ae("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":c===void 0}),a&&Ae("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),f==="md"&&Ae("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:wme,md:Eme}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function xme(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,_me);break;case"ion-icon":customElements.get(e)||Yfe();break;case"ion-ripple-effect":customElements.get(e)||E$();break}})}const Sme=xme,Ame=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Cme=Ame,Tme=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=bn(this,"ionNavWillLoad",7),this.ionNavWillChange=bn(this,"ionNavWillChange",3),this.ionNavDidChange=bn(this,"ionNavDidChange",3),this.lockController=bpe(),this.gestureOrAnimationInProgress=!1,this.mode=Wt(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Nn(()=>import("./swipe-back-DIDMQV5C.js"),__vite__mapDeps([41,42]))).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(n)},(n,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=qg([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=qg([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(n?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,r){const i=await this.lockController.lock();let s=!1;try{s=await this.transition(e,n,r)}catch(o){nl("[ion-router-outlet] - Exception in commit:",o)}return i(),s}async setRouteId(e,n,r,i){return{changed:await this.setRoot(e,n,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,r){if(this.activeComponent===e&&n$(n,this.activeParams))return!1;const i=this.activeEl,s=await DC(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=s,this.activeParams=n,await this.commit(s,i,r),await Cfe(this.delegate,i),!0}async transition(e,n,r={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:s}=this,o=this.animated&&Nt.getBoolean("animated",!0),a=r.animationBuilder||this.animation||Nt.get("navAnimation");return await o$(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:n,baseEl:i,deepWait:oS(i),progressCallback:r.progressAnimation?c=>{c!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,c.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),c.progressEnd(0,0,0)):this.ani=c}:void 0},r),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return Ae("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Cme}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function Ime(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,Tme);break}})}const Rme=Ime;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kme=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",Nme=kme,Ome=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",Bme=Ome,Dme=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=bn(this,"ionTabBarChanged",7),this.ionTabBarLoaded=bn(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await Epe(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:r}=this,i=Wt(this),s=r&&this.el.getAttribute("slot")!=="top";return Ae(Mn,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":s?"true":null,class:Za(e,{[i]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},Ae("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:Nme,md:Bme}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function Pme(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,Dme);break}})}const $me=Pme;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mme=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',Ume=Mme,Lme=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',zme=Lme,Fme=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=bn(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||n?.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},RC(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Nt.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:r,href:i,rel:s,target:o,layout:a,selected:c,tab:u,inheritedAttributes:h}=this,f=Wt(this),g={download:this.download,href:i,rel:s,target:o};return Ae(Mn,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:u!==void 0?`tab-button-${u}`:null,class:{[f]:!0,"tab-selected":c,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":n,"tab-has-label-only":r&&!n,"tab-has-icon-only":n&&!r,[`tab-layout-${a}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Ae("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},g,{class:"button-native",part:"native",role:"tab","aria-selected":c?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},h),Ae("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},Ae("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),f==="md"&&Ae("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:Ume,md:zme}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function jme(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Fme);break;case"ion-ripple-effect":customElements.get(e)||E$();break}})}const Hme=jme;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qme=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",Vme=qme,Wme=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=bn(this,"ionNavWillLoad",7),this.ionTabsWillChange=bn(this,"ionTabsWillChange",3),this.ionTabsDidChange=bn(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:n,tab:r}=e.detail;if(this.useRouter&&n!==void 0){const i=document.querySelector("ion-router");i&&i.push(n)}else this.select(r)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const n=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=n}}async select(e){const n=$E(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return $E(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=$E(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return Ae(Mn,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},Ae("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),Ae("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},Ae("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),Ae("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return Vme}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),$E=(t,e)=>{const n=typeof e=="string"?t.find(r=>r.tab===e):e;return n||nl(`[ion-tabs] - Tab with id: "${n}" does not exist`),n};function Kme(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,Wme);break}})}const Gme=Kme;let ME;const Yme=()=>{if(typeof window>"u")return new Map;if(!ME){const t=window;t.Ionicons=t.Ionicons||{},ME=t.Ionicons.map=t.Ionicons.map||new Map}return ME},Zme=t=>{let e=UE(t.src);return e||(e=I$(t.name,t.icon,t.mode,t.ios,t.md),e?Xme(e,t):t.icon&&(e=UE(t.icon),e||(e=UE(t.icon[t.mode]),e))?e:null)},Xme=(t,e)=>{const n=Yme().get(t);if(n)return n;try{return j5(`svg/${t}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},I$=(t,e,n,r,i)=>(n=(n&&Z0(n))==="ios"?"ios":"md",r&&n==="ios"?t=Z0(r):i&&n==="md"?t=Z0(i):(!t&&e&&!R$(e)&&(t=e),Vb(t)&&(t=Z0(t))),!Vb(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),UE=t=>Vb(t)&&(t=t.trim(),R$(t))?t:null,R$=t=>t.length>0&&/(\/|\.)/.test(t),Vb=t=>typeof t=="string",Z0=t=>t.toLowerCase(),Qme=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},Jme=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl",e0e=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),k$(n))return e.innerHTML}return""},k$=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Vb(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!k$(t.childNodes[e]))return!1}return!0},t0e=t=>t.startsWith("data:image/svg+xml"),n0e=t=>t.indexOf(";utf8,")!==-1,Ml=new Map,AO=new Map;let LE;const r0e=(t,e)=>{let n=AO.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(t0e(t)&&n0e(t)){LE||(LE=new DOMParser);const i=LE.parseFromString(t,"text/html").querySelector("svg");return i&&Ml.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=e0e(i)),Ml.set(t,i||"")});Ml.set(t,"")}),AO.set(t,n);else return Ml.set(t,""),Promise.resolve();return n},i0e=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",s0e=Cn(class extends An{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=o0e(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=Qme(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=Zme(this);e&&(Ml.has(e)?this.svgContent=Ml.get(e):r0e(e,this.sanitize).then(()=>this.svgContent=Ml.get(e)),this.didLoadIcon=!0)}this.iconName=I$(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Ae(Mn,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},a0e(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&Jme(i)})},r),this.svgContent?Ae("div",{class:"icon-inner",innerHTML:this.svgContent}):Ae("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return i0e}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),o0e=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",a0e=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function c0e(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,s0e);break}})}const l0e=c0e,UC=be.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),u0e=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(r=>r.id===t.id);n.length!==0&&(n.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Ao=be.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),N$=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),LC=t=>t.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`),O$=(t,e,n={})=>{if(t instanceof Element){const r=d0e(t.classList,e,n);r!==""&&(t.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const s=i.substring(2),o=s[0].toLowerCase()+s.substring(1);zC(o)||f0e(t,o,e[i])}else t[i]=e[i],typeof e[i]==="string"&&t.setAttribute(LC(i),e[i])})}},d0e=(t,e,n)=>{const r=e.className||e.class,i=n.className||n.class,s=zE(t),o=zE(r?r.split(" "):[]),a=zE(i?i.split(" "):[]),c=[];return s.forEach(u=>{o.has(u)?(c.push(u),o.delete(u)):a.has(u)||c.push(u)}),o.forEach(u=>c.push(u)),c.join(" ")},h0e=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const zC=t=>{if(typeof document>"u")return!0;{const e="on"+h0e(t);let n=e in document;if(!n){const r=document.createElement("div");r.setAttribute(e,"return;"),n=typeof r[e]=="function"}return n}},f0e=(t,e,n)=>{const r=t.__events||(t.__events={}),i=r[e];i&&t.removeEventListener(e,i),t.addEventListener(e,r[e]=function(o){n&&n.call(this,o)})},zE=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},p0e=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},FC=(...t)=>e=>{t.forEach(n=>{p0e(n,e)})},g0e=(t,e)=>{const n=(r,i)=>ie.jsx(t,{...r,forwardedRef:i});return n.displayName=e,be.forwardRef(n)},m0e=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},fr=(t,e,n,r)=>{r!==void 0&&r();const i=N$(t),s=class extends be.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){O$(this.componentEl,this.props,o)}render(){const{children:o,forwardedRef:a,style:c,className:u,ref:h,...f}=this.props,m={...Object.keys(f).reduce((_,x)=>{const C=f[x];if(x.indexOf("on")===0&&x[2]===x[2].toUpperCase()){const S=x.substring(2).toLowerCase();typeof document<"u"&&zC(S)&&(_[x]=C)}else{const S=typeof C;(S==="string"||S==="boolean"||S==="number")&&(_[LC(x)]=C)}return _},{}),ref:FC(a,this.setComponentElRef),style:c};return It.createElement(t,m,o)}static get displayName(){return i}};return g0e(s,i)},rf=fr("ion-content",void 0,void 0,mpe),Mm=fr("ion-header",void 0,void 0,Bpe),y0e=fr("ion-label",void 0,void 0,zpe),b0e=fr("ion-list",void 0,void 0,Kpe),w0e=fr("ion-list-header",void 0,void 0,ege),v0e=fr("ion-menu",void 0,void 0,hge),E0e=fr("ion-menu-toggle",void 0,void 0,bge),_0e=fr("ion-note",void 0,void 0,Nge),x0e=fr("ion-split-pane",void 0,void 0,nme),S0e=fr("ion-tab",void 0,void 0,ame),Um=fr("ion-title",void 0,void 0,cme),Lm=fr("ion-toolbar",void 0,void 0,lme),sf=(t,e)=>{const n=(r,i)=>ie.jsx(t,{...r,forwardedRef:i});return n.displayName=e,be.forwardRef(n)},jC=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},A0e=(t,e)=>{m0e(t,e);const n=N$(t),r=class extends be.Component{constructor(i){super(i),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:c,routerAnimation:u}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,u,c))},this.ref=be.createRef(),this.stableMergedRefs=FC(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(i){const s=this.ref.current;O$(s,this.props,i)}render(){const{children:i,forwardedRef:s,style:o,className:a,ref:c,...u}=this.props,f={...Object.keys(u).reduce((g,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const _=m.substring(2).toLowerCase();zC(_)&&(g[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(g[LC(m)]=u[m]);return g},{}),ref:this.stableMergedRefs,style:o};if(this.props.routerLink&&!this.props.href&&(f.href=this.props.routerLink),f.onClick){const g=f.onClick;f.onClick=m=>{g(m),m.defaultPrevented||this.handleClick(m)}}else f.onClick=this.handleClick;return It.createElement(t,f,i)}static get displayName(){return n}static get contextType(){return Ao}};return sf(r,n)},C0e=A0e("ion-item",ume),T0e=be.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),I0e=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,r]=It.useState({}),i=It.useRef({});It.useEffect(()=>{t(s),e(o)},[]);const s=(c,u,h)=>{const f={...i.current};f[c]={component:u,containerElement:h},i.current=f,r(f)},o=c=>{const u={...i.current};delete u[c],i.current=u,r(u)},a=Object.keys(n);return ie.jsx(ie.Fragment,{children:a.map(c=>{const u=n[c];return rle.createPortal(u.component,u.containerElement,`overlay-${c}`)})})},R0e=fr("ion-tab-button",void 0,void 0,Hme),k0e=fr("ion-tab-bar",void 0,void 0,$me),CO=fr("ion-tabs",void 0,void 0,Gme),N0e=fr("ion-back-button",void 0,void 0,Sme),hS=fr("ion-router-outlet",void 0,void 0,Rme),O0e=fr("ion-app",void 0,void 0,yme),B0e=fr("ion-icon",void 0,void 0,l0e);class B$ extends be.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,r,i)=>{this.addOverlayCallback&&this.addOverlayCallback(n,r,i)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return ie.jsxs(T0e.Provider,{value:this.ionContext,children:[ie.jsx(O0e,{...this.props,children:this.props.children}),ie.jsx(I0e,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}B$.displayName="IonApp";const HC=be.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class qC extends be.PureComponent{constructor(e){super(e),this.ionPageElementRef=be.createRef(),this.stableMergedRefs=FC(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:r,forwardedRef:i,...s}=this.props;return ie.jsx(UC.Consumer,{children:o=>(this.ionLifeCycleContext=o,ie.jsx("div",{className:e?`${e} ion-page`:"ion-page",ref:this.stableMergedRefs,...s,children:n}))})}static get contextType(){return HC}}class D0e extends be.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?ie.jsx(qC,{className:e?`${e}`:"",routeInfo:this.context.routeInfo,forwardedRef:r,...i,children:n}):ie.jsx("div",{className:e?`ion-page ${e}`:"ion-page",ref:r,...i,children:n})}static get displayName(){return"IonPage"}static get contextType(){return Ao}}const zm=sf(D0e,"IonPage"),TO={main:0},Wg=(t="main")=>{const e=(TO[t]??0)+1;return TO[t]=e,e.toString()},P0e=(t,e)=>{const n=new WeakMap,r=`react-delegate-${Wg()}`;let i=0;return{attachViewToDom:async(a,c,u,h)=>{const f=document.createElement("div");h&&f.classList.add(...h),a.appendChild(f);const g=c(u),m=`${r}-${i++}`,_=NA.createPortal(g,f,m);return n.set(f,_),t(_),Promise.resolve(f)},removeViewFromDom:(a,c)=>{const u=n.get(c);return u&&e(u),c.remove(),Promise.resolve()}}},$0e=fr("ion-nav",void 0,void 0,Sge),M0e=({children:t,forwardedRef:e,...n})=>{const[r,i]=It.useState([]),s=c=>i(u=>[...u,c]),o=c=>i(u=>u.filter(h=>h!==c)),a=It.useMemo(()=>P0e(s,o),[]);return ie.jsx($0e,{delegate:a,ref:e,...n,children:r})};sf(M0e,"IonNav");const D$=be.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:be.createRef()}}),U0e=typeof HTMLElement<"u"?HTMLElement:class{};class L0e extends be.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Dh(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:r,...i}=this.props;return ie.jsx(UC.Consumer,{children:s=>(this.ionLifeCycleContext=s,ie.jsx(e,{routeInfo:r,children:ie.jsx(hS,{setRef:o=>this.ionRouterOutlet=o,...i,children:n})}))})}static get contextType(){return HC}}class z0e extends be.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?i.ionPage?ie.jsx(L0e,{StackManager:e,routeInfo:this.context.routeInfo,...i,children:n}):ie.jsx(e,{routeInfo:this.context.routeInfo,children:ie.jsx(hS,{...i,forwardedRef:r,children:n})}):ie.jsx(hS,{ref:r,...this.props,children:this.props.children})}static get contextType(){return Ao}}const Xf=sf(z0e,"IonRouterOutlet");class F0e extends U0e{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",F0e));class kve extends be.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=be.createRef(),this.tabBarRef=be.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return ie.jsx(CO,{...this.props,children:be.Children.map(e,r=>be.isValidElement(r)&&(r.type===Xf||r.type.isRouterOutlet||r.type===It.Fragment&&r.props.children[0].type===Xf)?n:r)})}render(){let e,n=!1;const{className:r,onIonTabsDidChange:i,onIonTabsWillChange:s,...o}=this.props,a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(be.Children.forEach(a,c=>{if(c==null||typeof c!="object"||!c.hasOwnProperty("type"))return;c.type===Xf||c.type.isRouterOutlet?e=be.cloneElement(c):c.type===It.Fragment&&c.props.children[0].type===Xf?e=be.cloneElement(c.props.children[0]):c.type===S0e&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let u={...this.ionTabContextState.tabBarProps};i!==void 0&&(u={...u,onIonTabsDidChange:i}),s!==void 0&&(u={...u,onIonTabsWillChange:s}),this.ionTabContextState.tabBarProps=u}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?ie.jsx(CO,{...this.props}):ie.jsx(D$.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?ie.jsx(qC,{className:r?`${r}`:"",routeInfo:this.context.routeInfo,...o,children:this.renderTabsInner(a,e)}):this.renderTabsInner(a,e)})}static get contextType(){return Ao}}class FE extends be.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return ie.jsx(R0e,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}class j0e extends be.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const n={};be.Children.forEach(e.children,r=>{r!=null&&typeof r=="object"&&r.props&&(r.type===FE||r.type.isTabButton)&&(n[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===e.routeInfo?.pathname?e.routeInfo?.routeOptions:void 0,currentRouteOptions:r.props.href===e.routeInfo?.pathname?e.routeInfo?.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const s=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(s)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){const r={...n.tabs},s=Object.keys(n.tabs).find(a=>{const c=n.tabs[a].originalHref;return e.routeInfo.pathname.startsWith(c)});be.Children.forEach(e.children,a=>{if(a!=null&&typeof a=="object"&&a.props&&(a.type===FE||a.type.isTabButton)){const c=r[a.props.tab];(!c||c.originalHref!==a.props.href)&&(r[a.props.tab]={originalHref:a.props.href,currentHref:a.props.href,originalRouteOptions:a.props.routeOptions,currentRouteOptions:a.props.routeOptions})}});const{activeTab:o}=n;if(s&&o){const a=n.tabs[o].currentHref,c=n.tabs[o].currentRouteOptions;(s!==o||a!==e.routeInfo?.pathname||c!==e.routeInfo?.routeOptions)&&(r[s]={originalHref:r[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:r[s].originalRouteOptions,currentRouteOptions:e.routeInfo?.routeOptions},e.routeInfo.routeAction==="pop"&&s!==o&&(r[o]={originalHref:r[o].originalHref,currentHref:r[o].originalHref,originalRouteOptions:r[o].originalRouteOptions,currentRouteOptions:r[o].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:r}}onTabButtonClick(e,n){const r=this.state.tabs[e.detail.tab],i=r.originalHref,s=this.props.tabsContext?.hasRouterOutlet,o=s?e.detail.href:"",{activeTab:a}=this.state;n&&n(e),a===e.detail.tab?i!==o&&this.context.resetTab(e.detail.tab,i,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),s&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,o,e.detail.routeOptions)))}renderTabButton(e){return n=>{if(n!=null&&n.props&&(n.type===FE||n.type.isTabButton)){const r=n.props.tab===e?this.props.routeInfo?.pathname:this.state.tabs[n.props.tab].currentHref,i=n.props.tab===e?this.props.routeInfo?.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return be.cloneElement(n,{href:r,routeOptions:i,onClick:s=>this.onTabButtonClick(s,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return ie.jsx(k0e,{...this.props,selectedTab:e,children:be.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return Ao}}const H0e=be.memo(({forwardedRef:t,...e})=>{const n=It.useContext(Ao),r=It.useContext(D$),i=t||r.tabBarProps.ref,s={...r.tabBarProps,ref:i};return ie.jsx(j0e,{ref:i,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...r,tabBarProps:s},children:e.children})});sf(H0e,"IonTabBar");class Nve extends be.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:r}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,r)):n!==void 0&&(window.location.href=n)}}render(){return ie.jsx(N0e,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return Ao}shouldComponentUpdate(){return!0}}class q0e extends be.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){const{icon:e,ios:n,md:r,mode:i,...s}=this.props;let o;const a=jC(),c=i||a?.get("mode");return n||r?c==="ios"?o=n??r??e:o=r??n??e:o=e,ie.jsx(B0e,{ref:this.props.forwardedRef,icon:o,...s,children:this.props.children})}static get contextType(){return Ao}}sf(q0e,"IonIcon");class VC extends be.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!VC?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):ie.jsx(e,{...this.props})}static get contextType(){return Ao}}class P$ extends be.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!P$?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):ie.jsx(e,{...this.props})}static get contextType(){return Ao}}const V0e=be.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class Ove extends be.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=qc(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),IO(n,e),RO(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,r=this.props;IO(n,r,e),W0e(n,r,e),RO(n,r,e)}render(){const{children:e}=this.props;return ie.jsx(ie.Fragment,{children:be.Children.map(e,(n,r)=>be.cloneElement(n,{ref:i=>this.nodes.set(r,i)}))})}}const IO=(t,e={},n={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const c in e)e.hasOwnProperty(c)&&!r.includes(c)&&e[c]!==n[c]&&t[c](e[c]);const i=e.from;i&&i!==n.from&&(Array.isArray(i)?i:[i]).forEach(u=>t.from(u.property,u.value));const s=e.to;s&&s!==n.to&&(Array.isArray(s)?s:[s]).forEach(u=>t.to(u.property,u.value));const o=e.fromTo;o&&o!==n.fromTo&&(Array.isArray(o)?o:[o]).forEach(u=>t.fromTo(u.property,u.fromValue,u.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(u=>t.onFinish(u.callback,u.opts))},W0e=(t,e={},n={})=>{const{progressStart:r,progressStep:i,progressEnd:s}=e;r&&(n.progressStart?.forceLinearEasing!==r?.forceLinearEasing||n.progressStart?.step!==r?.step)&&t.progressStart(r.forceLinearEasing,r.step),i&&n.progressStep?.step!==i?.step&&t.progressStep(i.step),s&&(n.progressEnd?.playTo!==s?.playTo||n.progressEnd?.step!==s?.step||n?.dur!==s?.dur)&&t.progressEnd(s.playTo,s.step,s.dur)},RO=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},K0e=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),mfe({...t})},$$=be.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class kO extends be.Component{constructor(e){super(e),this.ionLifeCycleContext=new u0e,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return ie.jsx(UC.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class G0e{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(r=>{this.locationHistory=this.locationHistory.filter(i=>i.id!==r.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(i=>i.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const r=this.tabHistory[e.tab||""];if(r){const i=r.findIndex(s=>s.id===e.id);i>-1?r.splice(i,1,e):r.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let r=n.length-2;r>=0;r--){const i=n[r];if(i&&i.pathname===e.pushedByRoute)return i}for(let r=this.locationHistory.length-2;r>=0;r--){const i=this.locationHistory[r];if(i&&i.pathname===e.pushedByRoute)return i}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class Y0e extends be.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,r,i,s,o)=>{this.navigate(n,r,i,o,s)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",r="push",i,s,o){this.props.onNavigate(e,r,n,i,s,o)}getPageManager(){return qC}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return ie.jsx(Ao.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:ie.jsx(V0e.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class Z0e{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,r=this.viewStacks[n];if(r){const i=r.find(s=>s.id===e.id);i&&(i.mount=!1,this.viewStacks[n]=r.filter(s=>s.id!==i.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(r=>{n.push(...this.viewStacks[r])}),n}}function Kg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ki.apply(null,arguments)}function X0(t){return t.charAt(0)==="/"}function jE(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function X0e(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&X0(t),s=e&&X0(e),o=i||s;if(t&&X0(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var c=r[r.length-1];a=c==="."||c===".."||c===""}else a=!1;for(var u=0,h=r.length;h>=0;h--){var f=r[h];f==="."?jE(r,h):f===".."?(jE(r,h),u++):u&&(jE(r,h),u--)}if(!o)for(;u--;u)r.unshift("..");o&&r[0]!==""&&(!r[0]||!X0(r[0]))&&r.unshift("");var g=r.join("/");return a&&g.substr(-1)!=="/"&&(g+="/"),g}function NO(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Ay(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,s){return Ay(i,e[s])});if(typeof t=="object"||typeof e=="object"){var n=NO(t),r=NO(e);return n!==t||r!==e?Ay(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return Ay(t[i],e[i])})}return!1}var Q0e="Invariant failed";function Pu(t,e){throw new Error(Q0e)}function Rp(t){return t.charAt(0)==="/"?t:"/"+t}function OO(t){return t.charAt(0)==="/"?t.substr(1):t}function J0e(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function M$(t,e){return J0e(t,e)?t.substr(e.length):t}function U$(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function eye(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Ds(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function qi(t,e,n,r){var i;typeof t=="string"?(i=eye(t),i.state=e):(i=Ki({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=X0e(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function tye(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Ay(t.state,e.state)}function WC(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,c,u){if(t!=null){var h=typeof t=="function"?t(o,a):t;typeof h=="string"?typeof c=="function"?c(h,u):u(!0):u(h!==!1)}else u(!0)}var r=[];function i(o){var a=!0;function c(){a&&o.apply(void 0,arguments)}return r.push(c),function(){a=!1,r=r.filter(function(u){return u!==c})}}function s(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];r.forEach(function(u){return u.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var L$=!!(typeof window<"u"&&window.document&&window.document.createElement);function z$(t,e){e(window.confirm(t))}function nye(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function rye(){return window.navigator.userAgent.indexOf("Trident")===-1}function iye(){return window.navigator.userAgent.indexOf("Firefox")===-1}function sye(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var BO="popstate",DO="hashchange";function PO(){try{return window.history.state||{}}catch{return{}}}function oye(t){t===void 0&&(t={}),L$||Pu();var e=window.history,n=nye(),r=!rye(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,c=a===void 0?z$:a,u=i.keyLength,h=u===void 0?6:u,f=t.basename?U$(Rp(t.basename)):"";function g(R){var M=R||{},k=M.key,E=M.state,U=window.location,Q=U.pathname,te=U.search,oe=U.hash,pe=Q+te+oe;return f&&(pe=M$(pe,f)),qi(pe,E,k)}function m(){return Math.random().toString(36).substr(2,h)}var _=WC();function x(R){Ki(B,R),B.length=e.length,_.notifyListeners(B.location,B.action)}function C(R){sye(R)||I(g(R.state))}function S(){I(g(PO()))}var T=!1;function I(R){if(T)T=!1,x();else{var M="POP";_.confirmTransitionTo(R,M,c,function(k){k?x({action:M,location:R}):P(R)})}}function P(R){var M=B.location,k=W.indexOf(M.key);k===-1&&(k=0);var E=W.indexOf(R.key);E===-1&&(E=0);var U=k-E;U&&(T=!0,X(U))}var z=g(PO()),W=[z.key];function L(R){return f+Ds(R)}function V(R,M){var k="PUSH",E=qi(R,M,m(),B.location);_.confirmTransitionTo(E,k,c,function(U){if(U){var Q=L(E),te=E.key,oe=E.state;if(n)if(e.pushState({key:te,state:oe},null,Q),o)window.location.href=Q;else{var pe=W.indexOf(B.location.key),ue=W.slice(0,pe+1);ue.push(E.key),W=ue,x({action:k,location:E})}else window.location.href=Q}})}function q(R,M){var k="REPLACE",E=qi(R,M,m(),B.location);_.confirmTransitionTo(E,k,c,function(U){if(U){var Q=L(E),te=E.key,oe=E.state;if(n)if(e.replaceState({key:te,state:oe},null,Q),o)window.location.replace(Q);else{var pe=W.indexOf(B.location.key);pe!==-1&&(W[pe]=E.key),x({action:k,location:E})}else window.location.replace(Q)}})}function X(R){e.go(R)}function Y(){X(-1)}function ee(){X(1)}var j=0;function w(R){j+=R,j===1&&R===1?(window.addEventListener(BO,C),r&&window.addEventListener(DO,S)):j===0&&(window.removeEventListener(BO,C),r&&window.removeEventListener(DO,S))}var b=!1;function v(R){R===void 0&&(R=!1);var M=_.setPrompt(R);return b||(w(1),b=!0),function(){return b&&(b=!1,w(-1)),M()}}function O(R){var M=_.appendListener(R);return w(1),function(){w(-1),M()}}var B={length:e.length,action:"POP",location:z,createHref:L,push:V,replace:q,go:X,goBack:Y,goForward:ee,block:v,listen:O};return B}var $O="hashchange",aye={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+OO(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:OO,decodePath:Rp},slash:{encodePath:Rp,decodePath:Rp}};function F$(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function $f(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function cye(t){window.location.hash=t}function HE(t){window.location.replace(F$(window.location.href)+"#"+t)}function lye(t){t===void 0&&(t={}),L$||Pu();var e=window.history;iye();var n=t,r=n.getUserConfirmation,i=r===void 0?z$:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?U$(Rp(t.basename)):"",c=aye[o],u=c.encodePath,h=c.decodePath;function f(){var M=h($f());return a&&(M=M$(M,a)),qi(M)}var g=WC();function m(M){Ki(R,M),R.length=e.length,g.notifyListeners(R.location,R.action)}var _=!1,x=null;function C(M,k){return M.pathname===k.pathname&&M.search===k.search&&M.hash===k.hash}function S(){var M=$f(),k=u(M);if(M!==k)HE(k);else{var E=f(),U=R.location;if(!_&&C(U,E)||x===Ds(E))return;x=null,T(E)}}function T(M){if(_)_=!1,m();else{var k="POP";g.confirmTransitionTo(M,k,i,function(E){E?m({action:k,location:M}):I(M)})}}function I(M){var k=R.location,E=L.lastIndexOf(Ds(k));E===-1&&(E=0);var U=L.lastIndexOf(Ds(M));U===-1&&(U=0);var Q=E-U;Q&&(_=!0,Y(Q))}var P=$f(),z=u(P);P!==z&&HE(z);var W=f(),L=[Ds(W)];function V(M){var k=document.querySelector("base"),E="";return k&&k.getAttribute("href")&&(E=F$(window.location.href)),E+"#"+u(a+Ds(M))}function q(M,k){var E="PUSH",U=qi(M,void 0,void 0,R.location);g.confirmTransitionTo(U,E,i,function(Q){if(Q){var te=Ds(U),oe=u(a+te),pe=$f()!==oe;if(pe){x=te,cye(oe);var ue=L.lastIndexOf(Ds(R.location)),me=L.slice(0,ue+1);me.push(te),L=me,m({action:E,location:U})}else m()}})}function X(M,k){var E="REPLACE",U=qi(M,void 0,void 0,R.location);g.confirmTransitionTo(U,E,i,function(Q){if(Q){var te=Ds(U),oe=u(a+te),pe=$f()!==oe;pe&&(x=te,HE(oe));var ue=L.indexOf(Ds(R.location));ue!==-1&&(L[ue]=te),m({action:E,location:U})}})}function Y(M){e.go(M)}function ee(){Y(-1)}function j(){Y(1)}var w=0;function b(M){w+=M,w===1&&M===1?window.addEventListener($O,S):w===0&&window.removeEventListener($O,S)}var v=!1;function O(M){M===void 0&&(M=!1);var k=g.setPrompt(M);return v||(b(1),v=!0),function(){return v&&(v=!1,b(-1)),k()}}function B(M){var k=g.appendListener(M);return b(1),function(){b(-1),k()}}var R={length:e.length,action:"POP",location:W,createHref:V,push:q,replace:X,go:Y,goBack:ee,goForward:j,block:O,listen:B};return R}function MO(t,e,n){return Math.min(Math.max(t,e),n)}function uye(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,c=a===void 0?6:a,u=WC();function h(V){Ki(L,V),L.length=L.entries.length,u.notifyListeners(L.location,L.action)}function f(){return Math.random().toString(36).substr(2,c)}var g=MO(o,0,i.length-1),m=i.map(function(V){return typeof V=="string"?qi(V,void 0,f()):qi(V,void 0,V.key||f())}),_=Ds;function x(V,q){var X="PUSH",Y=qi(V,q,f(),L.location);u.confirmTransitionTo(Y,X,n,function(ee){if(ee){var j=L.index,w=j+1,b=L.entries.slice(0);b.length>w?b.splice(w,b.length-w,Y):b.push(Y),h({action:X,location:Y,index:w,entries:b})}})}function C(V,q){var X="REPLACE",Y=qi(V,q,f(),L.location);u.confirmTransitionTo(Y,X,n,function(ee){ee&&(L.entries[L.index]=Y,h({action:X,location:Y}))})}function S(V){var q=MO(L.index+V,0,L.entries.length-1),X="POP",Y=L.entries[q];u.confirmTransitionTo(Y,X,n,function(ee){ee?h({action:X,location:Y,index:q}):h()})}function T(){S(-1)}function I(){S(1)}function P(V){var q=L.index+V;return q>=0&&q<L.entries.length}function z(V){return V===void 0&&(V=!1),u.setPrompt(V)}function W(V){return u.appendListener(V)}var L={length:m.length,action:"POP",location:m[g],index:g,entries:m,createHref:_,push:x,replace:C,go:S,goBack:T,goForward:I,canGo:P,block:z,listen:W};return L}function fS(t,e){return fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fS(t,e)}function rl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,fS(t,e)}var j$={exports:{}},dye="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hye=dye,fye=hye;function H$(){}function q$(){}q$.resetWarningCache=H$;var pye=function(){function t(r,i,s,o,a,c){if(c!==fye){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:q$,resetWarningCache:H$};return n.PropTypes=n,n};j$.exports=pye();var gye=j$.exports;const UO=ws(gye);var of={exports:{}},mye=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Wb=mye;of.exports=K$;of.exports.parse=KC;of.exports.compile=wye;of.exports.tokensToFunction=V$;of.exports.tokensToRegExp=W$;var yye=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function KC(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=yye.exec(t))!=null;){var c=a[0],u=a[1],h=a.index;if(s+=t.slice(i,h),i=h+c.length,u){s+=u[1];continue}var f=t[i],g=a[2],m=a[3],_=a[4],x=a[5],C=a[6],S=a[7];s&&(n.push(s),s="");var T=g!=null&&f!=null&&f!==g,I=C==="+"||C==="*",P=C==="?"||C==="*",z=g||o,W=_||x,L=g||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:m||r++,prefix:g||"",delimiter:z,optional:P,repeat:I,partial:T,asterisk:!!S,pattern:W?_ye(W):S?".*":bye(z,L)})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function bye(t,e){return!e||e.indexOf(t)>-1?"[^"+Ul(t)+"]+?":Ul(e)+"|(?:(?!"+Ul(e)+")[^"+Ul(t)+"])+?"}function wye(t,e){return V$(KC(t,e),e)}function vye(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Eye(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function V$(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",YC(e)));return function(i,s){for(var o="",a=i||{},c=s||{},u=c.pretty?vye:encodeURIComponent,h=0;h<t.length;h++){var f=t[h];if(typeof f=="string"){o+=f;continue}var g=a[f.name],m;if(g==null)if(f.optional){f.partial&&(o+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(Wb(g)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(g)+"`");if(g.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var _=0;_<g.length;_++){if(m=u(g[_]),!n[h].test(m))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(m)+"`");o+=(_===0?f.prefix:f.delimiter)+m}continue}if(m=f.asterisk?Eye(g):u(g),!n[h].test(m))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+m+'"');o+=f.prefix+m}return o}}function Ul(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function _ye(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function GC(t,e){return t.keys=e,t}function YC(t){return t&&t.sensitive?"":"i"}function xye(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return GC(t,e)}function Sye(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(K$(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",YC(n));return GC(s,e)}function Aye(t,e,n){return W$(KC(t,n),e,n)}function W$(t,e,n){Wb(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=Ul(a);else{var c=Ul(a.prefix),u="(?:"+a.pattern+")";e.push(a),a.repeat&&(u+="(?:"+c+u+")*"),a.optional?a.partial?u=c+"("+u+")?":u="(?:"+c+"("+u+"))?":u=c+"("+u+")",s+=u}}var h=Ul(n.delimiter||"/"),f=s.slice(-h.length)===h;return r||(s=(f?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),i?s+="$":s+=r&&f?"":"(?="+h+"|$)",GC(new RegExp("^"+s,YC(n)),e)}function K$(t,e,n){return Wb(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?xye(t,e):Wb(t)?Sye(t,e,n):Aye(t,e,n)}var Cye=of.exports;const G$=ws(Cye);var Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=typeof Symbol=="function"&&Symbol.for,ZC=Mr?Symbol.for("react.element"):60103,XC=Mr?Symbol.for("react.portal"):60106,Yw=Mr?Symbol.for("react.fragment"):60107,Zw=Mr?Symbol.for("react.strict_mode"):60108,Xw=Mr?Symbol.for("react.profiler"):60114,Qw=Mr?Symbol.for("react.provider"):60109,Jw=Mr?Symbol.for("react.context"):60110,QC=Mr?Symbol.for("react.async_mode"):60111,ev=Mr?Symbol.for("react.concurrent_mode"):60111,tv=Mr?Symbol.for("react.forward_ref"):60112,nv=Mr?Symbol.for("react.suspense"):60113,Tye=Mr?Symbol.for("react.suspense_list"):60120,rv=Mr?Symbol.for("react.memo"):60115,iv=Mr?Symbol.for("react.lazy"):60116,Iye=Mr?Symbol.for("react.block"):60121,Rye=Mr?Symbol.for("react.fundamental"):60117,kye=Mr?Symbol.for("react.responder"):60118,Nye=Mr?Symbol.for("react.scope"):60119;function _s(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ZC:switch(t=t.type,t){case QC:case ev:case Yw:case Xw:case Zw:case nv:return t;default:switch(t=t&&t.$$typeof,t){case Jw:case tv:case iv:case rv:case Qw:return t;default:return e}}case XC:return e}}}function Y$(t){return _s(t)===ev}Jt.AsyncMode=QC;Jt.ConcurrentMode=ev;Jt.ContextConsumer=Jw;Jt.ContextProvider=Qw;Jt.Element=ZC;Jt.ForwardRef=tv;Jt.Fragment=Yw;Jt.Lazy=iv;Jt.Memo=rv;Jt.Portal=XC;Jt.Profiler=Xw;Jt.StrictMode=Zw;Jt.Suspense=nv;Jt.isAsyncMode=function(t){return Y$(t)||_s(t)===QC};Jt.isConcurrentMode=Y$;Jt.isContextConsumer=function(t){return _s(t)===Jw};Jt.isContextProvider=function(t){return _s(t)===Qw};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ZC};Jt.isForwardRef=function(t){return _s(t)===tv};Jt.isFragment=function(t){return _s(t)===Yw};Jt.isLazy=function(t){return _s(t)===iv};Jt.isMemo=function(t){return _s(t)===rv};Jt.isPortal=function(t){return _s(t)===XC};Jt.isProfiler=function(t){return _s(t)===Xw};Jt.isStrictMode=function(t){return _s(t)===Zw};Jt.isSuspense=function(t){return _s(t)===nv};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Yw||t===ev||t===Xw||t===Zw||t===nv||t===Tye||typeof t=="object"&&t!==null&&(t.$$typeof===iv||t.$$typeof===rv||t.$$typeof===Qw||t.$$typeof===Jw||t.$$typeof===tv||t.$$typeof===Rye||t.$$typeof===kye||t.$$typeof===Nye||t.$$typeof===Iye)};Jt.typeOf=_s;function Z$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var X$={exports:{}},Gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=typeof Symbol=="function"&&Symbol.for,JC=Ur?Symbol.for("react.element"):60103,e2=Ur?Symbol.for("react.portal"):60106,sv=Ur?Symbol.for("react.fragment"):60107,ov=Ur?Symbol.for("react.strict_mode"):60108,av=Ur?Symbol.for("react.profiler"):60114,cv=Ur?Symbol.for("react.provider"):60109,lv=Ur?Symbol.for("react.context"):60110,t2=Ur?Symbol.for("react.async_mode"):60111,uv=Ur?Symbol.for("react.concurrent_mode"):60111,dv=Ur?Symbol.for("react.forward_ref"):60112,hv=Ur?Symbol.for("react.suspense"):60113,Oye=Ur?Symbol.for("react.suspense_list"):60120,fv=Ur?Symbol.for("react.memo"):60115,pv=Ur?Symbol.for("react.lazy"):60116,Bye=Ur?Symbol.for("react.block"):60121,Dye=Ur?Symbol.for("react.fundamental"):60117,Pye=Ur?Symbol.for("react.responder"):60118,$ye=Ur?Symbol.for("react.scope"):60119;function xs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JC:switch(t=t.type,t){case t2:case uv:case sv:case av:case ov:case hv:return t;default:switch(t=t&&t.$$typeof,t){case lv:case dv:case pv:case fv:case cv:return t;default:return e}}case e2:return e}}}function Q$(t){return xs(t)===uv}Gt.AsyncMode=t2;Gt.ConcurrentMode=uv;Gt.ContextConsumer=lv;Gt.ContextProvider=cv;Gt.Element=JC;Gt.ForwardRef=dv;Gt.Fragment=sv;Gt.Lazy=pv;Gt.Memo=fv;Gt.Portal=e2;Gt.Profiler=av;Gt.StrictMode=ov;Gt.Suspense=hv;Gt.isAsyncMode=function(t){return Q$(t)||xs(t)===t2};Gt.isConcurrentMode=Q$;Gt.isContextConsumer=function(t){return xs(t)===lv};Gt.isContextProvider=function(t){return xs(t)===cv};Gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JC};Gt.isForwardRef=function(t){return xs(t)===dv};Gt.isFragment=function(t){return xs(t)===sv};Gt.isLazy=function(t){return xs(t)===pv};Gt.isMemo=function(t){return xs(t)===fv};Gt.isPortal=function(t){return xs(t)===e2};Gt.isProfiler=function(t){return xs(t)===av};Gt.isStrictMode=function(t){return xs(t)===ov};Gt.isSuspense=function(t){return xs(t)===hv};Gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sv||t===uv||t===av||t===ov||t===hv||t===Oye||typeof t=="object"&&t!==null&&(t.$$typeof===pv||t.$$typeof===fv||t.$$typeof===cv||t.$$typeof===lv||t.$$typeof===dv||t.$$typeof===Dye||t.$$typeof===Pye||t.$$typeof===$ye||t.$$typeof===Bye)};Gt.typeOf=xs;X$.exports=Gt;var Mye=X$.exports,n2=Mye,Uye={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Lye={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},J$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r2={};r2[n2.ForwardRef]=zye;r2[n2.Memo]=J$;function LO(t){return n2.isMemo(t)?J$:r2[t.$$typeof]||Uye}var Fye=Object.defineProperty,jye=Object.getOwnPropertyNames,zO=Object.getOwnPropertySymbols,Hye=Object.getOwnPropertyDescriptor,qye=Object.getPrototypeOf,FO=Object.prototype;function eM(t,e,n){if(typeof e!="string"){if(FO){var r=qye(e);r&&r!==FO&&eM(t,r,n)}var i=jye(e);zO&&(i=i.concat(zO(e)));for(var s=LO(t),o=LO(e),a=0;a<i.length;++a){var c=i[a];if(!Lye[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var u=Hye(e,c);try{Fye(t,c,u)}catch{}}}}return t}var Vye=eM;const Wye=ws(Vye);var qE=1073741823,jO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function Kye(){var t="__global_unique_id__";return jO[t]=(jO[t]||0)+1}function Gye(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yye(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function Zye(t){return Array.isArray(t)?t[0]:t}function Xye(t,e){var n,r,i="__create-react-context-"+Kye()+"__",s=function(a){rl(c,a);function c(){for(var h,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return h=a.call.apply(a,[this].concat(g))||this,h.emitter=Yye(h.props.value),h}var u=c.prototype;return u.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},u.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var g=this.props.value,m=f.value,_;Gye(g,m)?_=0:(_=typeof e=="function"?e(g,m):qE,_|=0,_!==0&&this.emitter.set(f.value,_))}},u.render=function(){return this.props.children},c}(be.Component);s.childContextTypes=(n={},n[i]=UO.object.isRequired,n);var o=function(a){rl(c,a);function c(){for(var h,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return h=a.call.apply(a,[this].concat(g))||this,h.observedBits=void 0,h.state={value:h.getValue()},h.onUpdate=function(_,x){var C=h.observedBits|0;C&x&&h.setState({value:h.getValue()})},h}var u=c.prototype;return u.componentWillReceiveProps=function(f){var g=f.observedBits;this.observedBits=g??qE},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f??qE},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():t},u.render=function(){return Zye(this.props.children)(this.state.value)},c}(be.Component);return o.contextTypes=(r={},r[i]=UO.object,r),{Provider:s,Consumer:o}}var Qye=be.createContext||Xye,tM=function(e){var n=Qye();return n.displayName=e,n},Jye=tM("Router-History"),gu=tM("Router"),Fm=function(t){rl(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return be.createElement(gu.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},be.createElement(Jye.Provider,{children:this.props.children||null,value:this.props.history}))},e}(be.Component);be.Component;var ebe=function(t){rl(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(be.Component),VE={},tbe=1e4,HO=0;function nbe(t){if(VE[t])return VE[t];var e=G$.compile(t);return HO<tbe&&(VE[t]=e,HO++),e}function qO(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:nbe(t)(e,{pretty:!0})}function rbe(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return be.createElement(gu.Consumer,null,function(s){s||Pu();var o=s.history,a=s.staticContext,c=i?o.push:o.replace,u=qi(e?typeof n=="string"?qO(n,e.params):Ki({},n,{pathname:qO(n.pathname,e.params)}):n);return a?(c(u),null):be.createElement(ebe,{onMount:function(){c(u)},onUpdate:function(f,g){var m=qi(g.to);tye(m,Ki({},u,{key:m.key}))||c(u)},to:n})})}var VO={},ibe=1e4,WO=0;function sbe(t,e){var n=""+e.end+e.strict+e.sensitive,r=VO[n]||(VO[n]={});if(r[t])return r[t];var i=[],s=G$(t,i,e),o={regexp:s,keys:i};return WO<ibe&&(r[t]=o,WO++),o}function i2(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,c=n.sensitive,u=c===void 0?!1:c,h=[].concat(r);return h.reduce(function(f,g){if(!g&&g!=="")return null;if(f)return f;var m=sbe(g,{end:s,strict:a,sensitive:u}),_=m.regexp,x=m.keys,C=_.exec(t);if(!C)return null;var S=C[0],T=C.slice(1),I=t===S;return s&&!I?null:{path:g,url:g==="/"&&S===""?"/":S,isExact:I,params:x.reduce(function(P,z,W){return P[z.name]=T[W],P},{})}},null)}function obe(t){return be.Children.count(t)===0}var vl=function(t){rl(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return be.createElement(gu.Consumer,null,function(s){s||Pu();var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?i2(o.pathname,i.props):s.match,c=Ki({},s,{location:o,match:a}),u=i.props,h=u.children,f=u.component,g=u.render;return Array.isArray(h)&&obe(h)&&(h=null),be.createElement(gu.Provider,{value:c},c.match?h?typeof h=="function"?h(c):h:f?be.createElement(f,c):g?g(c):null:typeof h=="function"?h(c):null)})},e}(be.Component);function s2(t){return t.charAt(0)==="/"?t:"/"+t}function abe(t,e){return t?Ki({},e,{pathname:s2(t)+e.pathname}):e}function cbe(t,e){if(!t)return e;var n=s2(t);return e.pathname.indexOf(n)!==0?e:Ki({},e,{pathname:e.pathname.substr(n.length)})}function KO(t){return typeof t=="string"?t:Ds(t)}function WE(t){return function(){Pu()}}function GO(){}be.Component;be.Component;function lbe(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var s=i.wrappedComponentRef,o=Z$(i,["wrappedComponentRef"]);return be.createElement(gu.Consumer,null,function(a){return a||Pu(),be.createElement(t,Ki({},o,a,{ref:s}))})};return n.displayName=e,n.WrappedComponent=t,Wye(n,t)}var ube=be.useContext;function dbe(){return ube(gu).location}class hbe extends be.PureComponent{render(){return be.createElement(vl,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const Gg=({pathname:t,componentProps:e})=>{const{exact:n,component:r}=e,i=e.path||e.from,o=i2(t,{exact:n,path:i,component:r});return o||!1};class fbe extends Z0e{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,r,i){const s={id:Wg("viewItem"),outletId:e,ionPageElement:i,reactElement:n,mount:!0,ionRoute:!1};return n.type===VC&&(s.ionRoute=!0,s.disableIonPageManagement=n.props.disableIonPageManagement),s.routeData={match:Gg({pathname:r.pathname,componentProps:n.props}),childProps:n.props},s}getChildrenToRender(e,n,r){const i=this.getViewItemsForOutlet(e);return be.Children.forEach(n.props.children,o=>{const a=i.find(c=>YO(o,c.routeData.childProps.path||c.routeData.childProps.from));a&&(a.reactElement=o)}),i.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=be.createElement(kO,{key:`view-${o.id}`,mount:o.mount,removeView:()=>this.remove(o)},be.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const c=YO(o.reactElement,r.pathname);a=be.createElement(kO,{key:`view-${o.id}`,mount:o.mount,removeView:()=>this.remove(o)},be.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!c&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,n,r){const{viewItem:i,match:s}=this.findViewItemByPath(e.pathname,n);return(r===void 0||r===!0)&&i&&s&&(i.routeData.match=s),i}findLeavingViewItemByRouteInfo(e,n,r=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,n,r);return i}findViewItemByPathname(e,n){const{viewItem:r}=this.findViewItemByPath(e,n);return r}findViewItemByPath(e,n,r){let i,s,o;if(n)o=this.getViewItemsForOutlet(n),o.some(a),i||o.some(c);else{const u=this.getAllViewItems();u.some(a),i||u.some(c)}return{viewItem:i,match:s};function a(u){var h,f;if(r&&!u.ionRoute)return!1;if(s=Gg({pathname:e,componentProps:u.routeData.childProps}),s){const g=s.path.includes(":");if(!g||g&&s.url===((f=(h=u.routeData)===null||h===void 0?void 0:h.match)===null||f===void 0?void 0:f.url))return i=u,!0}return!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(s={path:e,url:e,isExact:!0,params:{}},i=u,!0):!1}}}function YO(t,e){return Gg({pathname:e,componentProps:t.props})}function pbe(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}const ZO=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class gbe extends be.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Wg("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:r}=e.routeInfo;n!==r?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,r;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let i=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(s.mount=!1):e.routeDirection!=="none"&&i!==s&&(s.mount=!1));const o=mbe((r=this.ionRouterOutlet)===null||r===void 0?void 0:r.props.children,e);if(i?i.reactElement=o:o&&(i=this.context.createViewItem(this.id,o,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===s&&i.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),ZO(i.ionPageElement)&&s!==void 0&&!ZO(s.ionPageElement)))return;this.transitionPage(e,i,s)}else s&&!o&&!i&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const r=this.context.findViewItemByRouteInfo(n,this.id);if(r){const i=r.ionPageElement;if(r.ionPageElement=e,r.ionRoute=!0,i===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const s=jC();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,c=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},u=this.context.findViewItemByRouteInfo(c,this.id,!1);return!!u&&u.mount&&u.routeData.match.path!==a.pathname},r=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&c&&await this.transitionPage(s,a,c,"back",!0),Promise.resolve()},i=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(a,this.id,!1),u=this.context.findViewItemByRouteInfo(o,this.id,!1);if(c!==u&&c?.ionPageElement!==void 0){const{ionPageElement:h}=c;h.setAttribute("aria-hidden","true"),h.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:r,onEnd:i}}async transitionPage(e,n,r,i,s=!1){const o=async(h,f)=>{const g=this.skipTransition;g?this.skipTransition=!1:(h.classList.add("ion-page"),h.classList.add("ion-page-invisible")),await a.commit(h,f,{duration:g||u===void 0?0:void 0,direction:u,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,c=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,u=i??c;if(n&&n.ionPageElement&&this.routerOutletElement)if(r&&r.ionPageElement&&n===r)if(ybe(r.reactElement,e.pathname,!0)){const f=pbe(r.ionPageElement.outerHTML);f&&(this.routerOutletElement.appendChild(f),await o(n.ionPageElement,f),this.routerOutletElement.removeChild(f))}else await o(n.ionPageElement,void 0);else await o(n.ionPageElement,r?.ionPageElement),r&&r.ionPageElement&&!s&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=be.Children.only(e);this.ionRouterOutlet=n;const r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return be.createElement(HC.Provider,{value:this.stackContextValue},be.cloneElement(n,{ref:i=>{n.props.setRef&&n.props.setRef(i),n.props.forwardedRef&&(n.props.forwardedRef.current=i),this.routerOutletElement=i;const{ref:s}=n;typeof s=="function"&&s(i)}},r))}static get contextType(){return $$}}function mbe(t,e){let n;return be.Children.forEach(t,r=>{Gg({pathname:e.pathname,componentProps:r.props})&&(n=r)}),n||(be.Children.forEach(t,r=>{r.props.path||r.props.from||(n=r)}),n)}function ybe(t,e,n){return Gg({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class bbe extends be.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new G0e,this.viewStack=new fbe,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:Wg("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,r){if(!n)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=n.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===s?(this.incomingRouteParams.routeOptions=r,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=r,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,r,e)}handleHistoryChange(e,n){var r,i,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const u=this.locationHistory.current();if(u&&u.pushedByRoute){const h=this.locationHistory.findLastLocation(u);this.incomingRouteParams=Object.assign(Object.assign({},h),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((r=e.state)===null||r===void 0?void 0:r.direction)||"forward",routeOptions:(i=e.state)===null||i===void 0?void 0:i.routerOptions,tab:this.currentTab})}let c;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)c=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(c);else{const u=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(c=Object.assign(Object.assign({id:Wg("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),u)c.tab=o.tab,c.pushedByRoute=o.pathname;else if(c.routeAction==="pop"){const h=this.locationHistory.findLastLocation(c);c.pushedByRoute=h?.pushedByRoute}else if(c.routeAction==="push"&&c.tab!==o.tab){const h=this.locationHistory.getCurrentRouteInfoForTab(c.tab);c.pushedByRoute=h?.pushedByRoute}else if(c.routeAction==="replace"){const h=this.locationHistory.current(),f=h?.pushedByRoute,g=f!==void 0&&f!==c.pathname?f:c.pushedByRoute;c.lastPathname=h?.pathname||c.lastPathname,c.prevRouteLastPathname=h?.lastPathname,c.pushedByRoute=g,c.routeDirection=c.routeDirection||h?.routeDirection,c.routeAnimation=c.routeAnimation||h?.routeAnimation}this.locationHistory.add(c)}this.setState({routeInfo:c})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,r,i,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:r,routeOptions:s,routeAnimation:i,tab:o}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const r=jC();e=e||r&&r.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const s=this.locationHistory.findLastLocation(i);if(s){const o=n||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:o}),i.lastPathname===i.pushedByRoute||s.pathname===i.pushedByRoute&&i.tab===""&&s.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",o)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,r){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const s=Object.assign({},i);s.pathname=n,s.routeOptions=r,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return be.createElement($$.Provider,{value:this.routeMangerContextState},be.createElement(Y0e,{ionRoute:hbe,ionRedirect:{},stackManager:gbe,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const gv=lbe(bbe);gv.displayName="IonRouter";class wbe extends be.Component{constructor(e){super(e);const{history:n}=e,r=Kg(e,["history"]);this.history=n||oye(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=Kg(e,["children"]);return be.createElement(Fm,Object.assign({history:this.history},r),be.createElement(gv,{registerHistoryListener:this.registerHistoryListener},n))}}class Bve extends be.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=Kg(e,["children"]);return be.createElement(Fm,Object.assign({},r),be.createElement(gv,{registerHistoryListener:this.registerHistoryListener},n))}}class Dve extends be.Component{constructor(e){super(e);const{history:n}=e,r=Kg(e,["history"]);this.history=n||lye(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=Kg(e,["children"]);return be.createElement(Fm,Object.assign({history:this.history},r),be.createElement(gv,{registerHistoryListener:this.registerHistoryListener},n))}}const vbe=[{title:"Cashier",url:"/Cashier"},{title:"Slots",url:"/Slots"},{title:"Bingo",url:"/Bingo"},{title:"Craps",url:"/Craps"},{title:"Poker",url:"/Poker"}],Ebe=()=>{const t=dbe();return ie.jsx(v0e,{contentId:"main",type:"overlay",children:ie.jsx(rf,{children:ie.jsxs(b0e,{id:"inbox-list",children:[ie.jsx(w0e,{children:"CashBTN"}),ie.jsx(_0e,{children:"Crypto Casino"}),ie.jsx("div",{style:{marginBottom:"1rem"},children:ie.jsx("appkit-button",{})}),vbe.map((e,n)=>ie.jsx(E0e,{autoHide:!1,children:ie.jsx(C0e,{className:t.pathname===e.url?"selected":"",routerLink:e.url,routerDirection:"none",lines:"none",detail:!1,children:ie.jsx(y0e,{children:e.title})})},n))]})})})},_be=({sendHash:t,sendSignMsg:e,sendBalance:n})=>{const{disconnect:r}=ate(),{open:i}=yie(),{isConnected:s,address:o}=hD(),{connection:a}=Qce(),{walletProvider:c}=gie("solana");console.log("walletProvider: ",c),console.log("connection: ",a);const u=async()=>{if(!o||!a)throw Error("user is disconnected");const m=new We(o);if(!m)throw Error("wallet provider is not available");const _=await a.getLatestBlockhash(),x=new Xr({feePayer:m,blockhash:_?.blockhash,lastValidBlockHeight:_?.lastValidBlockHeight}).add(Sh.transfer({fromPubkey:m,toPubkey:new We("GecG4KNjCg9Y2mNRB1bqhj3niv4ychPw8Tt2xDvGo7D1"),lamports:ox})),C=await c.sendTransaction(x,a);t(C)},h=async()=>{if(!c||!o)throw Error("user is disconnected");const m=new TextEncoder().encode("Hello Reown AppKit!"),_=await c.signMessage(m),x=Buffer.from(_).toString("hex");e(x)},f=async()=>{if(!o||!a)throw Error("user is disconnected");const m=new We(o),_=await a?.getBalance(m);n(_!==void 0?`${_/ox} SOL`:"- SOL")},g=async()=>{try{await r()}catch(m){console.error("Failed to disconnect:",m)}};return ie.jsx(ie.Fragment,{children:s?ie.jsx("div",{children:ie.jsx("div",{children:ie.jsxs("div",{style:{display:"flex",gap:"12px"},children:[ie.jsx("button",{style:{borderRadius:"6px",padding:"8px 16px"},onClick:()=>i(),children:"Open"}),ie.jsx("button",{style:{borderRadius:"6px",padding:"8px 16px"},onClick:g,children:"Disconnect"}),ie.jsx("button",{style:{borderRadius:"6px",padding:"8px 16px"},onClick:h,children:"Sign msg"}),ie.jsx("button",{style:{borderRadius:"6px",padding:"8px 16px"},onClick:u,children:"Send tx"}),ie.jsx("button",{style:{borderRadius:"6px",padding:"8px 16px"},onClick:f,children:"Get Balance"})]})})}):null})},xbe=({hash:t,signedMsg:e,balance:n})=>{const{themeMode:r,themeVariables:i}=mie(),s=wie(),{address:o,caipAddress:a,isConnected:c,status:u,embeddedWalletInfo:h}=hD(),f=vie(),g=bie();return It.useEffect(()=>{console.log("Events: ",f)},[f]),ie.jsxs(ie.Fragment,{children:[n&&ie.jsx("section",{children:ie.jsxs("h2",{children:["Balance: ",n]})}),t&&ie.jsxs("section",{children:[ie.jsx("h2",{children:"Sign Tx"}),ie.jsxs("pre",{children:["Hash: ",t,ie.jsx("br",{}),"Status: ",ie.jsx("br",{})]})]}),e&&ie.jsxs("section",{children:[ie.jsx("h2",{children:"Sign msg"}),ie.jsxs("pre",{children:["signedMsg: ",e,ie.jsx("br",{})]})]}),ie.jsxs("section",{children:[ie.jsx("h2",{children:"useAppKit"}),ie.jsxs("pre",{children:["Address: ",o,ie.jsx("br",{}),"caip Address: ",a,ie.jsx("br",{}),"Connected: ",c.toString(),ie.jsx("br",{}),"Status: ",u,ie.jsx("br",{}),"Account Type: ",h?.accountType,ie.jsx("br",{}),h?.user?.email&&`Email: ${h?.user?.email}
`,h?.user?.username&&`Username: ${h?.user?.username}
`,h?.authProvider&&`Provider: ${h?.authProvider}
`]})]}),ie.jsxs("section",{children:[ie.jsx("h2",{children:"Theme"}),ie.jsxs("pre",{children:["Theme: ",r,ie.jsx("br",{}),"ThemeVariables: ",JSON.stringify(i,null,2),ie.jsx("br",{})]})]}),ie.jsxs("section",{children:[ie.jsx("h2",{children:"State"}),ie.jsxs("pre",{children:["activeChain: ",s.activeChain,ie.jsx("br",{}),"loading: ",s.loading.toString(),ie.jsx("br",{}),"open: ",s.open.toString(),ie.jsx("br",{}),"selectedNetworkId: ",s.selectedNetworkId?.toString(),ie.jsx("br",{})]})]}),ie.jsxs("section",{children:[ie.jsx("h2",{children:"WalletInfo"}),ie.jsxs("pre",{children:["Name: ",g.walletInfo?.name?.toString(),ie.jsx("br",{})]})]})]})},Sbe=()=>{const[t,e]=It.useState(void 0),[n,r]=It.useState(""),[i,s]=It.useState(""),o=u=>{e(u)},a=u=>{r(u)},c=u=>{s(u)};return ie.jsxs(zm,{children:[ie.jsx(Mm,{children:ie.jsx(Lm,{children:ie.jsx(Um,{children:"Cashier"})})}),ie.jsxs(rf,{fullscreen:!0,children:[ie.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Crypto Cashier"}),ie.jsx(_be,{sendHash:o,sendSignMsg:a,sendBalance:c}),ie.jsx(xbe,{hash:t,signedMsg:n,balance:i})]})]})},Abe=()=>ie.jsxs(zm,{children:[ie.jsx(Mm,{children:ie.jsx(Lm,{children:ie.jsx(Um,{children:"Slots"})})}),ie.jsx(rf,{fullscreen:!0,children:ie.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Slots Game Coming Soon!"})})]}),Cbe=()=>ie.jsxs(zm,{children:[ie.jsx(Mm,{children:ie.jsx(Lm,{children:ie.jsx(Um,{children:"Bingo"})})}),ie.jsx(rf,{fullscreen:!0,children:ie.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Bingo Game Coming Soon!"})})]}),Tbe=()=>ie.jsxs(zm,{children:[ie.jsx(Mm,{children:ie.jsx(Lm,{children:ie.jsx(Um,{children:"Craps"})})}),ie.jsx(rf,{fullscreen:!0,children:ie.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Craps Game Coming Soon!"})})]}),Ibe=()=>ie.jsxs(zm,{children:[ie.jsx(Mm,{children:ie.jsx(Lm,{children:ie.jsx(Um,{children:"Poker"})})}),ie.jsx(rf,{fullscreen:!0,children:ie.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Poker Game Coming Soon!"})})]});K0e();const Rbe=()=>ie.jsx(B$,{children:ie.jsx(wbe,{children:ie.jsxs(x0e,{contentId:"main",children:[ie.jsx(Ebe,{}),ie.jsxs(Xf,{id:"main",children:[ie.jsx(vl,{path:"/",exact:!0,children:ie.jsx(rbe,{to:"/Cashier"})}),ie.jsx(vl,{path:"/Cashier",exact:!0,children:ie.jsx(Sbe,{})}),ie.jsx(vl,{path:"/Slots",exact:!0,children:ie.jsx(Abe,{})}),ie.jsx(vl,{path:"/Bingo",exact:!0,children:ie.jsx(Cbe,{})}),ie.jsx(vl,{path:"/Craps",exact:!0,children:ie.jsx(Tbe,{})}),ie.jsx(vl,{path:"/Poker",exact:!0,children:ie.jsx(Ibe,{})})]})]})})}),kbe="1eb834a27c25cc7627a6cf12824e1382",Nbe=new Xce;_ie({adapters:[Nbe],networks:[Jy],projectId:kbe,metadata:{name:"CashBTN",description:"Crypto Casino App",url:"https://cashbtn.com",icons:[]}});const Obe=document.getElementById("root"),Bbe=Ode.createRoot(Obe);Bbe.render(ie.jsx(be.StrictMode,{children:ie.jsx(Rbe,{})}));export{Hwe as $,Ve as A,ct as B,Ue as C,Pbe as D,ap as E,rt as F,$be as G,jf as H,ao as I,TM as J,qt as K,Wwe as L,or as M,xM as N,we as O,ya as P,G_ as Q,Tt as R,uo as S,Ui as T,cy as U,ip as V,Jr as W,Uwe as X,kr as Y,ws as Z,rr as _,uy as a,xD as a0,Y_ as a1,vh as a2,Nn as a3,cpe as a4,NC as a5,rfe as a6,nh as a7,tve as a8,Fg as a9,ave as aa,Dh as ab,el as ac,cve as ad,vpe as ae,Jwe as af,eve as ag,uS as ah,yr as ai,kC as aj,lO as ak,lve as al,qc as am,nve as an,HF as ao,bwe as ap,iT as aq,o8 as ar,BF as as,qF as at,wwe as au,ywe as av,nw as aw,_we as ax,vwe as ay,Or as b,Ce as c,tt as d,Z as e,yn as f,ka as g,Vwe as h,Hd as i,us as j,it as k,gn as l,Lre as m,$o as n,zre as o,De as p,co as q,qwe as r,Lt as s,s3 as t,vn as u,gR as v,Ys as w,Mwe as x,yi as y,ti as z};
