const __vite__fileDeps=["assets/embedded-wallet-BN7FnEaP.js","assets/if-defined-CRi6k9-j.js","assets/index-Ddxwk7Tl.js","assets/index-cZG3lKlt.js","assets/ref-1w7Ramvx.js","assets/index-CDaosH6N.js","assets/index-C1URZkTx.js","assets/index-BebwKEPb.js","assets/index-CrUknwOm.js","assets/index-BDjEv3Lq.js","assets/index-BctiuaKB.js","assets/index-Z74sVc1N.js","assets/email-BsArHc_0.js","assets/index--Cqq6ZyT.js","assets/socials-Lrza7Llg.js","assets/index-CmC_CqeW.js","assets/ConstantsUtil-Dmg8YACJ.js","assets/index-Ds_WjeJr.js","assets/index-BWk8qsnt.js","assets/index-UMpfakNT.js","assets/index-gIs9Va1o.js","assets/swaps-h180uuCu.js","assets/index-D3dCGL7i.js","assets/index-CkdWaroA.js","assets/index-8yQXsga2.js","assets/send-DIPjccKT.js","assets/index-GACMbE65.js","assets/index-BLOetjt7.js","assets/receive-D5823GTp.js","assets/index-BHOy8hCI.js","assets/onramp-CE2Nyo61.js","assets/index-Cj0HFNQM.js","assets/index-Dse_RsSd.js","assets/index-EzeJtnQY.js","assets/transactions-BHUgEJ3b.js","assets/index-Bpa2pi1N.js","assets/index-pxMjmnQL.js","assets/index-CRxx62sH.js","assets/index-DxSS-NAw.js","assets/index-_76TxRM6.js","assets/w3m-modal-CdAouBcj.js","assets/swipe-back-pAT_SZ5-.js","assets/index3-DE2QYLm2.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var L$=Object.defineProperty;var z$=(t,e,n)=>e in t?L$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sr=(t,e,n)=>(z$(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ks(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var zO={exports:{}},Fb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$=Symbol.for("react.transitional.element"),j$=Symbol.for("react.fragment");function FO(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:F$,type:t,key:r,ref:e!==void 0?e:null,props:n}}Fb.Fragment=j$;Fb.jsx=FO;Fb.jsxs=FO;zO.exports=Fb;var be=zO.exports;const H$=Symbol(),YC=Object.getPrototypeOf,FE=new WeakMap,q$=t=>t&&(FE.has(t)?FE.get(t):YC(t)===Object.prototype||YC(t)===Array.prototype),V$=t=>q$(t)&&t[H$]||null,ZC=(t,e=!0)=>{FE.set(t,e)};var _y={};const wv=t=>typeof t=="object"&&t!==null,dc=new WeakMap,Of=new WeakSet,W$=(t=Object.is,e=(u,h)=>new Proxy(u,h),n=u=>wv(u)&&!Of.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},i=new WeakMap,s=(u,h,f=r)=>{const g=i.get(u);if(g?.[0]===h)return g[1];const m=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return ZC(m,!0),i.set(u,[h,m]),Reflect.ownKeys(u).forEach(_=>{if(Object.getOwnPropertyDescriptor(m,_))return;const x=Reflect.get(u,_),{enumerable:T}=Reflect.getOwnPropertyDescriptor(u,_),S={value:x,enumerable:T,configurable:!0};if(Of.has(x))ZC(x,!1);else if(x instanceof Promise)delete S.value,S.get=()=>f(x);else if(dc.has(x)){const[C,I]=dc.get(x);S.value=s(C,I(),f)}Object.defineProperty(m,_,S)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],c=u=>{if(!wv(u))throw new Error("object required");const h=o.get(u);if(h)return h;let f=a[0];const g=new Set,m=(q,X=++a[0])=>{f!==X&&(f=X,g.forEach(Y=>Y(q,X)))};let _=a[1];const x=(q=++a[1])=>(_!==q&&!g.size&&(_=q,S.forEach(([X])=>{const Y=X[1](q);Y>f&&(f=Y)})),f),T=q=>(X,Y)=>{const ee=[...X];ee[1]=[q,...ee[1]],m(ee,Y)},S=new Map,C=(q,X)=>{if((_y?"production":void 0)!=="production"&&S.has(q))throw new Error("prop listener already exists");if(g.size){const Y=X[3](T(q));S.set(q,[X,Y])}else S.set(q,[X])},I=q=>{var X;const Y=S.get(q);Y&&(S.delete(q),(X=Y[1])==null||X.call(Y))},P=q=>(g.add(q),g.size===1&&S.forEach(([Y,ee],j)=>{if((_y?"production":void 0)!=="production"&&ee)throw new Error("remove already exists");const w=Y[3](T(j));S.set(j,[Y,w])}),()=>{g.delete(q),g.size===0&&S.forEach(([Y,ee],j)=>{ee&&(ee(),S.set(j,[Y]))})}),z=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),L=e(z,{deleteProperty(q,X){const Y=Reflect.get(q,X);I(X);const ee=Reflect.deleteProperty(q,X);return ee&&m(["delete",[X],Y]),ee},set(q,X,Y,ee){const j=Reflect.has(q,X),w=Reflect.get(q,X,ee);if(j&&(t(w,Y)||o.has(Y)&&t(w,o.get(Y))))return!0;I(X),wv(Y)&&(Y=V$(Y)||Y);let b=Y;if(Y instanceof Promise)Y.then(v=>{Y.status="fulfilled",Y.value=v,m(["resolve",[X],v])}).catch(v=>{Y.status="rejected",Y.reason=v,m(["reject",[X],v])});else{!dc.has(Y)&&n(Y)&&(b=c(Y));const v=!Of.has(b)&&dc.get(b);v&&C(X,v)}return Reflect.set(q,X,b,ee),m(["set",[X],Y,w]),!0}});o.set(u,L);const V=[z,x,s,P];return dc.set(L,V),Reflect.ownKeys(u).forEach(q=>{const X=Object.getOwnPropertyDescriptor(u,q);"value"in X&&(L[q]=u[q],delete X.value,delete X.writable),Object.defineProperty(z,q,X)}),L})=>[c,dc,Of,t,e,n,r,i,s,o,a],[K$]=W$();function wn(t={}){return K$(t)}function fi(t,e,n){const r=dc.get(t);(_y?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const u=o(h=>{s.push(h),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,u()}}function Sp(t,e){const n=dc.get(t);(_y?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function qc(t){return Of.add(t),t}function gi(t,e,n,r){let i=t[e];return fi(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function G$(t){const e=wn({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const jO={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var Y$=20,Z$=1,Nh=1e6,X$=1e6,Q$=-7,J$=21,eM=!1,Kg="[big.js] ",fu=Kg+"Invalid ",jb=fu+"decimal places",tM=fu+"rounding mode",HO=Kg+"Division by zero",Ht={},zo=void 0,nM=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function qO(){function t(e){var n=this;if(!(n instanceof t))return e===zo?qO():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(fu+"value");e=e===0&&1/e<0?"-0":String(e)}rM(n,e)}n.constructor=t}return t.prototype=Ht,t.DP=Y$,t.RM=Z$,t.NE=Q$,t.PE=J$,t.strict=eM,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function rM(t,e){var n,r,i;if(!nM.test(e))throw Error(fu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function pu(t,e,n,r){var i=t.c;if(n===zo&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(tM);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==zo))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==zo||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function gu(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}Ht.abs=function(){var t=new this.constructor(this);return t.s=1,t};Ht.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Ht.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Nh)throw Error(jb);if(!i[0])throw Error(HO);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,u,h,f,g=i.slice(),m=a=i.length,_=r.length,x=r.slice(0,a),T=x.length,S=t,C=S.c=[],I=0,P=o+(S.e=e.e-t.e)+1;for(S.s=s,s=P<0?0:P,g.unshift(0);T++<a;)x.push(0);do{for(u=0;u<10;u++){if(a!=(T=x.length))h=a>T?1:-1;else for(f=-1,h=0;++f<a;)if(i[f]!=x[f]){h=i[f]>x[f]?1:-1;break}if(h<0){for(c=T==a?i:g;T;){if(x[--T]<c[T]){for(f=T;f&&!x[--f];)x[f]=9;--x[f],x[T]+=10}x[T]-=c[T]}for(;!x[0];)x.shift()}else break}C[I++]=h?u:++u,x[0]&&h?x[T]=r[m]||0:x=[r[m]]}while((m++<_||x[0]!==zo)&&s--);return!C[0]&&I!=1&&(C.shift(),S.e--,P--),I>P&&pu(S,P,n.RM,x[0]!==zo),S};Ht.eq=function(t){return this.cmp(t)===0};Ht.gt=function(t){return this.cmp(t)>0};Ht.gte=function(t){return this.cmp(t)>-1};Ht.lt=function(t){return this.cmp(t)<0};Ht.lte=function(t){return this.cmp(t)<1};Ht.minus=Ht.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var u=s.c.slice(),h=s.e,f=t.c,g=t.e;if(!u[0]||!f[0])return f[0]?t.s=-c:u[0]?t=new o(s):t.s=1,t;if(a=h-g){for((i=a<0)?(a=-a,r=u):(g=h,r=f),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<f.length)?u:f).length,a=c=0;c<n;c++)if(u[c]!=f[c]){i=u[c]<f[c];break}if(i&&(r=u,u=f,f=r,t.s=-t.s),(c=(n=f.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;n>a;){if(u[--n]<f[n]){for(e=n;e&&!u[--e];)u[e]=9;--u[e],u[n]+=10}u[n]-=f[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--g;return u[0]||(t.s=1,u=[g=0]),t.c=u,t.e=g,t};Ht.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(HO);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};Ht.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Ht.plus=Ht.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,u=t.c;if(!a[0]||!u[0])return u[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=u):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-u.length<0&&(r=u,u=a,a=r),e=u.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+u[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Ht.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-1e6||t>X$)throw Error(fu+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};Ht.prec=function(t,e){if(t!==~~t||t<1||t>Nh)throw Error(fu+"precision");return pu(new this.constructor(this),t,e)};Ht.round=function(t,e){if(t===zo)t=0;else if(t!==~~t||t<-1e6||t>Nh)throw Error(jb);return pu(new this.constructor(this),t+this.e+1,e)};Ht.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Kg+"No square root");s=Math.sqrt(+gu(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return pu(t,(i.DP-=4)+t.e+1,i.RM)};Ht.times=Ht.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+u,o<a&&(e=i,i=s,s=e,u=o,o=a,a=u),e=new Array(u=o+a);u--;)e[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=e[u]+s[c]*i[u-c-1]+a,e[u--]=a%10,a=a/10|0;e[u]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Ht.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==zo){if(t!==~~t||t<0||t>Nh)throw Error(jb);for(n=pu(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return gu(n,!0,!!r)};Ht.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==zo){if(t!==~~t||t<0||t>Nh)throw Error(jb);for(n=pu(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return gu(n,!1,!!r)};Ht[Symbol.for("nodejs.util.inspect.custom")]=Ht.toJSON=Ht.toString=function(){var t=this,e=t.constructor;return gu(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Ht.toNumber=function(){var t=+gu(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Kg+"Imprecise conversion");return t};Ht.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==zo){if(t!==~~t||t<1||t>Nh)throw Error(fu+"precision");for(n=pu(new r(n),t,e);n.c.length<t;)n.c.push(0)}return gu(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};Ht.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Kg+"valueOf disallowed");return gu(t,t.e<=e.NE||t.e>=e.PE,!0)};var rf=qO();const iM={bigNumber(t){return t?new rf(t):new rf(0)},multiply(t,e){if(t===void 0||e===void 0)return new rf(0);const n=new rf(t),r=new rf(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},sM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],oM=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],aM=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var XC={};const Te={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof XC<"u"?XC.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},cM={getERC20Abi:t=>Te.USDT_CONTRACT_ADDRESSES.includes(t)?aM:sM,getSwapAbi:()=>oM},ma={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},ht={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function vv(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const lt={setItem(t,e){Bf()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Bf())return localStorage.getItem(t)||void 0},removeItem(t){Bf()&&localStorage.removeItem(t)},clear(){Bf()&&localStorage.clear()}};function Bf(){return typeof window<"u"&&typeof localStorage<"u"}function Ra(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var QC={};const Ev=(typeof process<"u"&&typeof QC<"u"?QC.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Vye=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Wye="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",kr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,SECURE_SITE:Ev,SECURE_SITE_DASHBOARD:`${Ev}/dashboard`,SECURE_SITE_FAVICON:`${Ev}/images/favicon.png`,WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},Pe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=Pe.getActiveNamespace(),e=Pe.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{lt.setItem(ht.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=lt.getItem(ht.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{lt.removeItem(ht.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{lt.setItem(ht.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{lt.setItem(ht.ACTIVE_CAIP_NETWORK_ID,t),Pe.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return lt.getItem(ht.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{lt.removeItem(ht.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=vv(t);lt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=Pe.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),lt.setItem(ht.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=lt.getItem(ht.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=vv(t);lt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return lt.getItem(ht.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=vv(t);return lt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{lt.setItem(ht.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return lt.getItem(ht.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{lt.removeItem(ht.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return lt.getItem(ht.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return lt.getItem(ht.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{lt.setItem(ht.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return lt.getItem(ht.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=lt.getItem(ht.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));lt.setItem(ht.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=Pe.getConnectedNamespaces();e.includes(t)||(e.push(t),Pe.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=Pe.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),Pe.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return lt.getItem(ht.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{lt.setItem(ht.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{lt.removeItem(ht.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=lt.getItem(ht.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=Pe.getBalanceCache();lt.setItem(ht.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=Pe.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Pe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=Pe.getBalanceCache();e[t.caipAddress]=t,lt.setItem(ht.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=lt.getItem(ht.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=Pe.getBalanceCache();lt.setItem(ht.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=Pe.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),Pe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=Pe.getNativeBalanceCache();e[t.caipAddress]=t,lt.setItem(ht.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=lt.getItem(ht.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=Pe.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Pe.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=Pe.getEnsCache();e[t.address]=t,lt.setItem(ht.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=Pe.getEnsCache();lt.setItem(ht.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=lt.getItem(ht.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=Pe.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Pe.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=Pe.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},lt.setItem(ht.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=Pe.getIdentityCache();lt.setItem(ht.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{lt.removeItem(ht.PORTFOLIO_CACHE),lt.removeItem(ht.NATIVE_BALANCE_CACHE),lt.removeItem(ht.ENS_CACHE),lt.removeItem(ht.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{lt.setItem(ht.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=lt.getItem(ht.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n={...Pe.getConnections(),[e]:t};lt.setItem(ht.CONNECTIONS,JSON.stringify(n))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=lt.getItem(ht.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}}},rt={isMobile(){return this.isClient()?!!(window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return rt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=kr.TEN_SEC_MS:!0},isAllowedRetry(t,e=kr.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},getPairingExpiry(){return Date.now()+kr.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(rt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!rt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?Pe.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window.matchMedia?.("(display-mode: standalone)")?.matches,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,rt.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){let n;if(t==="0")n="0";else if(typeof t=="string"){const r=Number(t);r&&(n=r.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Te.W3M_API_URL},getBlockchainApiUrl(){return Te.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Te.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?kr.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Te.CHAIN_NAME_MAP},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),u=t.substring(i),h=c+n;return a+h+u}};async function sf(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Gg{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await sf(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await sf(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await sf(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await sf(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await sf(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const lM={getFeatureValue(t,e){const n=e?.[t];return n===void 0?kr.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(rt.isTelegram()){if(rt.isIos())return t.filter(e=>e!=="google");if(rt.isMac())return t.filter(e=>e!=="x");if(rt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},tt=wn({features:kr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:kr.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1}),we={state:tt,subscribeKey(t,e){return gi(tt,t,e)},setOptions(t){Object.assign(tt,t)},setFeatures(t){if(!t)return;tt.features||(tt.features=kr.DEFAULT_FEATURES);const e={...tt.features,...t};tt.features=e,tt.features.socials&&(tt.features.socials=lM.filterSocialsByPlatform(tt.features.socials))},setProjectId(t){tt.projectId=t},setCustomRpcUrls(t){tt.customRpcUrls=t},setAllWallets(t){tt.allWallets=t},setIncludeWalletIds(t){tt.includeWalletIds=t},setExcludeWalletIds(t){tt.excludeWalletIds=t},setFeaturedWalletIds(t){tt.featuredWalletIds=t},setTokens(t){tt.tokens=t},setTermsConditionsUrl(t){tt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){tt.privacyPolicyUrl=t},setCustomWallets(t){tt.customWallets=t},setIsSiweEnabled(t){tt.isSiweEnabled=t},setIsUniversalProvider(t){tt.isUniversalProvider=t},setSdkVersion(t){tt.sdkVersion=t},setMetadata(t){tt.metadata=t},setDisableAppend(t){tt.disableAppend=t},setEIP6963Enabled(t){tt.enableEIP6963=t},setDebug(t){tt.debug=t},setEnableWalletConnect(t){tt.enableWalletConnect=t},setEnableWalletGuide(t){tt.enableWalletGuide=t},setEnableAuthLogger(t){tt.enableAuthLogger=t},setEnableWallets(t){tt.enableWallets=t},setPreferUniversalLinks(t){tt.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){tt.hasMultipleAddresses=t},setSIWX(t){tt.siwx=t},setConnectMethodsOrder(t){tt.features={...tt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){tt.features={...tt.features,walletFeaturesOrder:t}},setSocialsOrder(t){tt.features={...tt.features,socials:t}},setCollapseWallets(t){tt.features={...tt.features,collapseWallets:t}},setEnableEmbedded(t){tt.enableEmbedded=t},setAllowUnsupportedChain(t){tt.allowUnsupportedChain=t},setManualWCControl(t){tt.manualWCControl=t},setEnableNetworkSwitch(t){tt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(tt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){tt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return tt.universalProviderConfigOverride},getSnapshot(){return Sp(tt)}},uM=Object.freeze({enabled:!0,events:[]}),dM=new Gg({baseUrl:rt.getAnalyticsUrl(),clientId:null}),hM=5,fM=60*1e3,Za=wn({...uM}),pM={state:Za,subscribeKey(t,e){return gi(Za,t,e)},async sendError(t,e){if(!Za.enabled)return;const n=Date.now();if(Za.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return n-o<fM}).length>=hM)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};Za.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=we.state;await dM.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:rt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch(s){console.error("Error sending telemetry event:",s)}},enable(){Za.enabled=!0},disable(){Za.enabled=!1},clearEvents(){Za.events=[]}};class Ap extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Error.captureStackTrace&&Error.captureStackTrace(this,Ap)}}function JC(t,e){const n=t instanceof Ap?t:new Ap(t instanceof Error?t.message:String(t),e,t);throw pM.sendError(n,n.category),n}function Gs(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return JC(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return JC(a,e)}},n[r]=s}else n[r]=i}),n}const gM={handleMobileDeeplinkRedirect(t){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}Z.state.activeChain===Te.CHAIN.SOLANA&&t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}},Zi=wn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),mM={state:Zi,subscribeNetworkImages(t){return fi(Zi.networkImages,()=>t(Zi.networkImages))},subscribeKey(t,e){return gi(Zi,t,e)},subscribe(t){return fi(Zi,()=>t(Zi))},setWalletImage(t,e){Zi.walletImages[t]=e},setNetworkImage(t,e){Zi.networkImages[t]=e},setChainImage(t,e){Zi.chainImages[t]=e},setConnectorImage(t,e){Zi.connectorImages={...Zi.connectorImages,[t]:e}},setTokenImage(t,e){Zi.tokenImages[t]=e},setCurrencyImage(t,e){Zi.currencyImages[t]=e}},oo=Gs(mM),yM={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},_v=wn({networkImagePromises:{}}),VO={async fetchWalletImage(t){if(t)return await nt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(_v.networkImagePromises[t]||(_v.networkImagePromises[t]=nt._fetchNetworkImage(t)),await _v.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return oo.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return oo.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return oo.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return oo.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.imageId)return oo.state.connectorImages[t.imageId]},getChainImage(t){return oo.state.networkImages[yM[t]]}},Xa=wn({message:"",variant:"info",open:!1}),bM={state:Xa,subscribeKey(t,e){return gi(Xa,t,e)},open(t,e){const{debug:n}=we.state,{shortMessage:r,longMessage:i}=t;n&&(Xa.message=r,Xa.variant=e,Xa.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Xa.open=!1,Xa.message="",Xa.variant="info"}},Po=Gs(bM),wM=rt.getAnalyticsUrl(),vM=new Gg({baseUrl:wM,clientId:null}),EM=["MODAL_CREATED"],na=wn({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),mn={state:na,subscribe(t){return fi(na,()=>t(na))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=we.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=Ve.state.address;if(EM.includes(t.data.event)||typeof window>"u")return;await vM.post({path:"/e",params:mn.getSdkProperties(),body:{eventId:rt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),na.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Te.HTTP_STATUS_CODES.FORBIDDEN&&!na.reportedErrors.FORBIDDEN&&(Po.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Bf()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),na.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){na.timestamp=Date.now(),na.data=t,we.state.features?.analytics&&mn._sendAnalyticsEvent(na)}},xv={PHANTOM:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",COINBASE:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"},_M=rt.getApiUrl(),Xi=new Gg({baseUrl:_M,clientId:null}),xM=40,e2=4,SM=20,ft=wn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),nt={state:ft,subscribeKey(t,e){return gi(ft,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=we.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return we.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Xi.baseUrl}/getWalletImage/${t}`,n=await Xi.getBlob({path:e,params:nt._getSdkProperties()});oo.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Xi.baseUrl}/public/getAssetImage/${t}`,n=await Xi.getBlob({path:e,params:nt._getSdkProperties()});oo.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Xi.baseUrl}/public/getAssetImage/${t}`,n=await Xi.getBlob({path:e,params:nt._getSdkProperties()});oo.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Xi.baseUrl}/public/getCurrencyImage/${t}`,n=await Xi.getBlob({path:e,params:nt._getSdkProperties()});oo.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Xi.baseUrl}/public/getTokenImage/${t}`,n=await Xi.getBlob({path:e,params:nt._getSdkProperties()});oo.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return rt.isMobile()?t?.filter(n=>n.mobile_link||n.id===xv.COINBASE||n.id===xv.PHANTOM&&Z.state.activeChain==="solana"):t},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Xi.get({path:"/projects/v1/origins",params:nt._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const e=Z.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!VO.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>nt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=ze.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>nt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>nt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>nt._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];nt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(xv));const r=await Xi.get({path:"/getWallets",params:{...nt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:nt._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=we.state;if(t?.length){const e={...nt._getSdkProperties(),page:1,entries:t?.length??e2,include:t},{data:n}=await nt.fetchWallets(e);n.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const r=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(r.map(i=>nt._fetchWalletImage(i))),ft.featured=n,ft.allFeatured=n}},async fetchRecommendedWallets(){try{ft.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=we.state,r=[...e??[],...n??[]].filter(Boolean),i=Z.getRequestedCaipNetworkIds().join(","),s={page:1,entries:e2,include:t,exclude:r,chains:i},{data:o,count:a}=await nt.fetchWallets(s),c=Pe.getRecentWallets(),u=o.map(f=>f.image_id).filter(Boolean),h=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u,...h].map(f=>nt._fetchWalletImage(f))),ft.recommended=o,ft.allRecommended=o,ft.count=a??0}catch{}finally{ft.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=we.state,i=Z.getRequestedCaipNetworkIds().join(","),s=[...ft.recommended.map(({id:h})=>h),...n??[],...r??[]].filter(Boolean),o={page:t,entries:xM,include:e,exclude:s,chains:i},{data:a,count:c}=await nt.fetchWallets(o),u=a.slice(0,SM).map(h=>h.image_id).filter(Boolean);await Promise.allSettled(u.map(h=>nt._fetchWalletImage(h))),ft.wallets=rt.uniqueBy([...ft.wallets,...nt._filterOutExtensions(a)],"id").filter(h=>h.chains?.some(f=>i.includes(f))),ft.count=c>ft.count?c:ft.count,ft.page=t},async initializeExcludedWallets({ids:t}){const e=Z.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await nt.fetchWallets(n);r&&r.forEach(i=>{ft.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=we.state,i=Z.getRequestedCaipNetworkIds().join(",");ft.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await nt.fetchWallets(s);mn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>nt._fetchWalletImage(c)),rt.wait(300)]),ft.search=nt._filterOutExtensions(o)},initPromise(t,e){const n=ft.promises[t];return n||(ft.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&nt.initPromise("connectorImages",nt.fetchConnectorImages),e&&nt.initPromise("featuredWallets",nt.fetchFeaturedWallets),n&&nt.initPromise("recommendedWallets",nt.fetchRecommendedWallets),r&&nt.initPromise("networkImages",nt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){we.state.features?.analytics&&nt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Xi.get({path:"/getAnalyticsConfig",params:nt._getSdkProperties()});we.setFeatures({analytics:t})}catch{we.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){ft.featured=ft.allFeatured,ft.recommended=ft.allRecommended;return}const e=Z.getRequestedCaipNetworkIds().join(",");ft.featured=ft.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),ft.recommended=ft.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),ft.filteredWallets=ft.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){ft.filteredWallets=[]},setFilterByNamespace(t){if(!t){ft.featured=ft.allFeatured,ft.recommended=ft.allRecommended;return}const e=Z.getRequestedCaipNetworkIds().join(",");ft.featured=ft.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),ft.recommended=ft.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),ft.filteredWallets=ft.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},zt=wn({view:"Connect",history:["Connect"],transactionStack:[]}),AM={state:zt,subscribeKey(t,e){return gi(zt,t,e)},pushTransactionStack(t){zt.transactionStack.push(t)},popTransactionStack(t){const e=zt.transactionStack.pop();if(e)if(t)Tt.goBack(),e?.onCancel?.();else{if(e.goBack)Tt.goBack();else if(e.replace){const r=zt.history.indexOf("ConnectingSiwe");r>0?Tt.goBackToIndex(r-1):(ir.close(!0),zt.history=[])}else e.view&&Tt.reset(e.view);e?.onSuccess?.()}},push(t,e){t!==zt.view&&(zt.view=t,zt.history.push(t),zt.data=e)},reset(t,e){zt.view=t,zt.history=[t],zt.data=e},replace(t,e){zt.history.at(-1)===t||(zt.view=t,zt.history[zt.history.length-1]=t,zt.data=e)},goBack(){const t=!Z.state.activeCaipAddress&&Tt.state.view==="ConnectingFarcaster";if(zt.history.length>1&&!zt.history.includes("UnsupportedChain")){zt.history.pop();const[e]=zt.history.slice(-1);e&&(zt.view=e)}else ir.close();zt.data?.wallet&&(zt.data.wallet=void 0),setTimeout(()=>{if(t){Ve.setFarcasterUrl(void 0,Z.state.activeChain);const e=ze.getAuthConnector();e?.provider?.reload();const n=Sp(we.state);e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType})}},100)},goBackToIndex(t){if(zt.history.length>1){zt.history=zt.history.slice(0,t+1);const[e]=zt.history.slice(-1);e&&(zt.view=e)}}},Tt=Gs(AM),ra=wn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),jE={state:ra,subscribe(t){return fi(ra,()=>t(ra))},setThemeMode(t){ra.themeMode=t;try{const e=ze.getAuthConnector();if(e){const n=jE.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Ra(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){ra.themeVariables={...ra.themeVariables,...t};try{const e=ze.getAuthConnector();if(e){const n=jE.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Ra(ra.themeVariables,ra.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Sp(ra)}},$i=Gs(jE),WO={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Nt=wn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...WO},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),CM={state:Nt,subscribe(t){return fi(Nt,()=>{t(Nt)})},subscribeKey(t,e){return gi(Nt,t,e)},initialize(t){t.forEach(e=>{const n=Pe.getConnectedConnectorId(e);n&&ze.setConnectorId(n,e)})},setActiveConnector(t){t&&(Nt.activeConnector=qc(t))},setConnectors(t){t.filter(i=>!Nt.allConnectors.some(s=>s.id===i.id&&ze.getConnectorName(s.name)===ze.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Nt.allConnectors.push(qc(i))});const n=ze.getEnabledNamespaces(),r=ze.getEnabledConnectors(n);Nt.connectors=ze.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(Nt.filterByNamespaceMap).forEach(e=>{Nt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Nt.filterByNamespaceMap[e]=!0}),ze.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Nt.filterByNamespaceMap[t]=e,ze.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=ze.getEnabledNamespaces(),e=ze.getEnabledConnectors(t),n=ze.areAllNamespacesEnabled();Nt.connectors=ze.mergeMultiChainConnectors(e),n?nt.clearFilterByNamespaces():nt.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Nt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Nt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Nt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=ze.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=i?.id===Te.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=ze.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===Te.CONNECTOR_ID.AUTH){const e=t,n=Sp(we.state),r=$i.getSnapshot().themeMode,i=$i.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Ra(i,r)}),ze.setConnectors([t])}else ze.setConnectors([t])},getAuthConnector(t){const e=t||Z.state.activeChain,n=Nt.connectors.find(r=>r.id===Te.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return Nt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Nt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return Nt.allConnectors.filter(r=>r.chain===Z.state.activeChain).find(r=>r.explorerId===t||r.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=Sp(we.state),r=$i.getSnapshot().themeMode,i=$i.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Ra(i,r)})},getConnectorsByNamespace(t){const e=Nt.allConnectors.filter(n=>n.chain===t);return ze.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ze.getConnector(t.id,t.rdns);gM.handleMobileDeeplinkRedirect(e?.name||t.name||""),e?Tt.push("ConnectingExternal",{connector:e}):Tt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?ze.getConnectorsByNamespace(t):ze.mergeMultiChainConnectors(Nt.allConnectors)},setFilterByNamespace(t){Nt.filterByNamespace=t,Nt.connectors=ze.getConnectors(t),nt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Nt.activeConnectorIds={...Nt.activeConnectorIds,[e]:t},Pe.setConnectedConnectorId(e,t))},removeConnectorId(t){Nt.activeConnectorIds={...Nt.activeConnectorIds,[t]:void 0},Pe.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Nt.activeConnectorIds[t]},isConnected(t){return t?!!Nt.activeConnectorIds[t]:Object.values(Nt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Nt.activeConnectorIds={...WO}}},ze=Gs(CM);function Gm(t,e){return ze.getConnectorId(t)===e}function TM(t){const e=Array.from(Z.state.chains.keys());let n=[];return t?(n.push([t,Z.state.chains.get(t)]),Gm(t,Te.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&Gm(r,Te.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,Z.state.chains.get(r)])}):Gm(t,Te.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&Gm(r,Te.CONNECTOR_ID.AUTH)&&n.push([r,Z.state.chains.get(r)])})):n=Array.from(Z.state.chains.entries()),n}var oS={exports:{}},Ud=typeof Reflect=="object"?Reflect:null,t2=Ud&&typeof Ud.apply=="function"?Ud.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},G0;Ud&&typeof Ud.ownKeys=="function"?G0=Ud.ownKeys:Object.getOwnPropertySymbols?G0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:G0=function(e){return Object.getOwnPropertyNames(e)};function IM(t){console&&console.warn&&console.warn(t)}var KO=Number.isNaN||function(e){return e!==e};function Xt(){Xt.init.call(this)}oS.exports=Xt;oS.exports.once=OM;Xt.EventEmitter=Xt;Xt.prototype._events=void 0;Xt.prototype._eventsCount=0;Xt.prototype._maxListeners=void 0;var n2=10;function Hb(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return n2},set:function(t){if(typeof t!="number"||t<0||KO(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");n2=t}});Xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||KO(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function GO(t){return t._maxListeners===void 0?Xt.defaultMaxListeners:t._maxListeners}Xt.prototype.getMaxListeners=function(){return GO(this)};Xt.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")t2(c,this,n);else for(var u=c.length,h=JO(c,u),r=0;r<u;++r)t2(h[r],this,n);return!0};function YO(t,e,n,r){var i,s,o;if(Hb(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=GO(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,IM(a)}return t}Xt.prototype.addListener=function(e,n){return YO(this,e,n,!1)};Xt.prototype.on=Xt.prototype.addListener;Xt.prototype.prependListener=function(e,n){return YO(this,e,n,!0)};function RM(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ZO(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=RM.bind(r);return i.listener=n,r.wrapFn=i,i}Xt.prototype.once=function(e,n){return Hb(n),this.on(e,ZO(this,e,n)),this};Xt.prototype.prependOnceListener=function(e,n){return Hb(n),this.prependListener(e,ZO(this,e,n)),this};Xt.prototype.removeListener=function(e,n){var r,i,s,o,a;if(Hb(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():kM(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};Xt.prototype.off=Xt.prototype.removeListener;Xt.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function XO(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?NM(i):JO(i,i.length)}Xt.prototype.listeners=function(e){return XO(this,e,!0)};Xt.prototype.rawListeners=function(e){return XO(this,e,!1)};Xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):QO.call(t,e)};Xt.prototype.listenerCount=QO;function QO(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Xt.prototype.eventNames=function(){return this._eventsCount>0?G0(this._events):[]};function JO(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function kM(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function NM(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function OM(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}e3(t,e,s,{once:!0}),e!=="error"&&BM(t,i,{once:!0})})}function BM(t,e,n){typeof t.on=="function"&&e3(t,"error",e,n)}function e3(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ys=oS.exports;const aS=Ks(Ys);var xe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var HE=function(t,e){return HE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},HE(t,e)};function DM(t,e){HE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qE=function(){return qE=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qE.apply(this,arguments)};function PM(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $M(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function MM(t,e){return function(n,r){e(n,r,t)}}function UM(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function LM(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function zM(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function FM(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function jM(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function VE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function t3(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function HM(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(t3(arguments[e]));return t}function qM(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Cp(t){return this instanceof Cp?(this.v=t,this):new Cp(t)}function VM(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(m){return new Promise(function(_,x){s.push([g,m,_,x])>1||a(g,m)})})}function a(g,m){try{c(r[g](m))}catch(_){f(s[0][3],_)}}function c(g){g.value instanceof Cp?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){a("next",g)}function h(g){a("throw",g)}function f(g,m){g(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function WM(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Cp(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function KM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VE=="function"?VE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function GM(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function YM(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function ZM(t){return t&&t.__esModule?t:{default:t}}function XM(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function QM(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const JM=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return qE},__asyncDelegator:WM,__asyncGenerator:VM,__asyncValues:KM,__await:Cp,__awaiter:LM,__classPrivateFieldGet:XM,__classPrivateFieldSet:QM,__createBinding:FM,__decorate:$M,__exportStar:jM,__extends:DM,__generator:zM,__importDefault:ZM,__importStar:YM,__makeTemplateObject:GM,__metadata:UM,__param:MM,__read:t3,__rest:PM,__spread:HM,__spreadArrays:qM,__values:VE},Symbol.toStringTag,{value:"Module"})),qb=Wg(JM);var Sv={},of={},r2;function eU(){if(r2)return of;r2=1,Object.defineProperty(of,"__esModule",{value:!0}),of.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return of.delay=t,of}var al={},Av={},cl={},i2;function tU(){return i2||(i2=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.ONE_THOUSAND=cl.ONE_HUNDRED=void 0,cl.ONE_HUNDRED=100,cl.ONE_THOUSAND=1e3),cl}var Cv={},s2;function nU(){return s2||(s2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Cv)),Cv}var o2;function n3(){return o2||(o2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=qb;e.__exportStar(tU(),t),e.__exportStar(nU(),t)}(Av)),Av}var a2;function rU(){if(a2)return al;a2=1,Object.defineProperty(al,"__esModule",{value:!0}),al.fromMiliseconds=al.toMiliseconds=void 0;const t=n3();function e(r){return r*t.ONE_THOUSAND}al.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return al.fromMiliseconds=n,al}var c2;function iU(){return c2||(c2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=qb;e.__exportStar(eU(),t),e.__exportStar(rU(),t)}(Sv)),Sv}var Du={},l2;function sU(){if(l2)return Du;l2=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Du.Watch=t,Du.default=t,Du}var Tv={},af={},u2;function oU(){if(u2)return af;u2=1,Object.defineProperty(af,"__esModule",{value:!0}),af.IWatch=void 0;class t{}return af.IWatch=t,af}var d2;function aU(){return d2||(d2=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),qb.__exportStar(oU(),t)}(Tv)),Tv}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=qb;e.__exportStar(iU(),t),e.__exportStar(sU(),t),e.__exportStar(aU(),t),e.__exportStar(n3(),t)})(xe);class mu{}let cU=class extends mu{constructor(e){super()}};const h2=xe.FIVE_SECONDS,Oh={pulse:"heartbeat_pulse"};let lU=class r3 extends cU{constructor(e){super(e),this.events=new Ys.EventEmitter,this.interval=h2,this.interval=e?.interval||h2}static async init(e){const n=new r3(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),xe.toMiliseconds(this.interval))}pulse(){this.events.emit(Oh.pulse)}};const uU=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,dU=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,hU=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function fU(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){pU(t);return}return e}function pU(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ym(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!hU.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(uU.test(t)||dU.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,fU)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function gU(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function _r(t,...e){try{return gU(t(...e))}catch(n){return Promise.reject(n)}}function mU(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function yU(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Y0(t){if(mU(t))return String(t);if(yU(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Y0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const WE="base64:";function bU(t){return typeof t=="string"?t:WE+EU(t)}function wU(t){return typeof t!="string"||!t.startsWith(WE)?t:vU(t.slice(WE.length))}function vU(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function EU(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Di(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function _U(...t){return Di(t.join(":"))}function Zm(t){return t=Di(t),t?t+":":""}function xU(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function SU(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const AU="memory",CU=()=>{const t=new Map;return{name:AU,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function TU(t={}){const e={mounts:{"":t.driver||CU()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const h of e.mountpoints)if(u.startsWith(h))return{base:h,relativeKey:u.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:u,driver:e.mounts[""]}},r=(u,h)=>e.mountpoints.filter(f=>f.startsWith(u)||h&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(u,h)=>{if(e.watching){h=Di(h);for(const f of e.watchListeners)f(u,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await f2(e.mounts[u],i,u)}},o=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},a=(u,h,f)=>{const g=new Map,m=_=>{let x=g.get(_.base);return x||(x={driver:_.driver,base:_.base,items:[]},g.set(_.base,x)),x};for(const _ of u){const x=typeof _=="string",T=Di(x?_:_.key),S=x?void 0:_.value,C=x||!_.options?h:{...h,..._.options},I=n(T);m(I).items.push({key:T,value:S,relativeKey:I.relativeKey,options:C})}return Promise.all([...g.values()].map(_=>f(_))).then(_=>_.flat())},c={hasItem(u,h={}){u=Di(u);const{relativeKey:f,driver:g}=n(u);return _r(g.hasItem,f,h)},getItem(u,h={}){u=Di(u);const{relativeKey:f,driver:g}=n(u);return _r(g.getItem,f,h).then(m=>Ym(m))},getItems(u,h={}){return a(u,h,f=>f.driver.getItems?_r(f.driver.getItems,f.items.map(g=>({key:g.relativeKey,options:g.options})),h).then(g=>g.map(m=>({key:_U(f.base,m.key),value:Ym(m.value)}))):Promise.all(f.items.map(g=>_r(f.driver.getItem,g.relativeKey,g.options).then(m=>({key:g.key,value:Ym(m)})))))},getItemRaw(u,h={}){u=Di(u);const{relativeKey:f,driver:g}=n(u);return g.getItemRaw?_r(g.getItemRaw,f,h):_r(g.getItem,f,h).then(m=>wU(m))},async setItem(u,h,f={}){if(h===void 0)return c.removeItem(u);u=Di(u);const{relativeKey:g,driver:m}=n(u);m.setItem&&(await _r(m.setItem,g,Y0(h),f),m.watch||i("update",u))},async setItems(u,h){await a(u,h,async f=>{if(f.driver.setItems)return _r(f.driver.setItems,f.items.map(g=>({key:g.relativeKey,value:Y0(g.value),options:g.options})),h);f.driver.setItem&&await Promise.all(f.items.map(g=>_r(f.driver.setItem,g.relativeKey,Y0(g.value),g.options)))})},async setItemRaw(u,h,f={}){if(h===void 0)return c.removeItem(u,f);u=Di(u);const{relativeKey:g,driver:m}=n(u);if(m.setItemRaw)await _r(m.setItemRaw,g,h,f);else if(m.setItem)await _r(m.setItem,g,bU(h),f);else return;m.watch||i("update",u)},async removeItem(u,h={}){typeof h=="boolean"&&(h={removeMeta:h}),u=Di(u);const{relativeKey:f,driver:g}=n(u);g.removeItem&&(await _r(g.removeItem,f,h),(h.removeMeta||h.removeMata)&&await _r(g.removeItem,f+"$",h),g.watch||i("remove",u))},async getMeta(u,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),u=Di(u);const{relativeKey:f,driver:g}=n(u),m=Object.create(null);if(g.getMeta&&Object.assign(m,await _r(g.getMeta,f,h)),!h.nativeOnly){const _=await _r(g.getItem,f+"$",h).then(x=>Ym(x));_&&typeof _=="object"&&(typeof _.atime=="string"&&(_.atime=new Date(_.atime)),typeof _.mtime=="string"&&(_.mtime=new Date(_.mtime)),Object.assign(m,_))}return m},setMeta(u,h,f={}){return this.setItem(u+"$",h,f)},removeMeta(u,h={}){return this.removeItem(u+"$",h)},async getKeys(u,h={}){u=Zm(u);const f=r(u,!0);let g=[];const m=[];let _=!0;for(const T of f){T.driver.flags?.maxDepth||(_=!1);const S=await _r(T.driver.getKeys,T.relativeBase,h);for(const C of S){const I=T.mountpoint+Di(C);g.some(P=>I.startsWith(P))||m.push(I)}g=[T.mountpoint,...g.filter(C=>!C.startsWith(T.mountpoint))]}const x=h.maxDepth!==void 0&&!_;return m.filter(T=>(!x||xU(T,h.maxDepth))&&SU(T,u))},async clear(u,h={}){u=Zm(u),await Promise.all(r(u,!1).map(async f=>{if(f.driver.clear)return _r(f.driver.clear,f.relativeBase,h);if(f.driver.removeItem){const g=await f.driver.getKeys(f.relativeBase||"",h);return Promise.all(g.map(m=>f.driver.removeItem(m,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>p2(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==u),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(u,h){if(u=Zm(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((f,g)=>g.length-f.length)),e.mounts[u]=h,e.watching&&Promise.resolve(f2(h,i,u)).then(f=>{e.unwatch[u]=f}).catch(console.error),c},async unmount(u,h=!0){u=Zm(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&(e.unwatch[u]?.(),delete e.unwatch[u]),h&&await p2(e.mounts[u]),e.mountpoints=e.mountpoints.filter(f=>f!==u),delete e.mounts[u])},getMount(u=""){u=Di(u)+":";const h=n(u);return{driver:h.driver,base:h.base}},getMounts(u="",h={}){return u=Di(u),r(u,h.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(u,h={})=>c.getKeys(u,h),get:(u,h={})=>c.getItem(u,h),set:(u,h,f={})=>c.setItem(u,h,f),has:(u,h={})=>c.hasItem(u,h),del:(u,h={})=>c.removeItem(u,h),remove:(u,h={})=>c.removeItem(u,h)};return c}function f2(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function p2(t){typeof t.dispose=="function"&&await _r(t.dispose)}function yu(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function i3(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=yu(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(o=>s(o.transaction(e,i).objectStore(e)))}let Iv;function Yg(){return Iv||(Iv=i3("keyval-store","keyval")),Iv}function g2(t,e=Yg()){return e("readonly",n=>yu(n.get(t)))}function IU(t,e,n=Yg()){return n("readwrite",r=>(r.put(e,t),yu(r.transaction)))}function RU(t,e=Yg()){return e("readwrite",n=>(n.delete(t),yu(n.transaction)))}function kU(t=Yg()){return t("readwrite",e=>(e.clear(),yu(e.transaction)))}function NU(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},yu(t.transaction)}function OU(t=Yg()){return t("readonly",e=>{if(e.getAllKeys)return yu(e.getAllKeys());const n=[];return NU(e,r=>n.push(r.key)).then(()=>n)})}const BU=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),DU=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Xl(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return DU(t)}catch{return t}}function za(t){return typeof t=="string"?t:BU(t)||""}const PU="idb-keyval";var $U=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=i3(t.dbName,t.storeName)),{name:PU,options:t,async hasItem(i){return!(typeof await g2(n(i),r)>"u")},async getItem(i){return await g2(n(i),r)??null},setItem(i,s){return IU(n(i),s,r)},removeItem(i){return RU(n(i),r)},getKeys(){return OU(r)},clear(){return kU(r)}}};const MU="WALLET_CONNECT_V2_INDEXED_DB",UU="keyvaluestorage";let LU=class{constructor(){this.indexedDb=TU({driver:$U({dbName:MU,storeName:UU})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,za(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Rv<"u"&&Rv.localStorage?Z0.exports=Rv.localStorage:typeof window<"u"&&window.localStorage?Z0.exports=window.localStorage:Z0.exports=new e})();function zU(t){var e;return[t[0],Xl((e=t[1])!=null?e:"")]}let FU=class{constructor(){this.localStorage=Z0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(zU)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Xl(n)}async setItem(e,n){this.localStorage.setItem(e,za(n))}async removeItem(e){this.localStorage.removeItem(e)}};const jU="wc_storage_version",m2=1,HU=async(t,e,n)=>{const r=jU,i=await e.getItem(r);if(i&&i>=m2){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await t.getItem(a);await e.setItem(a,u),o.push(a)}}await e.setItem(r,m2),n(e),qU(t,o)},qU=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let VU=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new FU;this.storage=e;try{const n=new LU;HU(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function WU(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var KU=GU;function GU(t,e,n){var r=n&&n.stringify||WU,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var u="",h=1-i,f=-1,g=t&&t.length||0,m=0;m<g;){if(t.charCodeAt(m)===37&&m+1<g){switch(f=f>-1?f:0,t.charCodeAt(m+1)){case 100:case 102:if(h>=c||e[h]==null)break;f<m&&(u+=t.slice(f,m)),u+=Number(e[h]),f=m+2,m++;break;case 105:if(h>=c||e[h]==null)break;f<m&&(u+=t.slice(f,m)),u+=Math.floor(Number(e[h])),f=m+2,m++;break;case 79:case 111:case 106:if(h>=c||e[h]===void 0)break;f<m&&(u+=t.slice(f,m));var _=typeof e[h];if(_==="string"){u+="'"+e[h]+"'",f=m+2,m++;break}if(_==="function"){u+=e[h].name||"<anonymous>",f=m+2,m++;break}u+=r(e[h]),f=m+2,m++;break;case 115:if(h>=c)break;f<m&&(u+=t.slice(f,m)),u+=String(e[h]),f=m+2,m++;break;case 37:f<m&&(u+=t.slice(f,m)),u+="%",f=m+2,m++,h--;break}++h}++m}return f===-1?t:(f<g&&(u+=t.slice(f)),u)}const y2=KU;var ld=Fo;const Tp=iL().console||{},YU={mapHttpRequest:Xm,mapHttpResponse:Xm,wrapRequestSerializer:kv,wrapResponseSerializer:kv,wrapErrorSerializer:kv,req:Xm,res:Xm,err:eL};function ZU(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Fo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Tp;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=ZU(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=Ip),Object.defineProperty(c,"levelVal",{get:h}),Object.defineProperty(c,"level",{get:f,set:g});const u={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:tL(t)};c.levels=Fo.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Ip,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=m,e&&(c._logEvent=KE());function h(){return this.level==="silent"?1/0:this.levels.values[this.level]}function f(){return this._level}function g(_){if(_!=="silent"&&!this.levels.values[_])throw Error("unknown level "+_);this._level=_,Pu(u,c,"error","log"),Pu(u,c,"fatal","error"),Pu(u,c,"warn","error"),Pu(u,c,"info","log"),Pu(u,c,"debug","log"),Pu(u,c,"trace","log")}function m(_,x){if(!_)throw new Error("missing bindings for child Pino");x=x||{},i&&_.serializers&&(x.serializers=_.serializers);const T=x.serializers;if(i&&T){var S=Object.assign({},r,T),C=t.browser.serialize===!0?Object.keys(S):i;delete _.serializers,Vb([_],C,S,this._stdErrSerialize)}function I(P){this._childLevel=(P._childLevel|0)+1,this.error=$u(P,_,"error"),this.fatal=$u(P,_,"fatal"),this.warn=$u(P,_,"warn"),this.info=$u(P,_,"info"),this.debug=$u(P,_,"debug"),this.trace=$u(P,_,"trace"),S&&(this.serializers=S,this._serialize=C),e&&(this._logEvent=KE([].concat(P._logEvent.bindings,_)))}return I.prototype=this,new I(this)}return c}Fo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Fo.stdSerializers=YU;Fo.stdTimeFunctions=Object.assign({},{nullTime:s3,epochTime:o3,unixTime:nL,isoTime:rL});function Pu(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?Ip:i[n]?i[n]:Tp[n]||Tp[r]||Ip,XU(t,e,n)}function XU(t,e,n){!t.transmit&&e[n]===Ip||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Tp?Tp:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&Vb(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,QU(this,n,o,s)):r.apply(a,o),t.transmit){const u=t.transmit.level||e.level,h=Fo.levels.values[u],f=Fo.levels.values[n];if(f<h)return;JU(this,{ts:s,methodLevel:n,methodValue:f,transmitValue:Fo.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function QU(t,e,n,r){t._serialize&&Vb(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=Fo.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?y2(i.shift(),i):void 0}else typeof s=="string"&&(s=y2(i.shift(),i));return s!==void 0&&(o.msg=s),o}function Vb(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=Fo.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function $u(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function JU(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;Vb(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=KE(c)}function KE(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function eL(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function tL(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?s3:o3}function Xm(){return{}}function kv(t){return t}function Ip(){}function s3(){return!1}function o3(){return Date.now()}function nL(){return Math.round(Date.now()/1e3)}function rL(){return new Date(Date.now()).toISOString()}function iL(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Zg=Ks(ld),sL={level:"info"},Xg="custom_context",cS=1e3*1024;let oL=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},b2=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new oL(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},a3=class{constructor(e,n=cS){this.level=e??"error",this.levelValue=ld.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new b2(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===ld.levels.values.error?console.error(e):n===ld.levels.values.warn?console.warn(e):n===ld.levels.values.debug?console.debug(e):n===ld.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(za({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new b2(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(za({extraMetadata:e})),new Blob(n,{type:"application/json"})}},aL=class{constructor(e,n=cS){this.baseChunkLogger=new a3(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},cL=class{constructor(e,n=cS){this.baseChunkLogger=new a3(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var lL=Object.defineProperty,uL=Object.defineProperties,dL=Object.getOwnPropertyDescriptors,w2=Object.getOwnPropertySymbols,hL=Object.prototype.hasOwnProperty,fL=Object.prototype.propertyIsEnumerable,v2=(t,e,n)=>e in t?lL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xy=(t,e)=>{for(var n in e||(e={}))hL.call(e,n)&&v2(t,n,e[n]);if(w2)for(var n of w2(e))fL.call(e,n)&&v2(t,n,e[n]);return t},Sy=(t,e)=>uL(t,dL(e));function Bh(t){return Sy(xy({},t),{level:t?.level||sL.level})}function pL(t,e=Xg){return t[e]||""}function gL(t,e,n=Xg){return t[n]=e,t}function Ki(t,e=Xg){let n="";return typeof t.bindings>"u"?n=pL(t,e):n=t.bindings().context||"",n}function mL(t,e,n=Xg){const r=Ki(t,n);return r.trim()?`${r}/${e}`:e}function mi(t,e,n=Xg){const r=mL(t,e,n),i=t.child({context:r});return gL(i,r,n)}function yL(t){var e,n;const r=new aL((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Zg(Sy(xy({},t.opts),{level:"trace",browser:Sy(xy({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function bL(t){var e;const n=new cL((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Zg(Sy(xy({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function lS(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?yL(t):bL(t)}var wL=Object.defineProperty,vL=(t,e,n)=>e in t?wL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E2=(t,e,n)=>vL(t,typeof e!="symbol"?e+"":e,n);let EL=class extends mu{constructor(e){super(),this.opts=e,E2(this,"protocol","wc"),E2(this,"version",2)}};var _L=Object.defineProperty,xL=(t,e,n)=>e in t?_L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,SL=(t,e,n)=>xL(t,e+"",n);let AL=class extends mu{constructor(e,n){super(),this.core=e,this.logger=n,SL(this,"records",new Map)}},CL=class{constructor(e,n){this.logger=e,this.core=n}},TL=class extends mu{constructor(e,n){super(),this.relayer=e,this.logger=n}},IL=class extends mu{constructor(e){super()}},RL=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},kL=class extends mu{constructor(e,n){super(),this.relayer=e,this.logger=n}},NL=class extends mu{constructor(e,n){super(),this.core=e,this.logger=n}},OL=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},BL=class{constructor(e,n){this.projectId=e,this.logger=n}},DL=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var PL=Object.defineProperty,$L=(t,e,n)=>e in t?PL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_2=(t,e,n)=>$L(t,typeof e!="symbol"?e+"":e,n);let ML=class{constructor(e){this.opts=e,_2(this,"protocol","wc"),_2(this,"version",2)}},UL=class{constructor(e){this.client=e}};function LL(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function c3(t,...e){if(!LL(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function x2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zL(t,e){c3(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Mu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function FL(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function l3(t){return typeof t=="string"&&(t=FL(t)),c3(t),t}let jL=class{clone(){return this._cloneInto()}};function HL(t){const e=r=>t().update(l3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function u3(t=32){if(Mu&&typeof Mu.getRandomValues=="function")return Mu.getRandomValues(new Uint8Array(t));if(Mu&&typeof Mu.randomBytes=="function")return Mu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function qL(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let VL=class extends jL{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Nv(this.buffer)}update(e){x2(this);const{view:n,buffer:r,blockLen:i}=this;e=l3(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Nv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){x2(this),zL(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;qL(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Nv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Qm=BigInt(2**32-1),GE=BigInt(32);function d3(t,e=!1){return e?{h:Number(t&Qm),l:Number(t>>GE&Qm)}:{h:Number(t>>GE&Qm)|0,l:Number(t&Qm)|0}}function WL(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=d3(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const KL=(t,e)=>BigInt(t>>>0)<<GE|BigInt(e>>>0),GL=(t,e,n)=>t>>>n,YL=(t,e,n)=>t<<32-n|e>>>n,ZL=(t,e,n)=>t>>>n|e<<32-n,XL=(t,e,n)=>t<<32-n|e>>>n,QL=(t,e,n)=>t<<64-n|e>>>n-32,JL=(t,e,n)=>t>>>n-32|e<<64-n,e7=(t,e)=>e,t7=(t,e)=>t,n7=(t,e,n)=>t<<n|e>>>32-n,r7=(t,e,n)=>e<<n|t>>>32-n,i7=(t,e,n)=>e<<n-32|t>>>64-n,s7=(t,e,n)=>t<<n-32|e>>>64-n;function o7(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const a7=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),c7=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,l7=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),u7=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,d7=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),h7=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,mt={fromBig:d3,split:WL,toBig:KL,shrSH:GL,shrSL:YL,rotrSH:ZL,rotrSL:XL,rotrBH:QL,rotrBL:JL,rotr32H:e7,rotr32L:t7,rotlSH:n7,rotlSL:r7,rotlBH:i7,rotlBL:s7,add:o7,add3L:a7,add3H:c7,add4L:l7,add4H:u7,add5H:h7,add5L:d7},[f7,p7]=mt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Qa=new Uint32Array(80),Ja=new Uint32Array(80);let g7=class extends VL{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:g,Gh:m,Gl:_,Hh:x,Hl:T}=this;return[e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,T]}set(e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,T){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=m|0,this.Gl=_|0,this.Hh=x|0,this.Hl=T|0}process(e,n){for(let I=0;I<16;I++,n+=4)Qa[I]=e.getUint32(n),Ja[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const P=Qa[I-15]|0,z=Ja[I-15]|0,W=mt.rotrSH(P,z,1)^mt.rotrSH(P,z,8)^mt.shrSH(P,z,7),L=mt.rotrSL(P,z,1)^mt.rotrSL(P,z,8)^mt.shrSL(P,z,7),V=Qa[I-2]|0,q=Ja[I-2]|0,X=mt.rotrSH(V,q,19)^mt.rotrBH(V,q,61)^mt.shrSH(V,q,6),Y=mt.rotrSL(V,q,19)^mt.rotrBL(V,q,61)^mt.shrSL(V,q,6),ee=mt.add4L(L,Y,Ja[I-7],Ja[I-16]),j=mt.add4H(ee,W,X,Qa[I-7],Qa[I-16]);Qa[I]=j|0,Ja[I]=ee|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:g,Fh:m,Fl:_,Gh:x,Gl:T,Hh:S,Hl:C}=this;for(let I=0;I<80;I++){const P=mt.rotrSH(f,g,14)^mt.rotrSH(f,g,18)^mt.rotrBH(f,g,41),z=mt.rotrSL(f,g,14)^mt.rotrSL(f,g,18)^mt.rotrBL(f,g,41),W=f&m^~f&x,L=g&_^~g&T,V=mt.add5L(C,z,L,p7[I],Ja[I]),q=mt.add5H(V,S,P,W,f7[I],Qa[I]),X=V|0,Y=mt.rotrSH(r,i,28)^mt.rotrBH(r,i,34)^mt.rotrBH(r,i,39),ee=mt.rotrSL(r,i,28)^mt.rotrBL(r,i,34)^mt.rotrBL(r,i,39),j=r&s^r&a^s&a,w=i&o^i&c^o&c;S=x|0,C=T|0,x=m|0,T=_|0,m=f|0,_=g|0,{h:f,l:g}=mt.add(u|0,h|0,q|0,X|0),u=a|0,h=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const b=mt.add3L(X,ee,w);r=mt.add3H(b,q,Y,j),i=b|0}({h:r,l:i}=mt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=mt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=mt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=mt.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=mt.add(this.Eh|0,this.El|0,f|0,g|0),{h:m,l:_}=mt.add(this.Fh|0,this.Fl|0,m|0,_|0),{h:x,l:T}=mt.add(this.Gh|0,this.Gl|0,x|0,T|0),{h:S,l:C}=mt.add(this.Hh|0,this.Hl|0,S|0,C|0),this.set(r,i,s,o,a,c,u,h,f,g,m,_,x,T,S,C)}roundClean(){Qa.fill(0),Ja.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const m7=HL(()=>new g7);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uS=BigInt(0),h3=BigInt(1),y7=BigInt(2);function dS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hS(t){if(!dS(t))throw new Error("Uint8Array expected")}function Ov(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const b7=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fS(t){hS(t);let e="";for(let n=0;n<t.length;n++)e+=b7[t[n]];return e}function f3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?uS:BigInt("0x"+t)}const ia={_0:48,_9:57,A:65,F:70,a:97,f:102};function S2(t){if(t>=ia._0&&t<=ia._9)return t-ia._0;if(t>=ia.A&&t<=ia.F)return t-(ia.A-10);if(t>=ia.a&&t<=ia.f)return t-(ia.a-10)}function p3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=S2(t.charCodeAt(s)),a=S2(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function w7(t){return f3(fS(t))}function X0(t){return hS(t),f3(fS(Uint8Array.from(t).reverse()))}function g3(t,e){return p3(t.toString(16).padStart(e*2,"0"))}function YE(t,e){return g3(t,e).reverse()}function sa(t,e,n){let r;if(typeof e=="string")try{r=p3(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(dS(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function A2(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];hS(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Bv=t=>typeof t=="bigint"&&uS<=t;function v7(t,e,n){return Bv(t)&&Bv(e)&&Bv(n)&&e<=t&&t<n}function cf(t,e,n,r){if(!v7(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function E7(t){let e;for(e=0;t>uS;t>>=h3,e+=1);return e}const _7=t=>(y7<<BigInt(t-1))-h3,x7={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||dS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function pS(t,e,n={}){const r=(i,s,o)=>{const a=x7[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function C2(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Nr=BigInt(0),nr=BigInt(1),wl=BigInt(2),S7=BigInt(3),ZE=BigInt(4),T2=BigInt(5),I2=BigInt(8);function mr(t,e){const n=t%e;return n>=Nr?n:e+n}function A7(t,e,n){if(e<Nr)throw new Error("invalid exponent, negatives unsupported");if(n<=Nr)throw new Error("invalid modulus");if(n===nr)return Nr;let r=nr;for(;e>Nr;)e&nr&&(r=r*t%n),t=t*t%n,e>>=nr;return r}function Ao(t,e,n){let r=t;for(;e-- >Nr;)r*=r,r%=n;return r}function R2(t,e){if(t===Nr)throw new Error("invert: expected non-zero number");if(e<=Nr)throw new Error("invert: expected positive modulus, got "+e);let n=mr(t,e),r=e,i=Nr,s=nr;for(;n!==Nr;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==nr)throw new Error("invert: does not exist");return mr(i,e)}function C7(t){const e=(t-nr)/wl;let n,r,i;for(n=t-nr,r=0;n%wl===Nr;n/=wl,r++);for(i=wl;i<t&&A7(i,e,t)!==t-nr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+nr)/ZE;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+nr)/wl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),h=o.pow(a,s),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let g=1;for(let _=o.sqr(f);g<c&&!o.eql(_,o.ONE);g++)_=o.sqr(_);const m=o.pow(u,nr<<BigInt(c-g-1));u=o.sqr(m),h=o.mul(h,m),f=o.mul(f,u),c=g}return h}}function T7(t){if(t%ZE===S7){const e=(t+nr)/ZE;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%I2===T2){const e=(t-T2)/I2;return function(n,r){const i=n.mul(r,wl),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,wl),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return C7(t)}const I7=(t,e)=>(mr(t,e)&nr)===nr,R7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function k7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=R7.reduce((r,i)=>(r[i]="function",r),e);return pS(t,n)}function N7(t,e,n){if(n<Nr)throw new Error("invalid exponent, negatives unsupported");if(n===Nr)return t.ONE;if(n===nr)return e;let r=t.ONE,i=e;for(;n>Nr;)n&nr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=nr;return r}function O7(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function m3(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function y3(t,e,n=!1,r={}){if(t<=Nr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=m3(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:_7(i),ZERO:Nr,ONE:nr,create:c=>mr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Nr<=c&&c<t},is0:c=>c===Nr,isOdd:c=>(c&nr)===nr,neg:c=>mr(-c,t),eql:(c,u)=>c===u,sqr:c=>mr(c*c,t),add:(c,u)=>mr(c+u,t),sub:(c,u)=>mr(c-u,t),mul:(c,u)=>mr(c*u,t),pow:(c,u)=>N7(a,c,u),div:(c,u)=>mr(c*R2(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>R2(c,t),sqrt:r.sqrt||(c=>(o||(o=T7(t)),o(a,c))),invertBatch:c=>O7(a,c),cmov:(c,u,h)=>h?u:c,toBytes:c=>n?YE(c,s):g3(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?X0(c):w7(c)}});return Object.freeze(a)}const k2=BigInt(0),Jm=BigInt(1);function Dv(t,e){const n=e.negate();return t?n:e}function b3(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Pv(t,e){b3(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function B7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function D7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const $v=new WeakMap,w3=new WeakMap;function Mv(t){return w3.get(t)||1}function P7(t,e){return{constTimeNegate:Dv,hasPrecomputes(n){return Mv(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>k2;)r&Jm&&(i=i.add(s)),s=s.double(),r>>=Jm;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Pv(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let h=1;h<s;h++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Pv(n,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let g=0;g<s;g++){const m=g*o;let _=Number(i&u);i>>=f,_>o&&(_-=h,i+=Jm);const x=m,T=m+Math.abs(_)-1,S=g%2!==0,C=_<0;_===0?c=c.add(Dv(S,r[x])):a=a.add(Dv(C,r[T]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Pv(n,e),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<o;f++){const g=f*a;if(i===k2)break;let m=Number(i&c);if(i>>=h,m>a&&(m-=u,i+=Jm),m===0)continue;let _=r[g+Math.abs(m)-1];m<0&&(_=_.negate()),s=s.add(_)}return s},getPrecomputes(n,r,i){let s=$v.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&$v.set(r,i(s))),s},wNAFCached(n,r,i){const s=Mv(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Mv(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){b3(r,e),w3.set(n,r),$v.delete(n)}}}function $7(t,e,n,r){if(B7(n,t),D7(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=E7(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let h=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let m=0;m<r.length;m++){const _=r[m],x=Number(_>>BigInt(f)&BigInt(a));c[x]=c[x].add(n[m])}let g=i;for(let m=c.length-1,_=i;m>0;m--)_=_.add(c[m]),g=g.add(_);if(h=h.add(g),f!==0)for(let m=0;m<o;m++)h=h.double()}return h}function M7(t){return k7(t.Fp),pS(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...m3(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Js=BigInt(0),Ri=BigInt(1),e0=BigInt(2),U7=BigInt(8),L7={zip215:!0};function z7(t){const e=M7(t);return pS(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function F7(t){const e=z7(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=e0<<BigInt(a*8)-Ri,h=n.create,f=y3(e.n,e.nBitLength),g=e.uvRatio||((b,v)=>{try{return{isValid:!0,value:n.sqrt(b*n.inv(v))}}catch{return{isValid:!1,value:Js}}}),m=e.adjustScalarBytes||(b=>b),_=e.domain||((b,v,O)=>{if(Ov("phflag",O),v.length||O)throw new Error("Contexts/pre-hash are not supported");return b});function x(b,v){cf("coordinate "+b,v,Js,u)}function T(b){if(!(b instanceof I))throw new Error("ExtendedPoint expected")}const S=C2((b,v)=>{const{ex:O,ey:B,ez:R}=b,M=b.is0();v==null&&(v=M?U7:n.inv(R));const k=h(O*v),E=h(B*v),U=h(R*v);if(M)return{x:Js,y:Ri};if(U!==Ri)throw new Error("invZ was invalid");return{x:k,y:E}}),C=C2(b=>{const{a:v,d:O}=e;if(b.is0())throw new Error("bad point: ZERO");const{ex:B,ey:R,ez:M,et:k}=b,E=h(B*B),U=h(R*R),Q=h(M*M),te=h(Q*Q),se=h(E*v),fe=h(Q*h(se+U)),le=h(te+h(O*h(E*U)));if(fe!==le)throw new Error("bad point: equation left != right (1)");const ge=h(B*R),et=h(M*k);if(ge!==et)throw new Error("bad point: equation left != right (2)");return!0});class I{constructor(v,O,B,R){this.ex=v,this.ey=O,this.ez=B,this.et=R,x("x",v),x("y",O),x("z",B),x("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v){if(v instanceof I)throw new Error("extended point not allowed");const{x:O,y:B}=v||{};return x("x",O),x("y",B),new I(O,B,Ri,h(O*B))}static normalizeZ(v){const O=n.invertBatch(v.map(B=>B.ez));return v.map((B,R)=>B.toAffine(O[R])).map(I.fromAffine)}static msm(v,O){return $7(I,f,v,O)}_setWindowSize(v){W.setWindowSize(this,v)}assertValidity(){C(this)}equals(v){T(v);const{ex:O,ey:B,ez:R}=this,{ex:M,ey:k,ez:E}=v,U=h(O*E),Q=h(M*R),te=h(B*E),se=h(k*R);return U===Q&&te===se}is0(){return this.equals(I.ZERO)}negate(){return new I(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:v}=e,{ex:O,ey:B,ez:R}=this,M=h(O*O),k=h(B*B),E=h(e0*h(R*R)),U=h(v*M),Q=O+B,te=h(h(Q*Q)-M-k),se=U+k,fe=se-E,le=U-k,ge=h(te*fe),et=h(se*le),qe=h(te*le),ke=h(fe*se);return new I(ge,et,ke,qe)}add(v){T(v);const{a:O,d:B}=e,{ex:R,ey:M,ez:k,et:E}=this,{ex:U,ey:Q,ez:te,et:se}=v;if(O===BigInt(-1)){const G=h((M-R)*(Q+U)),J=h((M+R)*(Q-U)),ie=h(J-G);if(ie===Js)return this.double();const ae=h(k*e0*se),Be=h(E*e0*te),Ge=Be+ae,Ye=J+G,at=Be-ae,p=h(Ge*ie),l=h(Ye*at),d=h(Ge*at),y=h(ie*Ye);return new I(p,l,y,d)}const fe=h(R*U),le=h(M*Q),ge=h(E*B*se),et=h(k*te),qe=h((R+M)*(U+Q)-fe-le),ke=et-ge,je=et+ge,De=h(le-O*fe),it=h(qe*ke),K=h(je*De),N=h(qe*De),D=h(ke*je);return new I(it,K,D,N)}subtract(v){return this.add(v.negate())}wNAF(v){return W.wNAFCached(this,v,I.normalizeZ)}multiply(v){const O=v;cf("scalar",O,Ri,r);const{p:B,f:R}=this.wNAF(O);return I.normalizeZ([B,R])[0]}multiplyUnsafe(v,O=I.ZERO){const B=v;return cf("scalar",B,Js,r),B===Js?z:this.is0()||B===Ri?this:W.wNAFCachedUnsafe(this,B,I.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return W.unsafeLadder(this,r).is0()}toAffine(v){return S(this,v)}clearCofactor(){const{h:v}=e;return v===Ri?this:this.multiplyUnsafe(v)}static fromHex(v,O=!1){const{d:B,a:R}=e,M=n.BYTES;v=sa("pointHex",v,M),Ov("zip215",O);const k=v.slice(),E=v[M-1];k[M-1]=E&-129;const U=X0(k),Q=O?u:n.ORDER;cf("pointHex.y",U,Js,Q);const te=h(U*U),se=h(te-Ri),fe=h(B*te-R);let{isValid:le,value:ge}=g(se,fe);if(!le)throw new Error("Point.fromHex: invalid y coordinate");const et=(ge&Ri)===Ri,qe=(E&128)!==0;if(!O&&ge===Js&&qe)throw new Error("Point.fromHex: x=0 and x_0=1");return qe!==et&&(ge=h(-ge)),I.fromAffine({x:ge,y:U})}static fromPrivateKey(v){return q(v).point}toRawBytes(){const{x:v,y:O}=this.toAffine(),B=YE(O,n.BYTES);return B[B.length-1]|=v&Ri?128:0,B}toHex(){return fS(this.toRawBytes())}}I.BASE=new I(e.Gx,e.Gy,Ri,h(e.Gx*e.Gy)),I.ZERO=new I(Js,Ri,Ri,Js);const{BASE:P,ZERO:z}=I,W=P7(I,a*8);function L(b){return mr(b,r)}function V(b){return L(X0(b))}function q(b){const v=n.BYTES;b=sa("private key",b,v);const O=sa("hashed private key",s(b),2*v),B=m(O.slice(0,v)),R=O.slice(v,2*v),M=V(B),k=P.multiply(M),E=k.toRawBytes();return{head:B,prefix:R,scalar:M,point:k,pointBytes:E}}function X(b){return q(b).pointBytes}function Y(b=new Uint8Array,...v){const O=A2(...v);return V(s(_(O,sa("context",b),!!i)))}function ee(b,v,O={}){b=sa("message",b),i&&(b=i(b));const{prefix:B,scalar:R,pointBytes:M}=q(v),k=Y(O.context,B,b),E=P.multiply(k).toRawBytes(),U=Y(O.context,E,M,b),Q=L(k+U*R);cf("signature.s",Q,Js,r);const te=A2(E,YE(Q,n.BYTES));return sa("result",te,n.BYTES*2)}const j=L7;function w(b,v,O,B=j){const{context:R,zip215:M}=B,k=n.BYTES;b=sa("signature",b,2*k),v=sa("message",v),O=sa("publicKey",O,k),M!==void 0&&Ov("zip215",M),i&&(v=i(v));const E=X0(b.slice(k,2*k));let U,Q,te;try{U=I.fromHex(O,M),Q=I.fromHex(b.slice(0,k),M),te=P.multiplyUnsafe(E)}catch{return!1}if(!M&&U.isSmallOrder())return!1;const se=Y(R,Q.toRawBytes(),U.toRawBytes(),v);return Q.add(U.multiplyUnsafe(se)).subtract(te).clearCofactor().equals(I.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:X,sign:ee,verify:w,ExtendedPoint:I,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(n.BYTES),precompute(b=8,v=I.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}}}}BigInt(0),BigInt(1);const gS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),N2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const j7=BigInt(1),O2=BigInt(2);BigInt(3);const H7=BigInt(5),q7=BigInt(8);function V7(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=gS,o=t*t%s*t%s,a=Ao(o,O2,s)*o%s,c=Ao(a,j7,s)*t%s,u=Ao(c,H7,s)*c%s,h=Ao(u,e,s)*u%s,f=Ao(h,n,s)*h%s,g=Ao(f,r,s)*f%s,m=Ao(g,i,s)*g%s,_=Ao(m,i,s)*g%s,x=Ao(_,e,s)*u%s;return{pow_p_5_8:Ao(x,O2,s)*t%s,b2:o}}function W7(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function K7(t,e){const n=gS,r=mr(e*e*e,n),i=mr(r*r*e,n),s=V7(t*i).pow_p_5_8;let o=mr(t*r*s,n);const a=mr(e*o*o,n),c=o,u=mr(o*N2,n),h=a===t,f=a===mr(-t,n),g=a===mr(-t*N2,n);return h&&(o=c),(f||g)&&(o=u),I7(o,n)&&(o=mr(-o,n)),{isValid:h||f,value:o}}const G7=y3(gS,void 0,!0),Y7={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:G7,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:q7,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:m7,randomBytes:u3,adjustScalarBytes:W7,uvRatio:K7},v3=F7(Y7),Z7="EdDSA",X7="JWT",Ay=".",Wb="base64url",E3="utf8",_3="utf8",Q7=":",J7="did",e9="key",B2="base58btc",t9="z",n9="K36",r9=32;function mS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function x3(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?mS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function S3(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=x3(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return mS(n)}function i9(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,T=0,S=0,C=_.length;S!==C&&_[S]===0;)S++,x++;for(var I=(C-S)*h+1>>>0,P=new Uint8Array(I);S!==C;){for(var z=_[S],W=0,L=I-1;(z!==0||W<T)&&L!==-1;L--,W++)z+=256*P[L]>>>0,P[L]=z%a>>>0,z=z/a>>>0;if(z!==0)throw new Error("Non-zero carry");T=W,S++}for(var V=I-T;V!==I&&P[V]===0;)V++;for(var q=c.repeat(x);V<I;++V)q+=t.charAt(P[V]);return q}function g(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var x=0;if(_[x]!==" "){for(var T=0,S=0;_[x]===c;)T++,x++;for(var C=(_.length-x)*u+1>>>0,I=new Uint8Array(C);_[x];){var P=n[_.charCodeAt(x)];if(P===255)return;for(var z=0,W=C-1;(P!==0||z<S)&&W!==-1;W--,z++)P+=a*I[W]>>>0,I[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=z,x++}if(_[x]!==" "){for(var L=C-S;L!==C&&I[L]===0;)L++;for(var V=new Uint8Array(T+(C-L)),q=T;L!==C;)V[q++]=I[L++];return V}}}function m(_){var x=g(_);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:m}}var s9=i9,o9=s9;const A3=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},a9=t=>new TextEncoder().encode(t),c9=t=>new TextDecoder().decode(t);let l9=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},u9=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return C3(this,e)}},d9=class{constructor(e){this.decoders=e}or(e){return C3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const C3=(t,e)=>new d9({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let h9=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new l9(e,n,r),this.decoder=new u9(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Kb=({name:t,prefix:e,encode:n,decode:r})=>new h9(t,e,n,r),Qg=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=o9(n,e);return Kb({prefix:t,name:e,encode:r,decode:s=>A3(i(s))})},f9=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},p9=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Jr=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Kb({prefix:e,name:t,encode(i){return p9(i,r,n)},decode(i){return f9(i,r,n,t)}}),g9=Kb({prefix:"\0",name:"identity",encode:t=>c9(t),decode:t=>a9(t)});var m9=Object.freeze({__proto__:null,identity:g9});const y9=Jr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var b9=Object.freeze({__proto__:null,base2:y9});const w9=Jr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var v9=Object.freeze({__proto__:null,base8:w9});const E9=Qg({prefix:"9",name:"base10",alphabet:"0123456789"});var _9=Object.freeze({__proto__:null,base10:E9});const x9=Jr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),S9=Jr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var A9=Object.freeze({__proto__:null,base16:x9,base16upper:S9});const C9=Jr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T9=Jr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),I9=Jr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),R9=Jr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),k9=Jr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N9=Jr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),O9=Jr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),B9=Jr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),D9=Jr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var P9=Object.freeze({__proto__:null,base32:C9,base32upper:T9,base32pad:I9,base32padupper:R9,base32hex:k9,base32hexupper:N9,base32hexpad:O9,base32hexpadupper:B9,base32z:D9});const $9=Qg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),M9=Qg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var U9=Object.freeze({__proto__:null,base36:$9,base36upper:M9});const L9=Qg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),z9=Qg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var F9=Object.freeze({__proto__:null,base58btc:L9,base58flickr:z9});const j9=Jr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),H9=Jr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),q9=Jr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),V9=Jr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var W9=Object.freeze({__proto__:null,base64:j9,base64pad:H9,base64url:q9,base64urlpad:V9});const T3=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),K9=T3.reduce((t,e,n)=>(t[n]=e,t),[]),G9=T3.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Y9(t){return t.reduce((e,n)=>(e+=K9[n],e),"")}function Z9(t){const e=[];for(const n of t){const r=G9[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const X9=Kb({prefix:"🚀",name:"base256emoji",encode:Y9,decode:Z9});var Q9=Object.freeze({__proto__:null,base256emoji:X9}),J9=I3,D2=128,ez=-128,tz=Math.pow(2,31);function I3(t,e,n){e=e||[],n=n||0;for(var r=n;t>=tz;)e[n++]=t&255|D2,t/=128;for(;t&ez;)e[n++]=t&255|D2,t>>>=7;return e[n]=t|0,I3.bytes=n-r+1,e}var nz=XE,rz=128,P2=127;function XE(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw XE.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&P2)<<i:(o&P2)*Math.pow(2,i),i+=7}while(o>=rz);return XE.bytes=s-r,n}var iz=Math.pow(2,7),sz=Math.pow(2,14),oz=Math.pow(2,21),az=Math.pow(2,28),cz=Math.pow(2,35),lz=Math.pow(2,42),uz=Math.pow(2,49),dz=Math.pow(2,56),hz=Math.pow(2,63),fz=function(t){return t<iz?1:t<sz?2:t<oz?3:t<az?4:t<cz?5:t<lz?6:t<uz?7:t<dz?8:t<hz?9:10},pz={encode:J9,decode:nz,encodingLength:fz},R3=pz;const $2=(t,e,n=0)=>(R3.encode(t,e,n),e),M2=t=>R3.encodingLength(t),QE=(t,e)=>{const n=e.byteLength,r=M2(t),i=r+M2(n),s=new Uint8Array(i+n);return $2(t,s,0),$2(n,s,r),s.set(e,i),new gz(t,n,e,s)};let gz=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const k3=({name:t,code:e,encode:n})=>new mz(t,e,n);let mz=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?QE(this.code,n):n.then(r=>QE(this.code,r))}else throw Error("Unknown type, must be binary type")}};const N3=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),yz=k3({name:"sha2-256",code:18,encode:N3("SHA-256")}),bz=k3({name:"sha2-512",code:19,encode:N3("SHA-512")});var wz=Object.freeze({__proto__:null,sha256:yz,sha512:bz});const O3=0,vz="identity",B3=A3,Ez=t=>QE(O3,B3(t)),_z={code:O3,name:vz,encode:B3,digest:Ez};var xz=Object.freeze({__proto__:null,identity:_z});new TextEncoder,new TextDecoder;const U2={...m9,...b9,...v9,..._9,...A9,...P9,...U9,...F9,...W9,...Q9};({...wz,...xz});function D3(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const L2=D3("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Uv=D3("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=x3(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),P3={utf8:L2,"utf-8":L2,hex:U2.base16,latin1:Uv,ascii:Uv,binary:Uv,...U2};function Gb(t,e="utf8"){const n=P3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Dh(t,e="utf8"){const n=P3[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?mS(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function z2(t){return Xl(Gb(Dh(t,Wb),E3))}function Cy(t){return Gb(Dh(za(t),E3),Wb)}function $3(t){const e=Dh(n9,B2),n=t9+Gb(S3([e,t]),B2);return[J7,e9,n].join(Q7)}function Sz(t){return Gb(t,Wb)}function Az(t){return Dh(t,Wb)}function Cz(t){return Dh([Cy(t.header),Cy(t.payload)].join(Ay),_3)}function Tz(t){return[Cy(t.header),Cy(t.payload),Sz(t.signature)].join(Ay)}function JE(t){const e=t.split(Ay),n=z2(e[0]),r=z2(e[1]),i=Az(e[2]),s=Dh(e.slice(0,2).join(Ay),_3);return{header:n,payload:r,signature:i,data:s}}function F2(t=u3(r9)){const e=v3.getPublicKey(t);return{secretKey:S3([t,e]),publicKey:e}}async function Iz(t,e,n,r,i=xe.fromMiliseconds(Date.now())){const s={alg:Z7,typ:X7},o=$3(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},u=Cz({header:s,payload:c}),h=v3.sign(u,r.secretKey.slice(0,32));return Tz({header:s,payload:c,signature:h})}var j2=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Rz=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),kz=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Nz=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),Oz=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Bz=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Dz=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Pz=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,H2=3,$z=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Dz]],q2=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Mz(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Bz:typeof navigator<"u"?Lz(navigator.userAgent):Fz()}function Uz(t){return t!==""&&$z.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Lz(t){var e=Uz(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Oz;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<H2&&(i=j2(j2([],i,!0),jz(H2-i.length),!0)):i=[];var s=i.join("."),o=zz(t),a=Pz.exec(t);return a&&a[1]?new Nz(n,s,o,a[1]):new Rz(n,s,o)}function zz(t){for(var e=0,n=q2.length;e<n;e++){var r=q2[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Fz(){var t=typeof process<"u"&&process.version;return t?new kz(process.version.slice(1)):null}function jz(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.getLocalStorage=cn.getLocalStorageOrThrow=cn.getCrypto=cn.getCryptoOrThrow=M3=cn.getLocation=cn.getLocationOrThrow=yS=cn.getNavigator=cn.getNavigatorOrThrow=Jg=cn.getDocument=cn.getDocumentOrThrow=cn.getFromWindowOrThrow=cn.getFromWindow=void 0;function bu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}cn.getFromWindow=bu;function Ph(t){const e=bu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}cn.getFromWindowOrThrow=Ph;function Hz(){return Ph("document")}cn.getDocumentOrThrow=Hz;function qz(){return bu("document")}var Jg=cn.getDocument=qz;function Vz(){return Ph("navigator")}cn.getNavigatorOrThrow=Vz;function Wz(){return bu("navigator")}var yS=cn.getNavigator=Wz;function Kz(){return Ph("location")}cn.getLocationOrThrow=Kz;function Gz(){return bu("location")}var M3=cn.getLocation=Gz;function Yz(){return Ph("crypto")}cn.getCryptoOrThrow=Yz;function Zz(){return bu("crypto")}cn.getCrypto=Zz;function Xz(){return Ph("localStorage")}cn.getLocalStorageOrThrow=Xz;function Qz(){return bu("localStorage")}cn.getLocalStorage=Qz;var bS={};Object.defineProperty(bS,"__esModule",{value:!0});var U3=bS.getWindowMetadata=void 0;const V2=cn;function Jz(){let t,e;try{t=V2.getDocumentOrThrow(),e=V2.getLocationOrThrow()}catch{return null}function n(){const f=t.getElementsByTagName("link"),g=[];for(let m=0;m<f.length;m++){const _=f[m],x=_.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const T=_.getAttribute("href");if(T)if(T.toLowerCase().indexOf("https:")===-1&&T.toLowerCase().indexOf("http:")===-1&&T.indexOf("//")!==0){let S=e.protocol+"//"+e.host;if(T.indexOf("/")===0)S+=T;else{const C=e.pathname.split("/");C.pop();const I=C.join("/");S+=I+"/"+T}g.push(S)}else if(T.indexOf("//")===0){const S=e.protocol+T;g.push(S)}else g.push(T)}}return g}function r(...f){const g=t.getElementsByTagName("meta");for(let m=0;m<g.length;m++){const _=g[m],x=["itemprop","property","name"].map(T=>_.getAttribute(T)).filter(T=>T?f.includes(T):!1);if(x.length&&x){const T=_.getAttribute("content");if(T)return T}}return""}function i(){let f=r("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,u=n();return{description:a,url:c,icons:u,name:o}}U3=bS.getWindowMetadata=Jz;function Rp(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function W2(t){return Rp(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const L3="2.23.2";let Lv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${L3}`},Yb=class e_ extends Error{constructor(e,n={}){const r=n.cause instanceof e_?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof e_&&n.cause.docsPath||n.docsPath,s=Lv.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Lv.version?[`Version: ${Lv.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=L3}walk(e){return z3(this,e)}};function z3(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?z3(t.cause,e):e?null:t}let F3=class extends Yb{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function $h(t,{dir:e,size:n=32}={}){return typeof t=="string"?eF(t,{dir:e,size:n}):tF(t,{dir:e,size:n})}function eF(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new F3({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function tF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new F3({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let nF=class extends Yb{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},rF=class extends Yb{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Mh(t,{size:e}){if(W2(t)>e)throw new rF({givenSize:W2(t),maxSize:e})}function t_(t,e={}){const{signed:n}=e;e.size&&Mh(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function iF(t,e={}){return Number(t_(t,e))}const sF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n_(t,e={}){return typeof t=="number"||typeof t=="bigint"?H3(t,e):typeof t=="string"?cF(t,e):typeof t=="boolean"?oF(t,e):j3(t,e)}function oF(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Mh(n,{size:e.size}),$h(n,{size:e.size})):n}function j3(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=sF[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Mh(r,{size:e.size}),$h(r,{dir:"right",size:e.size})):r}function H3(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new nF({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?$h(a,{size:r}):a}const aF=new TextEncoder;function cF(t,e={}){const n=aF.encode(t);return j3(n,e)}const lF=new TextEncoder;function uF(t,e={}){return typeof t=="number"||typeof t=="bigint"?hF(t,e):typeof t=="boolean"?dF(t,e):Rp(t)?q3(t,e):V3(t,e)}function dF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Mh(n,{size:e.size}),$h(n,{size:e.size})):n}const oa={zero:48,nine:57,A:65,F:70,a:97,f:102};function K2(t){if(t>=oa.zero&&t<=oa.nine)return t-oa.zero;if(t>=oa.A&&t<=oa.F)return t-(oa.A-10);if(t>=oa.a&&t<=oa.f)return t-(oa.a-10)}function q3(t,e={}){let n=t;e.size&&(Mh(n,{size:e.size}),n=$h(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=K2(r.charCodeAt(a++)),u=K2(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new Yb(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function hF(t,e){const n=H3(t,e);return q3(n)}function V3(t,e={}){const n=lF.encode(t);return typeof e.size=="number"?(Mh(n,{size:e.size}),$h(n,{dir:"right",size:e.size})):n}function Ty(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Zb(t,...e){if(!fF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Tbe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ty(t.outputLen),Ty(t.blockLen)}function G2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pF(t,e){Zb(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const t0=BigInt(2**32-1),Y2=BigInt(32);function gF(t,e=!1){return e?{h:Number(t&t0),l:Number(t>>Y2&t0)}:{h:Number(t>>Y2&t0)|0,l:Number(t&t0)|0}}function mF(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=gF(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const yF=(t,e,n)=>t<<n|e>>>32-n,bF=(t,e,n)=>e<<n|t>>>32-n,wF=(t,e,n)=>e<<n-32|t>>>64-n,vF=(t,e,n)=>t<<n-32|e>>>64-n,Uu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function EF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ibe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Rbe(t,e){return t<<32-e|t>>>e}const Z2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _F(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function X2(t){for(let e=0;e<t.length;e++)t[e]=_F(t[e])}function xF(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function W3(t){return typeof t=="string"&&(t=xF(t)),Zb(t),t}function kbe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Zb(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let SF=class{clone(){return this._cloneInto()}};function AF(t){const e=r=>t().update(W3(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Obe(t=32){if(Uu&&typeof Uu.getRandomValues=="function")return Uu.getRandomValues(new Uint8Array(t));if(Uu&&typeof Uu.randomBytes=="function")return Uu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const K3=[],G3=[],Y3=[],CF=BigInt(0),lf=BigInt(1),TF=BigInt(2),IF=BigInt(7),RF=BigInt(256),kF=BigInt(113);for(let t=0,e=lf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],K3.push(2*(5*r+n)),G3.push((t+1)*(t+2)/2%64);let i=CF;for(let s=0;s<7;s++)e=(e<<lf^(e>>IF)*kF)%RF,e&TF&&(i^=lf<<(lf<<BigInt(s))-lf);Y3.push(i)}const[NF,OF]=mF(Y3,!0),Q2=(t,e,n)=>n>32?wF(t,e,n):yF(t,e,n),J2=(t,e,n)=>n>32?vF(t,e,n):bF(t,e,n);function BF(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],h=n[c+1],f=Q2(u,h,1)^n[a],g=J2(u,h,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=g}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=G3[o],c=Q2(i,s,a),u=J2(i,s,a),h=K3[o];i=t[h],s=t[h+1],t[h]=c,t[h+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=NF[r],t[1]^=OF[r]}n.fill(0)}class wS extends SF{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ty(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=EF(this.state)}keccak(){Z2||X2(this.state32),BF(this.state32,this.rounds),Z2||X2(this.state32),this.posOut=0,this.pos=0}update(e){G2(this);const{blockLen:n,state:r}=this;e=W3(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){G2(this,!1),Zb(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ty(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pF(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new wS(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const DF=(t,e,n)=>AF(()=>new wS(e,t,n)),PF=DF(1,136,256/8);function Z3(t,e){const n=e||"hex",r=PF(Rp(t,{strict:!1})?uF(t):t);return n==="bytes"?r:n_(r)}let $F=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const zv=new $F(8192);function MF(t,e){if(zv.has(`${t}.${e}`))return zv.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Z3(V3(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return zv.set(`${t}.${e}`,s),s}function UF(t){const e=Z3(`0x${t.substring(4)}`).substring(26);return MF(`0x${e}`)}const LF="modulepreload",zF=function(t){return"/"+t},eT={},kn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=Promise.all(n.map(a=>{if(a=zF(a),a in eT)return;eT[a]=!0;const c=a.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":LF,c||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};async function FF({hash:t,signature:e}){const n=Rp(t)?t:n_(t),{secp256k1:r}=await kn(()=>import("./secp256k1-BvHxkKCg.js"),[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:h,v:f,yParity:g}=e,m=Number(g??f),_=tT(m);return new r.Signature(t_(u),t_(h)).addRecoveryBit(_)}const o=Rp(e)?e:n_(e),a=iF(`0x${o.slice(130)}`),c=tT(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function tT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function jF({hash:t,signature:e}){return UF(await FF({hash:t,signature:e}))}function HF(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const h=t.charAt(u),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=u}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,g=0;const m=u.length;for(;g!==m&&u[g]===0;)g++,h++;const _=(m-g)*s+1>>>0,x=new Uint8Array(_);for(;g!==m;){let C=u[g],I=0;for(let P=_-1;(C!==0||I<f)&&P!==-1;P--,I++)C+=256*x[P]>>>0,x[P]=C%n>>>0,C=C/n>>>0;if(C!==0)throw new Error("Non-zero carry");f=I,g++}let T=_-f;for(;T!==_&&x[T]===0;)T++;let S=r.repeat(h);for(;T<_;++T)S+=t.charAt(x[T]);return S}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,g=0;for(;u[h]===r;)f++,h++;const m=(u.length-h)*i+1>>>0,_=new Uint8Array(m);for(;h<u.length;){const C=u.charCodeAt(h);if(C>255)return;let I=e[C];if(I===255)return;let P=0;for(let z=m-1;(I!==0||P<g)&&z!==-1;z--,P++)I+=n*_[z]>>>0,_[z]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");g=P,h++}let x=m-g;for(;x!==m&&_[x]===0;)x++;const T=new Uint8Array(f+(m-x));let S=f;for(;x!==m;)T[S++]=_[x++];return T}function c(u){const h=a(u);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var qF="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Li=HF(qF);function X3(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Kf(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=X3(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function VF(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,T=0,S=0,C=_.length;S!==C&&_[S]===0;)S++,x++;for(var I=(C-S)*h+1>>>0,P=new Uint8Array(I);S!==C;){for(var z=_[S],W=0,L=I-1;(z!==0||W<T)&&L!==-1;L--,W++)z+=256*P[L]>>>0,P[L]=z%a>>>0,z=z/a>>>0;if(z!==0)throw new Error("Non-zero carry");T=W,S++}for(var V=I-T;V!==I&&P[V]===0;)V++;for(var q=c.repeat(x);V<I;++V)q+=t.charAt(P[V]);return q}function g(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var x=0;if(_[x]!==" "){for(var T=0,S=0;_[x]===c;)T++,x++;for(var C=(_.length-x)*u+1>>>0,I=new Uint8Array(C);_[x];){var P=n[_.charCodeAt(x)];if(P===255)return;for(var z=0,W=C-1;(P!==0||z<S)&&W!==-1;W--,z++)P+=a*I[W]>>>0,I[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=z,x++}if(_[x]!==" "){for(var L=C-S;L!==C&&I[L]===0;)L++;for(var V=new Uint8Array(T+(C-L)),q=T;L!==C;)V[q++]=I[L++];return V}}}function m(_){var x=g(_);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:m}}var WF=VF,KF=WF;const GF=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},YF=t=>new TextEncoder().encode(t),ZF=t=>new TextDecoder().decode(t);class XF{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class QF{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Q3(this,e)}}class JF{constructor(e){this.decoders=e}or(e){return Q3(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Q3=(t,e)=>new JF({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class ej{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new XF(e,n,r),this.decoder=new QF(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Xb=({name:t,prefix:e,encode:n,decode:r})=>new ej(t,e,n,r),em=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=KF(n,e);return Xb({prefix:t,name:e,encode:r,decode:s=>GF(i(s))})},tj=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},nj=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ei=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Xb({prefix:e,name:t,encode(i){return nj(i,r,n)},decode(i){return tj(i,r,n,t)}}),rj=Xb({prefix:"\0",name:"identity",encode:t=>ZF(t),decode:t=>YF(t)}),ij=Object.freeze(Object.defineProperty({__proto__:null,identity:rj},Symbol.toStringTag,{value:"Module"})),sj=ei({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),oj=Object.freeze(Object.defineProperty({__proto__:null,base2:sj},Symbol.toStringTag,{value:"Module"})),aj=ei({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),cj=Object.freeze(Object.defineProperty({__proto__:null,base8:aj},Symbol.toStringTag,{value:"Module"})),lj=em({prefix:"9",name:"base10",alphabet:"0123456789"}),uj=Object.freeze(Object.defineProperty({__proto__:null,base10:lj},Symbol.toStringTag,{value:"Module"})),dj=ei({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hj=ei({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),fj=Object.freeze(Object.defineProperty({__proto__:null,base16:dj,base16upper:hj},Symbol.toStringTag,{value:"Module"})),pj=ei({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gj=ei({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mj=ei({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),yj=ei({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bj=ei({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wj=ei({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vj=ei({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ej=ei({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_j=ei({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xj=Object.freeze(Object.defineProperty({__proto__:null,base32:pj,base32hex:bj,base32hexpad:vj,base32hexpadupper:Ej,base32hexupper:wj,base32pad:mj,base32padupper:yj,base32upper:gj,base32z:_j},Symbol.toStringTag,{value:"Module"})),Sj=em({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Aj=em({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Cj=Object.freeze(Object.defineProperty({__proto__:null,base36:Sj,base36upper:Aj},Symbol.toStringTag,{value:"Module"})),Tj=em({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Ij=em({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Rj=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Tj,base58flickr:Ij},Symbol.toStringTag,{value:"Module"})),kj=ei({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Nj=ei({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Oj=ei({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bj=ei({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Dj=Object.freeze(Object.defineProperty({__proto__:null,base64:kj,base64pad:Nj,base64url:Oj,base64urlpad:Bj},Symbol.toStringTag,{value:"Module"})),J3=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Pj=J3.reduce((t,e,n)=>(t[n]=e,t),[]),$j=J3.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Mj(t){return t.reduce((e,n)=>(e+=Pj[n],e),"")}function Uj(t){const e=[];for(const n of t){const r=$j[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Lj=Xb({prefix:"🚀",name:"base256emoji",encode:Mj,decode:Uj}),zj=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Lj},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const nT={...ij,...oj,...cj,...uj,...fj,...xj,...Cj,...Rj,...Dj,...zj};function e8(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const rT=e8("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Fv=e8("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=X3(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),t8={utf8:rT,"utf-8":rT,hex:nT.base16,latin1:Fv,ascii:Fv,binary:Fv,...nT};function Fs(t,e="utf8"){const n=t8[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function Hi(t,e="utf8"){const n=t8[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Fj={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var jj={};const Hj=":";function Ld(t){const[e,n]=t.split(Hj);return{namespace:e,reference:n}}function n8(t,e){return t.includes(":")?[t]:e.chains||[]}var qj=Object.defineProperty,Vj=Object.defineProperties,Wj=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,Kj=Object.prototype.hasOwnProperty,Gj=Object.prototype.propertyIsEnumerable,sT=(t,e,n)=>e in t?qj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oT=(t,e)=>{for(var n in e||(e={}))Kj.call(e,n)&&sT(t,n,e[n]);if(iT)for(var n of iT(e))Gj.call(e,n)&&sT(t,n,e[n]);return t},Yj=(t,e)=>Vj(t,Wj(e));const Zj="ReactNative",ds={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Xj="js";function Iy(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function rl(){return!Jg()&&!!yS()&&navigator.product===Zj}function Qj(){return rl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Jj(){return rl()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function tm(){return!Iy()&&!!yS()&&!!Jg()}function nm(){return rl()?ds.reactNative:Iy()?ds.node:tm()?ds.browser:ds.unknown}function aT(){var t;try{return rl()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function eH(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function tH(t){var e,n;const r=r8();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Yj(oT(oT({},r),t),{url:t?.url||r.url,name:t?.name||r.name,description:t?.description||r.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function r8(){return U3()||{name:"",description:"",url:"",icons:[""]}}function nH(){if(nm()===ds.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Mz();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function rH(){var t;const e=nm();return e===ds.browser?[e,((t=M3())==null?void 0:t.host)||"unknown"].join(":"):e}function i8(t,e,n){const r=nH(),i=rH();return[[t,e].join("-"),[Xj,n].join("-"),r,i].join("/")}function iH({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const u=n.split("?"),h=i8(t,e,r),f={auth:i,ua:h,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},g=eH(u[1]||"",f);return u[0]+"?"+g}function Tl(t,e){return t.filter(n=>e.includes(n)).length===t.length}function r_(t){return Object.fromEntries(t.entries())}function i_(t){return new Map(Object.entries(t))}function pl(t=xe.FIVE_MINUTES,e){const n=xe.toMiliseconds(t||xe.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const u=new Error(e);o=Promise.reject(u),c(u)},n),r=a,i=c})}}function _c(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function s8(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function sH(t){return s8("topic",t)}function oH(t){return s8("id",t)}function o8(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function pr(t,e){return xe.fromMiliseconds(Date.now()+xe.toMiliseconds(t))}function hc(t){return Date.now()>=xe.toMiliseconds(t)}function Ft(t,e){return`${t}${e?`:${e}`:""}`}function Q0(t=[],e=[]){return[...new Set([...t,...e])]}async function aH({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i?.href;if(typeof s!="string")return;const o=cH(s,t,e),a=nm();if(a===ds.browser){if(!((r=Jg())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}lH(o)}else a===ds.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function cH(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${fH(r,!0)}`}else i=`${i}/wc?${r}`;return i}function lH(t){let e="_self";hH()?e="_top":(dH()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function uH(t,e){let n="";try{if(tm()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function cT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function lT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function vS(){return typeof process<"u"&&jj.IS_VITEST==="true"}function dH(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function hH(){try{return window.self!==window.top}catch{return!1}}function fH(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function a8(t){return Buffer.from(t,"base64").toString("utf-8")}function pH(t){return new Promise(e=>setTimeout(e,t))}function kp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function gH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rm(t,...e){if(!gH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ES(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kp(t.outputLen),kp(t.blockLen)}function th(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function c8(t,e){rm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const n0=BigInt(2**32-1),uT=BigInt(32);function mH(t,e=!1){return e?{h:Number(t&n0),l:Number(t>>uT&n0)}:{h:Number(t>>uT&n0)|0,l:Number(t&n0)|0}}function yH(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=mH(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const bH=(t,e,n)=>t<<n|e>>>32-n,wH=(t,e,n)=>e<<n|t>>>32-n,vH=(t,e,n)=>e<<n-32|t>>>64-n,EH=(t,e,n)=>t<<n-32|e>>>64-n,Lu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function _H(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function jv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Co(t,e){return t<<32-e|t>>>e}const dT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function xH(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function hT(t){for(let e=0;e<t.length;e++)t[e]=xH(t[e])}function SH(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function nh(t){return typeof t=="string"&&(t=SH(t)),rm(t),t}function AH(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];rm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let _S=class{clone(){return this._cloneInto()}};function l8(t){const e=r=>t().update(nh(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Uh(t=32){if(Lu&&typeof Lu.getRandomValues=="function")return Lu.getRandomValues(new Uint8Array(t));if(Lu&&typeof Lu.randomBytes=="function")return Lu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const u8=[],d8=[],h8=[],CH=BigInt(0),uf=BigInt(1),TH=BigInt(2),IH=BigInt(7),RH=BigInt(256),kH=BigInt(113);for(let t=0,e=uf,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],u8.push(2*(5*r+n)),d8.push((t+1)*(t+2)/2%64);let i=CH;for(let s=0;s<7;s++)e=(e<<uf^(e>>IH)*kH)%RH,e&TH&&(i^=uf<<(uf<<BigInt(s))-uf);h8.push(i)}const[NH,OH]=yH(h8,!0),fT=(t,e,n)=>n>32?vH(t,e,n):bH(t,e,n),pT=(t,e,n)=>n>32?EH(t,e,n):wH(t,e,n);function BH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],h=n[c+1],f=fT(u,h,1)^n[a],g=pT(u,h,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=g}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=d8[o],c=fT(i,s,a),u=pT(i,s,a),h=u8[o];i=t[h],s=t[h+1],t[h]=c,t[h+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=NH[r],t[1]^=OH[r]}n.fill(0)}let DH=class f8 extends _S{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kp(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=_H(this.state)}keccak(){dT||hT(this.state32),BH(this.state32,this.rounds),dT||hT(this.state32),this.posOut=0,this.pos=0}update(e){th(this);const{blockLen:n,state:r}=this;e=nh(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){th(this,!1),rm(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(c8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new f8(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const PH=(t,e,n)=>l8(()=>new DH(e,t,n)),$H=PH(1,136,256/8),MH="https://rpc.walletconnect.org/v1";function p8(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from($H(n)).toString("hex")}async function UH(t,e,n,r,i,s){switch(n.t){case"eip191":return await LH(t,e,n.s);case"eip1271":return await zH(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function LH(t,e,n){return(await jF({hash:p8(e),signature:n})).toLowerCase()===t.toLowerCase()}async function zH(t,e,n,r,i,s){const o=Ld(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",u="0000000000000000000000000000000000000000000000000000000000000041",h=n.substring(2),f=p8(e).substring(2),g=a+f+c+u+h,m=await fetch(`${s||MH}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:FH(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:_}=await m.json();return _?_.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function FH(){return Date.now()+Math.floor(Math.random()*1e3)}function jH(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Li.encode(s)}var HH=Object.defineProperty,qH=Object.defineProperties,VH=Object.getOwnPropertyDescriptors,gT=Object.getOwnPropertySymbols,WH=Object.prototype.hasOwnProperty,KH=Object.prototype.propertyIsEnumerable,mT=(t,e,n)=>e in t?HH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GH=(t,e)=>{for(var n in e||(e={}))WH.call(e,n)&&mT(t,n,e[n]);if(gT)for(var n of gT(e))KH.call(e,n)&&mT(t,n,e[n]);return t},YH=(t,e)=>qH(t,VH(e));const ZH="did:pkh:",xS=t=>t?.split(":"),XH=t=>{const e=t&&xS(t);if(e)return t.includes(ZH)?e[3]:e[1]},s_=t=>{const e=t&&xS(t);if(e)return e[2]+":"+e[3]},Ry=t=>{const e=t&&xS(t);if(e)return e.pop()};async function yT(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=g8(i,i.iss),o=Ry(i.iss);return await UH(o,s,r,s_(i.iss),n)}const g8=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=Ry(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${XH(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(x=>`
- ${x}`).join("")}`:void 0,_=J0(t.resources);if(_){const x=Np(_);i=oq(i,x)}return[n,r,"",i,"",s,o,a,c,u,h,f,g,m].filter(x=>x!=null).join(`
`)};function QH(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function JH(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Ql(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function eq(t,e,n,r={}){return n?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:tq(e,n,r)}}}function tq(t,e,n={}){e=e?.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function m8(t){return Ql(t),`urn:recap:${QH(t).replace(/=/g,"")}`}function Np(t){const e=JH(t.replace("urn:recap:",""));return Ql(e),e}function nq(t,e,n){const r=eq(t,e,n);return m8(r)}function rq(t){return t&&t.includes("urn:recap:")}function iq(t,e){const n=Np(t),r=Np(e),i=sq(n,r);return m8(i)}function sq(t,e){Ql(t),Ql(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,u;r.att[i]=YH(GH({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((u=e.att[i])==null?void 0:u[a])})})}),r}function oq(t="",e){Ql(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,g)=>f.action.localeCompare(g.action));const u={};c.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const h=Object.keys(u).map(f=>(i++,`(${i}) '${f}': '${u[f].join("', '")}' for '${a}'.`));r.push(h.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function bT(t){var e;const n=Np(t);Ql(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function wT(t){const e=Np(t);Ql(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function J0(t){if(!t)return;const e=t?.[t.length-1];return rq(e)?e:void 0}function Hv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function y8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function is(t,...e){if(!y8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aq(t,e){is(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ET(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Ic=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),cq=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),lq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lq)throw new Error("Non little-endian hardware is not supported");function uq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function o_(t){if(typeof t=="string")t=uq(t);else if(y8(t))t=a_(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function dq(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function hq(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const fq=(t,e)=>{function n(r,...i){if(is(r),t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?is(u):is(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&is(i[1]);const o=e(r,...i),a=(u,h)=>{if(h!==void 0){if(u!==2)throw new Error("cipher output not supported");is(h)}};let c=!1;return{encrypt(u,h){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,is(u),a(o.encrypt.length,h),o.encrypt(u,h)},decrypt(u,h){if(is(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,h),o.decrypt(u,h)}}}return Object.assign(n,t),n};function _T(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!pq(e))throw new Error("invalid output, must be aligned");return e}function xT(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function pq(t){return t.byteOffset%4===0}function a_(t){return Uint8Array.from(t)}function rh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const b8=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),gq=b8("expand 16-byte k"),mq=b8("expand 32-byte k"),yq=Ic(gq),bq=Ic(mq);function Ot(t,e){return t<<e|t>>>32-e}function c_(t){return t.byteOffset%4===0}const r0=64,wq=16,w8=2**32-1,ST=new Uint32Array;function vq(t,e,n,r,i,s,o,a){const c=i.length,u=new Uint8Array(r0),h=Ic(u),f=c_(i)&&c_(s),g=f?Ic(i):ST,m=f?Ic(s):ST;for(let _=0;_<c;o++){if(t(e,n,r,h,o,a),o>=w8)throw new Error("arx: counter overflow");const x=Math.min(r0,c-_);if(f&&x===r0){const T=_/4;if(_%4!==0)throw new Error("arx: invalid block position");for(let S=0,C;S<wq;S++)C=T+S,m[C]=g[C]^h[S];_+=r0;continue}for(let T=0,S;T<x;T++)S=_+T,s[S]=i[S]^u[T];_+=x}}function Eq(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=dq({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Hv(i),Hv(o),ET(s),ET(n),(a,c,u,h,f=0)=>{is(a),is(c),is(u);const g=u.length;if(h===void 0&&(h=new Uint8Array(g)),is(h),Hv(f),f<0||f>=w8)throw new Error("arx: counter overflow");if(h.length<g)throw new Error(`arx: output (${h.length}) is shorter than data (${g})`);const m=[];let _=a.length,x,T;if(_===32)m.push(x=a_(a)),T=bq;else if(_===16&&n)x=new Uint8Array(32),x.set(a),x.set(a,16),T=yq,m.push(x);else throw new Error(`arx: invalid 32-byte key, got length=${_}`);c_(c)||m.push(c=a_(c));const S=Ic(x);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(T,S,Ic(c.subarray(0,16)),S),c=c.subarray(16)}const C=16-i;if(C!==c.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const P=new Uint8Array(12);P.set(c,s?0:12-c.length),c=P,m.push(c)}const I=Ic(c);return vq(t,T,S,I,u,h,f,o),rh(...m),h}}const Mr=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class _q{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=o_(e),is(e,32);const n=Mr(e,0),r=Mr(e,2),i=Mr(e,4),s=Mr(e,6),o=Mr(e,8),a=Mr(e,10),c=Mr(e,12),u=Mr(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Mr(e,16+2*h)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],u=o[2],h=o[3],f=o[4],g=o[5],m=o[6],_=o[7],x=o[8],T=o[9],S=Mr(e,n+0),C=Mr(e,n+2),I=Mr(e,n+4),P=Mr(e,n+6),z=Mr(e,n+8),W=Mr(e,n+10),L=Mr(e,n+12),V=Mr(e,n+14);let q=s[0]+(S&8191),X=s[1]+((S>>>13|C<<3)&8191),Y=s[2]+((C>>>10|I<<6)&8191),ee=s[3]+((I>>>7|P<<9)&8191),j=s[4]+((P>>>4|z<<12)&8191),w=s[5]+(z>>>1&8191),b=s[6]+((z>>>14|W<<2)&8191),v=s[7]+((W>>>11|L<<5)&8191),O=s[8]+((L>>>8|V<<8)&8191),B=s[9]+(V>>>5|i),R=0,M=R+q*a+X*(5*T)+Y*(5*x)+ee*(5*_)+j*(5*m);R=M>>>13,M&=8191,M+=w*(5*g)+b*(5*f)+v*(5*h)+O*(5*u)+B*(5*c),R+=M>>>13,M&=8191;let k=R+q*c+X*a+Y*(5*T)+ee*(5*x)+j*(5*_);R=k>>>13,k&=8191,k+=w*(5*m)+b*(5*g)+v*(5*f)+O*(5*h)+B*(5*u),R+=k>>>13,k&=8191;let E=R+q*u+X*c+Y*a+ee*(5*T)+j*(5*x);R=E>>>13,E&=8191,E+=w*(5*_)+b*(5*m)+v*(5*g)+O*(5*f)+B*(5*h),R+=E>>>13,E&=8191;let U=R+q*h+X*u+Y*c+ee*a+j*(5*T);R=U>>>13,U&=8191,U+=w*(5*x)+b*(5*_)+v*(5*m)+O*(5*g)+B*(5*f),R+=U>>>13,U&=8191;let Q=R+q*f+X*h+Y*u+ee*c+j*a;R=Q>>>13,Q&=8191,Q+=w*(5*T)+b*(5*x)+v*(5*_)+O*(5*m)+B*(5*g),R+=Q>>>13,Q&=8191;let te=R+q*g+X*f+Y*h+ee*u+j*c;R=te>>>13,te&=8191,te+=w*a+b*(5*T)+v*(5*x)+O*(5*_)+B*(5*m),R+=te>>>13,te&=8191;let se=R+q*m+X*g+Y*f+ee*h+j*u;R=se>>>13,se&=8191,se+=w*c+b*a+v*(5*T)+O*(5*x)+B*(5*_),R+=se>>>13,se&=8191;let fe=R+q*_+X*m+Y*g+ee*f+j*h;R=fe>>>13,fe&=8191,fe+=w*u+b*c+v*a+O*(5*T)+B*(5*x),R+=fe>>>13,fe&=8191;let le=R+q*x+X*_+Y*m+ee*g+j*f;R=le>>>13,le&=8191,le+=w*h+b*u+v*c+O*a+B*(5*T),R+=le>>>13,le&=8191;let ge=R+q*T+X*x+Y*_+ee*m+j*g;R=ge>>>13,ge&=8191,ge+=w*f+b*h+v*u+O*c+B*a,R+=ge>>>13,ge&=8191,R=(R<<2)+R|0,R=R+M|0,M=R&8191,R=R>>>13,k+=R,s[0]=M,s[1]=k,s[2]=E,s[3]=U,s[4]=Q,s[5]=te,s[6]=se,s[7]=fe,s[8]=le,s[9]=ge}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;rh(r)}update(e){vT(this);const{buffer:n,blockLen:r}=this;e=o_(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){rh(this.h,this.r,this.buffer,this.pad)}digestInto(e){vT(this),aq(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function xq(t){const e=(r,i)=>t(i).update(o_(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const Sq=xq(t=>new _q(t));function Aq(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],u=t[3],h=e[0],f=e[1],g=e[2],m=e[3],_=e[4],x=e[5],T=e[6],S=e[7],C=i,I=n[0],P=n[1],z=n[2],W=o,L=a,V=c,q=u,X=h,Y=f,ee=g,j=m,w=_,b=x,v=T,O=S,B=C,R=I,M=P,k=z;for(let U=0;U<s;U+=2)W=W+X|0,B=Ot(B^W,16),w=w+B|0,X=Ot(X^w,12),W=W+X|0,B=Ot(B^W,8),w=w+B|0,X=Ot(X^w,7),L=L+Y|0,R=Ot(R^L,16),b=b+R|0,Y=Ot(Y^b,12),L=L+Y|0,R=Ot(R^L,8),b=b+R|0,Y=Ot(Y^b,7),V=V+ee|0,M=Ot(M^V,16),v=v+M|0,ee=Ot(ee^v,12),V=V+ee|0,M=Ot(M^V,8),v=v+M|0,ee=Ot(ee^v,7),q=q+j|0,k=Ot(k^q,16),O=O+k|0,j=Ot(j^O,12),q=q+j|0,k=Ot(k^q,8),O=O+k|0,j=Ot(j^O,7),W=W+Y|0,k=Ot(k^W,16),v=v+k|0,Y=Ot(Y^v,12),W=W+Y|0,k=Ot(k^W,8),v=v+k|0,Y=Ot(Y^v,7),L=L+ee|0,B=Ot(B^L,16),O=O+B|0,ee=Ot(ee^O,12),L=L+ee|0,B=Ot(B^L,8),O=O+B|0,ee=Ot(ee^O,7),V=V+j|0,R=Ot(R^V,16),w=w+R|0,j=Ot(j^w,12),V=V+j|0,R=Ot(R^V,8),w=w+R|0,j=Ot(j^w,7),q=q+X|0,M=Ot(M^q,16),b=b+M|0,X=Ot(X^b,12),q=q+X|0,M=Ot(M^q,8),b=b+M|0,X=Ot(X^b,7);let E=0;r[E++]=o+W|0,r[E++]=a+L|0,r[E++]=c+V|0,r[E++]=u+q|0,r[E++]=h+X|0,r[E++]=f+Y|0,r[E++]=g+ee|0,r[E++]=m+j|0,r[E++]=_+w|0,r[E++]=x+b|0,r[E++]=T+v|0,r[E++]=S+O|0,r[E++]=C+B|0,r[E++]=I+R|0,r[E++]=P+M|0,r[E++]=z+k|0}const Cq=Eq(Aq,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Tq=new Uint8Array(16),AT=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(Tq.subarray(n))},Iq=new Uint8Array(32);function CT(t,e,n,r,i){const s=t(e,n,Iq),o=Sq.create(s);i&&AT(o,i),AT(o,r);const a=new Uint8Array(16),c=cq(a);xT(c,0,BigInt(i?i.length:0),!0),xT(c,8,BigInt(r.length),!0),o.update(a);const u=o.digest();return rh(s,a),u}const Rq=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=_T(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=CT(t,e,n,a,r);return s.set(c,o),rh(c),s},decrypt(i,s){s=_T(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=CT(t,e,n,o,r);if(!hq(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),rh(c),s}}),v8=fq({blockSize:64,nonceLength:12,tagLength:16},Rq(Cq));let E8=class extends _S{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ES(e);const r=nh(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return th(this),this.iHash.update(e),this}digestInto(e){th(this),rm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Qb=(t,e,n)=>new E8(t,e).update(n).digest();Qb.create=(t,e)=>new E8(t,e);function kq(t,e,n){return ES(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Qb(t,nh(n),nh(e))}const qv=new Uint8Array([0]),TT=new Uint8Array;function Nq(t,e,n,r=32){if(ES(t),kp(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=TT);const s=new Uint8Array(i*t.outputLen),o=Qb.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let u=0;u<i;u++)qv[0]=u+1,a.update(u===0?TT:c).update(n).update(qv).digestInto(c),s.set(c,t.outputLen*u),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),qv.fill(0),s.slice(0,r)}const Oq=(t,e,n,r,i)=>Nq(t,kq(t,e,n),r,i);function Bq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function Dq(t,e,n){return t&e^~t&n}function Pq(t,e,n){return t&e^t&n^e&n}let $q=class extends _S{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jv(this.buffer)}update(e){th(this);const{view:n,buffer:r,blockLen:i}=this;e=nh(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=jv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){th(this),c8(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;Bq(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=jv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const Mq=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ec=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tc=new Uint32Array(64);class Uq extends $q{constructor(){super(64,32,8,!1),this.A=ec[0]|0,this.B=ec[1]|0,this.C=ec[2]|0,this.D=ec[3]|0,this.E=ec[4]|0,this.F=ec[5]|0,this.G=ec[6]|0,this.H=ec[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)tc[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const g=tc[f-15],m=tc[f-2],_=Co(g,7)^Co(g,18)^g>>>3,x=Co(m,17)^Co(m,19)^m>>>10;tc[f]=x+tc[f-7]+_+tc[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){const g=Co(a,6)^Co(a,11)^Co(a,25),m=h+g+Dq(a,c,u)+Mq[f]+tc[f]|0,_=(Co(r,2)^Co(r,13)^Co(r,22))+Pq(r,i,s)|0;h=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+_|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,s,o,a,c,u,h)}roundClean(){tc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const im=l8(()=>new Uq);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jb=BigInt(0),ew=BigInt(1),Lq=BigInt(2);function Jl(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function sm(t){if(!Jl(t))throw new Error("Uint8Array expected")}function ih(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const zq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sh(t){sm(t);let e="";for(let n=0;n<t.length;n++)e+=zq[t[n]];return e}function xd(t){const e=t.toString(16);return e.length&1?"0"+e:e}function SS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Jb:BigInt("0x"+t)}const aa={_0:48,_9:57,A:65,F:70,a:97,f:102};function IT(t){if(t>=aa._0&&t<=aa._9)return t-aa._0;if(t>=aa.A&&t<=aa.F)return t-(aa.A-10);if(t>=aa.a&&t<=aa.f)return t-(aa.a-10)}function oh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=IT(t.charCodeAt(s)),a=IT(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ml(t){return SS(sh(t))}function Op(t){return sm(t),SS(sh(Uint8Array.from(t).reverse()))}function ah(t,e){return oh(t.toString(16).padStart(e*2,"0"))}function tw(t,e){return ah(t,e).reverse()}function Fq(t){return oh(xd(t))}function ts(t,e,n){let r;if(typeof e=="string")try{r=oh(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Jl(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Bp(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];sm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function jq(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function Hq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Vv=t=>typeof t=="bigint"&&Jb<=t;function nw(t,e,n){return Vv(t)&&Vv(e)&&Vv(n)&&e<=t&&t<n}function Pa(t,e,n,r){if(!nw(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function _8(t){let e;for(e=0;t>Jb;t>>=ew,e+=1);return e}function qq(t,e){return t>>BigInt(e)&ew}function Vq(t,e,n){return t|(n?ew:Jb)<<BigInt(e)}const AS=t=>(Lq<<BigInt(t-1))-ew,Wv=t=>new Uint8Array(t),RT=t=>Uint8Array.from(t);function x8(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Wv(t),i=Wv(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=Wv())=>{i=a(RT([0]),h),r=a(),h.length!==0&&(i=a(RT([1]),h),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=a();const g=r.slice();f.push(g),h+=r.length}return Bp(...f)};return(h,f)=>{o(),c(h);let g;for(;!(g=f(u()));)c();return o(),g}}const Wq={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Jl(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Lh(t,e,n={}){const r=(i,s,o)=>{const a=Wq[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const Kq=()=>{throw new Error("not implemented")};function l_(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var Gq=Object.freeze({__proto__:null,isBytes:Jl,abytes:sm,abool:ih,bytesToHex:sh,numberToHexUnpadded:xd,hexToNumber:SS,hexToBytes:oh,bytesToNumberBE:Ml,bytesToNumberLE:Op,numberToBytesBE:ah,numberToBytesLE:tw,numberToVarBytesBE:Fq,ensureBytes:ts,concatBytes:Bp,equalBytes:jq,utf8ToBytes:Hq,inRange:nw,aInRange:Pa,bitLen:_8,bitGet:qq,bitSet:Vq,bitMask:AS,createHmacDrbg:x8,validateObject:Lh,notImplemented:Kq,memoized:l_});const Or=BigInt(0),rr=BigInt(1),vl=BigInt(2),Yq=BigInt(3),u_=BigInt(4),kT=BigInt(5),NT=BigInt(8);function Ui(t,e){const n=t%e;return n>=Or?n:e+n}function S8(t,e,n){if(e<Or)throw new Error("invalid exponent, negatives unsupported");if(n<=Or)throw new Error("invalid modulus");if(n===rr)return Or;let r=rr;for(;e>Or;)e&rr&&(r=r*t%n),t=t*t%n,e>>=rr;return r}function ro(t,e,n){let r=t;for(;e-- >Or;)r*=r,r%=n;return r}function d_(t,e){if(t===Or)throw new Error("invert: expected non-zero number");if(e<=Or)throw new Error("invert: expected positive modulus, got "+e);let n=Ui(t,e),r=e,i=Or,s=rr;for(;n!==Or;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==rr)throw new Error("invert: does not exist");return Ui(i,e)}function Zq(t){const e=(t-rr)/vl;let n,r,i;for(n=t-rr,r=0;n%vl===Or;n/=vl,r++);for(i=vl;i<t&&S8(i,e,t)!==t-rr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+rr)/u_;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+rr)/vl;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),h=o.pow(a,s),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let g=1;for(let _=o.sqr(f);g<c&&!o.eql(_,o.ONE);g++)_=o.sqr(_);const m=o.pow(u,rr<<BigInt(c-g-1));u=o.sqr(m),h=o.mul(h,m),f=o.mul(f,u),c=g}return h}}function Xq(t){if(t%u_===Yq){const e=(t+rr)/u_;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%NT===kT){const e=(t-kT)/NT;return function(n,r){const i=n.mul(r,vl),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,vl),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Zq(t)}const Qq=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Jq(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Qq.reduce((r,i)=>(r[i]="function",r),e);return Lh(t,n)}function eV(t,e,n){if(n<Or)throw new Error("invalid exponent, negatives unsupported");if(n===Or)return t.ONE;if(n===rr)return e;let r=t.ONE,i=e;for(;n>Or;)n&rr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=rr;return r}function tV(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function A8(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function C8(t,e,n=!1,r={}){if(t<=Or)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=A8(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:AS(i),ZERO:Or,ONE:rr,create:c=>Ui(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Or<=c&&c<t},is0:c=>c===Or,isOdd:c=>(c&rr)===rr,neg:c=>Ui(-c,t),eql:(c,u)=>c===u,sqr:c=>Ui(c*c,t),add:(c,u)=>Ui(c+u,t),sub:(c,u)=>Ui(c-u,t),mul:(c,u)=>Ui(c*u,t),pow:(c,u)=>eV(a,c,u),div:(c,u)=>Ui(c*d_(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>d_(c,t),sqrt:r.sqrt||(c=>(o||(o=Xq(t)),o(a,c))),invertBatch:c=>tV(a,c),cmov:(c,u,h)=>h?u:c,toBytes:c=>n?tw(c,s):ah(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Op(c):Ml(c)}});return Object.freeze(a)}function T8(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function I8(t){const e=T8(t);return e+Math.ceil(e/2)}function nV(t,e,n=!1){const r=t.length,i=T8(e),s=I8(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Op(t):Ml(t),a=Ui(o,e-rr)+rr;return n?tw(a,i):ah(a,i)}const OT=BigInt(0),i0=BigInt(1);function Kv(t,e){const n=e.negate();return t?n:e}function R8(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Gv(t,e){R8(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function rV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function iV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Yv=new WeakMap,k8=new WeakMap;function Zv(t){return k8.get(t)||1}function sV(t,e){return{constTimeNegate:Kv,hasPrecomputes(n){return Zv(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>OT;)r&i0&&(i=i.add(s)),s=s.double(),r>>=i0;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Gv(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let h=1;h<s;h++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Gv(n,e);let a=t.ZERO,c=t.BASE;const u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let g=0;g<s;g++){const m=g*o;let _=Number(i&u);i>>=f,_>o&&(_-=h,i+=i0);const x=m,T=m+Math.abs(_)-1,S=g%2!==0,C=_<0;_===0?c=c.add(Kv(S,r[x])):a=a.add(Kv(C,r[T]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=Gv(n,e),c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let f=0;f<o;f++){const g=f*a;if(i===OT)break;let m=Number(i&c);if(i>>=h,m>a&&(m-=u,i+=i0),m===0)continue;let _=r[g+Math.abs(m)-1];m<0&&(_=_.negate()),s=s.add(_)}return s},getPrecomputes(n,r,i){let s=Yv.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Yv.set(r,i(s))),s},wNAFCached(n,r,i){const s=Zv(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Zv(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){R8(r,e),k8.set(n,r),Yv.delete(n)}}}function oV(t,e,n,r){if(rV(n,t),iV(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=_8(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((e.BITS-1)/o)*o;let h=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let m=0;m<r.length;m++){const _=r[m],x=Number(_>>BigInt(f)&BigInt(a));c[x]=c[x].add(n[m])}let g=i;for(let m=c.length-1,_=i;m>0;m--)_=_.add(c[m]),g=g.add(_);if(h=h.add(g),f!==0)for(let m=0;m<o;m++)h=h.double()}return h}function N8(t){return Jq(t.Fp),Lh(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...A8(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const zu=BigInt(0),Xv=BigInt(1);function aV(t){return Lh(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function cV(t){const e=aV(t),{P:n}=e,r=C=>Ui(C,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(C=>C),c=e.powPminus2||(C=>S8(C,n-BigInt(2),n));function u(C,I,P){const z=r(C*(I-P));return I=r(I-z),P=r(P+z),[I,P]}const h=(e.a-BigInt(2))/BigInt(4);function f(C,I){Pa("u",C,zu,n),Pa("scalar",I,zu,n);const P=I,z=C;let W=Xv,L=zu,V=C,q=Xv,X=zu,Y;for(let j=BigInt(i-1);j>=zu;j--){const w=P>>j&Xv;X^=w,Y=u(X,W,V),W=Y[0],V=Y[1],Y=u(X,L,q),L=Y[0],q=Y[1],X=w;const b=W+L,v=r(b*b),O=W-L,B=r(O*O),R=v-B,M=V+q,k=V-q,E=r(k*b),U=r(M*O),Q=E+U,te=E-U;V=r(Q*Q),q=r(z*r(te*te)),W=r(v*B),L=r(R*(v+r(h*R)))}Y=u(X,W,V),W=Y[0],V=Y[1],Y=u(X,L,q),L=Y[0],q=Y[1];const ee=c(L);return r(W*ee)}function g(C){return tw(r(C),s)}function m(C){const I=ts("u coordinate",C,s);return o===32&&(I[31]&=127),Op(I)}function _(C){const I=ts("scalar",C),P=I.length;if(P!==s&&P!==o){let z=""+s+" or "+o;throw new Error("invalid scalar, expected "+z+" bytes, got "+P)}return Op(a(I))}function x(C,I){const P=m(I),z=_(C),W=f(P,z);if(W===zu)throw new Error("invalid private or public key received");return g(W)}const T=g(e.Gu);function S(C){return x(C,T)}return{scalarMult:x,scalarMultBase:S,getSharedSecret:(C,I)=>x(C,I),getPublicKey:C=>S(C),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:T}}const h_=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const lV=BigInt(1),BT=BigInt(2),uV=BigInt(3),dV=BigInt(5);BigInt(8);function hV(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=h_,o=t*t%s*t%s,a=ro(o,BT,s)*o%s,c=ro(a,lV,s)*t%s,u=ro(c,dV,s)*c%s,h=ro(u,e,s)*u%s,f=ro(h,n,s)*h%s,g=ro(f,r,s)*f%s,m=ro(g,i,s)*g%s,_=ro(m,i,s)*g%s,x=ro(_,e,s)*u%s;return{pow_p_5_8:ro(x,BT,s)*t%s,b2:o}}function fV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const f_=cV({P:h_,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=h_,{pow_p_5_8:n,b2:r}=hV(t);return Ui(ro(n,uV,e)*r,e)},adjustScalarBytes:fV,randomBytes:Uh});function DT(t){t.lowS!==void 0&&ih("lowS",t.lowS),t.prehash!==void 0&&ih("prehash",t.prehash)}function pV(t){const e=N8(t);Lh(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:gV,hexToBytes:mV}=Gq;class yV extends Error{constructor(e=""){super(e)}}const ba={Err:yV,_tlv:{encode:(t,e)=>{const{Err:n}=ba;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=xd(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?xd(i.length/2|128):"";return xd(t)+s+i+e},decode(t,e){const{Err:n}=ba;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of u)o=o<<8|h;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ba;if(t<Ea)throw new e("integer: negative integers are not allowed");let n=xd(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ba;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return gV(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ba,i=typeof t=="string"?mV(t):t;sm(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:h}=r.decode(2,c);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=ba,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Ea=BigInt(0),Sr=BigInt(1);BigInt(2);const PT=BigInt(3);BigInt(4);function bV(t){const e=pV(t),{Fp:n}=e,r=C8(e.n,e.nBitLength),i=e.toBytes||((x,T,S)=>{const C=T.toAffine();return Bp(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),s=e.fromBytes||(x=>{const T=x.subarray(1),S=n.fromBytes(T.subarray(0,n.BYTES)),C=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:S,y:C}});function o(x){const{a:T,b:S}=e,C=n.sqr(x),I=n.mul(C,x);return n.add(n.add(I,n.mul(x,T)),S)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return nw(x,Sr,e.n)}function c(x){const{allowedPrivateKeyLengths:T,nByteLength:S,wrapPrivateKey:C,n:I}=e;if(T&&typeof x!="bigint"){if(Jl(x)&&(x=sh(x)),typeof x!="string"||!T.includes(x.length))throw new Error("invalid private key");x=x.padStart(S*2,"0")}let P;try{P=typeof x=="bigint"?x:Ml(ts("private key",x,S))}catch{throw new Error("invalid private key, expected hex or "+S+" bytes, got "+typeof x)}return C&&(P=Ui(P,I)),Pa("private key",P,Sr,I),P}function u(x){if(!(x instanceof g))throw new Error("ProjectivePoint expected")}const h=l_((x,T)=>{const{px:S,py:C,pz:I}=x;if(n.eql(I,n.ONE))return{x:S,y:C};const P=x.is0();T==null&&(T=P?n.ONE:n.inv(I));const z=n.mul(S,T),W=n.mul(C,T),L=n.mul(I,T);if(P)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:z,y:W}}),f=l_(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:T,y:S}=x.toAffine();if(!n.isValid(T)||!n.isValid(S))throw new Error("bad point: x or y not FE");const C=n.sqr(S),I=o(T);if(!n.eql(C,I))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(T,S,C){if(this.px=T,this.py=S,this.pz=C,T==null||!n.isValid(T))throw new Error("x required");if(S==null||!n.isValid(S))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(T){const{x:S,y:C}=T||{};if(!T||!n.isValid(S)||!n.isValid(C))throw new Error("invalid affine point");if(T instanceof g)throw new Error("projective point not allowed");const I=P=>n.eql(P,n.ZERO);return I(S)&&I(C)?g.ZERO:new g(S,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const S=n.invertBatch(T.map(C=>C.pz));return T.map((C,I)=>C.toAffine(S[I])).map(g.fromAffine)}static fromHex(T){const S=g.fromAffine(s(ts("pointHex",T)));return S.assertValidity(),S}static fromPrivateKey(T){return g.BASE.multiply(c(T))}static msm(T,S){return oV(g,r,T,S)}_setWindowSize(T){_.setWindowSize(this,T)}assertValidity(){f(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){u(T);const{px:S,py:C,pz:I}=this,{px:P,py:z,pz:W}=T,L=n.eql(n.mul(S,W),n.mul(P,I)),V=n.eql(n.mul(C,W),n.mul(z,I));return L&&V}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:S}=e,C=n.mul(S,PT),{px:I,py:P,pz:z}=this;let W=n.ZERO,L=n.ZERO,V=n.ZERO,q=n.mul(I,I),X=n.mul(P,P),Y=n.mul(z,z),ee=n.mul(I,P);return ee=n.add(ee,ee),V=n.mul(I,z),V=n.add(V,V),W=n.mul(T,V),L=n.mul(C,Y),L=n.add(W,L),W=n.sub(X,L),L=n.add(X,L),L=n.mul(W,L),W=n.mul(ee,W),V=n.mul(C,V),Y=n.mul(T,Y),ee=n.sub(q,Y),ee=n.mul(T,ee),ee=n.add(ee,V),V=n.add(q,q),q=n.add(V,q),q=n.add(q,Y),q=n.mul(q,ee),L=n.add(L,q),Y=n.mul(P,z),Y=n.add(Y,Y),q=n.mul(Y,ee),W=n.sub(W,q),V=n.mul(Y,X),V=n.add(V,V),V=n.add(V,V),new g(W,L,V)}add(T){u(T);const{px:S,py:C,pz:I}=this,{px:P,py:z,pz:W}=T;let L=n.ZERO,V=n.ZERO,q=n.ZERO;const X=e.a,Y=n.mul(e.b,PT);let ee=n.mul(S,P),j=n.mul(C,z),w=n.mul(I,W),b=n.add(S,C),v=n.add(P,z);b=n.mul(b,v),v=n.add(ee,j),b=n.sub(b,v),v=n.add(S,I);let O=n.add(P,W);return v=n.mul(v,O),O=n.add(ee,w),v=n.sub(v,O),O=n.add(C,I),L=n.add(z,W),O=n.mul(O,L),L=n.add(j,w),O=n.sub(O,L),q=n.mul(X,v),L=n.mul(Y,w),q=n.add(L,q),L=n.sub(j,q),q=n.add(j,q),V=n.mul(L,q),j=n.add(ee,ee),j=n.add(j,ee),w=n.mul(X,w),v=n.mul(Y,v),j=n.add(j,w),w=n.sub(ee,w),w=n.mul(X,w),v=n.add(v,w),ee=n.mul(j,v),V=n.add(V,ee),ee=n.mul(O,v),L=n.mul(b,L),L=n.sub(L,ee),ee=n.mul(b,j),q=n.mul(O,q),q=n.add(q,ee),new g(L,V,q)}subtract(T){return this.add(T.negate())}is0(){return this.equals(g.ZERO)}wNAF(T){return _.wNAFCached(this,T,g.normalizeZ)}multiplyUnsafe(T){const{endo:S,n:C}=e;Pa("scalar",T,Ea,C);const I=g.ZERO;if(T===Ea)return I;if(this.is0()||T===Sr)return this;if(!S||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,T,g.normalizeZ);let{k1neg:P,k1:z,k2neg:W,k2:L}=S.splitScalar(T),V=I,q=I,X=this;for(;z>Ea||L>Ea;)z&Sr&&(V=V.add(X)),L&Sr&&(q=q.add(X)),X=X.double(),z>>=Sr,L>>=Sr;return P&&(V=V.negate()),W&&(q=q.negate()),q=new g(n.mul(q.px,S.beta),q.py,q.pz),V.add(q)}multiply(T){const{endo:S,n:C}=e;Pa("scalar",T,Sr,C);let I,P;if(S){const{k1neg:z,k1:W,k2neg:L,k2:V}=S.splitScalar(T);let{p:q,f:X}=this.wNAF(W),{p:Y,f:ee}=this.wNAF(V);q=_.constTimeNegate(z,q),Y=_.constTimeNegate(L,Y),Y=new g(n.mul(Y.px,S.beta),Y.py,Y.pz),I=q.add(Y),P=X.add(ee)}else{const{p:z,f:W}=this.wNAF(T);I=z,P=W}return g.normalizeZ([I,P])[0]}multiplyAndAddUnsafe(T,S,C){const I=g.BASE,P=(W,L)=>L===Ea||L===Sr||!W.equals(I)?W.multiplyUnsafe(L):W.multiply(L),z=P(this,S).add(P(T,C));return z.is0()?void 0:z}toAffine(T){return h(this,T)}isTorsionFree(){const{h:T,isTorsionFree:S}=e;if(T===Sr)return!0;if(S)return S(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:S}=e;return T===Sr?this:S?S(g,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return ih("isCompressed",T),this.assertValidity(),i(g,this,T)}toHex(T=!0){return ih("isCompressed",T),sh(this.toRawBytes(T))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,_=sV(g,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function wV(t){const e=N8(t);return Lh(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function vV(t){const e=wV(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(w){return Ui(w,r)}function a(w){return d_(w,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:f}=bV({...e,toBytes(w,b,v){const O=b.toAffine(),B=n.toBytes(O.x),R=Bp;return ih("isCompressed",v),v?R(Uint8Array.from([b.hasEvenY()?2:3]),B):R(Uint8Array.from([4]),B,n.toBytes(O.y))},fromBytes(w){const b=w.length,v=w[0],O=w.subarray(1);if(b===i&&(v===2||v===3)){const B=Ml(O);if(!nw(B,Sr,n.ORDER))throw new Error("Point is not on curve");const R=h(B);let M;try{M=n.sqrt(R)}catch(E){const U=E instanceof Error?": "+E.message:"";throw new Error("Point is not on curve"+U)}const k=(M&Sr)===Sr;return(v&1)===1!==k&&(M=n.neg(M)),{x:B,y:M}}else if(b===s&&v===4){const B=n.fromBytes(O.subarray(0,n.BYTES)),R=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:B,y:R}}else{const B=i,R=s;throw new Error("invalid Point, expected length of "+B+", or uncompressed "+R+", got "+b)}}}),g=w=>sh(ah(w,e.nByteLength));function m(w){const b=r>>Sr;return w>b}function _(w){return m(w)?o(-w):w}const x=(w,b,v)=>Ml(w.slice(b,v));class T{constructor(b,v,O){this.r=b,this.s=v,this.recovery=O,this.assertValidity()}static fromCompact(b){const v=e.nByteLength;return b=ts("compactSignature",b,v*2),new T(x(b,0,v),x(b,v,2*v))}static fromDER(b){const{r:v,s:O}=ba.toSig(ts("DER",b));return new T(v,O)}assertValidity(){Pa("r",this.r,Sr,r),Pa("s",this.s,Sr,r)}addRecoveryBit(b){return new T(this.r,this.s,b)}recoverPublicKey(b){const{r:v,s:O,recovery:B}=this,R=W(ts("msgHash",b));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const M=B===2||B===3?v+e.n:v;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const k=B&1?"03":"02",E=c.fromHex(k+g(M)),U=a(M),Q=o(-R*U),te=o(O*U),se=c.BASE.multiplyAndAddUnsafe(E,Q,te);if(!se)throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return oh(this.toDERHex())}toDERHex(){return ba.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oh(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const S={isValidPrivateKey(w){try{return u(w),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const w=I8(e.n);return nV(e.randomBytes(w),e.n)},precompute(w=8,b=c.BASE){return b._setWindowSize(w),b.multiply(BigInt(3)),b}};function C(w,b=!0){return c.fromPrivateKey(w).toRawBytes(b)}function I(w){const b=Jl(w),v=typeof w=="string",O=(b||v)&&w.length;return b?O===i||O===s:v?O===2*i||O===2*s:w instanceof c}function P(w,b,v=!0){if(I(w))throw new Error("first arg must be private key");if(!I(b))throw new Error("second arg must be public key");return c.fromHex(b).multiply(u(w)).toRawBytes(v)}const z=e.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const b=Ml(w),v=w.length*8-e.nBitLength;return v>0?b>>BigInt(v):b},W=e.bits2int_modN||function(w){return o(z(w))},L=AS(e.nBitLength);function V(w){return Pa("num < 2^"+e.nBitLength,w,Ea,L),ah(w,e.nByteLength)}function q(w,b,v=X){if(["recovered","canonical"].some(le=>le in v))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:B}=e;let{lowS:R,prehash:M,extraEntropy:k}=v;R==null&&(R=!0),w=ts("msgHash",w),DT(v),M&&(w=ts("prehashed msgHash",O(w)));const E=W(w),U=u(b),Q=[V(U),V(E)];if(k!=null&&k!==!1){const le=k===!0?B(n.BYTES):k;Q.push(ts("extraEntropy",le))}const te=Bp(...Q),se=E;function fe(le){const ge=z(le);if(!f(ge))return;const et=a(ge),qe=c.BASE.multiply(ge).toAffine(),ke=o(qe.x);if(ke===Ea)return;const je=o(et*o(se+ke*U));if(je===Ea)return;let De=(qe.x===ke?0:2)|Number(qe.y&Sr),it=je;return R&&m(je)&&(it=_(je),De^=1),new T(ke,it,De)}return{seed:te,k2sig:fe}}const X={lowS:e.lowS,prehash:!1},Y={lowS:e.lowS,prehash:!1};function ee(w,b,v=X){const{seed:O,k2sig:B}=q(w,b,v),R=e;return x8(R.hash.outputLen,R.nByteLength,R.hmac)(O,B)}c.BASE._setWindowSize(8);function j(w,b,v,O=Y){const B=w;b=ts("msgHash",b),v=ts("publicKey",v);const{lowS:R,prehash:M,format:k}=O;if(DT(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(k!==void 0&&k!=="compact"&&k!=="der")throw new Error("format must be compact or der");const E=typeof B=="string"||Jl(B),U=!E&&!k&&typeof B=="object"&&B!==null&&typeof B.r=="bigint"&&typeof B.s=="bigint";if(!E&&!U)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Q,te;try{if(U&&(Q=new T(B.r,B.s)),E){try{k!=="compact"&&(Q=T.fromDER(B))}catch(je){if(!(je instanceof ba.Err))throw je}!Q&&k!=="der"&&(Q=T.fromCompact(B))}te=c.fromHex(v)}catch{return!1}if(!Q||R&&Q.hasHighS())return!1;M&&(b=e.hash(b));const{r:se,s:fe}=Q,le=W(b),ge=a(fe),et=o(le*ge),qe=o(se*ge),ke=c.BASE.multiplyAndAddUnsafe(te,et,qe)?.toAffine();return ke?o(ke.x)===se:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:P,sign:ee,verify:j,ProjectivePoint:c,Signature:T,utils:S}}function EV(t){return{hash:t,hmac:(e,...n)=>Qb(t,e,AH(...n)),randomBytes:Uh}}function _V(t,e){const n=r=>vV({...t,...EV(r)});return{...n(e),create:n}}const O8=C8(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),xV=O8.create(BigInt("-3")),SV=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),AV=_V({a:xV,b:SV,Fp:O8,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},im),B8="base10",xi="base16",fo="base64pad",gc="base64url",om="utf8",D8=0,$a=1,am=2,CV=0,$T=1,Gf=12,CS=32;function TV(){const t=f_.utils.randomPrivateKey(),e=f_.getPublicKey(t);return{privateKey:Hi(t,xi),publicKey:Hi(e,xi)}}function p_(){const t=Uh(CS);return Hi(t,xi)}function IV(t,e){const n=f_.getSharedSecret(Fs(t,xi),Fs(e,xi)),r=Oq(im,n,void 0,void 0,CS);return Hi(r,xi)}function ey(t){const e=im(Fs(t,xi));return Hi(e,xi)}function Do(t){const e=im(Fs(t,om));return Hi(e,xi)}function P8(t){return Fs(`${t}`,B8)}function eu(t){return Number(Hi(t,B8))}function $8(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function M8(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function RV(t){const e=P8(typeof t.type<"u"?t.type:D8);if(eu(e)===$a&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Fs(t.senderPublicKey,xi):void 0,r=typeof t.iv<"u"?Fs(t.iv,xi):Uh(Gf),i=Fs(t.symKey,xi),s=v8(i,r).encrypt(Fs(t.message,om)),o=U8({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===gc?$8(o):o}function kV(t){const e=Fs(t.symKey,xi),{sealed:n,iv:r}=Dp({encoded:t.encoded,encoding:t.encoding}),i=v8(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Hi(i,om)}function NV(t,e){const n=P8(am),r=Uh(Gf),i=Fs(t,om),s=U8({type:n,sealed:i,iv:r});return e===gc?$8(s):s}function OV(t,e){const{sealed:n}=Dp({encoded:t,encoding:e});return Hi(n,om)}function U8(t){if(eu(t.type)===am)return Hi(Kf([t.type,t.sealed]),fo);if(eu(t.type)===$a){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Hi(Kf([t.type,t.senderPublicKey,t.iv,t.sealed]),fo)}return Hi(Kf([t.type,t.iv,t.sealed]),fo)}function Dp(t){const e=(t.encoding||fo)===gc?M8(t.encoded):t.encoded,n=Fs(e,fo),r=n.slice(CV,$T),i=$T;if(eu(r)===$a){const c=i+CS,u=c+Gf,h=n.slice(i,c),f=n.slice(c,u),g=n.slice(u);return{type:r,sealed:g,iv:f,senderPublicKey:h}}if(eu(r)===am){const c=n.slice(i),u=Uh(Gf);return{type:r,sealed:c,iv:u}}const s=i+Gf,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function BV(t,e){const n=Dp({encoded:t,encoding:e?.encoding});return L8({type:eu(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Hi(n.senderPublicKey,xi):void 0,receiverPublicKey:e?.receiverPublicKey})}function L8(t){const e=t?.type||D8;if(e===$a){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function MT(t){return t.type===$a&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function UT(t){return t.type===am}function DV(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Kf([new Uint8Array([4]),e,n])}function PV(t,e){const[n,r,i]=t.split("."),s=Buffer.from(M8(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,u=im(c),h=DV(e);if(!AV.verify(Kf([o,a]),u,h))throw new Error("Invalid signature");return JE(t).payload}const $V="irn";function ky(t){return t?.relay||{protocol:$V}}function Df(t){const e=Fj[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function MV(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function LT(t){if(!t.includes("wc:")){const u=a8(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((u,h)=>{a[h]=u});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:UV(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:MV(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function UV(t){return t.startsWith("//")?t.substring(2):t}function LV(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function zT(t){const e=new URLSearchParams,n=LV(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function s0(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function zh(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function zV(t){const e=[];return Object.values(t).forEach(n=>{e.push(...zh(n.accounts))}),e}function FV(t,e){const n=[];return Object.values(t).forEach(r=>{zh(r.accounts).includes(e)&&n.push(...r.methods)}),n}function jV(t,e){const n=[];return Object.values(t).forEach(r=>{zh(r.accounts).includes(e)&&n.push(...r.events)}),n}function TS(t){return t.includes(":")}function Pf(t){return TS(t)?t.split(":")[0]:t}function HV(t){const e={};return t?.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function FT(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=HV(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=Q0(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const qV={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},VV={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Se(t,e){const{message:n,code:r}=VV[t];return{message:e?`${n} ${e}`:n,code:r}}function Gt(t,e){const{message:n,code:r}=qV[t];return{message:e?`${n} ${e}`:n,code:r}}function Rc(t,e){return!!Array.isArray(t)}function Pp(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Wr(t){return typeof t>"u"}function lr(t,e){return e&&Wr(t)?!0:typeof t=="string"&&!!t.trim().length}function IS(t,e){return e&&Wr(t)?!0:typeof t=="number"&&!isNaN(t)}function WV(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Tl(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:u}=t.namespaces[o],h=zh(a),f=n[o];(!Tl(n8(o,f),h)||!Tl(f.methods,c)||!Tl(f.events,u))&&(s=!1)}),s):!1}function Ny(t){return lr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function KV(t){if(lr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Ny(n)}}return!1}function GV(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(lr(t,!1)){if(e(t))return!0;const n=a8(t);return e(n)}}catch{}return!1}function YV(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function ZV(t){return t?.topic}function XV(t,e){let n=null;return lr(t?.publicKey,!1)||(n=Se("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function jT(t){let e=!0;return Rc(t)?t.length&&(e=t.every(n=>lr(n,!1))):e=!1,e}function QV(t,e,n){let r=null;return Rc(e)&&e.length?e.forEach(i=>{r||Ny(i)||(r=Gt("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Ny(t)||(r=Gt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function JV(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=QV(i,n8(i,s),`${e} ${n}`);o&&(r=o)}),r}function eW(t,e){let n=null;return Rc(t)?t.forEach(r=>{n||KV(r)||(n=Gt("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Gt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function tW(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=eW(r?.accounts,`${e} namespace`);i&&(n=i)}),n}function nW(t,e){let n=null;return jT(t?.methods)?jT(t?.events)||(n=Gt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Gt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function z8(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=nW(r,`${e}, namespace`);i&&(n=i)}),n}function rW(t,e,n){let r=null;if(t&&Pp(t)){const i=z8(t,e);i&&(r=i);const s=JV(t,e,n);s&&(r=s)}else r=Se("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Qv(t,e){let n=null;if(t&&Pp(t)){const r=z8(t,e);r&&(n=r);const i=tW(t,e);i&&(n=i)}else n=Se("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function F8(t){return lr(t.protocol,!0)}function iW(t,e){let n=!1;return t?t&&Rc(t)&&t.length&&t.forEach(r=>{n=F8(r)}):n=!0,n}function sW(t){return typeof t=="number"}function Pi(t){return typeof t<"u"&&typeof t!==null}function oW(t){return!(!t||typeof t!="object"||!t.code||!IS(t.code,!1)||!t.message||!lr(t.message,!1))}function aW(t){return!(Wr(t)||!lr(t.method,!1))}function cW(t){return!(Wr(t)||Wr(t.result)&&Wr(t.error)||!IS(t.id,!1)||!lr(t.jsonrpc,!1))}function lW(t){return!(Wr(t)||!lr(t.name,!1))}function HT(t,e){return!(!Ny(e)||!zV(t).includes(e))}function uW(t,e,n){return lr(n,!1)?FV(t,e).includes(n):!1}function dW(t,e,n){return lr(n,!1)?jV(t,e).includes(n):!1}function qT(t,e,n){let r=null;const i=hW(t),s=fW(e),o=Object.keys(i),a=Object.keys(s),c=VT(Object.keys(t)),u=VT(Object.keys(e)),h=c.filter(f=>!u.includes(f));return h.length&&(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),Tl(o,a)||(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||r)return;const g=zh(e[f].accounts);g.includes(f)||(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${g.toString()}`))}),o.forEach(f=>{r||(Tl(i[f].methods,s[f].methods)?Tl(i[f].events,s[f].events)||(r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${f}`)):r=Se("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${f}`))}),r}function hW(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function VT(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function fW(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:zh(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function pW(t,e){return IS(t,!1)&&t<=e.max&&t>=e.min}function WT(){const t=nm();return new Promise(e=>{switch(t){case ds.browser:e(gW());break;case ds.reactNative:e(mW());break;case ds.node:e(yW());break;default:e(!0)}})}function gW(){return tm()&&navigator?.onLine}async function mW(){return rl()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function yW(){return!0}function bW(t){switch(nm()){case ds.browser:wW(t);break;case ds.reactNative:vW(t);break}}function wW(t){!rl()&&tm()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function vW(t){rl()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}const Jv={};class df{static get(e){return Jv[e]}static set(e,n){Jv[e]=n}static delete(e){delete Jv[e]}}const EW="PARSE_ERROR",_W="INVALID_REQUEST",xW="METHOD_NOT_FOUND",SW="INVALID_PARAMS",j8="INTERNAL_ERROR",RS="SERVER_ERROR",AW=[-32700,-32600,-32601,-32602,-32603],Yf={[EW]:{code:-32700,message:"Parse error"},[_W]:{code:-32600,message:"Invalid Request"},[xW]:{code:-32601,message:"Method not found"},[SW]:{code:-32602,message:"Invalid params"},[j8]:{code:-32603,message:"Internal error"},[RS]:{code:-32e3,message:"Server error"}},H8=RS;function CW(t){return AW.includes(t)}function KT(t){return Object.keys(Yf).includes(t)?Yf[t]:Yf[H8]}function TW(t){const e=Object.values(Yf).find(n=>n.code===t);return e||Yf[H8]}function q8(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var V8={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var g_=function(t,e){return g_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},g_(t,e)};function IW(t,e){g_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var m_=function(){return m_=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},m_.apply(this,arguments)};function RW(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kW(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function NW(t,e){return function(n,r){e(n,r,t)}}function OW(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function BW(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(f){o(f)}}function c(h){try{u(r.throw(h))}catch(f){o(f)}}function u(h){h.done?s(h.value):i(h.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function DW(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function PW(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function $W(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function y_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W8(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function MW(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(W8(arguments[e]));return t}function UW(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function $p(t){return this instanceof $p?(this.v=t,this):new $p(t)}function LW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(m){return new Promise(function(_,x){s.push([g,m,_,x])>1||a(g,m)})})}function a(g,m){try{c(r[g](m))}catch(_){f(s[0][3],_)}}function c(g){g.value instanceof $p?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){a("next",g)}function h(g){a("throw",g)}function f(g,m){g(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function zW(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:$p(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function FW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof y_=="function"?y_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function jW(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function HW(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function qW(t){return t&&t.__esModule?t:{default:t}}function VW(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function WW(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const KW=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return m_},__asyncDelegator:zW,__asyncGenerator:LW,__asyncValues:FW,__await:$p,__awaiter:BW,__classPrivateFieldGet:VW,__classPrivateFieldSet:WW,__createBinding:PW,__decorate:kW,__exportStar:$W,__extends:IW,__generator:DW,__importDefault:qW,__importStar:HW,__makeTemplateObject:jW,__metadata:OW,__param:NW,__read:W8,__rest:RW,__spread:MW,__spreadArrays:UW,__values:y_},Symbol.toStringTag,{value:"Module"})),GW=Wg(KW);var ca={},GT;function YW(){if(GT)return ca;GT=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.isBrowserCryptoAvailable=ca.getSubtleCrypto=ca.getBrowerCrypto=void 0;function t(){return tr?.crypto||tr?.msCrypto||{}}ca.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}ca.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return ca.isBrowserCryptoAvailable=n,ca}var la={},YT;function ZW(){if(YT)return la;YT=1,Object.defineProperty(la,"__esModule",{value:!0}),la.isBrowser=la.isNode=la.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}la.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}la.isNode=e;function n(){return!t()&&!e()}return la.isBrowser=n,la}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=GW;e.__exportStar(YW(),t),e.__exportStar(ZW(),t)})(V8);function Oo(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Il(t=6){return BigInt(Oo(t))}function xc(t,e,n){return{id:n||Oo(),jsonrpc:"2.0",method:t,params:e}}function rw(t,e){return{id:t,jsonrpc:"2.0",result:e}}function iw(t,e,n){return{id:t,jsonrpc:"2.0",error:XW(e)}}function XW(t,e){return typeof t>"u"?KT(j8):(typeof t=="string"&&(t=Object.assign(Object.assign({},KT(RS)),{message:t})),CW(t.code)&&(t=TW(t.code)),t)}let QW=class{},JW=class extends QW{constructor(){super()}},eK=class extends JW{constructor(e){super()}};const tK="^https?:",nK="^wss?:";function rK(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function K8(t,e){const n=rK(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function ZT(t){return K8(t,tK)}function XT(t){return K8(t,nK)}function iK(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function G8(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function kS(t){return G8(t)&&"method"in t}function sw(t){return G8(t)&&(Bo(t)||Bs(t))}function Bo(t){return"result"in t}function Bs(t){return"error"in t}let Zs=class extends eK{constructor(e){super(e),this.events=new Ys.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(xc(e.method,e.params||[],e.id||Il().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Bs(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),sw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const sK=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),oK=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",QT=t=>t.split("?")[0],JT=10,aK=sK();let cK=class{constructor(e){if(this.url=e,this.events=new Ys.EventEmitter,this.registering=!1,!XT(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(za(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!XT(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=V8.isReactNative()?void 0:{rejectUnauthorized:!iK(e)},s=new aK(e,[],i);oK()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=iw(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return q8(e,QT(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>JT&&this.events.setMaxListeners(JT)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${QT(this.url)}`));return this.events.emit("register_error",n),n}};var lK={};const Y8="wc",Z8=2,b_="core",Wo=`${Y8}@2:${b_}:`,uK={logger:"error"},dK={database:":memory:"},hK="crypto",eI="client_ed25519_seed",fK=xe.ONE_DAY,pK="keychain",gK="0.3",mK="messages",yK="0.3",tI=xe.SIX_HOURS,bK="publisher",X8="irn",wK="error",Q8="wss://relay.walletconnect.org",vK="relayer",Tr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},EK="_subscription",_s={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},_K=.1,w_="2.20.2",fn={link_mode:"link_mode",relay:"relay"},ty={inbound:"inbound",outbound:"outbound"},xK="0.3",SK="WALLETCONNECT_CLIENT_ID",nI="WALLETCONNECT_LINK_MODE_APPS",Ji={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},AK="subscription",CK="0.3",TK="pairing",IK="0.3",hf={wc_pairingDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:xe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:0},res:{ttl:xe.ONE_DAY,prompt:!1,tag:0}}},El={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},eo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},RK="history",kK="0.3",NK="expirer",ks={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},OK="0.3",BK="verify-api",DK="https://verify.walletconnect.com",J8="https://verify.walletconnect.org",Zf=J8,PK=`${Zf}/v3`,$K=[DK,J8],MK="echo",UK="https://echo.walletconnect.com",No={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ya={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},to={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ll={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},ul={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},ff={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},LK=.1,zK="event-client",FK=86400,jK="https://pulse.walletconnect.org/batch";function HK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var x=0,T=0,S=0,C=_.length;S!==C&&_[S]===0;)S++,x++;for(var I=(C-S)*h+1>>>0,P=new Uint8Array(I);S!==C;){for(var z=_[S],W=0,L=I-1;(z!==0||W<T)&&L!==-1;L--,W++)z+=256*P[L]>>>0,P[L]=z%a>>>0,z=z/a>>>0;if(z!==0)throw new Error("Non-zero carry");T=W,S++}for(var V=I-T;V!==I&&P[V]===0;)V++;for(var q=c.repeat(x);V<I;++V)q+=t.charAt(P[V]);return q}function g(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var x=0;if(_[x]!==" "){for(var T=0,S=0;_[x]===c;)T++,x++;for(var C=(_.length-x)*u+1>>>0,I=new Uint8Array(C);_[x];){var P=n[_.charCodeAt(x)];if(P===255)return;for(var z=0,W=C-1;(P!==0||z<S)&&W!==-1;W--,z++)P+=a*I[W]>>>0,I[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=z,x++}if(_[x]!==" "){for(var L=C-S;L!==C&&I[L]===0;)L++;for(var V=new Uint8Array(T+(C-L)),q=T;L!==C;)V[q++]=I[L++];return V}}}function m(_){var x=g(_);if(x)return x;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:m}}var qK=HK,VK=qK;const eB=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},WK=t=>new TextEncoder().encode(t),KK=t=>new TextDecoder().decode(t);class GK{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class YK{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return tB(this,e)}}class ZK{constructor(e){this.decoders=e}or(e){return tB(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const tB=(t,e)=>new ZK({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class XK{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new GK(e,n,r),this.decoder=new YK(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ow=({name:t,prefix:e,encode:n,decode:r})=>new XK(t,e,n,r),cm=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=VK(n,e);return ow({prefix:t,name:e,encode:r,decode:s=>eB(i(s))})},QK=(t,e,n,r)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},JK=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},ti=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>ow({prefix:e,name:t,encode(i){return JK(i,r,n)},decode(i){return QK(i,r,n,t)}}),eG=ow({prefix:"\0",name:"identity",encode:t=>KK(t),decode:t=>WK(t)});var tG=Object.freeze({__proto__:null,identity:eG});const nG=ti({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var rG=Object.freeze({__proto__:null,base2:nG});const iG=ti({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var sG=Object.freeze({__proto__:null,base8:iG});const oG=cm({prefix:"9",name:"base10",alphabet:"0123456789"});var aG=Object.freeze({__proto__:null,base10:oG});const cG=ti({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),lG=ti({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var uG=Object.freeze({__proto__:null,base16:cG,base16upper:lG});const dG=ti({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),hG=ti({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fG=ti({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pG=ti({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gG=ti({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mG=ti({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yG=ti({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bG=ti({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wG=ti({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var vG=Object.freeze({__proto__:null,base32:dG,base32upper:hG,base32pad:fG,base32padupper:pG,base32hex:gG,base32hexupper:mG,base32hexpad:yG,base32hexpadupper:bG,base32z:wG});const EG=cm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_G=cm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var xG=Object.freeze({__proto__:null,base36:EG,base36upper:_G});const SG=cm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),AG=cm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var CG=Object.freeze({__proto__:null,base58btc:SG,base58flickr:AG});const TG=ti({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),IG=ti({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),RG=ti({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kG=ti({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var NG=Object.freeze({__proto__:null,base64:TG,base64pad:IG,base64url:RG,base64urlpad:kG});const nB=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),OG=nB.reduce((t,e,n)=>(t[n]=e,t),[]),BG=nB.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function DG(t){return t.reduce((e,n)=>(e+=OG[n],e),"")}function PG(t){const e=[];for(const n of t){const r=BG[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const $G=ow({prefix:"🚀",name:"base256emoji",encode:DG,decode:PG});var MG=Object.freeze({__proto__:null,base256emoji:$G}),UG=rB,rI=128,LG=-128,zG=Math.pow(2,31);function rB(t,e,n){e=e||[],n=n||0;for(var r=n;t>=zG;)e[n++]=t&255|rI,t/=128;for(;t&LG;)e[n++]=t&255|rI,t>>>=7;return e[n]=t|0,rB.bytes=n-r+1,e}var FG=v_,jG=128,iI=127;function v_(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw v_.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&iI)<<i:(o&iI)*Math.pow(2,i),i+=7}while(o>=jG);return v_.bytes=s-r,n}var HG=Math.pow(2,7),qG=Math.pow(2,14),VG=Math.pow(2,21),WG=Math.pow(2,28),KG=Math.pow(2,35),GG=Math.pow(2,42),YG=Math.pow(2,49),ZG=Math.pow(2,56),XG=Math.pow(2,63),QG=function(t){return t<HG?1:t<qG?2:t<VG?3:t<WG?4:t<KG?5:t<GG?6:t<YG?7:t<ZG?8:t<XG?9:10},JG={encode:UG,decode:FG,encodingLength:QG},iB=JG;const sI=(t,e,n=0)=>(iB.encode(t,e,n),e),oI=t=>iB.encodingLength(t),E_=(t,e)=>{const n=e.byteLength,r=oI(t),i=r+oI(n),s=new Uint8Array(i+n);return sI(t,s,0),sI(n,s,r),s.set(e,i),new eY(t,n,e,s)};let eY=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const sB=({name:t,code:e,encode:n})=>new tY(t,e,n);class tY{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?E_(this.code,n):n.then(r=>E_(this.code,r))}else throw Error("Unknown type, must be binary type")}}const oB=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),nY=sB({name:"sha2-256",code:18,encode:oB("SHA-256")}),rY=sB({name:"sha2-512",code:19,encode:oB("SHA-512")});var iY=Object.freeze({__proto__:null,sha256:nY,sha512:rY});const aB=0,sY="identity",cB=eB,oY=t=>E_(aB,cB(t)),aY={code:aB,name:sY,encode:cB,digest:oY};var cY=Object.freeze({__proto__:null,identity:aY});new TextEncoder,new TextDecoder;const aI={...tG,...rG,...sG,...aG,...uG,...vG,...xG,...CG,...NG,...MG};({...iY,...cY});function lY(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function lB(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const cI=lB("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),e1=lB("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=lY(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),uY={utf8:cI,"utf-8":cI,hex:aI.base16,latin1:e1,ascii:e1,binary:e1,...aI};function dY(t,e="utf8"){const n=uY[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var hY=Object.defineProperty,fY=(t,e,n)=>e in t?hY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,To=(t,e,n)=>fY(t,typeof e!="symbol"?e+"":e,n);class pY{constructor(e,n){this.core=e,this.logger=n,To(this,"keychain",new Map),To(this,"name",pK),To(this,"version",gK),To(this,"initialized",!1),To(this,"storagePrefix",Wo),To(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),To(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),To(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),To(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Se("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),To(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=mi(n,this.name)}get context(){return Ki(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,r_(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?i_(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gY=Object.defineProperty,mY=(t,e,n)=>e in t?gY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ur=(t,e,n)=>mY(t,typeof e!="symbol"?e+"":e,n);class yY{constructor(e,n,r){this.core=e,this.logger=n,Ur(this,"name",hK),Ur(this,"keychain"),Ur(this,"randomSessionIdentifier",p_()),Ur(this,"initialized",!1),Ur(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ur(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Ur(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=F2(i);return $3(s.publicKey)}),Ur(this,"generateKeyPair",()=>{this.isInitialized();const i=TV();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ur(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=F2(s),a=this.randomSessionIdentifier;return await Iz(a,i,fK,o)}),Ur(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=IV(a,s);return this.setSymKey(c,o)}),Ur(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||ey(i);return await this.keychain.set(o,i),o}),Ur(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ur(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ur(this,"encode",async(i,s,o)=>{this.isInitialized();const a=L8(o),c=za(s);if(UT(a))return NV(c,o?.encoding);if(MT(a)){const g=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(g,m)}const u=this.getSymKey(i),{type:h,senderPublicKey:f}=a;return RV({type:h,symKey:u,message:c,senderPublicKey:f,encoding:o?.encoding})}),Ur(this,"decode",async(i,s,o)=>{this.isInitialized();const a=BV(s,o);if(UT(a)){const c=OV(s,o?.encoding);return Xl(c)}if(MT(a)){const c=a.receiverPublicKey,u=a.senderPublicKey;i=await this.generateSharedKey(c,u)}try{const c=this.getSymKey(i),u=kV({symKey:c,encoded:s,encoding:o?.encoding});return Xl(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Ur(this,"getPayloadType",(i,s=fo)=>{const o=Dp({encoded:i,encoding:s});return eu(o.type)}),Ur(this,"getPayloadSenderPublicKey",(i,s=fo)=>{const o=Dp({encoded:i,encoding:s});return o.senderPublicKey?Hi(o.senderPublicKey,xi):void 0}),this.core=e,this.logger=mi(n,this.name),this.keychain=r||new pY(this.core,this.logger)}get context(){return Ki(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(eI)}catch{e=p_(),await this.keychain.set(eI,e)}return dY(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var bY=Object.defineProperty,wY=Object.defineProperties,vY=Object.getOwnPropertyDescriptors,lI=Object.getOwnPropertySymbols,EY=Object.prototype.hasOwnProperty,_Y=Object.prototype.propertyIsEnumerable,__=(t,e,n)=>e in t?bY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xY=(t,e)=>{for(var n in e||(e={}))EY.call(e,n)&&__(t,n,e[n]);if(lI)for(var n of lI(e))_Y.call(e,n)&&__(t,n,e[n]);return t},SY=(t,e)=>wY(t,vY(e)),Qi=(t,e,n)=>__(t,typeof e!="symbol"?e+"":e,n);class AY extends CL{constructor(e,n){super(e,n),this.logger=e,this.core=n,Qi(this,"messages",new Map),Qi(this,"messagesWithoutClientAck",new Map),Qi(this,"name",mK),Qi(this,"version",yK),Qi(this,"initialized",!1),Qi(this,"storagePrefix",Wo),Qi(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Qi(this,"set",async(r,i,s)=>{this.isInitialized();const o=Do(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===ty.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,SY(xY({},c),{[o]:i}))}return await this.persist(),o}),Qi(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Qi(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Qi(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Do(i);return typeof s[o]<"u"}),Qi(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Do(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),Qi(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=mi(e,this.name),this.core=n}get context(){return Ki(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,r_(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,r_(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?i_(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?i_(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var CY=Object.defineProperty,TY=Object.defineProperties,IY=Object.getOwnPropertyDescriptors,uI=Object.getOwnPropertySymbols,RY=Object.prototype.hasOwnProperty,kY=Object.prototype.propertyIsEnumerable,x_=(t,e,n)=>e in t?CY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o0=(t,e)=>{for(var n in e||(e={}))RY.call(e,n)&&x_(t,n,e[n]);if(uI)for(var n of uI(e))kY.call(e,n)&&x_(t,n,e[n]);return t},t1=(t,e)=>TY(t,IY(e)),no=(t,e,n)=>x_(t,typeof e!="symbol"?e+"":e,n);class NY extends TL{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,no(this,"events",new Ys.EventEmitter),no(this,"name",bK),no(this,"queue",new Map),no(this,"publishTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),no(this,"initialPublishTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),no(this,"needsTransportRestart",!1),no(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=s?.ttl||tI,c=ky(s),u=s?.prompt||!1,h=s?.tag||0,f=s?.id||Il().toString(),g={topic:r,message:i,opts:{ttl:a,relay:c,prompt:u,tag:h,id:f,attestation:s?.attestation,tvf:s?.tvf}},m=`Failed to publish payload, please try again. id:${f} tag:${h}`;try{const _=new Promise(async x=>{const T=({id:C})=>{g.opts.id===C&&(this.removeRequestFromQueue(C),this.relayer.events.removeListener(Tr.publish,T),x(g))};this.relayer.events.on(Tr.publish,T);const S=_c(new Promise((C,I)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:u,tag:h,id:f,attestation:s?.attestation,tvf:s?.tvf}).then(C).catch(P=>{this.logger.warn(P,P?.message),I(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${f} tag:${h}`);try{await S,this.events.removeListener(Tr.publish,T)}catch(C){this.queue.set(f,t1(o0({},g),{attempt:1})),this.logger.warn(C,C?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,topic:r,message:i,opts:s}}),await _c(_,this.publishTimeout,m)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw _}finally{this.queue.delete(f)}}),no(this,"on",(r,i)=>{this.events.on(r,i)}),no(this,"once",(r,i)=>{this.events.once(r,i)}),no(this,"off",(r,i)=>{this.events.off(r,i)}),no(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=mi(n,this.name),this.registerEventListeners()}get context(){return Ki(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=tI,prompt:u,tag:h,id:f,attestation:g,tvf:m}=e,_={method:Df(ky().protocol).publish,params:o0({topic:o,message:a,ttl:c,prompt:u,tag:h,attestation:g},m),id:f};Wr((n=_.params)==null?void 0:n.prompt)&&((r=_.params)==null||delete r.prompt),Wr((i=_.params)==null?void 0:i.tag)&&((s=_.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:_});const x=await this.relayer.request(_);return this.relayer.events.emit(Tr.publish,e),this.logger.debug("Successfully Published Payload"),x}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,t1(o0({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(t1(o0({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Oh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Tr.connection_stalled);return}this.checkQueue()}),this.relayer.on(Tr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var OY=Object.defineProperty,BY=(t,e,n)=>e in t?OY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fu=(t,e,n)=>BY(t,typeof e!="symbol"?e+"":e,n);class DY{constructor(){Fu(this,"map",new Map),Fu(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Fu(this,"get",e=>this.map.get(e)||[]),Fu(this,"exists",(e,n)=>this.get(e).includes(n)),Fu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Fu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var PY=Object.defineProperty,$Y=Object.defineProperties,MY=Object.getOwnPropertyDescriptors,dI=Object.getOwnPropertySymbols,UY=Object.prototype.hasOwnProperty,LY=Object.prototype.propertyIsEnumerable,S_=(t,e,n)=>e in t?PY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pf=(t,e)=>{for(var n in e||(e={}))UY.call(e,n)&&S_(t,n,e[n]);if(dI)for(var n of dI(e))LY.call(e,n)&&S_(t,n,e[n]);return t},n1=(t,e)=>$Y(t,MY(e)),Jt=(t,e,n)=>S_(t,typeof e!="symbol"?e+"":e,n);class zY extends kL{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Jt(this,"subscriptions",new Map),Jt(this,"topicMap",new DY),Jt(this,"events",new Ys.EventEmitter),Jt(this,"name",AK),Jt(this,"version",CK),Jt(this,"pending",new Map),Jt(this,"cached",[]),Jt(this,"initialized",!1),Jt(this,"storagePrefix",Wo),Jt(this,"subscribeTimeout",xe.toMiliseconds(xe.ONE_MINUTE)),Jt(this,"initialSubscribeTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),Jt(this,"clientId"),Jt(this,"batchSubscribeTopicsLimit",500),Jt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Jt(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=ky(i),o={topic:r,relay:s,transportType:i?.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Jt(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Jt(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Jt(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Jt(this,"on",(r,i)=>{this.events.on(r,i)}),Jt(this,"once",(r,i)=>{this.events.once(r,i)}),Jt(this,"off",(r,i)=>{this.events.off(r,i)}),Jt(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Jt(this,"start",async()=>{await this.onConnect()}),Jt(this,"stop",async()=>{await this.onDisconnect()}),Jt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Jt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Jt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Oh.pulse,async()=>{await this.checkPending()}),this.events.on(Ji.created,async r=>{const i=Ji.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Ji.deleted,async r=>{const i=Ji.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=mi(n,this.name),this.clientId=""}get context(){return Ki(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=ky(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Gt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||r?.transportType===fn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:Df(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r?.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(r?.transportType===fn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(h=>this.logger.warn(h))},xe.toMiliseconds(xe.ONE_SECOND)),a;const c=new Promise(async h=>{const f=g=>{g.topic===e&&(this.events.removeListener(Ji.created,f),h(g.id))};this.events.on(Ji.created,f);try{const g=await _c(new Promise((m,_)=>{this.relayer.request(s).catch(x=>{this.logger.warn(x,x?.message),_(x)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ji.created,f),h(g)}catch{}}),u=await _c(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Tr.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Df(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await _c(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Tr.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Df(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await _c(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Tr.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Df(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,n1(pf({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,pf({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,pf({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ji.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ji.deleted,n1(pf({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ji.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ji.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>n1(pf({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await pH(xe.toMiliseconds(xe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Do(e+await this.getClientId())}}var FY=Object.defineProperty,hI=Object.getOwnPropertySymbols,jY=Object.prototype.hasOwnProperty,HY=Object.prototype.propertyIsEnumerable,A_=(t,e,n)=>e in t?FY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fI=(t,e)=>{for(var n in e||(e={}))jY.call(e,n)&&A_(t,n,e[n]);if(hI)for(var n of hI(e))HY.call(e,n)&&A_(t,n,e[n]);return t},Bt=(t,e,n)=>A_(t,typeof e!="symbol"?e+"":e,n);class qY extends IL{constructor(e){super(e),Bt(this,"protocol","wc"),Bt(this,"version",2),Bt(this,"core"),Bt(this,"logger"),Bt(this,"events",new Ys.EventEmitter),Bt(this,"provider"),Bt(this,"messages"),Bt(this,"subscriber"),Bt(this,"publisher"),Bt(this,"name",vK),Bt(this,"transportExplicitlyClosed",!1),Bt(this,"initialized",!1),Bt(this,"connectionAttemptInProgress",!1),Bt(this,"relayUrl"),Bt(this,"projectId"),Bt(this,"packageName"),Bt(this,"bundleId"),Bt(this,"hasExperiencedNetworkDisruption",!1),Bt(this,"pingTimeout"),Bt(this,"heartBeatTimeout",xe.toMiliseconds(xe.THIRTY_SECONDS+xe.FIVE_SECONDS)),Bt(this,"reconnectTimeout"),Bt(this,"connectPromise"),Bt(this,"reconnectInProgress",!1),Bt(this,"requestsInFlight",[]),Bt(this,"connectTimeout",xe.toMiliseconds(xe.ONE_SECOND*15)),Bt(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Il().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Bt(this,"resetPingTimeout",()=>{Iy()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Bt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Bt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Tr.connect)}),Bt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),Bt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Tr.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Bt(this,"registerProviderListeners",()=>{this.provider.on(_s.payload,this.onPayloadHandler),this.provider.on(_s.connect,this.onConnectHandler),this.provider.on(_s.disconnect,this.onDisconnectHandler),this.provider.on(_s.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?mi(e.logger,this.name):Zg(Bh({level:e.logger||wK})),this.messages=new AY(this.logger,e.core),this.subscriber=new zY(this,this.logger),this.publisher=new NY(this,this.logger),this.relayUrl=e?.relayUrl||Q8,this.projectId=e.projectId,Qj()?this.packageName=aT():Jj()&&(this.bundleId=aT()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return Ki(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:fn.relay},ty.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const u=h=>{h.topic===e&&(this.subscriber.off(Ji.created,u),c())};return await Promise.all([new Promise(h=>{c=h,this.subscriber.on(Ji.created,u)}),new Promise(async(h,f)=>{a=await this.subscriber.subscribe(e,fI({internal:{throwOnFailedPublish:o}},n)).catch(g=>{o&&f(g)})||a,h()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await _c(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await WT())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=pr(xe.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(Tr.message,e),await this.recordMessageEvent(e,ty.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(_s.disconnect,s),await _c(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(_s.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(_s.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(_s.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,xe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Iy())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Zs(new cK(iH({sdkVersion:w_,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),kS(e)){if(!e.method.endsWith(EK))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:fn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(fI({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else sw(e)&&this.events.emit(Tr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ty.inbound),this.events.emit(Tr.message,e))}async acknowledgePayload(e){const n=rw(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(_s.payload,this.onPayloadHandler),this.provider.off(_s.connect,this.onConnectHandler),this.provider.off(_s.disconnect,this.onDisconnectHandler),this.provider.off(_s.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await WT();bW(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Tr.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},xe.toMiliseconds(_K)))))}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function VY(){}function pI(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function gI(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function mI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const WY="[object RegExp]",KY="[object String]",GY="[object Number]",YY="[object Boolean]",yI="[object Arguments]",ZY="[object Symbol]",XY="[object Date]",QY="[object Map]",JY="[object Set]",eZ="[object Array]",tZ="[object Function]",nZ="[object ArrayBuffer]",r1="[object Object]",rZ="[object Error]",iZ="[object DataView]",sZ="[object Uint8Array]",oZ="[object Uint8ClampedArray]",aZ="[object Uint16Array]",cZ="[object Uint32Array]",lZ="[object BigUint64Array]",uZ="[object Int8Array]",dZ="[object Int16Array]",hZ="[object Int32Array]",fZ="[object BigInt64Array]",pZ="[object Float32Array]",gZ="[object Float64Array]";function mZ(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function yZ(t,e,n){return $f(t,e,void 0,void 0,void 0,void 0,n)}function $f(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Xf(t,e,s,o)}return Xf(t,e,s,o)}function Xf(t,e,n,r){if(Object.is(t,e))return!0;let i=mI(t),s=mI(e);if(i===yI&&(i=r1),s===yI&&(s=r1),i!==s)return!1;switch(i){case KY:return t.toString()===e.toString();case GY:{const c=t.valueOf(),u=e.valueOf();return mZ(c,u)}case YY:case XY:case ZY:return Object.is(t.valueOf(),e.valueOf());case WY:return t.source===e.source&&t.flags===e.flags;case tZ:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case QY:{if(t.size!==e.size)return!1;for(const[c,u]of t.entries())if(!e.has(c)||!$f(u,e.get(c),c,t,e,n,r))return!1;return!0}case JY:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),u=Array.from(e.values());for(let h=0;h<c.length;h++){const f=c[h],g=u.findIndex(m=>$f(f,m,void 0,t,e,n,r));if(g===-1)return!1;u.splice(g,1)}return!0}case eZ:case sZ:case oZ:case aZ:case cZ:case lZ:case uZ:case dZ:case hZ:case fZ:case pZ:case gZ:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!$f(t[c],e[c],c,t,e,n,r))return!1;return!0}case nZ:return t.byteLength!==e.byteLength?!1:Xf(new Uint8Array(t),new Uint8Array(e),n,r);case iZ:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Xf(new Uint8Array(t),new Uint8Array(e),n,r);case rZ:return t.name===e.name&&t.message===e.message;case r1:{if(!(Xf(t.constructor,e.constructor,n,r)||pI(t)&&pI(e)))return!1;const c=[...Object.keys(t),...gI(t)],u=[...Object.keys(e),...gI(e)];if(c.length!==u.length)return!1;for(let h=0;h<c.length;h++){const f=c[h],g=t[f];if(!Object.hasOwn(e,f))return!1;const m=e[f];if(!$f(g,m,f,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function bZ(t,e){return yZ(t,e,VY)}var wZ=Object.defineProperty,bI=Object.getOwnPropertySymbols,vZ=Object.prototype.hasOwnProperty,EZ=Object.prototype.propertyIsEnumerable,C_=(t,e,n)=>e in t?wZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wI=(t,e)=>{for(var n in e||(e={}))vZ.call(e,n)&&C_(t,n,e[n]);if(bI)for(var n of bI(e))EZ.call(e,n)&&C_(t,n,e[n]);return t},ki=(t,e,n)=>C_(t,typeof e!="symbol"?e+"":e,n);class wu extends RL{constructor(e,n,r,i=Wo,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,ki(this,"map",new Map),ki(this,"version",xK),ki(this,"cached",[]),ki(this,"initialized",!1),ki(this,"getKey"),ki(this,"storagePrefix",Wo),ki(this,"recentlyDeleted",[]),ki(this,"recentlyDeletedLimit",200),ki(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Wr(o)?this.map.set(this.getKey(o),o):YV(o)?this.map.set(o.id,o):ZV(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ki(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ki(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ki(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>bZ(a[c],o[c]))):this.values)),ki(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=wI(wI({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ki(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=mi(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ki(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Se("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var _Z=Object.defineProperty,xZ=(t,e,n)=>e in t?_Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,St=(t,e,n)=>xZ(t,typeof e!="symbol"?e+"":e,n);class SZ{constructor(e,n){this.core=e,this.logger=n,St(this,"name",TK),St(this,"version",IK),St(this,"events",new aS),St(this,"pairings"),St(this,"initialized",!1),St(this,"storagePrefix",Wo),St(this,"ignoredPayloadTypes",[$a]),St(this,"registeredMethods",[]),St(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),St(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),St(this,"create",async r=>{this.isInitialized();const i=p_(),s=await this.core.crypto.setSymKey(i),o=pr(xe.FIVE_MINUTES),a={protocol:X8},c={topic:s,expiry:o,relay:a,active:!1,methods:r?.methods},u=zT({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r?.methods});return this.events.emit(El.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r?.transportType}),{topic:s,uri:u}}),St(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[No.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:u}=LT(r.uri);i.props.properties.topic=s,i.addTrace(No.pairing_uri_validation_success),i.addTrace(No.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(No.existing_pairing),h.active)throw i.setError(ya.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(No.pairing_not_expired)}const f=c||pr(xe.FIVE_MINUTES),g={topic:s,relay:a,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,g),i.addTrace(No.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(El.create,g),i.addTrace(No.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(No.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ya.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(m){throw i.setError(ya.subscribe_pairing_topic_failure),m}return i.addTrace(No.subscribe_pairing_topic_success),g}),St(this,"activate",async({topic:r})=>{this.isInitialized();const i=pr(xe.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),St(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=pl();this.events.once(Ft("pairing_ping",s),({error:u})=>{u?c(u):a()}),await o()}}),St(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),St(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),St(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),St(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Gt("USER_DISCONNECTED")),await this.deletePairing(i))}),St(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return zT({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),St(this,"sendRequest",async(r,i,s)=>{const o=xc(i,s),a=await this.core.crypto.encode(r,o),c=hf[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),St(this,"sendResult",async(r,i,s)=>{const o=rw(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=hf[c].res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),St(this,"sendError",async(r,i,s)=>{const o=iw(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,u=hf[c]?hf[c].res:hf.unregistered_method.res;await this.core.relayer.publish(i,a,u),await this.core.history.resolve(o)}),St(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Gt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),St(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>hc(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),St(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),St(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),St(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(El.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),St(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{Bo(i)?this.events.emit(Ft("pairing_ping",s),{}):Bs(i)&&this.events.emit(Ft("pairing_ping",s),{error:i.error})},500)}),St(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(El.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),St(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Gt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),St(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Gt("WC_METHOD_UNSUPPORTED",r))}),St(this,"isValidPair",(r,i)=>{var s;if(!Pi(r)){const{message:a}=Se("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(ya.malformed_pairing_uri),new Error(a)}if(!GV(r.uri)){const{message:a}=Se("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(ya.malformed_pairing_uri),new Error(a)}const o=LT(r?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Se("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ya.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Se("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ya.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&xe.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(ya.pairing_expired);const{message:a}=Se("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),St(this,"isValidPing",async r=>{if(!Pi(r)){const{message:s}=Se("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),St(this,"isValidDisconnect",async r=>{if(!Pi(r)){const{message:s}=Se("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),St(this,"isValidPairingTopic",async r=>{if(!lr(r,!1)){const{message:i}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(hc(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Se("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=mi(n,this.name),this.pairings=new wu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ki(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Tr.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==fn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);kS(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):sw(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ks.expired,async e=>{const{topic:n}=o8(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(El.expire,{topic:n}))})}}var AZ=Object.defineProperty,CZ=(t,e,n)=>e in t?AZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lr=(t,e,n)=>CZ(t,typeof e!="symbol"?e+"":e,n);class TZ extends AL{constructor(e,n){super(e,n),this.core=e,this.logger=n,Lr(this,"records",new Map),Lr(this,"events",new Ys.EventEmitter),Lr(this,"name",RK),Lr(this,"version",kK),Lr(this,"cached",[]),Lr(this,"initialized",!1),Lr(this,"storagePrefix",Wo),Lr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Lr(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:pr(xe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(eo.created,o)}),Lr(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Bs(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(eo.updated,i))}),Lr(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Lr(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(eo.deleted,s)}}),this.persist()}),Lr(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Lr(this,"on",(r,i)=>{this.events.on(r,i)}),Lr(this,"once",(r,i)=>{this.events.once(r,i)}),Lr(this,"off",(r,i)=>{this.events.off(r,i)}),Lr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=mi(n,this.name)}get context(){return Ki(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:xc(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(eo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(eo.created,e=>{const n=eo.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(eo.updated,e=>{const n=eo.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(eo.deleted,e=>{const n=eo.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(Oh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{xe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(eo.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var IZ=Object.defineProperty,RZ=(t,e,n)=>e in t?IZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ni=(t,e,n)=>RZ(t,typeof e!="symbol"?e+"":e,n);class kZ extends NL{constructor(e,n){super(e,n),this.core=e,this.logger=n,ni(this,"expirations",new Map),ni(this,"events",new Ys.EventEmitter),ni(this,"name",NK),ni(this,"version",OK),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",Wo),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),ni(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(ks.created,{target:s,expiration:o})}),ni(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),ni(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(ks.deleted,{target:i,expiration:s})}}),ni(this,"on",(r,i)=>{this.events.on(r,i)}),ni(this,"once",(r,i)=>{this.events.once(r,i)}),ni(this,"off",(r,i)=>{this.events.off(r,i)}),ni(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=mi(n,this.name)}get context(){return Ki(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return sH(e);if(typeof e=="number")return oH(e);const{message:n}=Se("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ks.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Se("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Se("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;xe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(ks.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Oh.pulse,()=>this.checkExpirations()),this.events.on(ks.created,e=>{const n=ks.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ks.expired,e=>{const n=ks.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ks.deleted,e=>{const n=ks.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}}var NZ=Object.defineProperty,OZ=(t,e,n)=>e in t?NZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,or=(t,e,n)=>OZ(t,typeof e!="symbol"?e+"":e,n);class BZ extends OL{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,or(this,"name",BK),or(this,"abortController"),or(this,"isDevEnv"),or(this,"verifyUrlV3",PK),or(this,"storagePrefix",Wo),or(this,"version",Z8),or(this,"publicKey"),or(this,"fetchPromise"),or(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&xe.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),or(this,"register",async i=>{if(!tm()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const u=Jg(),h=this.startAbortTimer(xe.ONE_SECOND*5),f=await new Promise((g,m)=>{const _=()=>{window.removeEventListener("message",T),u.body.removeChild(x),m("attestation aborted")};this.abortController.signal.addEventListener("abort",_);const x=u.createElement("iframe");x.src=c,x.style.display="none",x.addEventListener("error",_,{signal:this.abortController.signal});const T=S=>{if(S.data&&typeof S.data=="string")try{const C=JSON.parse(S.data);if(C.type==="verify_attestation"){if(JE(C.attestation).payload.id!==o)return;clearInterval(h),u.body.removeChild(x),this.abortController.signal.removeEventListener("abort",_),window.removeEventListener("message",T),g(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};u.body.appendChild(x),window.addEventListener("message",T,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(u){this.logger.warn(u)}return""}),or(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(JE(s).payload.id!==a)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),or(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(xe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),or(this,"getVerifyUrl",i=>{let s=i||Zf;return $K.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Zf}`),s=Zf),s}),or(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(xe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),or(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),or(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),or(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),or(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),or(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),or(this,"validateAttestation",(i,s)=>{const o=PV(i,s.publicKey),a={hasExpired:xe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=mi(n,this.name),this.abortController=new AbortController,this.isDevEnv=vS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ki(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),xe.toMiliseconds(e))}}var DZ=Object.defineProperty,PZ=(t,e,n)=>e in t?DZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vI=(t,e,n)=>PZ(t,typeof e!="symbol"?e+"":e,n);class $Z extends BL{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,vI(this,"context",MK),vI(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${UK}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=mi(n,this.context)}}var MZ=Object.defineProperty,EI=Object.getOwnPropertySymbols,UZ=Object.prototype.hasOwnProperty,LZ=Object.prototype.propertyIsEnumerable,T_=(t,e,n)=>e in t?MZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gf=(t,e)=>{for(var n in e||(e={}))UZ.call(e,n)&&T_(t,n,e[n]);if(EI)for(var n of EI(e))LZ.call(e,n)&&T_(t,n,e[n]);return t},vr=(t,e,n)=>T_(t,typeof e!="symbol"?e+"":e,n);class zZ extends DL{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,vr(this,"context",zK),vr(this,"storagePrefix",Wo),vr(this,"storageVersion",LK),vr(this,"events",new Map),vr(this,"shouldPersist",!1),vr(this,"init",async()=>{if(!vS())try{const i={eventId:lT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:i8(this.core.relayer.protocol,this.core.relayer.version,w_)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),vr(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,u=lT(),h=this.core.projectId||"",f=Date.now(),g=gf({eventId:u,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:h,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,g),this.shouldPersist=!0),g}),vr(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return gf(gf({},a),this.setMethods(a.eventId))}),vr(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),vr(this,"setEventListeners",()=>{this.core.heartbeat.on(Oh.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{xe.fromMiliseconds(Date.now())-xe.fromMiliseconds(i.timestamp)>FK&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),vr(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),vr(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),vr(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),vr(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),vr(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,gf(gf({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),vr(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),vr(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${jK}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${w_}${s}`,{method:"POST",body:JSON.stringify(i)})}),vr(this,"getAppDomain",()=>r8().url),this.logger=mi(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var FZ=Object.defineProperty,_I=Object.getOwnPropertySymbols,jZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.propertyIsEnumerable,I_=(t,e,n)=>e in t?FZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xI=(t,e)=>{for(var n in e||(e={}))jZ.call(e,n)&&I_(t,n,e[n]);if(_I)for(var n of _I(e))HZ.call(e,n)&&I_(t,n,e[n]);return t},rn=(t,e,n)=>I_(t,typeof e!="symbol"?e+"":e,n);let qZ=class uB extends EL{constructor(e){var n;super(e),rn(this,"protocol",Y8),rn(this,"version",Z8),rn(this,"name",b_),rn(this,"relayUrl"),rn(this,"projectId"),rn(this,"customStoragePrefix"),rn(this,"events",new Ys.EventEmitter),rn(this,"logger"),rn(this,"heartbeat"),rn(this,"relayer"),rn(this,"crypto"),rn(this,"storage"),rn(this,"history"),rn(this,"expirer"),rn(this,"pairing"),rn(this,"verify"),rn(this,"echoClient"),rn(this,"linkModeSupportedApps"),rn(this,"eventClient"),rn(this,"initialized",!1),rn(this,"logChunkController"),rn(this,"on",(a,c)=>this.events.on(a,c)),rn(this,"once",(a,c)=>this.events.once(a,c)),rn(this,"off",(a,c)=>this.events.off(a,c)),rn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),rn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:u})=>{if(!a||!c)return;const h={topic:a,message:c,publishedAt:Date.now(),transportType:fn.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:u})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Q8,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Bh({level:typeof e?.logger=="string"&&e.logger?e.logger:uK.logger,name:b_}),{logger:s,chunkLoggerController:o}=lS({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=mi(s,this.name),this.heartbeat=new lU,this.crypto=new yY(this,this.logger,e?.keychain),this.history=new TZ(this,this.logger),this.expirer=new kZ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new VU(xI(xI({},dK),e?.storageOptions)),this.relayer=new qY({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new SZ(this,this.logger),this.verify=new BZ(this,this.logger,this.storage),this.echoClient=new $Z(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new zZ(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new uB(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(SK,r),n}get context(){return Ki(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(nI,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(nI)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&lK.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const VZ=qZ,dB="wc",hB=2,fB="client",NS=`${dB}@${hB}:${fB}:`,i1={name:fB,logger:"error"},SI="WALLETCONNECT_DEEPLINK_CHOICE",WZ="proposal",AI="Proposal expired",KZ="session",ju=xe.SEVEN_DAYS,GZ="engine",Er={wc_sessionPropose:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:xe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:xe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:xe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:xe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:xe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:xe.FIVE_MINUTES,prompt:!1,tag:1119}}},s1={min:xe.FIVE_MINUTES,max:xe.SEVEN_DAYS},Io={idle:"IDLE",active:"ACTIVE"},CI={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},YZ="request",ZZ=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],XZ="wc",QZ="auth",JZ="authKeys",eX="pairingTopics",tX="requests",aw=`${XZ}@${1.5}:${QZ}:`,ny=`${aw}:PUB_KEY`;var nX=Object.defineProperty,rX=Object.defineProperties,iX=Object.getOwnPropertyDescriptors,TI=Object.getOwnPropertySymbols,sX=Object.prototype.hasOwnProperty,oX=Object.prototype.propertyIsEnumerable,R_=(t,e,n)=>e in t?nX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,en=(t,e)=>{for(var n in e||(e={}))sX.call(e,n)&&R_(t,n,e[n]);if(TI)for(var n of TI(e))oX.call(e,n)&&R_(t,n,e[n]);return t},yi=(t,e)=>rX(t,iX(e)),pe=(t,e,n)=>R_(t,typeof e!="symbol"?e+"":e,n);class aX extends UL{constructor(e){super(e),pe(this,"name",GZ),pe(this,"events",new aS),pe(this,"initialized",!1),pe(this,"requestQueue",{state:Io.idle,queue:[]}),pe(this,"sessionRequestQueue",{state:Io.idle,queue:[]}),pe(this,"requestQueueDelay",xe.ONE_SECOND),pe(this,"expectedPairingMethodMap",new Map),pe(this,"recentlyDeletedMap",new Map),pe(this,"recentlyDeletedLimit",200),pe(this,"relayMessageCache",[]),pe(this,"pendingSessions",new Map),pe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Er)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay)))}),pe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=yi(en({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:u}=r;let h=i,f,g=!1;try{if(h){const W=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=W.active}}catch(W){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),W}if(!h||!g){const{topic:W,uri:L}=await this.client.core.pairing.create();h=W,f=L}if(!h){const{message:W}=Se("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(W)}const m=await this.client.core.crypto.generateKeyPair(),_=Er.wc_sessionPropose.req.ttl||xe.FIVE_MINUTES,x=pr(_),T=yi(en(en({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:X8}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:x,pairingTopic:h},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Oo()}),S=Ft("session_connect",T.id),{reject:C,resolve:I,done:P}=pl(_,AI),z=({id:W})=>{W===T.id&&(this.client.events.off("proposal_expire",z),this.pendingSessions.delete(T.id),this.events.emit(S,{error:{message:AI,code:0}}))};return this.client.events.on("proposal_expire",z),this.events.once(S,({error:W,session:L})=>{this.client.events.off("proposal_expire",z),W?C(W):L&&I(L)}),await this.sendRequest({topic:h,method:"wc_sessionPropose",params:T,throwOnFailedPublish:!0,clientRpcId:T.id}),await this.setProposal(T.id,T),{uri:f,approval:P}}),pe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),pe(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[to.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(q){throw o.setError(ll.no_internet_connection),q}try{await this.isValidProposalId(n?.id)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),o.setError(ll.proposal_not_found),q}try{await this.isValidApprove(n)}catch(q){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(ll.session_approve_namespace_validation_failure),q}const{id:a,relayProtocol:c,namespaces:u,sessionProperties:h,scopedProperties:f,sessionConfig:g}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:_,proposer:x,requiredNamespaces:T,optionalNamespaces:S}=m;let C=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:_});C||(C=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:to.session_approve_started,properties:{topic:_,trace:[to.session_approve_started,to.session_namespaces_validation_success]}}));const I=await this.client.core.crypto.generateKeyPair(),P=x.publicKey,z=await this.client.core.crypto.generateSharedKey(I,P),W=en(en(en({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:I,metadata:this.client.metadata},expiry:pr(ju)},h&&{sessionProperties:h}),f&&{scopedProperties:f}),g&&{sessionConfig:g}),L=fn.relay;C.addTrace(to.subscribing_session_topic);try{await this.client.core.relayer.subscribe(z,{transportType:L})}catch(q){throw C.setError(ll.subscribe_session_topic_failure),q}C.addTrace(to.subscribe_session_topic_success);const V=yi(en({},W),{topic:z,requiredNamespaces:T,optionalNamespaces:S,pairingTopic:_,acknowledged:!1,self:W.controller,peer:{publicKey:x.publicKey,metadata:x.metadata},controller:I,transportType:fn.relay});await this.client.session.set(z,V),C.addTrace(to.store_session);try{C.addTrace(to.publishing_session_settle),await this.sendRequest({topic:z,method:"wc_sessionSettle",params:W,throwOnFailedPublish:!0}).catch(q=>{throw C?.setError(ll.session_settle_publish_failure),q}),C.addTrace(to.session_settle_publish_success),C.addTrace(to.publishing_session_approve),await this.sendResult({id:a,topic:_,result:{relay:{protocol:c??"irn"},responderPublicKey:I},throwOnFailedPublish:!0}).catch(q=>{throw C?.setError(ll.session_approve_publish_failure),q}),C.addTrace(to.session_approve_publish_success)}catch(q){throw this.client.logger.error(q),this.client.session.delete(z,Gt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(z),q}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:_,metadata:x.metadata}),await this.client.proposal.delete(a,Gt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:_}),await this.setExpiry(z,pr(ju)),{topic:z,acknowledged:()=>Promise.resolve(this.client.session.get(z))}}),pe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:Er.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Gt("USER_DISCONNECTED")))}),pe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=pl(),c=Oo(),u=Il().toString(),h=this.client.session.get(r).namespaces;return this.events.once(Ft("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(r,{namespaces:h}),a(f)}),{acknowledged:s}}),pe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Oo(),{done:s,resolve:o,reject:a}=pl();return this.events.once(Ft("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,pr(ju)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),pe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:r,request:i,topic:s,expiry:o=Er.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);a?.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const c=Oo(),u=Il().toString(),{done:h,resolve:f,reject:g}=pl(o,"Request expired. Please try again.");this.events.once(Ft("session_request",c),({error:S,result:C})=>{S?g(S):f(C)});const m="wc_sessionRequest",_=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(_)return await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:{request:yi(en({},i),{expiryTimestamp:pr(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:_}).catch(S=>g(S)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await h();const x={request:yi(en({},i),{expiryTimestamp:pr(o)}),chainId:r},T=this.shouldSetTVF(m,x);return await Promise.all([new Promise(async S=>{await this.sendRequest(en({clientRpcId:c,relayRpcId:u,topic:s,method:m,params:x,expiry:o,throwOnFailedPublish:!0},T&&{tvf:this.getTVFParams(c,x)})).catch(C=>g(C)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),S()}),new Promise(async S=>{var C;if(!((C=a.sessionConfig)!=null&&C.disableDeepLink)){const I=await uH(this.client.core.storage,SI);await aH({id:c,topic:s,wcDeepLink:I})}S()}),h()]).then(S=>S[2])}),pe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Bo(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):Bs(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),pe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Oo(),s=Il().toString(),{done:o,resolve:a,reject:c}=pl();this.events.once(Ft("session_ping",i),({error:u})=>{u?c(u):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),pe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Il().toString(),a=Oo();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),pe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Gt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Se("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),pe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>WV(r,n)))),pe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),pe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?fn.link_mode:fn.relay;o===fn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:u,domain:h,nonce:f,type:g,exp:m,nbf:_,methods:x=[],expiry:T}=n,S=[...n.resources||[]],{topic:C,uri:I}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:I}});const P=await this.client.core.crypto.generateKeyPair(),z=ey(P);if(await Promise.all([this.client.auth.authKeys.set(ny,{responseTopic:z,publicKey:P}),this.client.auth.pairingTopics.set(z,{topic:z,pairingTopic:C})]),await this.client.core.relayer.subscribe(z,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${C}`),x.length>0){const{namespace:R}=Ld(a[0]);let M=nq(R,"request",x);J0(S)&&(M=iq(M,S.pop())),S.push(M)}const W=T&&T>Er.wc_sessionAuthenticate.req.ttl?T:Er.wc_sessionAuthenticate.req.ttl,L={authPayload:{type:g??"caip122",chains:a,statement:c,aud:u,domain:h,version:"1",nonce:f,iat:new Date().toISOString(),exp:m,nbf:_,resources:S},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:pr(W)},V={eip155:{chains:a,methods:[...new Set(["personal_sign",...x])],events:["chainChanged","accountsChanged"]}},q={requiredNamespaces:{},optionalNamespaces:V,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:pr(Er.wc_sessionPropose.req.ttl),id:Oo()},{done:X,resolve:Y,reject:ee}=pl(W,"Request expired"),j=Oo(),w=Ft("session_connect",q.id),b=Ft("session_request",j),v=async({error:R,session:M})=>{this.events.off(b,O),R?ee(R):M&&Y({session:M})},O=async R=>{var M,k,E;if(await this.deletePendingAuthRequest(j,{message:"fulfilled",code:0}),R.error){const ge=Gt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===ge.code?void 0:(this.events.off(w,v),ee(R.error.message))}await this.deleteProposal(q.id),this.events.off(w,v);const{cacaos:U,responder:Q}=R.result,te=[],se=[];for(const ge of U){await yT({cacao:ge,projectId:this.client.core.projectId})||(this.client.logger.error(ge,"Signature verification failed"),ee(Gt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:et}=ge,qe=J0(et.resources),ke=[s_(et.iss)],je=Ry(et.iss);if(qe){const De=bT(qe),it=wT(qe);te.push(...De),ke.push(...it)}for(const De of ke)se.push(`${De}:${je}`)}const fe=await this.client.core.crypto.generateSharedKey(P,Q.publicKey);let le;te.length>0&&(le={topic:fe,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:pr(ju),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:FT([...new Set(te)],[...new Set(se)]),transportType:o},await this.client.core.relayer.subscribe(fe,{transportType:o}),await this.client.session.set(fe,le),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:Q.metadata}),le=this.client.session.get(fe)),(M=this.client.metadata.redirect)!=null&&M.linkMode&&(k=Q.metadata.redirect)!=null&&k.linkMode&&(E=Q.metadata.redirect)!=null&&E.universal&&r&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(fe,{transportType:fn.link_mode})),Y({auths:U,session:le})};this.events.once(w,v),this.events.once(b,O);let B;try{if(s){const R=xc("wc_sessionAuthenticate",L,j);this.client.core.history.set(C,R);const M=await this.client.core.crypto.encode("",R,{type:am,encoding:gc});B=s0(r,C,M)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:L,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:j}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:q,expiry:Er.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:q.id})])}catch(R){throw this.events.off(w,v),this.events.off(b,O),R}return await this.setProposal(q.id,q),await this.setAuthRequest(j,{request:yi(en({},L),{verifyContext:{}}),pairingTopic:C,transportType:o}),{uri:B??I,response:X}}),pe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[ul.authenticated_session_approve_started]}});try{this.isInitialized()}catch(T){throw s.setError(ff.no_internet_connection),T}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(ff.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||fn.relay;a===fn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=ey(c),f={type:$a,receiverPublicKey:c,senderPublicKey:u},g=[],m=[];for(const T of i){if(!await yT({cacao:T,projectId:this.client.core.projectId})){s.setError(ff.invalid_cacao);const z=Gt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:h,error:z,encodeOpts:f}),new Error(z.message)}s.addTrace(ul.cacaos_verified);const{p:S}=T,C=J0(S.resources),I=[s_(S.iss)],P=Ry(S.iss);if(C){const z=bT(C),W=wT(C);g.push(...z),I.push(...W)}for(const z of I)m.push(`${z}:${P}`)}const _=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(ul.create_authenticated_session_topic);let x;if(g?.length>0){x={topic:_,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:pr(ju),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:FT([...new Set(g)],[...new Set(m)]),transportType:a},s.addTrace(ul.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:a})}catch(T){throw s.setError(ff.subscribe_authenticated_session_topic_failure),T}s.addTrace(ul.subscribe_authenticated_session_topic_success),await this.client.session.set(_,x),s.addTrace(ul.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(ul.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:r,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(T){throw s.setError(ff.authenticated_session_approve_publish_failure),T}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:x}}),pe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=ey(o),u={type:$a,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:u,rpcOpts:Er.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,Gt("USER_DISCONNECTED"))}),pe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return g8(r,i)}),pe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),pe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),pe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Gt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(SI).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,Gt("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Io.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),pe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(ll.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Gt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),pe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Io.idle,this.client.events.emit("session_request_expire",{id:n}))}),pe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),pe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),pe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,pr(Er.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),pe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=fn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),pe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||pr(Er.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),pe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:u,appLink:h,tvf:f}=n,g=xc(i,s,c);let m;const _=!!h;try{const S=_?gc:fo;m=await this.client.core.crypto.encode(r,g,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),S}let x;if(ZZ.includes(i)){const S=Do(JSON.stringify(g)),C=Do(m);x=await this.client.core.verify.register({id:C,decryptedId:S})}const T=Er[i].req;if(T.attestation=x,o&&(T.ttl=o),a&&(T.id=a),this.client.core.history.set(r,g),_){const S=s0(h,r,m);await global.Linking.openURL(S,this.client.name)}else{const S=Er[i].req;o&&(S.ttl=o),a&&(S.id=a),S.tvf=yi(en({},f),{correlationId:g.id}),u?(S.internal=yi(en({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,S)):this.client.core.relayer.publish(r,m,S).catch(C=>this.client.logger.error(C))}return g.id}),pe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,u=rw(r,s);let h;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const _=f?gc:fo;h=await this.client.core.crypto.encode(i,u,yi(en({},a||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),_}let g,m;try{g=await this.client.core.history.get(i,r);const _=g.request;try{this.shouldSetTVF(_.method,_.params)&&(m=this.getTVFParams(r,_.params,s))}catch(x){this.client.logger.warn("sendResult() -> getTVFParams() failed",x)}}catch(_){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),_}if(f){const _=s0(c,i,h);await global.Linking.openURL(_,this.client.name)}else{const _=g.request.method,x=Er[_].res;x.tvf=yi(en({},m),{correlationId:r}),o?(x.internal=yi(en({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,x)):this.client.core.relayer.publish(i,h,x).catch(T=>this.client.logger.error(T))}await this.client.core.history.resolve(u)}),pe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,u=iw(r,s);let h;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?gc:fo;h=await this.client.core.crypto.encode(i,u,yi(en({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let g;try{g=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(f){const m=s0(c,i,h);await global.Linking.openURL(m,this.client.name)}else{const m=g.request.method,_=a||Er[m].res;this.client.core.relayer.publish(i,h,_)}await this.client.core.history.resolve(u)}),pe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;hc(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{hc(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),pe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),pe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),pe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Io.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Io.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Io.idle}),pe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),pe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),pe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Se("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),pe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),pe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const u=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u?.setError(ya.proposal_listener_not_found)),this.isValidConnect(en({},i.params));const h=a.expiryTimestamp||pr(Er.wc_sessionPropose.req.ttl),f=en({id:c,pairingTopic:r,expiryTimestamp:h},a);await this.setProposal(c,f);const g=await this.getVerifyContext({attestationId:s,hash:Do(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});u?.addTrace(No.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:g})}catch(u){await this.sendError({id:c,topic:r,error:u,rpcOpts:Er.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),pe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(Bo(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const u=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const h=await this.client.core.crypto.generateSharedKey(c,u);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:n,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:n})}else if(Bs(r)){await this.client.proposal.delete(s,Gt("USER_DISCONNECTED"));const o=Ft("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),pe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:u,sessionProperties:h,scopedProperties:f,sessionConfig:g}=r.params,m=[...this.pendingSessions.values()].find(T=>T.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const _=this.client.proposal.get(m.proposalId),x=yi(en(en(en({topic:n,relay:o,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:_.requiredNamespaces,optionalNamespaces:_.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},h&&{sessionProperties:h}),f&&{scopedProperties:f}),g&&{sessionConfig:g}),{transportType:fn.relay});await this.client.session.set(x.topic,x),await this.setExpiry(x.topic,x.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:x.peer.metadata}),this.client.events.emit("session_connect",{session:x}),this.events.emit(Ft("session_connect",m.proposalId),{session:x}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(x),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),pe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Bo(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ft("session_approve",i),{})):Bs(r)&&(await this.client.session.delete(n,Gt("USER_DISCONNECTED")),this.events.emit(Ft("session_approve",i),{error:r.error}))}),pe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=df.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Gt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(en({topic:n},i));try{df.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw df.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),pe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),pe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Ft("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Bo(r)?this.events.emit(Ft("session_update",i),{}):Bs(r)&&this.events.emit(Ft("session_update",i),{error:r.error})}),pe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,pr(ju)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),pe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Ft("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Bo(r)?this.events.emit(Ft("session_extend",i),{}):Bs(r)&&this.events.emit(Ft("session_extend",i),{error:r.error})}),pe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),pe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Ft("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Bo(r)?this.events.emit(Ft("session_ping",i),{}):Bs(r)&&this.events.emit(Ft("session_ping",i),{error:r.error})},500)}),pe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Tr.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Gt("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),pe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:u,transportType:h}=n,{id:f,params:g}=a;try{await this.isValidRequest(en({topic:o},g));const m=this.client.session.get(o),_=await this.getVerifyContext({attestationId:c,hash:Do(JSON.stringify(xc("wc_sessionRequest",g,f))),encryptedId:u,metadata:m.peer.metadata,transportType:h}),x={id:f,topic:o,params:g,verifyContext:_};await this.setPendingSessionRequest(x),h===fn.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(x):(this.addSessionRequestToSessionRequestQueue(x),this.processSessionRequestQueue())}catch(m){await this.sendError({id:f,topic:o,error:m}),this.client.logger.error(m)}}),pe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Ft("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Bo(r)?this.events.emit(Ft("session_request",i),{result:r.result}):Bs(r)&&this.events.emit(Ft("session_request",i),{error:r.error})}),pe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=df.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(en({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),df.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),pe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Bo(r)?this.events.emit(Ft("session_request",i),{result:r.result}):Bs(r)&&this.events.emit(Ft("session_request",i),{error:r.error})}),pe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:u,authPayload:h,expiryTimestamp:f}=s.params,g=await this.getVerifyContext({attestationId:o,hash:Do(JSON.stringify(s)),encryptedId:a,metadata:u.metadata,transportType:c}),m={requester:u,pairingTopic:i,id:s.id,authPayload:h,verifyContext:g,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:m,pairingTopic:i,transportType:c}),c===fn.link_mode&&(r=u.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:g})}catch(u){this.client.logger.error(u);const h=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(s.params.requester.metadata,c),m={type:$a,receiverPublicKey:h,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:m,rpcOpts:Er.wc_sessionAuthenticate.autoReject,appLink:g})}}),pe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),pe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Io.idle,this.processSessionRequestQueue()},xe.toMiliseconds(this.requestQueueDelay))}),pe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Ft("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ft("session_request",s.request.id),{error:r})})}),pe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Io.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Io.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),pe(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),pe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:xc("wc_sessionPropose",yi(en({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),pe(this,"isValidConnect",async n=>{if(!Pi(n)){const{message:u}=Se("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(u)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Wr(r)||await this.isValidPairingTopic(r),!iW(c)){const{message:u}=Se("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(u)}if(!Wr(i)&&Pp(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Wr(s)&&Pp(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Wr(o)||this.validateSessionProps(o,"sessionProperties"),!Wr(a)){this.validateSessionProps(a,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(h=>u.includes(h)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),pe(this,"validateNamespaces",(n,r)=>{const i=rW(n,"connect()",r);if(i)throw new Error(i.message)}),pe(this,"isValidApprove",async n=>{if(!Pi(n))throw new Error(Se("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),u=Qv(i,"approve()");if(u)throw new Error(u.message);const h=qT(c.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!lr(s,!0)){const{message:f}=Se("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Wr(o)||this.validateSessionProps(o,"sessionProperties"),!Wr(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(g=>f.has(g)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),pe(this,"isValidReject",async n=>{if(!Pi(n)){const{message:s}=Se("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!oW(i)){const{message:s}=Se("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),pe(this,"isValidSessionSettleRequest",n=>{if(!Pi(n)){const{message:u}=Se("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(u)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!F8(r)){const{message:u}=Se("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const a=XV(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Qv(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(hc(o)){const{message:u}=Se("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),pe(this,"isValidUpdate",async n=>{if(!Pi(n)){const{message:c}=Se("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=Qv(i,"update()");if(o)throw new Error(o.message);const a=qT(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),pe(this,"isValidExtend",async n=>{if(!Pi(n)){const{message:i}=Se("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),pe(this,"isValidRequest",async n=>{if(!Pi(n)){const{message:c}=Se("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!HT(a,s)){const{message:c}=Se("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!aW(i)){const{message:c}=Se("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!uW(a,s,i.method)){const{message:c}=Se("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!pW(o,s1)){const{message:c}=Se("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${s1.min} and ${s1.max}`);throw new Error(c)}}),pe(this,"isValidRespond",async n=>{var r;if(!Pi(n)){const{message:o}=Se("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!cW(s)){const{message:o}=Se("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),pe(this,"isValidPing",async n=>{if(!Pi(n)){const{message:i}=Se("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),pe(this,"isValidEmit",async n=>{if(!Pi(n)){const{message:a}=Se("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!HT(o,s)){const{message:a}=Se("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!lW(i)){const{message:a}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!dW(o,s,i.name)){const{message:a}=Se("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),pe(this,"isValidDisconnect",async n=>{if(!Pi(n)){const{message:i}=Se("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),pe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!lr(i,!1))throw new Error("uri is required parameter");if(!lr(s,!1))throw new Error("domain is required parameter");if(!lr(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Ld(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Ld(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),pe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Zf,validation:"UNKNOWN",origin:o.url||""}};try{if(a===fn.link_mode){const h=this.getAppLinkIfEnabled(o,a);return c.verified.validation=h&&new URL(h).origin===new URL(o.url).origin?"VALID":"INVALID",c}const u=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),pe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Se("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),pe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),pe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),pe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Se("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),pe(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,u,h,f,g;return!n||r!==fn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((h=n?.redirect)==null?void 0:h.universal)!==void 0&&((f=n?.redirect)==null?void 0:f.universal)!==""&&((g=n?.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),pe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n?.redirect)==null?void 0:i.universal:void 0}),pe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=cT(n,"topic")||"",i=decodeURIComponent(cT(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:fn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),pe(this,"registerLinkModeListeners",async()=>{var n;if(vS()||rl()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),pe(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(CI).includes(i.method)}),pe(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return yi(en({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),pe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=n?.data||((r=n?.[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),pe(this,"extractTxHashesFromResult",(n,r)=>{try{const i=CI[n];if(typeof r=="string")return[r];const s=r[i.key];if(Rc(s))return n==="solana_signAllTransactions"?s.map(o=>jH(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Se("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Tr.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(ny)?this.client.auth.authKeys.get(ny):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===fn.link_mode?gc:fo});kS(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Do(r)})):sw(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(ks.expired,async e=>{const{topic:n,id:r}=o8(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Se("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Se("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(El.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(El.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!lr(e,!1)){const{message:n}=Se("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Se("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(hc(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Se("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!lr(e,!1)){const{message:n}=Se("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Se("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(hc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Se("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Se("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(lr(e,!1)){const{message:n}=Se("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Se("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!sW(e)){const{message:n}=Se("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Se("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(hc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Se("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class cX extends wu{constructor(e,n){super(e,n,WZ,NS),this.core=e,this.logger=n}}let lX=class extends wu{constructor(e,n){super(e,n,KZ,NS),this.core=e,this.logger=n}};class uX extends wu{constructor(e,n){super(e,n,YZ,NS,r=>r.id),this.core=e,this.logger=n}}class dX extends wu{constructor(e,n){super(e,n,JZ,aw,()=>ny),this.core=e,this.logger=n}}class hX extends wu{constructor(e,n){super(e,n,eX,aw),this.core=e,this.logger=n}}class fX extends wu{constructor(e,n){super(e,n,tX,aw,r=>r.id),this.core=e,this.logger=n}}var pX=Object.defineProperty,gX=(t,e,n)=>e in t?pX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o1=(t,e,n)=>gX(t,typeof e!="symbol"?e+"":e,n);class mX{constructor(e,n){this.core=e,this.logger=n,o1(this,"authKeys"),o1(this,"pairingTopics"),o1(this,"requests"),this.authKeys=new dX(this.core,this.logger),this.pairingTopics=new hX(this.core,this.logger),this.requests=new fX(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var yX=Object.defineProperty,bX=(t,e,n)=>e in t?yX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,At=(t,e,n)=>bX(t,typeof e!="symbol"?e+"":e,n);let wX=class pB extends ML{constructor(e){super(e),At(this,"protocol",dB),At(this,"version",hB),At(this,"name",i1.name),At(this,"metadata"),At(this,"core"),At(this,"logger"),At(this,"events",new Ys.EventEmitter),At(this,"engine"),At(this,"session"),At(this,"proposal"),At(this,"pendingRequest"),At(this,"auth"),At(this,"signConfig"),At(this,"on",(r,i)=>this.events.on(r,i)),At(this,"once",(r,i)=>this.events.once(r,i)),At(this,"off",(r,i)=>this.events.off(r,i)),At(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),At(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),At(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),At(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),At(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),At(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||i1.name,this.metadata=tH(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Zg(Bh({level:e?.logger||i1.logger}));this.core=e?.core||new VZ(e),this.logger=mi(n,this.name),this.session=new lX(this.core,this.logger),this.proposal=new cX(this.core,this.logger),this.pendingRequest=new uX(this.core,this.logger),this.engine=new aX(this),this.auth=new mX(this.core,this.logger)}static async init(e){const n=new pB(e);return await n.initialize(),n}get context(){return Ki(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},xe.toMiliseconds(xe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var k_={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof tr<"u"&&tr,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof tr<"u"&&tr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(b){return b&&DataView.prototype.isPrototypeOf(b)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(b){return b&&h.indexOf(Object.prototype.toString.call(b))>-1};function g(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function m(b){return typeof b!="string"&&(b=String(b)),b}function _(b){var v={next:function(){var O=b.shift();return{done:O===void 0,value:O}}};return c.iterable&&(v[Symbol.iterator]=function(){return v}),v}function x(b){this.map={},b instanceof x?b.forEach(function(v,O){this.append(O,v)},this):Array.isArray(b)?b.forEach(function(v){if(v.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+v.length);this.append(v[0],v[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(v){this.append(v,b[v])},this)}x.prototype.append=function(b,v){b=g(b),v=m(v);var O=this.map[b];this.map[b]=O?O+", "+v:v},x.prototype.delete=function(b){delete this.map[g(b)]},x.prototype.get=function(b){return b=g(b),this.has(b)?this.map[b]:null},x.prototype.has=function(b){return this.map.hasOwnProperty(g(b))},x.prototype.set=function(b,v){this.map[g(b)]=m(v)},x.prototype.forEach=function(b,v){for(var O in this.map)this.map.hasOwnProperty(O)&&b.call(v,this.map[O],O,this)},x.prototype.keys=function(){var b=[];return this.forEach(function(v,O){b.push(O)}),_(b)},x.prototype.values=function(){var b=[];return this.forEach(function(v){b.push(v)}),_(b)},x.prototype.entries=function(){var b=[];return this.forEach(function(v,O){b.push([O,v])}),_(b)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function T(b){if(!b._noBody){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}}function S(b){return new Promise(function(v,O){b.onload=function(){v(b.result)},b.onerror=function(){O(b.error)}})}function C(b){var v=new FileReader,O=S(v);return v.readAsArrayBuffer(b),O}function I(b){var v=new FileReader,O=S(v),B=/charset=([A-Za-z0-9_-]+)/.exec(b.type),R=B?B[1]:"utf-8";return v.readAsText(b,R),O}function P(b){for(var v=new Uint8Array(b),O=new Array(v.length),B=0;B<v.length;B++)O[B]=String.fromCharCode(v[B]);return O.join("")}function z(b){if(b.slice)return b.slice(0);var v=new Uint8Array(b.byteLength);return v.set(new Uint8Array(b)),v.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:c.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:c.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():c.arrayBuffer&&c.blob&&u(b)?(this._bodyArrayBuffer=z(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||f(b))?this._bodyArrayBuffer=z(b):this._bodyText=b=Object.prototype.toString.call(b):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var b=T(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=T(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var b=T(this);if(b)return b;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(X)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function V(b){var v=b.toUpperCase();return L.indexOf(v)>-1?v:b}function q(b,v){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');v=v||{};var O=v.body;if(b instanceof q){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,v.headers||(this.headers=new x(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!O&&b._bodyInit!=null&&(O=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new x(v.headers)),this.method=V(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal||function(){if("AbortController"in a){var M=new AbortController;return M.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(v.cache==="no-store"||v.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function X(b){var v=new FormData;return b.trim().split("&").forEach(function(O){if(O){var B=O.split("="),R=B.shift().replace(/\+/g," "),M=B.join("=").replace(/\+/g," ");v.append(decodeURIComponent(R),decodeURIComponent(M))}}),v}function Y(b){var v=new x,O=b.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var R=B.split(":"),M=R.shift().trim();if(M){var k=R.join(":").trim();try{v.append(M,k)}catch(E){console.warn("Response "+E.message)}}}),v}W.call(q.prototype);function ee(b,v){if(!(this instanceof ee))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=v.statusText===void 0?"":""+v.statusText,this.headers=new x(v.headers),this.url=v.url||"",this._initBody(b)}W.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},ee.error=function(){var b=new ee(null,{status:200,statusText:""});return b.ok=!1,b.status=0,b.type="error",b};var j=[301,302,303,307,308];ee.redirect=function(b,v){if(j.indexOf(v)===-1)throw new RangeError("Invalid status code");return new ee(null,{status:v,headers:{location:b}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(v,O){this.message=v,this.name=O;var B=Error(v);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function w(b,v){return new Promise(function(O,B){var R=new q(b,v);if(R.signal&&R.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function k(){M.abort()}M.onload=function(){var Q={statusText:M.statusText,headers:Y(M.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(M.status<200||M.status>599)?Q.status=200:Q.status=M.status,Q.url="responseURL"in M?M.responseURL:Q.headers.get("X-Request-URL");var te="response"in M?M.response:M.responseText;setTimeout(function(){O(new ee(te,Q))},0)},M.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){B(new o.DOMException("Aborted","AbortError"))},0)};function E(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}if(M.open(R.method,E(R.url),!0),R.credentials==="include"?M.withCredentials=!0:R.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(c.blob?M.responseType="blob":c.arrayBuffer&&(M.responseType="arraybuffer")),v&&typeof v.headers=="object"&&!(v.headers instanceof x||a.Headers&&v.headers instanceof a.Headers)){var U=[];Object.getOwnPropertyNames(v.headers).forEach(function(Q){U.push(g(Q)),M.setRequestHeader(Q,m(v.headers[Q]))}),R.headers.forEach(function(Q,te){U.indexOf(te)===-1&&M.setRequestHeader(te,Q)})}else R.headers.forEach(function(Q,te){M.setRequestHeader(te,Q)});R.signal&&(R.signal.addEventListener("abort",k),M.onreadystatechange=function(){M.readyState===4&&R.signal.removeEventListener("abort",k)}),M.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return w.polyfill=!0,a.fetch||(a.fetch=w,a.Headers=x,a.Request=q,a.Response=ee),o.Headers=x,o.Request=q,o.Response=ee,o.fetch=w,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(k_,k_.exports);var vX=k_.exports;const II=Ks(vX);var EX=Object.defineProperty,_X=Object.defineProperties,xX=Object.getOwnPropertyDescriptors,RI=Object.getOwnPropertySymbols,SX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,kI=(t,e,n)=>e in t?EX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NI=(t,e)=>{for(var n in e||(e={}))SX.call(e,n)&&kI(t,n,e[n]);if(RI)for(var n of RI(e))AX.call(e,n)&&kI(t,n,e[n]);return t},OI=(t,e)=>_X(t,xX(e));const CX={Accept:"application/json","Content-Type":"application/json"},TX="POST",BI={headers:CX,method:TX},DI=10;let _o=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ys.EventEmitter,this.isAvailable=!1,this.registering=!1,!ZT(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=za(e),r=await(await II(this.url,OI(NI({},BI),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!ZT(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=za({id:1,jsonrpc:"2.0",method:"test",params:[]});await II(e,OI(NI({},BI),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xl(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=iw(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return q8(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>DI&&this.events.setMaxListeners(DI)}};const PI="error",IX="wss://relay.walletconnect.org",RX="wc",kX="universal_provider",a0=`${RX}@2:${kX}:`,gB="https://rpc.walletconnect.org/v1/",ud="generic",NX=`${gB}bundler`,Xs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function OX(){}function OS(t){return t==null||typeof t!="object"&&typeof t!="function"}function BS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BX(t){if(OS(t))return t;if(Array.isArray(t)||BS(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function $I(t){return typeof t=="object"&&t!==null}function mB(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function yB(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const DX="[object RegExp]",bB="[object String]",wB="[object Number]",vB="[object Boolean]",EB="[object Arguments]",PX="[object Symbol]",$X="[object Date]",MX="[object Map]",UX="[object Set]",LX="[object Array]",zX="[object ArrayBuffer]",FX="[object Object]",jX="[object DataView]",HX="[object Uint8Array]",qX="[object Uint8ClampedArray]",VX="[object Uint16Array]",WX="[object Uint32Array]",KX="[object Int8Array]",GX="[object Int16Array]",YX="[object Int32Array]",ZX="[object Float32Array]",XX="[object Float64Array]";function QX(t,e){return Sd(t,void 0,t,new Map,e)}function Sd(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!=null)return s;if(OS(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Sd(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Sd(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Sd(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(BS(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Sd(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),_l(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),_l(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),_l(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,_l(o,t,n,r,i),o}if(typeof t=="object"&&JX(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),_l(o,t,n,r,i),o}return t}function _l(t,e,n=t,r,i){const s=[...Object.keys(e),...mB(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Sd(e[a],a,n,r,i))}}function JX(t){switch(yB(t)){case EB:case LX:case zX:case jX:case vB:case $X:case ZX:case XX:case KX:case GX:case YX:case MX:case wB:case FX:case DX:case UX:case bB:case PX:case HX:case qX:case VX:case WX:return!0;default:return!1}}function eQ(t,e){return QX(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case wB:case bB:case vB:{const o=new t.constructor(t?.valueOf());return _l(o,t),o}case EB:{const o={};return _l(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function MI(t){return eQ(t)}function UI(t){return t!==null&&typeof t=="object"&&yB(t)==="[object Arguments]"}function tQ(t){return BS(t)}function nQ(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function rQ(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=N_(i,o,r,new Map)}return i}function N_(t,e,n,r){if(OS(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return BX(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...mB(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(UI(a)&&(a={...a}),UI(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=MI(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const h=[],f=Reflect.ownKeys(c);for(let g=0;g<f.length;g++){const m=f[g];h[m]=c[m]}c=h}else c=[];const u=n(c,a,o,t,e,r);u!=null?t[o]=u:Array.isArray(a)||$I(c)&&$I(a)?t[o]=N_(c,a,n,r):c==null&&nQ(a)?t[o]=N_({},a,n,r):c==null&&tQ(a)?t[o]=MI(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function iQ(t,...e){return rQ(t,...e,OX)}var sQ=Object.defineProperty,oQ=Object.defineProperties,aQ=Object.getOwnPropertyDescriptors,LI=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,zI=(t,e,n)=>e in t?sQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c0=(t,e)=>{for(var n in e||(e={}))cQ.call(e,n)&&zI(t,n,e[n]);if(LI)for(var n of LI(e))lQ.call(e,n)&&zI(t,n,e[n]);return t},uQ=(t,e)=>oQ(t,aQ(e));function gs(t,e,n){var r;const i=Ld(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${gB}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function vu(t){return t.includes(":")?t.split(":")[1]:t}function _B(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function dQ(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function a1(t={},e={}){const n=FI(t),r=FI(e);return iQ(n,r)}function FI(t){var e,n,r,i;const s={};if(!Pp(t))return s;for(const[o,a]of Object.entries(t)){const c=TS(o)?[o]:a.chains,u=a.methods||[],h=a.events||[],f=a.rpcMap||{},g=Pf(o);s[g]=uQ(c0(c0({},s[g]),a),{chains:Q0(c,(e=s[g])==null?void 0:e.chains),methods:Q0(u,(n=s[g])==null?void 0:n.methods),events:Q0(h,(r=s[g])==null?void 0:r.events),rpcMap:c0(c0({},f),(i=s[g])==null?void 0:i.rpcMap)})}return s}function jI(t){return t.includes(":")?t.split(":")[2]:t}function HI(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=TS(n)?[n]:r.chains?r.chains:_B(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function c1(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const xB={},$t=t=>xB[t],l1=(t,e)=>{xB[t]=e};var hQ=Object.defineProperty,fQ=(t,e,n)=>e in t?hQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hu=(t,e,n)=>fQ(t,typeof e!="symbol"?e+"":e,n);class pQ{constructor(e){Hu(this,"name","polkadot"),Hu(this,"client"),Hu(this,"httpProviders"),Hu(this,"events"),Hu(this,"namespace"),Hu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=vu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var gQ=Object.defineProperty,mQ=Object.defineProperties,yQ=Object.getOwnPropertyDescriptors,qI=Object.getOwnPropertySymbols,bQ=Object.prototype.hasOwnProperty,wQ=Object.prototype.propertyIsEnumerable,O_=(t,e,n)=>e in t?gQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,VI=(t,e)=>{for(var n in e||(e={}))bQ.call(e,n)&&O_(t,n,e[n]);if(qI)for(var n of qI(e))wQ.call(e,n)&&O_(t,n,e[n]);return t},WI=(t,e)=>mQ(t,yQ(e)),qu=(t,e,n)=>O_(t,typeof e!="symbol"?e+"":e,n);class vQ{constructor(e){qu(this,"name","eip155"),qu(this,"client"),qu(this,"chainId"),qu(this,"namespace"),qu(this,"httpProviders"),qu(this,"events"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||gs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(vu(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const s=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o?.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a?.[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:WI(VI({},o.sessionProperties||{}),{capabilities:WI(VI({},a||{}),{[s]:c})})})}catch(u){console.warn("Failed to update session with capabilities",u)}return c}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${NX}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var EQ=Object.defineProperty,_Q=(t,e,n)=>e in t?EQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vu=(t,e,n)=>_Q(t,typeof e!="symbol"?e+"":e,n);class xQ{constructor(e){Vu(this,"name","solana"),Vu(this,"client"),Vu(this,"httpProviders"),Vu(this,"events"),Vu(this,"namespace"),Vu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=vu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var SQ=Object.defineProperty,AQ=(t,e,n)=>e in t?SQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wu=(t,e,n)=>AQ(t,typeof e!="symbol"?e+"":e,n);class CQ{constructor(e){Wu(this,"name","cosmos"),Wu(this,"client"),Wu(this,"httpProviders"),Wu(this,"events"),Wu(this,"namespace"),Wu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=vu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var TQ=Object.defineProperty,IQ=(t,e,n)=>e in t?TQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ku=(t,e,n)=>IQ(t,typeof e!="symbol"?e+"":e,n);class RQ{constructor(e){Ku(this,"name","algorand"),Ku(this,"client"),Ku(this,"httpProviders"),Ku(this,"events"),Ku(this,"namespace"),Ku(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||gs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Zs(new _o(r,$t("disableProviderPing")))}}var kQ=Object.defineProperty,NQ=(t,e,n)=>e in t?kQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gu=(t,e,n)=>NQ(t,typeof e!="symbol"?e+"":e,n);class OQ{constructor(e){Gu(this,"name","cip34"),Gu(this,"client"),Gu(this,"httpProviders"),Gu(this,"events"),Gu(this,"namespace"),Gu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=vu(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var BQ=Object.defineProperty,DQ=(t,e,n)=>e in t?BQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yu=(t,e,n)=>DQ(t,typeof e!="symbol"?e+"":e,n);class PQ{constructor(e){Yu(this,"name","elrond"),Yu(this,"client"),Yu(this,"httpProviders"),Yu(this,"events"),Yu(this,"namespace"),Yu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=vu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var $Q=Object.defineProperty,MQ=(t,e,n)=>e in t?$Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zu=(t,e,n)=>MQ(t,typeof e!="symbol"?e+"":e,n);class UQ{constructor(e){Zu(this,"name","multiversx"),Zu(this,"client"),Zu(this,"httpProviders"),Zu(this,"events"),Zu(this,"namespace"),Zu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=vu(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var LQ=Object.defineProperty,zQ=(t,e,n)=>e in t?LQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xu=(t,e,n)=>zQ(t,typeof e!="symbol"?e+"":e,n);class FQ{constructor(e){Xu(this,"name","near"),Xu(this,"client"),Xu(this,"httpProviders"),Xu(this,"events"),Xu(this,"namespace"),Xu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||gs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace);return typeof r>"u"?void 0:new Zs(new _o(r,$t("disableProviderPing")))}}var jQ=Object.defineProperty,HQ=(t,e,n)=>e in t?jQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qu=(t,e,n)=>HQ(t,typeof e!="symbol"?e+"":e,n);class qQ{constructor(e){Qu(this,"name","tezos"),Qu(this,"client"),Qu(this,"httpProviders"),Qu(this,"events"),Qu(this,"namespace"),Qu(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||gs(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace);return typeof r>"u"?void 0:new Zs(new _o(r))}}var VQ=Object.defineProperty,WQ=(t,e,n)=>e in t?VQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ju=(t,e,n)=>WQ(t,typeof e!="symbol"?e+"":e,n);class KQ{constructor(e){Ju(this,"name",ud),Ju(this,"client"),Ju(this,"httpProviders"),Ju(this,"events"),Ju(this,"namespace"),Ju(this,"chainId"),this.namespace=e.namespace,this.events=$t("events"),this.client=$t("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Xs.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=Ld(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||gs(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Zs(new _o(r,$t("disableProviderPing")))}}var GQ=Object.defineProperty,YQ=Object.defineProperties,ZQ=Object.getOwnPropertyDescriptors,KI=Object.getOwnPropertySymbols,XQ=Object.prototype.hasOwnProperty,QQ=Object.prototype.propertyIsEnumerable,B_=(t,e,n)=>e in t?GQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l0=(t,e)=>{for(var n in e||(e={}))XQ.call(e,n)&&B_(t,n,e[n]);if(KI)for(var n of KI(e))QQ.call(e,n)&&B_(t,n,e[n]);return t},u1=(t,e)=>YQ(t,ZQ(e)),xs=(t,e,n)=>B_(t,typeof e!="symbol"?e+"":e,n);let JQ=class SB{constructor(e){xs(this,"client"),xs(this,"namespaces"),xs(this,"optionalNamespaces"),xs(this,"sessionProperties"),xs(this,"scopedProperties"),xs(this,"events",new aS),xs(this,"rpcProviders",{}),xs(this,"session"),xs(this,"providerOpts"),xs(this,"logger"),xs(this,"uri"),xs(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Zg(Bh({level:e?.logger||PI})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new SB(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:l0({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,rw(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Gt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=HI(this.session.namespaces);this.namespaces=a1(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=HI(i.namespaces);return this.namespaces=a1(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===ud?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(Rc(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await wX.init({core:this.providerOpts.core,logger:this.providerOpts.logger||PI,relayUrl:this.providerOpts.relayUrl||IX,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Pf(n)))];l1("client",this.client),l1("events",this.events),l1("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=dQ(n,this.session),i=_B(r),s=a1(this.namespaces,this.optionalNamespaces),o=u1(l0({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new vQ({namespace:o});break;case"algorand":this.rpcProviders[n]=new RQ({namespace:o});break;case"solana":this.rpcProviders[n]=new xQ({namespace:o});break;case"cosmos":this.rpcProviders[n]=new CQ({namespace:o});break;case"polkadot":this.rpcProviders[n]=new pQ({namespace:o});break;case"cip34":this.rpcProviders[n]=new OQ({namespace:o});break;case"elrond":this.rpcProviders[n]=new PQ({namespace:o});break;case"multiversx":this.rpcProviders[n]=new UQ({namespace:o});break;case"near":this.rpcProviders[n]=new FQ({namespace:o});break;case"tezos":this.rpcProviders[n]=new qQ({namespace:o});break;default:this.rpcProviders[ud]?this.rpcProviders[ud].updateNamespace(o):this.rpcProviders[ud]=new KQ({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&Rc(o)&&this.events.emit("accountsChanged",o.map(jI))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=Pf(o),u=c1(o)!==c1(a)?`${c}:${c1(a)}`:o;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=u1(l0({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",u1(l0({},Gt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Xs.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ud]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>Pf(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Pf(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(jI);if(!Rc(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${a0}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${a0}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${a0}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(a0)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var ch={};const eJ="https://secure.walletconnect.org/sdk",tJ=(typeof process<"u"&&typeof ch<"u"?ch.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||eJ,nJ=(typeof process<"u"&&typeof ch<"u"?ch.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",rJ=(typeof process<"u"&&typeof ch<"u"?ch.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",He={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Zr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},gl=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),fr=wn({...gl}),iJ={state:fr,subscribeKey(t,e){return gi(fr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=rt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){fr.message=gl.message,fr.variant=gl.variant,fr.svg=gl.svg,fr.open=gl.open,fr.autoClose=gl.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=gl.autoClose}){fr.open?(fr.open=!1,setTimeout(()=>{fr.message=t,fr.variant=n,fr.svg=e,fr.open=!0,fr.autoClose=r},150)):(fr.message=t,fr.variant=n,fr.svg=e,fr.open=!0,fr.autoClose=r)}},lo=iJ,Qf={getSIWX(){return we.state.siwx},async initializeIfEnabled(){const t=we.state.siwx,e=Z.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(Z.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await ir.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),mn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await st._getClient()?.disconnect().catch(console.error),Tt.reset("Connect"),lo.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=we.state.siwx,e=rt.getPlainAddress(Z.getActiveCaipAddress()),n=Z.getActiveCaipNetwork(),r=st._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();ze.getConnectorId(n.chainNamespace)===Te.CONNECTOR_ID.AUTH&&Tt.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),ir.close(),mn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!ir.state.open||Tt.state.view==="ApproveTransaction")&&await ir.open({view:"SIWXSignMessage"}),s.isSmartAccount?lo.showError("This application might not support Smart Accounts"):lo.showError("Signature declined"),mn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await st.disconnect():ir.close(),Tt.reset("Connect"),mn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getSessions(){const t=we.state.siwx,e=rt.getPlainAddress(Z.getActiveCaipAddress()),n=Z.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Tt.state.view==="ApproveTransaction",n=Tt.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=Qf.getSIWX(),i=new Set(e.map(a=>a.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:Z.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(a=>a!==s.chainId)]});if(lo.showLoading("Authenticating...",{autoClose:!1}),Ve.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),o?.auths?.length){const a=o.auths.map(c=>{const u=t.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:u,signature:c.s.s,cacao:c}});try{await r.setSessions(a),mn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Qf.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),mn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Qf.getSIWXEventProperties()}),await t.disconnect().catch(console.error),c}finally{lo.hide()}}return!0},getSIWXEventProperties(){const t=Z.state.activeChain;return{network:Z.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Ve.state.preferredAccountTypes?.[t]===Zr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},sn=wn({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),sJ={state:sn,subscribe(t){return fi(sn,()=>t(sn))},setLastNetworkInView(t){sn.lastNetworkInView=t},async fetchTransactions(t,e){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");sn.loading=!0;try{const n=await ct.fetchTransactions({account:t,cursor:sn.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:Z.state.activeCaipNetwork?.caipNetworkId}),r=Mf.filterSpamTransactions(n.data),i=Mf.filterByConnectedChain(r),s=[...sn.transactions,...i];sn.loading=!1,e==="coinbase"?sn.coinbaseTransactions=Mf.groupTransactionsByYearAndMonth(sn.coinbaseTransactions,n.data):(sn.transactions=s,sn.transactionsByYear=Mf.groupTransactionsByYearAndMonth(sn.transactionsByYear,i)),sn.empty=s.length===0,sn.next=n.next?n.next:void 0}catch{const r=Z.state.activeChain;mn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:we.state.projectId,cursor:sn.next,isSmartAccount:Ve.state.preferredAccountTypes?.[r]===Zr.ACCOUNT_TYPES.SMART_ACCOUNT}}),lo.showError("Failed to fetch transactions"),sn.loading=!1,sn.empty=!0,sn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(u=>u.id!==r.id);n[i]={...o,[s]:[...c,r].sort((u,h)=>new Date(h.metadata.minedAt).getTime()-new Date(u.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=Z.state.activeCaipNetwork?.caipNetworkId;return t.filter(r=>r.metadata.chain===e)},clearCursor(){sn.next=void 0},resetTransactions(){sn.transactions=[],sn.transactionsByYear={},sn.lastNetworkInView=void 0,sn.loading=!1,sn.empty=!1,sn.next=void 0}},Mf=Gs(sJ,"API_ERROR"),hn=wn({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let dl;const oJ={state:hn,subscribeKey(t,e){return gi(hn,t,e)},_getClient(){return hn._client},setClient(t){hn._client=qc(t)},async connectWalletConnect(){if(rt.isTelegram()||rt.isSafari()&&rt.isIos()){if(dl){await dl,dl=void 0;return}if(!rt.isPairingExpired(hn?.wcPairingExpiry)){const t=hn.wcUri;hn.wcUri=t;return}dl=st._getClient()?.connectWalletConnect?.().catch(()=>{}),st.state.status="connecting",await dl,dl=void 0,hn.wcPairingExpiry=void 0,st.state.status="connected"}else await st._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){await st._getClient()?.connectExternal?.(t),n&&Z.setActiveNamespace(e)},async reconnectExternal(t){await st._getClient()?.reconnectExternal?.(t);const e=t.chain||Z.state.activeChain;e&&ze.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){ir.setLoading(!0,Z.state.activeChain);const n=ze.getAuthConnector();n&&(Ve.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),Pe.setPreferredAccountTypes(Ve.state.preferredAccountTypes??{[e]:t}),await st.reconnectExternal(n),ir.setLoading(!1,Z.state.activeChain),mn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return st._getClient()?.signMessage(t)},parseUnits(t,e){return st._getClient()?.parseUnits(t,e)},formatUnits(t,e){return st._getClient()?.formatUnits(t,e)},async sendTransaction(t){return st._getClient()?.sendTransaction(t)},async getCapabilities(t){return st._getClient()?.getCapabilities(t)},async grantPermissions(t){return st._getClient()?.grantPermissions(t)},async walletGetAssets(t){return st._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return st._getClient()?.estimateGas(t)},async writeContract(t){return st._getClient()?.writeContract(t)},async getEnsAddress(t){return st._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return st._getClient()?.getEnsAvatar(t)},checkInstalled(t){return st._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){hn.wcUri=void 0,hn.wcPairingExpiry=void 0,hn.wcLinking=void 0,hn.recentWallet=void 0,hn.status="disconnected",Mf.resetTransactions(),Pe.deleteWalletConnectDeepLink()},resetUri(){hn.wcUri=void 0,hn.wcPairingExpiry=void 0,dl=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=st.state;t&&Pe.setWalletConnectDeepLink(t),e&&Pe.setAppKitRecent(e),mn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:Tt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){hn.wcBasic=t},setUri(t){hn.wcUri=t,hn.wcPairingExpiry=rt.getPairingExpiry()},setWcLinking(t){hn.wcLinking=t},setWcError(t){hn.wcError=t,hn.buffering=!1},setRecentWallet(t){hn.recentWallet=t},setBuffering(t){hn.buffering=t},setStatus(t){hn.status=t},async disconnect(t){try{ir.setLoading(!0,t),await Qf.clearSessions(),await Z.disconnect(t),ir.setLoading(!1,t),ze.setFilterByNamespace(void 0)}catch(e){throw new Ap("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(t,e){hn.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(ze.state.activeConnectorIds[n]===t.connectorId){const s=Z.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;Ve.setCaipAddress(o,n)}else console.warn(`No current network found for namespace "${n}"`)}else{const s=ze.getConnector(t.connectorId);s?st.connectExternal(s,n):console.warn(`No connector found for namespace "${n}"`)}}},st=Gs(oJ),ed=wn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),jo={state:ed,subscribe(t){return fi(ed,()=>t(ed))},subscribeOpen(t){return gi(ed,"open",t)},set(t){Object.assign(ed,{...ed,...t})}};function aJ(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function GI(t){return aJ(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const AB="2.29.4";let d1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${AB}`};class ms extends Error{constructor(e,n={}){const r=n.cause instanceof ms?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof ms&&n.cause.docsPath||n.docsPath,s=d1.getDocsUrl?.({...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...d1.version?[`Version: ${d1.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=AB}walk(e){return CB(this,e)}}function CB(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?CB(t.cause,e):e?null:t}class TB extends ms{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function DS(t,{dir:e,size:n=32}={}){return typeof t=="string"?cJ(t,{dir:e,size:n}):lJ(t,{dir:e,size:n})}function cJ(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new TB({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function lJ(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new TB({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class uJ extends ms{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class dJ extends ms{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function IB(t,{size:e}){if(GI(t)>e)throw new dJ({givenSize:GI(t),maxSize:e})}const hJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function YI(t,e={}){return typeof t=="number"||typeof t=="bigint"?pJ(t,e):typeof t=="string"?kB(t,e):typeof t=="boolean"?fJ(t,e):RB(t,e)}function fJ(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(IB(n,{size:e.size}),DS(n,{size:e.size})):n}function RB(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=hJ[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(IB(r,{size:e.size}),DS(r,{dir:"right",size:e.size})):r}function pJ(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new uJ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?DS(a,{size:r}):a}const gJ=new TextEncoder;function kB(t,e={}){const n=gJ.encode(t);return RB(n,e)}class mJ extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Ul=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function yJ(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}const PS=t=>t;class Jf extends ms{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${PS(o)}`,e&&`Request body: ${Ul(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class NB extends ms{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${PS(r)}`,`Request body: ${Ul(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ZI extends ms{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${PS(n)}`,`Request body: ${Ul(e)}`],name:"TimeoutError"})}}const bJ=-1;class Gi extends ms{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof NB?e.code:n??bJ}}class bs extends Gi{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Mp extends Gi{constructor(e){super(e,{code:Mp.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Mp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Up extends Gi{constructor(e){super(e,{code:Up.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Lp extends Gi{constructor(e,{method:n}={}){super(e,{code:Lp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class zp extends Gi{constructor(e){super(e,{code:zp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class lh extends Gi{constructor(e){super(e,{code:lh.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Fp extends Gi{constructor(e){super(e,{code:Fp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class jp extends Gi{constructor(e){super(e,{code:jp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Hp extends Gi{constructor(e){super(e,{code:Hp.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class uh extends Gi{constructor(e){super(e,{code:uh.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Rl extends Gi{constructor(e,{method:n}={}){super(e,{code:Rl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Rl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class dh extends Gi{constructor(e){super(e,{code:dh.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class qp extends Gi{constructor(e){super(e,{code:qp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Ll extends bs{constructor(e){super(e,{code:Ll.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Ll,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Vp extends bs{constructor(e){super(e,{code:Vp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Wp extends bs{constructor(e,{method:n}={}){super(e,{code:Wp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Kp extends bs{constructor(e){super(e,{code:Kp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Gp extends bs{constructor(e){super(e,{code:Gp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Yp extends bs{constructor(e){super(e,{code:Yp.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Zp extends bs{constructor(e){super(e,{code:Zp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Xp extends bs{constructor(e){super(e,{code:Xp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Qp extends bs{constructor(e){super(e,{code:Qp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Jp extends bs{constructor(e){super(e,{code:Jp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class eg extends bs{constructor(e){super(e,{code:eg.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class tg extends bs{constructor(e){super(e,{code:tg.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(tg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ng extends bs{constructor(e){super(e,{code:ng.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ng,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class wJ extends Gi{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class $S extends ms{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty($S,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty($S,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MS=BigInt(0),D_=BigInt(1);function lm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function US(t){if(!lm(t))throw new Error("Uint8Array expected")}function kc(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function u0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function OB(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?MS:BigInt("0x"+t)}const BB=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",vJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hh(t){if(US(t),BB)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=vJ[t[n]];return e}const ua={_0:48,_9:57,A:65,F:70,a:97,f:102};function XI(t){if(t>=ua._0&&t<=ua._9)return t-ua._0;if(t>=ua.A&&t<=ua.F)return t-(ua.A-10);if(t>=ua.a&&t<=ua.f)return t-(ua.a-10)}function Oy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(BB)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=XI(t.charCodeAt(s)),a=XI(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function zl(t){return OB(hh(t))}function ep(t){return US(t),OB(hh(Uint8Array.from(t).reverse()))}function um(t,e){return Oy(t.toString(16).padStart(e*2,"0"))}function By(t,e){return um(t,e).reverse()}function er(t,e,n){let r;if(typeof e=="string")try{r=Oy(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(lm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function fh(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];US(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const h1=t=>typeof t=="bigint"&&MS<=t;function LS(t,e,n){return h1(t)&&h1(e)&&h1(n)&&e<=t&&t<n}function uo(t,e,n,r){if(!LS(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function EJ(t){let e;for(e=0;t>MS;t>>=D_,e+=1);return e}const cw=t=>(D_<<BigInt(t))-D_,f1=t=>new Uint8Array(t),QI=t=>Uint8Array.from(t);function _J(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=f1(t),i=f1(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),c=(f=f1(0))=>{i=a(QI([0]),f),r=a(),f.length!==0&&(i=a(QI([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const g=[];for(;f<e;){r=a();const m=r.slice();g.push(m),f+=r.length}return fh(...g)};return(f,g)=>{o(),c(f);let m;for(;!(m=g(u()));)c();return o(),m}}const xJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||lm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dm(t,e,n={}){const r=(i,s,o)=>{const a=xJ[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Dy(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}function SJ(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const p1=new Map;function AJ({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const h=c();o();const f=h.map(({args:g})=>g);f.length!==0&&t(f).then(g=>{i&&Array.isArray(g)&&g.sort(i);for(let m=0;m<h.length;m++){const{resolve:_}=h[m];_?.([g[m],g])}}).catch(g=>{for(let m=0;m<h.length;m++){const{reject:_}=h[m];_?.(g)}})},o=()=>p1.delete(e),a=()=>c().map(({args:h})=>h),c=()=>p1.get(e)||[],u=h=>p1.set(e,[...c(),h]);return{flush:o,async schedule(h){const{promise:f,resolve:g,reject:m}=SJ();return n?.([...a(),h])&&s(),c().length>0?(u({args:h,resolve:g,reject:m}),f):(u({args:h,resolve:g,reject:m}),setTimeout(s,r),f)}}}async function DB(t){return new Promise(e=>setTimeout(e,t))}const P_=256;let d0=P_,h0;function CJ(t=11){if(!h0||d0+t>P_*2){h0="",d0=0;for(let e=0;e<P_;e++)h0+=(256+Math.random()*256|0).toString(16).substring(1)}return h0.substring(d0,d0+++t)}const f0=new mJ(8192);function TJ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(f0.get(n))return f0.get(n);const r=t().finally(()=>f0.delete(n));return f0.set(n,r),r}function IJ(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const h=typeof e=="function"?e({count:a,error:u}):e;h&&await DB(h),o({count:a+1})};try{const u=await t();i(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});s(u)}};o()})}function RJ(t,e={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=n;if(s?.exclude?.includes(u))throw new Rl(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new Rl(new Error("method not supported"),{method:u});const h=i?kB(`${c}.${Ul(n)}`):void 0;return TJ(()=>IJ(async()=>{try{return await t(n)}catch(f){const g=f;switch(g.code){case Mp.code:throw new Mp(g);case Up.code:throw new Up(g);case Lp.code:throw new Lp(g,{method:n.method});case zp.code:throw new zp(g);case lh.code:throw new lh(g);case Fp.code:throw new Fp(g);case jp.code:throw new jp(g);case Hp.code:throw new Hp(g);case uh.code:throw new uh(g);case Rl.code:throw new Rl(g,{method:n.method});case dh.code:throw new dh(g);case qp.code:throw new qp(g);case Ll.code:throw new Ll(g);case Vp.code:throw new Vp(g);case Wp.code:throw new Wp(g);case Kp.code:throw new Kp(g);case Gp.code:throw new Gp(g);case Yp.code:throw new Yp(g);case Zp.code:throw new Zp(g);case Xp.code:throw new Xp(g);case Qp.code:throw new Qp(g);case Jp.code:throw new Jp(g);case eg.code:throw new eg(g);case tg.code:throw new tg(g);case ng.code:throw new ng(g);case 5e3:throw new Ll(g);default:throw f instanceof ms?f:new wJ(g)}}},{delay:({count:f,error:g})=>{if(g&&g instanceof Jf){const m=g?.headers?.get("Retry-After");if(m?.match(/\d/))return Number.parseInt(m)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>kJ(f)}),{enabled:i,id:h})}}function kJ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===dh.code||t.code===lh.code:t instanceof Jf&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function PB({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=CJ();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:RJ(r,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:c}}function JI(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=NJ,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:u=4e3,timeout:h,...f})=>{let g=t,m=()=>{};const _=PB({key:n,name:r,async request({method:x,params:T}){let S;const C=async(I=0)=>{const P=g[I]({...f,chain:c,retryCount:0,timeout:h});try{const z=await P.request({method:x,params:T});return m({method:x,params:T,response:z,transport:P,status:"success"}),z}catch(z){if(m({error:z,method:x,params:T,transport:P,status:"error"}),s(z)||I===g.length-1||(S??=g.slice(I+1).some(W=>{const{include:L,exclude:V}=W({chain:c}).config.methods||{};return L?L.includes(x):V?!V.includes(x):!0}),!S))throw z;return C(I+1)}};return C()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:x=>m=x,transports:g.map(x=>x({chain:c,retryCount:0}))});if(i){const x=typeof i=="object"?i:{};OJ({chain:c,interval:x.interval??u,onTransports:T=>g=T,ping:x.ping,sampleCount:x.sampleCount,timeout:x.timeout,transports:g,weights:x.weights})}return _}}function NJ(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===uh.code||t.code===Ll.code||$S.nodeMessage.test(t.message)||t.code===5e3))}function OJ({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,h=[],f=async()=>{const g=await Promise.all(o.map(async x=>{const T=x({chain:t,retryCount:0,timeout:s}),S=Date.now();let C,I;try{await(r?r({transport:T}):T.request({method:"net_listening"})),I=1}catch{I=0}finally{C=Date.now()}return{latency:C-S,success:I}}));h.push(g),h.length>i&&h.shift();const m=Math.max(...h.map(x=>Math.max(...x.map(({latency:T})=>T)))),_=o.map((x,T)=>{const S=h.map(W=>W[T].latency),I=1-S.reduce((W,L)=>W+L,0)/S.length/m,P=h.map(W=>W[T].success),z=P.reduce((W,L)=>W+L,0)/P.length;return z===0?[0,T]:[u*I+c*z,T]}).sort((x,T)=>T[0]-x[0]);n(_.map(([,x])=>o[x])),await DB(e),f()};f()}class BJ extends ms{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function DJ(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function PJ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const eR=PJ();function $J(t,e={}){return{async request(n){const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=a;try{const f=await DJ(async({signal:m})=>{const _={...a,body:Array.isArray(r)?Ul(r.map(C=>({jsonrpc:"2.0",id:C.id??eR.take(),...C}))):Ul({jsonrpc:"2.0",id:r.id??eR.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(o>0?m:null)},x=new Request(t,_),T=await i?.(x,_)??{..._,url:t};return await fetch(T.url??t,T)},{errorInstance:new ZI({body:r,url:t}),timeout:o,signal:!0});s&&await s(f);let g;if(f.headers.get("Content-Type")?.startsWith("application/json"))g=await f.json();else{g=await f.text();try{g=JSON.parse(g||"{}")}catch(m){if(f.ok)throw m;g={error:g}}}if(!f.ok)throw new Jf({body:r,details:Ul(g.error)||f.statusText,headers:f.headers,status:f.status,url:t});return g}catch(f){throw f instanceof Jf||f instanceof ZI?f:new Jf({body:r,cause:f,url:t})}}}}function p0(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:g,timeout:m})=>{const{batchSize:_=1e3,wait:x=0}=typeof n=="object"?n:{},T=e.retryCount??g,S=m??e.timeout??1e4,C=t||f?.rpcUrls.default.http[0];if(!C)throw new BJ;const I=$J(C,{fetchOptions:r,onRequest:a,onResponse:c,timeout:S});return PB({key:i,methods:s,name:o,async request({method:P,params:z}){const W={method:P,params:z},{schedule:L}=AJ({id:C,wait:x,shouldSplitBatch(Y){return Y.length>_},fn:Y=>I.request({body:Y}),sort:(Y,ee)=>Y.id-ee.id}),V=async Y=>n?L(Y):[await I.request({body:Y})],[{error:q,result:X}]=await V(W);if(h)return{error:q,result:X};if(q)throw new NB({body:W,error:q,url:C});return X},retryCount:T,retryDelay:u,timeout:S,type:"http"},{fetchOptions:r,url:C})}}const td=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MJ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hm(t,...e){if(!MJ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function UJ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$_(t.outputLen),$_(t.blockLen)}function Py(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LJ(t,e){hm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ph(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function g1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ro(t,e){return t<<32-e|t>>>e}function zJ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function zS(t){return typeof t=="string"&&(t=zJ(t)),hm(t),t}function FJ(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];hm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class $B{}function MB(t){const e=r=>t().update(zS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function UB(t=32){if(td&&typeof td.getRandomValues=="function")return td.getRandomValues(new Uint8Array(t));if(td&&typeof td.randomBytes=="function")return Uint8Array.from(td.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function jJ(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function HJ(t,e,n){return t&e^~t&n}function qJ(t,e,n){return t&e^t&n^e&n}class LB extends $B{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=g1(this.buffer)}update(e){Py(this),e=zS(e),hm(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=g1(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Py(this),LJ(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,ph(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;jJ(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=g1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const nc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ri=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),g0=BigInt(2**32-1),tR=BigInt(32);function VJ(t,e=!1){return e?{h:Number(t&g0),l:Number(t>>tR&g0)}:{h:Number(t>>tR&g0)|0,l:Number(t&g0)|0}}function WJ(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=VJ(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const nR=(t,e,n)=>t>>>n,rR=(t,e,n)=>t<<32-n|e>>>n,nd=(t,e,n)=>t>>>n|e<<32-n,rd=(t,e,n)=>t<<32-n|e>>>n,m0=(t,e,n)=>t<<64-n|e>>>n-32,y0=(t,e,n)=>t>>>n-32|e<<64-n;function da(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const KJ=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),GJ=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,YJ=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ZJ=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,XJ=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),QJ=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,JJ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rc=new Uint32Array(64);class eee extends LB{constructor(e=32){super(64,e,8,!1),this.A=nc[0]|0,this.B=nc[1]|0,this.C=nc[2]|0,this.D=nc[3]|0,this.E=nc[4]|0,this.F=nc[5]|0,this.G=nc[6]|0,this.H=nc[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)rc[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const g=rc[f-15],m=rc[f-2],_=Ro(g,7)^Ro(g,18)^g>>>3,x=Ro(m,17)^Ro(m,19)^m>>>10;rc[f]=x+rc[f-7]+_+rc[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){const g=Ro(a,6)^Ro(a,11)^Ro(a,25),m=h+g+HJ(a,c,u)+JJ[f]+rc[f]|0,x=(Ro(r,2)^Ro(r,13)^Ro(r,22))+qJ(r,i,s)|0;h=u,u=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+x|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,i,s,o,a,c,u,h)}roundClean(){ph(rc)}destroy(){this.set(0,0,0,0,0,0,0,0),ph(this.buffer)}}const zB=WJ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),tee=zB[0],nee=zB[1],ic=new Uint32Array(80),sc=new Uint32Array(80);class ree extends LB{constructor(e=64){super(128,e,16,!1),this.Ah=ri[0]|0,this.Al=ri[1]|0,this.Bh=ri[2]|0,this.Bl=ri[3]|0,this.Ch=ri[4]|0,this.Cl=ri[5]|0,this.Dh=ri[6]|0,this.Dl=ri[7]|0,this.Eh=ri[8]|0,this.El=ri[9]|0,this.Fh=ri[10]|0,this.Fl=ri[11]|0,this.Gh=ri[12]|0,this.Gl=ri[13]|0,this.Hh=ri[14]|0,this.Hl=ri[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:g,Gh:m,Gl:_,Hh:x,Hl:T}=this;return[e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,T]}set(e,n,r,i,s,o,a,c,u,h,f,g,m,_,x,T){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=m|0,this.Gl=_|0,this.Hh=x|0,this.Hl=T|0}process(e,n){for(let I=0;I<16;I++,n+=4)ic[I]=e.getUint32(n),sc[I]=e.getUint32(n+=4);for(let I=16;I<80;I++){const P=ic[I-15]|0,z=sc[I-15]|0,W=nd(P,z,1)^nd(P,z,8)^nR(P,z,7),L=rd(P,z,1)^rd(P,z,8)^rR(P,z,7),V=ic[I-2]|0,q=sc[I-2]|0,X=nd(V,q,19)^m0(V,q,61)^nR(V,q,6),Y=rd(V,q,19)^y0(V,q,61)^rR(V,q,6),ee=YJ(L,Y,sc[I-7],sc[I-16]),j=ZJ(ee,W,X,ic[I-7],ic[I-16]);ic[I]=j|0,sc[I]=ee|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:g,Fh:m,Fl:_,Gh:x,Gl:T,Hh:S,Hl:C}=this;for(let I=0;I<80;I++){const P=nd(f,g,14)^nd(f,g,18)^m0(f,g,41),z=rd(f,g,14)^rd(f,g,18)^y0(f,g,41),W=f&m^~f&x,L=g&_^~g&T,V=XJ(C,z,L,nee[I],sc[I]),q=QJ(V,S,P,W,tee[I],ic[I]),X=V|0,Y=nd(r,i,28)^m0(r,i,34)^m0(r,i,39),ee=rd(r,i,28)^y0(r,i,34)^y0(r,i,39),j=r&s^r&a^s&a,w=i&o^i&c^o&c;S=x|0,C=T|0,x=m|0,T=_|0,m=f|0,_=g|0,{h:f,l:g}=da(u|0,h|0,q|0,X|0),u=a|0,h=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const b=KJ(X,ee,w);r=GJ(b,q,Y,j),i=b|0}({h:r,l:i}=da(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=da(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=da(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=da(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=da(this.Eh|0,this.El|0,f|0,g|0),{h:m,l:_}=da(this.Fh|0,this.Fl|0,m|0,_|0),{h:x,l:T}=da(this.Gh|0,this.Gl|0,x|0,T|0),{h:S,l:C}=da(this.Hh|0,this.Hl|0,S|0,C|0),this.set(r,i,s,o,a,c,u,h,f,g,m,_,x,T,S,C)}roundClean(){ph(ic,sc)}destroy(){ph(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const FB=MB(()=>new eee),iee=MB(()=>new ree),iR=FB,m1={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return yJ(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},sR={async getMyTokensWithBalance(t){const e=Ve.state.address,n=Z.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await ct.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){try{const n=m1.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await st.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await st.walletGetAssets({account:t,chainFilter:[n]});return m1.isWalletGetAssetsResponse(i)?(i[n]||[]).map(o=>m1.createBalance(o,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:Z.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},jt=wn({tokenBalances:[],loading:!1}),see={state:jt,subscribe(t){return fi(jt,()=>t(jt))},subscribeKey(t,e){return gi(jt,t,e)},setToken(t){t&&(jt.token=qc(t))},setTokenAmount(t){jt.sendTokenAmount=t},setReceiverAddress(t){jt.receiverAddress=t},setReceiverProfileImageUrl(t){jt.receiverProfileImageUrl=t},setReceiverProfileName(t){jt.receiverProfileName=t},setNetworkBalanceInUsd(t){jt.networkBalanceInUSD=t},setLoading(t){jt.loading=t},async sendToken(){try{switch(Ut.setLoading(!0),Z.state.activeCaipNetwork?.chainNamespace){case"eip155":await Ut.sendEvmToken();return;case"solana":await Ut.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Ut.setLoading(!1)}},async sendEvmToken(){const t=Z.state.activeChain,e=Ve.state.preferredAccountTypes?.[t];if(!Ut.state.sendTokenAmount||!Ut.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ut.state.token)throw new Error("A token is required");Ut.state.token?.address?(mn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Zr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ut.state.token.address,amount:Ut.state.sendTokenAmount,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}),await Ut.sendERC20Token({receiverAddress:Ut.state.receiverAddress,tokenAddress:Ut.state.token.address,sendTokenAmount:Ut.state.sendTokenAmount,decimals:Ut.state.token.quantity.decimals})):(mn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Zr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ut.state.token.symbol||"",amount:Ut.state.sendTokenAmount,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}),await Ut.sendNativeToken({receiverAddress:Ut.state.receiverAddress,sendTokenAmount:Ut.state.sendTokenAmount,decimals:Ut.state.token.quantity.decimals}))},async fetchTokenBalance(t){jt.loading=!0;const e=Z.state.activeCaipNetwork?.caipNetworkId,n=Z.state.activeCaipNetwork?.chainNamespace,r=Z.state.activeCaipAddress,i=r?rt.getPlainAddress(r):void 0;if(jt.lastRetry&&!rt.isAllowedRetry(jt.lastRetry,30*kr.ONE_SEC_MS))return jt.loading=!1,[];try{if(i&&e&&n){const s=await sR.getMyTokensWithBalance();return jt.tokenBalances=s,jt.lastRetry=void 0,s}}catch(s){jt.lastRetry=Date.now(),t?.(s),lo.showError("Token Balance Unavailable")}finally{jt.loading=!1}return[]},fetchNetworkBalance(){if(jt.tokenBalances.length===0)return;const t=sR.mapBalancesToSwapTokens(jt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Z.getActiveNetworkTokenAddress());e&&(jt.networkBalanceInUSD=e?iM.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Tt.pushTransactionStack({view:null,goBack:!1});const e=t.receiverAddress,n=Ve.state.address,r=st.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await st.sendTransaction({chainNamespace:"eip155",to:e,address:n,data:"0x",value:r??BigInt(0)}),mn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ve.state.preferredAccountTypes?.eip155===Zr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ut.state.token?.symbol||"",amount:t.sendTokenAmount,network:Z.state.activeCaipNetwork?.caipNetworkId||""}}),st._getClient()?.updateBalance("eip155"),Ut.resetSend()},async sendERC20Token(t){Tt.pushTransactionStack({view:"Account",goBack:!1});const e=st.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Ve.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=rt.getPlainAddress(t.tokenAddress);await st.writeContract({fromAddress:Ve.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:cM.getERC20Abi(n),chainNamespace:"eip155"}),Ut.resetSend()}},async sendSolanaToken(){if(!Ut.state.sendTokenAmount||!Ut.state.receiverAddress)throw new Error("An amount and receiver address are required");Tt.pushTransactionStack({view:"Account",goBack:!1}),await st.sendTransaction({chainNamespace:"solana",to:Ut.state.receiverAddress,value:Ut.state.sendTokenAmount}),st._getClient()?.updateBalance("solana"),Ut.resetSend()},resetSend(){jt.token=void 0,jt.sendTokenAmount=void 0,jt.receiverAddress=void 0,jt.receiverProfileImageUrl=void 0,jt.receiverProfileName=void 0,jt.loading=!1,jt.tokenBalances=[]}},Ut=Gs(see),y1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},b0={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Oe=wn({chains:G$(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),oee={state:Oe,subscribe(t){return fi(Oe,()=>{t(Oe)})},subscribeKey(t,e){return gi(Oe,t,e)},subscribeChainProp(t,e,n){let r;return fi(Oe.chains,()=>{const i=n||Oe.activeChain;if(i){const s=Oe.chains.get(i)?.[t];r!==s&&(r=s,e(s))}})},initialize(t,e,n){const{chainId:r,namespace:i}=Pe.getActiveNetworkProps(),s=e?.find(h=>h.id.toString()===r?.toString()),a=t.find(h=>h?.namespace===i)||t?.[0],c=t.map(h=>h.namespace).filter(h=>h!==void 0),u=we.state.enableEmbedded?new Set([...c]):new Set([...e?.map(h=>h.chainNamespace)??[]]);(t?.length===0||!a)&&(Oe.noAdapters=!0),Oe.noAdapters||(Oe.activeChain=a?.namespace,Oe.activeCaipNetwork=s,Z.setChainNetworkData(a?.namespace,{caipNetwork:s}),Oe.activeChain&&jo.set({activeChain:a?.namespace})),u.forEach(h=>{const f=e?.filter(g=>g.chainNamespace===h);Z.state.chains.set(h,{namespace:h,networkState:wn({...b0,caipNetwork:f?.[0]}),accountState:wn(y1),caipNetworks:f??[],...n}),Z.setRequestedCaipNetworks(f??[],h)})},removeAdapter(t){if(Oe.activeChain===t){const e=Array.from(Oe.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&Z.setActiveCaipNetwork(n)}}Oe.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Oe.chains.set(t.namespace,{namespace:t.namespace,networkState:{...b0,caipNetwork:r[0]},accountState:y1,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),Z.setRequestedCaipNetworks(r?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Oe.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),Oe.chains.set(t.chainNamespace,{...e,caipNetworks:n}),Z.setRequestedCaipNetworks(n,t.chainNamespace),ze.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=Oe.chains.get(t);if(n){const r=Oe.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(s=>s.id!==e)||[]];r&&n?.caipNetworks?.[0]&&Z.setActiveCaipNetwork(n.caipNetworks[0]),Oe.chains.set(t,{...n,caipNetworks:i}),Z.setRequestedCaipNetworks(i||[],t),i.length===0&&ze.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Oe.chains.get(t);n&&(n.networkState={...n.networkState||b0,...e},Oe.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Oe.chains.get(t);if(r){const i={...r.accountState||y1,...e};Oe.chains.set(t,{...r,accountState:i}),(Oe.chains.size===1||Oe.activeChain===t)&&(e.caipAddress&&(Oe.activeCaipAddress=e.caipAddress),Ve.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Oe.chains.get(t);if(n){const r={...n.networkState||b0,...e};Oe.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){Z.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&ze.removeConnectorId(n)},setActiveNamespace(t){Oe.activeChain=t;const e=t?Oe.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(Oe.activeCaipAddress=e?.accountState?.caipAddress,Oe.activeCaipNetwork=n,Z.setChainNetworkData(t,{caipNetwork:n}),Pe.setActiveCaipNetworkId(n?.caipNetworkId),jo.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Oe.activeChain!==t.chainNamespace&&Z.setIsSwitchingNamespace(!0);const e=Oe.chains.get(t.chainNamespace);Oe.activeChain=t.chainNamespace,Oe.activeCaipNetwork=t,Z.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Oe.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Oe.activeCaipAddress=void 0,Z.setAccountProp("caipAddress",Oe.activeCaipAddress,t.chainNamespace),e&&Ve.replaceState(e.accountState),Ut.resetSend(),jo.set({activeChain:Oe.activeChain,selectedNetworkId:Oe.activeCaipNetwork?.caipNetworkId}),Pe.setActiveCaipNetworkId(t.caipNetworkId),!Z.checkIfSupportedNetwork(t.chainNamespace)&&we.state.enableNetworkSwitch&&!we.state.allowUnsupportedChain&&!st.state.wcBasic&&Z.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Oe.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==Z.state.activeChain,n=Z.getNetworkData(t)?.caipNetwork,r=Z.getCaipNetworkByNamespace(t,n?.id);e&&r&&await Z.switchActiveNetwork(r)},async switchActiveNetwork(t){!Z.state.chains.get(Z.state.activeChain)?.caipNetworks?.some(i=>i.id===Oe.activeCaipNetwork?.id)&&Tt.goBack();const r=Z.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),mn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Oe.activeChain,n=Oe.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Oe.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Oe.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){let n=Oe.activeChain;if(e&&(n=e),!n)return;const r=Oe.chains.get(n)?.accountState;if(r)return r[t]},getNetworkProp(t,e){const n=Oe.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Oe.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return rt.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Oe.chains.forEach(e=>{const n=Z.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){Z.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=Z.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));ze.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Oe.chains.forEach(e=>{const n=Z.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Oe.activeCaipNetwork},getActiveCaipAddress(){return Oe.activeCaipAddress},getApprovedCaipNetworkIds(t){return Oe.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await Z.getNetworkControllerClient()?.getApprovedCaipNetworksData();Z.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Oe.activeCaipNetwork,r=Z.getRequestedCaipNetworks(t);return r.length?r?.some(i=>i.id===n?.id):!0},checkIfSupportedChainId(t){return Oe.activeChain?Z.getRequestedCaipNetworks(Oe.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){Z.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=jO.caipNetworkIdToNumber(Oe.activeCaipNetwork?.caipNetworkId),e=Oe.activeChain;return!e||!t?!1:!!Z.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},getActiveNetworkTokenAddress(){const t=Oe.activeCaipNetwork?.chainNamespace||"eip155",e=Oe.activeCaipNetwork?.id||1,n=kr.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){ir.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Oe.activeCaipNetwork;return!!(t?.chainNamespace&&kr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){Z.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Oe.activeCaipAddress=void 0,Z.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ze.removeConnectorId(e)},async disconnect(t){const e=TM(t);try{Ut.resetSend();const n=await Promise.allSettled(e.map(async([i,s])=>{try{const{caipAddress:o}=Z.getAccountData(i)||{};o&&s.connectionControllerClient?.disconnect&&await s.connectionControllerClient.disconnect(i),Z.resetAccount(i),Z.resetNetwork(i)}catch(o){throw new Error(`Failed to disconnect chain ${i}: ${o.message}`)}}));st.resetWcConnection();const r=n.filter(i=>i.status==="rejected");if(r.length>0)throw new Error(r.map(i=>i.reason.message).join(", "));Pe.deleteConnectedSocialProvider(),t?ze.removeConnectorId(t):ze.resetConnectorIds(),mn.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),mn.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Oe.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Oe.chains.forEach(n=>{Te.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?Oe.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){return t?Z.state.chains.get(t)?.accountState:Ve.state},getNetworkData(t){const e=t||Oe.activeChain;if(e)return Z.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=Z.state.chains.get(t),r=n?.caipNetworks?.find(i=>i.id===e);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=ze.state.filterByNamespace;return(t?[Oe.chains.get(t)]:Array.from(Oe.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?Z.getRequestedCaipNetworks(t):Z.getAllRequestedCaipNetworks()}},Z=Gs(oee),aee={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},jB=rt.getBlockchainApiUrl(),Ni=wn({clientId:null,api:new Gg({baseUrl:jB,clientId:null}),supportedChains:{http:[],ws:[]}}),ct={state:Ni,async get(t){const{st:e,sv:n}=ct.getSdkProperties(),r=we.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return Ni.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=we.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Ni.supportedChains.http.length||await ct.getSupportedNetworks()}catch{return!1}return Ni.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await ct.get({path:"v1/supported-chains"});return Ni.supportedChains=t,t}catch{return Ni.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await ct.isNetworkSupported(e))return{avatar:"",name:""};const r=Pe.getIdentityFromCacheForAddress(t);if(r)return r;const i=await ct.get({path:`/v1/identity/${t}`,params:{sender:Z.state.activeCaipAddress?rt.getPlainAddress(Z.state.activeCaipAddress):void 0}});return Pe.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?Ni.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:we.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=ct.getSdkProperties();if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return ct.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ni.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:kr.CONVERT_SLIPPAGE_TOLERANCE},projectId:we.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:i}=ct.getSdkProperties();if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ct.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){const{st:r,sv:i}=ct.getSdkProperties();if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))return lo.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=Pe.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await ct.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return Pe.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/profile/reverse/${t}`,params:{sender:Ve.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?Ni.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?(await Ni.api.post({path:"/v1/generators/onrampurl",params:{projectId:we.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await ct.get({path:"/v1/onramp/options"})}catch{return aee}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?await Ni.api.post({path:"/v1/onramp/quote",params:{projectId:we.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?ct.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await ct.isNetworkSupported(Z.state.activeCaipNetwork?.caipNetworkId)?Ni.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:we.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Ni.clientId=t,Ni.api=new Gg({baseUrl:jB,clientId:t})}},Ss=wn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),cee={state:Ss,replaceState(t){t&&Object.assign(Ss,qc(t))},subscribe(t){return Z.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return Z.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){Z.setAccountProp("status",t,e)},getCaipAddress(t){return Z.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?rt.getPlainAddress(t):void 0;e===Z.state.activeChain&&(Z.state.activeCaipAddress=t),Z.setAccountProp("caipAddress",t,e),Z.setAccountProp("address",n,e)},setBalance(t,e,n){Z.setAccountProp("balance",t,n),Z.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){Z.setAccountProp("profileName",t,e)},setProfileImage(t,e){Z.setAccountProp("profileImage",t,e)},setUser(t,e){Z.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){Z.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){Z.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){Z.setAccountProp("currentTab",t,Z.state.activeChain)},setTokenBalance(t,e){t&&Z.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){Z.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){Z.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=Z.getAccountProp("addressLabels",n)||new Map;r.set(t,e),Z.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=Z.getAccountProp("addressLabels",e)||new Map;n.delete(t),Z.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){Z.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){Z.setAccountProp("preferredAccountTypes",{...Ss.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Ss.preferredAccountTypes=t},setSocialProvider(t,e){t&&Z.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){Z.setAccountProp("socialWindow",t?qc(t):void 0,e)},setFarcasterUrl(t,e){Z.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){Ss.balanceLoading=!0;const e=Z.state.activeCaipNetwork?.caipNetworkId,n=Z.state.activeCaipNetwork?.chainNamespace,r=Z.state.activeCaipAddress,i=r?rt.getPlainAddress(r):void 0;if(Ss.lastRetry&&!rt.isAllowedRetry(Ss.lastRetry,30*kr.ONE_SEC_MS))return Ss.balanceLoading=!1,[];try{if(i&&e&&n){const o=(await ct.getBalance(i,e)).balances.filter(a=>a.quantity.decimals!=="0");return Ve.setTokenBalance(o,n),Ss.lastRetry=void 0,Ss.balanceLoading=!1,o}}catch(s){Ss.lastRetry=Date.now(),t?.(s),lo.showError("Token Balance Unavailable")}finally{Ss.balanceLoading=!1}return[]},resetAccount(t){Z.resetAccount(t)}},Ve=Gs(cee),Oi=wn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),lee={state:Oi,subscribe(t){return fi(Oi,()=>t(Oi))},subscribeKey(t,e){return gi(Oi,t,e)},async open(t){const e=Ve.state.status==="connected";st.state.wcBasic?nt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await nt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t?.namespace?(await Z.switchActiveNamespace(t.namespace),ir.setLoading(!0,t.namespace)):ir.setLoading(!0),ze.setFilterByNamespace(t?.namespace);const n=Z.getAccountData(t?.namespace)?.caipAddress,r=Z.state.noAdapters;we.state.manualWCControl||r&&!n?rt.isMobile()?Tt.reset("AllWallets"):Tt.reset("ConnectingWalletConnectBasic"):t?.view?Tt.reset(t.view,t.data):n?Tt.reset("Account"):Tt.reset("Connect"),Oi.open=!0,jo.set({open:!0}),mn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(t=!1){if(t||Tt.state.view!=="ApproveTransaction"){const e=we.state.enableEmbedded,n=!!Z.state.activeCaipAddress;Oi.open&&mn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:n}}),Oi.open=!1,ir.clearLoading(),e?n?Tt.replace("Account"):Tt.push("Connect"):jo.set({open:!1})}st.resetUri()},setLoading(t,e){e&&Oi.loadingNamespaceMap.set(e,t),Oi.loading=t,jo.set({loading:t})},clearLoading(){Oi.loadingNamespaceMap.clear(),Oi.loading=!1},shake(){Oi.shake||(Oi.shake=!0,setTimeout(()=>{Oi.shake=!1},500))}},ir=Gs(lee),oR=2147483648,uee={convertEVMChainIdToCoinType(t){if(t>=oR)throw new Error("Invalid chainId");return(oR|t)>>>0}},As=wn({suggestions:[],loading:!1}),dee={state:As,subscribe(t){return fi(As,()=>t(As))},subscribeKey(t,e){return gi(As,t,e)},async resolveName(t){try{return await ct.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await ct.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{As.loading=!0,As.suggestions=[];const e=await ct.getEnsNameSuggestions(t);return As.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],As.suggestions}catch(e){const n=tp.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{As.loading=!1}},async getNamesForAddress(t){try{if(!Z.state.activeCaipNetwork)return[];const n=Pe.getEnsFromCacheForAddress(t);if(n)return n;const r=await ct.reverseLookupEnsName({address:t});return Pe.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=tp.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=Z.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=Ve.state.address,r=ze.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");As.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Tt.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){As.loading=!1}});const s=await st.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=uee.convertEVMChainIdToCoinType(Number(o));await ct.registerEnsName({coinType:a,address:n,signature:s,message:i}),Ve.setProfileName(t,e.chainNamespace),Tt.replace("RegisterAccountNameSuccess")}catch(i){const s=tp.parseEnsApiError(i,`Error registering name ${t}`);throw Tt.replace("RegisterAccountName"),new Error(s)}finally{As.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},tp=Gs(dee);var HB={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=Symbol.for("react.transitional.element"),hee=Symbol.for("react.portal"),fee=Symbol.for("react.fragment"),pee=Symbol.for("react.strict_mode"),gee=Symbol.for("react.profiler"),mee=Symbol.for("react.consumer"),yee=Symbol.for("react.context"),bee=Symbol.for("react.forward_ref"),wee=Symbol.for("react.suspense"),vee=Symbol.for("react.memo"),qB=Symbol.for("react.lazy"),aR=Symbol.iterator;function Eee(t){return t===null||typeof t!="object"?null:(t=aR&&t[aR]||t["@@iterator"],typeof t=="function"?t:null)}var VB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WB=Object.assign,KB={};function Fh(t,e,n){this.props=t,this.context=e,this.refs=KB,this.updater=n||VB}Fh.prototype.isReactComponent={};Fh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GB(){}GB.prototype=Fh.prototype;function jS(t,e,n){this.props=t,this.context=e,this.refs=KB,this.updater=n||VB}var HS=jS.prototype=new GB;HS.constructor=jS;WB(HS,Fh.prototype);HS.isPureReactComponent=!0;var cR=Array.isArray,Bn={H:null,A:null,T:null,S:null},YB=Object.prototype.hasOwnProperty;function qS(t,e,n,r,i,s){return n=s.ref,{$$typeof:FS,type:t,key:e,ref:n!==void 0?n:null,props:s}}function _ee(t,e){return qS(t.type,e,void 0,void 0,void 0,t.props)}function VS(t){return typeof t=="object"&&t!==null&&t.$$typeof===FS}function xee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lR=/\/+/g;function b1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xee(""+t.key):e.toString(36)}function uR(){}function See(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(uR,uR):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function dd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case FS:case hee:o=!0;break;case qB:return o=t._init,dd(o(t._payload),e,n,r,i)}}if(o)return i=i(t),o=r===""?"."+b1(t,0):r,cR(i)?(n="",o!=null&&(n=o.replace(lR,"$&/")+"/"),dd(i,e,n,"",function(u){return u})):i!=null&&(VS(i)&&(i=_ee(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(lR,"$&/")+"/")+o)),e.push(i)),1;o=0;var a=r===""?".":r+":";if(cR(t))for(var c=0;c<t.length;c++)r=t[c],s=a+b1(r,c),o+=dd(r,e,n,s,i);else if(c=Eee(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=a+b1(r,c++),o+=dd(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return dd(See(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function w0(t,e,n){if(t==null)return t;var r=[],i=0;return dd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Aee(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dR=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Cee(){}vt.Children={map:w0,forEach:function(t,e,n){w0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return w0(t,function(){e++}),e},toArray:function(t){return w0(t,function(e){return e})||[]},only:function(t){if(!VS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=Fh;vt.Fragment=fee;vt.Profiler=gee;vt.PureComponent=jS;vt.StrictMode=pee;vt.Suspense=wee;vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bn;vt.act=function(){throw Error("act(...) is not supported in production builds of React.")};vt.cache=function(t){return function(){return t.apply(null,arguments)}};vt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=WB({},t.props),i=t.key,s=void 0;if(e!=null)for(o in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!YB.call(e,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&e.ref===void 0||(r[o]=e[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}return qS(t.type,i,void 0,void 0,s,r)};vt.createContext=function(t){return t={$$typeof:yee,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:mee,_context:t},t};vt.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)YB.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return qS(t,s,void 0,void 0,null,i)};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:bee,render:t}};vt.isValidElement=VS;vt.lazy=function(t){return{$$typeof:qB,_payload:{_status:-1,_result:t},_init:Aee}};vt.memo=function(t,e){return{$$typeof:vee,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=Bn.T,n={};Bn.T=n;try{var r=t(),i=Bn.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Cee,dR)}catch(s){dR(s)}finally{Bn.T=e}};vt.unstable_useCacheRefresh=function(){return Bn.H.useCacheRefresh()};vt.use=function(t){return Bn.H.use(t)};vt.useActionState=function(t,e,n){return Bn.H.useActionState(t,e,n)};vt.useCallback=function(t,e){return Bn.H.useCallback(t,e)};vt.useContext=function(t){return Bn.H.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t,e){return Bn.H.useDeferredValue(t,e)};vt.useEffect=function(t,e){return Bn.H.useEffect(t,e)};vt.useId=function(){return Bn.H.useId()};vt.useImperativeHandle=function(t,e,n){return Bn.H.useImperativeHandle(t,e,n)};vt.useInsertionEffect=function(t,e){return Bn.H.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return Bn.H.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return Bn.H.useMemo(t,e)};vt.useOptimistic=function(t,e){return Bn.H.useOptimistic(t,e)};vt.useReducer=function(t,e,n){return Bn.H.useReducer(t,e,n)};vt.useRef=function(t){return Bn.H.useRef(t)};vt.useState=function(t){return Bn.H.useState(t)};vt.useSyncExternalStore=function(t,e,n){return Bn.H.useSyncExternalStore(t,e,n)};vt.useTransition=function(){return Bn.H.useTransition()};vt.version="19.0.0";HB.exports=vt;var qi=HB.exports;const ye=Ks(qi),pn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ma={ConnectorExplorerIds:{[Te.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Te.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Te.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Te.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Te.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[pn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[pn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[pn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[pn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[pn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[pn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[pn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[pn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[pn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[pn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[pn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Te.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Te.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Te.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Te.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Te.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Te.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Te.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Te.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Te.CONNECTOR_ID.COINBASE]:"Coinbase",[Te.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Te.CONNECTOR_ID.LEDGER]:"Ledger",[Te.CONNECTOR_ID.SAFE]:"Safe"}},lw={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${pn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()}},Tee=new AbortController,ao={EmbeddedWalletAbortController:Tee,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Iee()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function Iee(){return typeof window<"u"}const Ree={createLogger(t,e="error"){const n=Bh({level:e}),{logger:r}=lS({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},kee="rpc.walletconnect.org";function hR(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const w1=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],hd={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===kee}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Te.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Te.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return w1.includes(e)?hR(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(t,s,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,u=r?.[s]?.map(g=>g.url)||[],h=[...u,a],f=[...u];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ma.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:h},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>hd.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(i=>{r.push(p0(i.url,i.config))}),w1.includes(t.caipNetworkId)&&r.push(p0(hR(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{r.push(p0(i))}),JI(r)},extendWagmiTransports(t,e,n){if(w1.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return JI([n,p0(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Te.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=Pe.getActiveCaipNetworkId(),n=Z.getAllRequestedCaipNetworks(),r=Array.from(Z.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?r.includes(i):!1,o=n?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||n?.[0]}},$y={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},Bi=wn({providers:{...$y},providerIds:{...$y}}),Kt={state:Bi,subscribeKey(t,e){return gi(Bi,t,e)},subscribe(t){return fi(Bi,()=>{t(Bi)})},subscribeProviders(t){return fi(Bi.providers,()=>t(Bi.providers))},setProvider(t,e){e&&(Bi.providers[t]=qc(e))},getProvider(t){return Bi.providers[t]},setProviderId(t,e){e&&(Bi.providerIds[t]=e)},getProviderId(t){if(t)return Bi.providerIds[t]},reset(){Bi.providers={...$y},Bi.providerIds={...$y}},resetChain(t){Bi.providers[t]=void 0,Bi.providerIds[t]=void 0}};var Eu={};Eu.byteLength=Bee;Eu.toByteArray=Pee;Eu.fromByteArray=Uee;var $o=[],Ns=[],Nee=typeof Uint8Array<"u"?Uint8Array:Array,v1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var id=0,Oee=v1.length;id<Oee;++id)$o[id]=v1[id],Ns[v1.charCodeAt(id)]=id;Ns[45]=62;Ns[95]=63;function ZB(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Bee(t){var e=ZB(t),n=e[0],r=e[1];return(n+r)*3/4-r}function Dee(t,e,n){return(e+n)*3/4-n}function Pee(t){var e,n=ZB(t),r=n[0],i=n[1],s=new Nee(Dee(t,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=Ns[t.charCodeAt(c)]<<18|Ns[t.charCodeAt(c+1)]<<12|Ns[t.charCodeAt(c+2)]<<6|Ns[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ns[t.charCodeAt(c)]<<2|Ns[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Ns[t.charCodeAt(c)]<<10|Ns[t.charCodeAt(c+1)]<<4|Ns[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function $ee(t){return $o[t>>18&63]+$o[t>>12&63]+$o[t>>6&63]+$o[t&63]}function Mee(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push($ee(r));return i.join("")}function Uee(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(Mee(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push($o[e>>2]+$o[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push($o[e>>10]+$o[e>>4&63]+$o[e<<2&63]+"=")),i.join("")}var jh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */jh.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,h=-7,f=n?i-1:0,g=n?-1:1,m=t[e+f];for(f+=g,s=m&(1<<-h)-1,m>>=-h,h+=a;h>0;s=s*256+t[e+f],f+=g,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=r;h>0;o=o*256+t[e+f],f+=g,h-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(m?-1:1)*o*Math.pow(2,s-r)};jh.write=function(t,e,n,r,i,s){var o,a,c,u=s*8-i-1,h=(1<<u)-1,f=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,_=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=g/c:e+=g*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=h?(a=0,o=h):o+f>=1?(a=(e*c-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=_,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+m]=o&255,m+=_,o/=256,u-=8);t[n+m-_]|=x*128};const fR={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},Fr={set(t,e){ls.isClient&&localStorage.setItem(`${He.STORAGE_KEY}${t}`,e)},get(t){return ls.isClient?localStorage.getItem(`${He.STORAGE_KEY}${t}`):null},delete(t,e){ls.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${He.STORAGE_KEY}${t}`))}},v0=30*1e3,ls={checkIfAllowedToTriggerEmail(){const t=Fr.get(He.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<v0){const n=Math.ceil((v0-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=Fr.get(He.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<v0)return Math.ceil((v0-e)/1e3)}return 0},checkIfRequestExists(t){return Zr.NOT_SAFE_RPC_METHODS.includes(t.method)||Zr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(fR.transactionHash)||t?.match(fR.signedMessage))?He.RPC_RESPONSE_TYPE_TX:He.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Zr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var Pt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Pt||(Pt={}));var M_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(M_||(M_={}));const $e=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mc=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Ee=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Lee=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class go extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}go.create=t=>new go(t);const rg=(t,e)=>{let n;switch(t.code){case Ee.invalid_type:t.received===$e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:n="Invalid input";break;case Ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:n=`Invalid enum value. Expected ${Pt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:n="Invalid function arguments";break;case Ee.invalid_return_type:n="Invalid function return type";break;case Ee.invalid_date:n="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ee.custom:n="Invalid input";break;case Ee.invalid_intersection_types:n="Intersection results could not be merged";break;case Ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pt.assertNever(t)}return{message:n}};let XB=rg;function zee(t){XB=t}function My(){return XB}const Uy=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Fee=[];function Fe(t,e){const n=Uy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,My(),rg].filter(r=>!!r)});t.common.issues.push(n)}class pi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ut;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return pi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return ut;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const ut=Object.freeze({status:"aborted"}),QB=t=>({status:"dirty",value:t}),Ai=t=>({status:"valid",value:t}),U_=t=>t.status==="aborted",L_=t=>t.status==="dirty",ig=t=>t.status==="valid",Ly=t=>typeof Promise<"u"&&t instanceof Promise;var Xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Xe||(Xe={}));class Ko{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pR=(t,e)=>{if(ig(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new go(t.common.issues);return this._error=n,this._error}}};function pt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class wt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return mc(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pi,ctx:{common:e.parent.common,data:e.data,parsedType:mc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ly(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mc(e)},s=this._parseSync({data:e,path:i.path,parent:i});return pR(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mc(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ly(i)?i:Promise.resolve(i));return pR(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ee.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new vo({schema:this,typeName:ot.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ua.create(this,this._def)}nullable(){return ru.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mo.create(this,this._def)}promise(){return mh.create(this,this._def)}or(e){return cg.create([this,e],this._def)}and(e){return lg.create(this,e,this._def)}transform(e){return new vo({...pt(this._def),schema:this,typeName:ot.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new pg({...pt(this._def),innerType:this,defaultValue:n,typeName:ot.ZodDefault})}brand(){return new eD({typeName:ot.ZodBranded,type:this,...pt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hy({...pt(this._def),innerType:this,catchValue:n,typeName:ot.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return fm.create(this,e)}readonly(){return Vy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jee=/^c[^\s-]{8,}$/i,Hee=/^[a-z][a-z0-9]*$/,qee=/^[0-9A-HJKMNP-TV-Z]{26}$/,Vee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Wee=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Kee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E1;const Gee=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Yee=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Zee=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Xee(t,e){return!!((e==="v4"||!e)&&Gee.test(t)||(e==="v6"||!e)&&Yee.test(t))}class po extends wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.string,received:s.parsedType}),ut}const r=new pi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Fe(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Fe(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Wee.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"email",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")E1||(E1=new RegExp(Kee,"u")),E1.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Vee.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")jee.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Hee.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")qee.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Fe(i,{validation:"url",code:Ee.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Zee(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Xee(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Fe(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),r.dirty()):Pt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ee.invalid_string,...Xe.errToObj(r)})}_addCheck(e){return new po({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Xe.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...Xe.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Xe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Xe.errToObj(n)})}nonempty(e){return this.min(1,Xe.errToObj(e))}trim(){return new po({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new po({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new po({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}po.create=t=>{var e;return new po({checks:[],typeName:ot.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pt(t)})};function Qee(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Vc extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.number,received:s.parsedType}),ut}let r;const i=new pi;for(const s of this._def.checks)s.kind==="int"?Pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Qee(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.not_finite,message:s.message}),i.dirty()):Pt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Xe.toString(n))}setLimit(e,n,r,i){return new Vc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Xe.toString(i)}]})}_addCheck(e){return new Vc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vc.create=t=>new Vc({checks:[],typeName:ot.ZodNumber,coerce:t?.coerce||!1,...pt(t)});class Wc extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.bigint,received:s.parsedType}),ut}let r;const i=new pi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Pt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Xe.toString(n))}setLimit(e,n,r,i){return new Wc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Xe.toString(i)}]})}_addCheck(e){return new Wc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Wc.create=t=>{var e;return new Wc({checks:[],typeName:ot.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pt(t)})};class sg extends wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.boolean,received:r.parsedType}),ut}return Ai(e.data)}}sg.create=t=>new sg({typeName:ot.ZodBoolean,coerce:t?.coerce||!1,...pt(t)});class tu extends wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_type,expected:$e.date,received:s.parsedType}),ut}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Fe(s,{code:Ee.invalid_date}),ut}const r=new pi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Fe(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Pt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}tu.create=t=>new tu({checks:[],coerce:t?.coerce||!1,typeName:ot.ZodDate,...pt(t)});class zy extends wt{_parse(e){if(this._getType(e)!==$e.symbol){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.symbol,received:r.parsedType}),ut}return Ai(e.data)}}zy.create=t=>new zy({typeName:ot.ZodSymbol,...pt(t)});class og extends wt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.undefined,received:r.parsedType}),ut}return Ai(e.data)}}og.create=t=>new og({typeName:ot.ZodUndefined,...pt(t)});class ag extends wt{_parse(e){if(this._getType(e)!==$e.null){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.null,received:r.parsedType}),ut}return Ai(e.data)}}ag.create=t=>new ag({typeName:ot.ZodNull,...pt(t)});class gh extends wt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ai(e.data)}}gh.create=t=>new gh({typeName:ot.ZodAny,...pt(t)});class Fl extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ai(e.data)}}Fl.create=t=>new Fl({typeName:ot.ZodUnknown,...pt(t)});class Fa extends wt{_parse(e){const n=this._getOrReturnCtx(e);return Fe(n,{code:Ee.invalid_type,expected:$e.never,received:n.parsedType}),ut}}Fa.create=t=>new Fa({typeName:ot.ZodNever,...pt(t)});class Fy extends wt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.void,received:r.parsedType}),ut}return Ai(e.data)}}Fy.create=t=>new Fy({typeName:ot.ZodVoid,...pt(t)});class mo extends wt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==$e.array)return Fe(n,{code:Ee.invalid_type,expected:$e.array,received:n.parsedType}),ut;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Fe(n,{code:o?Ee.too_big:Ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Fe(n,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Fe(n,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Ko(n,o,n.path,a)))).then(o=>pi.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Ko(n,o,n.path,a)));return pi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new mo({...this._def,minLength:{value:e,message:Xe.toString(n)}})}max(e,n){return new mo({...this._def,maxLength:{value:e,message:Xe.toString(n)}})}length(e,n){return new mo({...this._def,exactLength:{value:e,message:Xe.toString(n)}})}nonempty(e){return this.min(1,e)}}mo.create=(t,e)=>new mo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ot.ZodArray,...pt(e)});function fd(t){if(t instanceof Nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ua.create(fd(r))}return new Nn({...t._def,shape:()=>e})}else return t instanceof mo?new mo({...t._def,type:fd(t.element)}):t instanceof Ua?Ua.create(fd(t.unwrap())):t instanceof ru?ru.create(fd(t.unwrap())):t instanceof Go?Go.create(t.items.map(e=>fd(e))):t}class Nn extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==$e.object){const u=this._getOrReturnCtx(e);return Fe(u,{code:Ee.invalid_type,expected:$e.object,received:u.parsedType}),ut}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Fa&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const h=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new Ko(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Fa){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of a)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(u==="strict")a.length>0&&(Fe(i,{code:Ee.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of a){const f=i.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new Ko(i,f,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const f=await h.key;u.push({key:f,value:await h.value,alwaysSet:h.alwaysSet})}return u}).then(u=>pi.mergeObjectSync(r,u)):pi.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Xe.errToObj,new Nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Xe.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Nn({...this._def,unknownKeys:"strip"})}passthrough(){return new Nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ot.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Nn({...this._def,catchall:e})}pick(e){const n={};return Pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Nn({...this._def,shape:()=>n})}omit(e){const n={};return Pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Nn({...this._def,shape:()=>n})}deepPartial(){return fd(this)}partial(e){const n={};return Pt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Nn({...this._def,shape:()=>n})}required(e){const n={};return Pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ua;)s=s._def.innerType;n[r]=s}}),new Nn({...this._def,shape:()=>n})}keyof(){return JB(Pt.objectKeys(this.shape))}}Nn.create=(t,e)=>new Nn({shape:()=>t,unknownKeys:"strip",catchall:Fa.create(),typeName:ot.ZodObject,...pt(e)});Nn.strictCreate=(t,e)=>new Nn({shape:()=>t,unknownKeys:"strict",catchall:Fa.create(),typeName:ot.ZodObject,...pt(e)});Nn.lazycreate=(t,e)=>new Nn({shape:t,unknownKeys:"strip",catchall:Fa.create(),typeName:ot.ZodObject,...pt(e)});class cg extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new go(a.ctx.common.issues));return Fe(n,{code:Ee.invalid_union,unionErrors:o}),ut}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new go(c));return Fe(n,{code:Ee.invalid_union,unionErrors:a}),ut}}get options(){return this._def.options}}cg.create=(t,e)=>new cg({options:t,typeName:ot.ZodUnion,...pt(e)});const ry=t=>t instanceof dg?ry(t.schema):t instanceof vo?ry(t.innerType()):t instanceof hg?[t.value]:t instanceof Kc?t.options:t instanceof fg?Object.keys(t.enum):t instanceof pg?ry(t._def.innerType):t instanceof og?[void 0]:t instanceof ag?[null]:null;class uw extends wt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return Fe(n,{code:Ee.invalid_type,expected:$e.object,received:n.parsedType}),ut;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Fe(n,{code:Ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ry(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new uw({typeName:ot.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...pt(r)})}}function z_(t,e){const n=mc(t),r=mc(e);if(t===e)return{valid:!0,data:t};if(n===$e.object&&r===$e.object){const i=Pt.objectKeys(e),s=Pt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=z_(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===$e.array&&r===$e.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=z_(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===$e.date&&r===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lg extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(U_(s)||U_(o))return ut;const a=z_(s.value,o.value);return a.valid?((L_(s)||L_(o))&&n.dirty(),{status:n.value,value:a.data}):(Fe(r,{code:Ee.invalid_intersection_types}),ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lg.create=(t,e,n)=>new lg({left:t,right:e,typeName:ot.ZodIntersection,...pt(n)});class Go extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.array)return Fe(r,{code:Ee.invalid_type,expected:$e.array,received:r.parsedType}),ut;if(r.data.length<this._def.items.length)return Fe(r,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&r.data.length>this._def.items.length&&(Fe(r,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Ko(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>pi.mergeArray(n,o)):pi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Go({...this._def,rest:e})}}Go.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Go({items:t,typeName:ot.ZodTuple,rest:null,...pt(e)})};class ug extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return Fe(r,{code:Ee.invalid_type,expected:$e.object,received:r.parsedType}),ut;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Ko(r,a,r.path,a)),value:o._parse(new Ko(r,r.data[a],r.path,a))});return r.common.async?pi.mergeObjectAsync(n,i):pi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof wt?new ug({keyType:e,valueType:n,typeName:ot.ZodRecord,...pt(r)}):new ug({keyType:po.create(),valueType:e,typeName:ot.ZodRecord,...pt(n)})}}class jy extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.map)return Fe(r,{code:Ee.invalid_type,expected:$e.map,received:r.parsedType}),ut;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:i._parse(new Ko(r,a,r.path,[u,"key"])),value:s._parse(new Ko(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return ut;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(u.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return ut;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(u.value,h.value)}return{status:n.value,value:a}}}}jy.create=(t,e,n)=>new jy({valueType:e,keyType:t,typeName:ot.ZodMap,...pt(n)});class nu extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.set)return Fe(r,{code:Ee.invalid_type,expected:$e.set,received:r.parsedType}),ut;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Fe(r,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Fe(r,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return ut;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>s._parse(new Ko(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new nu({...this._def,minSize:{value:e,message:Xe.toString(n)}})}max(e,n){return new nu({...this._def,maxSize:{value:e,message:Xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}nu.create=(t,e)=>new nu({valueType:t,minSize:null,maxSize:null,typeName:ot.ZodSet,...pt(e)});class zd extends wt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.function)return Fe(n,{code:Ee.invalid_type,expected:$e.function,received:n.parsedType}),ut;function r(a,c){return Uy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,My(),rg].filter(u=>!!u),issueData:{code:Ee.invalid_arguments,argumentsError:c}})}function i(a,c){return Uy({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,My(),rg].filter(u=>!!u),issueData:{code:Ee.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof mh){const a=this;return Ai(async function(...c){const u=new go([]),h=await a._def.args.parseAsync(c,s).catch(m=>{throw u.addIssue(r(c,m)),u}),f=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(f,s).catch(m=>{throw u.addIssue(i(f,m)),u})})}else{const a=this;return Ai(function(...c){const u=a._def.args.safeParse(c,s);if(!u.success)throw new go([r(c,u.error)]);const h=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(h,s);if(!f.success)throw new go([i(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zd({...this._def,args:Go.create(e).rest(Fl.create())})}returns(e){return new zd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zd({args:e||Go.create([]).rest(Fl.create()),returns:n||Fl.create(),typeName:ot.ZodFunction,...pt(r)})}}class dg extends wt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}dg.create=(t,e)=>new dg({getter:t,typeName:ot.ZodLazy,...pt(e)});class hg extends wt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Fe(n,{received:n.data,code:Ee.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}hg.create=(t,e)=>new hg({value:t,typeName:ot.ZodLiteral,...pt(e)});function JB(t,e){return new Kc({values:t,typeName:ot.ZodEnum,...pt(e)})}class Kc extends wt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Fe(n,{expected:Pt.joinValues(r),received:n.parsedType,code:Ee.invalid_type}),ut}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return Fe(n,{received:n.data,code:Ee.invalid_enum_value,options:r}),ut}return Ai(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Kc.create(e)}exclude(e){return Kc.create(this.options.filter(n=>!e.includes(n)))}}Kc.create=JB;class fg extends wt{_parse(e){const n=Pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$e.string&&r.parsedType!==$e.number){const i=Pt.objectValues(n);return Fe(r,{expected:Pt.joinValues(i),received:r.parsedType,code:Ee.invalid_type}),ut}if(n.indexOf(e.data)===-1){const i=Pt.objectValues(n);return Fe(r,{received:r.data,code:Ee.invalid_enum_value,options:i}),ut}return Ai(e.data)}get enum(){return this._def.values}}fg.create=(t,e)=>new fg({values:t,typeName:ot.ZodNativeEnum,...pt(e)});class mh extends wt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.promise&&n.common.async===!1)return Fe(n,{code:Ee.invalid_type,expected:$e.promise,received:n.parsedType}),ut;const r=n.parsedType===$e.promise?n.data:Promise.resolve(n.data);return Ai(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}mh.create=(t,e)=>new mh({type:t,typeName:ot.ZodPromise,...pt(e)});class vo extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Fe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ut:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ut:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ig(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ig(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Pt.assertNever(i)}}vo.create=(t,e,n)=>new vo({schema:t,typeName:ot.ZodEffects,effect:e,...pt(n)});vo.createWithPreprocess=(t,e,n)=>new vo({schema:e,effect:{type:"preprocess",transform:t},typeName:ot.ZodEffects,...pt(n)});class Ua extends wt{_parse(e){return this._getType(e)===$e.undefined?Ai(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ua.create=(t,e)=>new Ua({innerType:t,typeName:ot.ZodOptional,...pt(e)});class ru extends wt{_parse(e){return this._getType(e)===$e.null?Ai(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ru.create=(t,e)=>new ru({innerType:t,typeName:ot.ZodNullable,...pt(e)});class pg extends wt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}pg.create=(t,e)=>new pg({innerType:t,typeName:ot.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pt(e)});class Hy extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ly(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new go(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new go(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hy.create=(t,e)=>new Hy({innerType:t,typeName:ot.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pt(e)});class qy extends wt{_parse(e){if(this._getType(e)!==$e.nan){const r=this._getOrReturnCtx(e);return Fe(r,{code:Ee.invalid_type,expected:$e.nan,received:r.parsedType}),ut}return{status:"valid",value:e.data}}}qy.create=t=>new qy({typeName:ot.ZodNaN,...pt(t)});const Jee=Symbol("zod_brand");class eD extends wt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class fm extends wt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ut:s.status==="dirty"?(n.dirty(),QB(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ut:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new fm({in:e,out:n,typeName:ot.ZodPipeline})}}class Vy extends wt{_parse(e){const n=this._def.innerType._parse(e);return ig(n)&&(n.value=Object.freeze(n.value)),n}}Vy.create=(t,e)=>new Vy({innerType:t,typeName:ot.ZodReadonly,...pt(e)});const tD=(t,e={},n)=>t?gh.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:c})}}):gh.create(),ete={object:Nn.lazycreate};var ot;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ot||(ot={}));const tte=(t,e={message:`Input not instance of ${t.name}`})=>tD(n=>n instanceof t,e),nD=po.create,rD=Vc.create,nte=qy.create,rte=Wc.create,iD=sg.create,ite=tu.create,ste=zy.create,ote=og.create,ate=ag.create,cte=gh.create,lte=Fl.create,ute=Fa.create,dte=Fy.create,hte=mo.create,fte=Nn.create,pte=Nn.strictCreate,gte=cg.create,mte=uw.create,yte=lg.create,bte=Go.create,wte=ug.create,vte=jy.create,Ete=nu.create,_te=zd.create,xte=dg.create,Ste=hg.create,Ate=Kc.create,Cte=fg.create,Tte=mh.create,gR=vo.create,Ite=Ua.create,Rte=ru.create,kte=vo.createWithPreprocess,Nte=fm.create,Ote=()=>nD().optional(),Bte=()=>rD().optional(),Dte=()=>iD().optional(),Pte={string:t=>po.create({...t,coerce:!0}),number:t=>Vc.create({...t,coerce:!0}),boolean:t=>sg.create({...t,coerce:!0}),bigint:t=>Wc.create({...t,coerce:!0}),date:t=>tu.create({...t,coerce:!0})},$te=ut;var H=Object.freeze({__proto__:null,defaultErrorMap:rg,setErrorMap:zee,getErrorMap:My,makeIssue:Uy,EMPTY_PATH:Fee,addIssueToContext:Fe,ParseStatus:pi,INVALID:ut,DIRTY:QB,OK:Ai,isAborted:U_,isDirty:L_,isValid:ig,isAsync:Ly,get util(){return Pt},get objectUtil(){return M_},ZodParsedType:$e,getParsedType:mc,ZodType:wt,ZodString:po,ZodNumber:Vc,ZodBigInt:Wc,ZodBoolean:sg,ZodDate:tu,ZodSymbol:zy,ZodUndefined:og,ZodNull:ag,ZodAny:gh,ZodUnknown:Fl,ZodNever:Fa,ZodVoid:Fy,ZodArray:mo,ZodObject:Nn,ZodUnion:cg,ZodDiscriminatedUnion:uw,ZodIntersection:lg,ZodTuple:Go,ZodRecord:ug,ZodMap:jy,ZodSet:nu,ZodFunction:zd,ZodLazy:dg,ZodLiteral:hg,ZodEnum:Kc,ZodNativeEnum:fg,ZodPromise:mh,ZodEffects:vo,ZodTransformer:vo,ZodOptional:Ua,ZodNullable:ru,ZodDefault:pg,ZodCatch:Hy,ZodNaN:qy,BRAND:Jee,ZodBranded:eD,ZodPipeline:fm,ZodReadonly:Vy,custom:tD,Schema:wt,ZodSchema:wt,late:ete,get ZodFirstPartyTypeKind(){return ot},coerce:Pte,any:cte,array:hte,bigint:rte,boolean:iD,date:ite,discriminatedUnion:mte,effect:gR,enum:Ate,function:_te,instanceof:tte,intersection:yte,lazy:xte,literal:Ste,map:vte,nan:nte,nativeEnum:Cte,never:ute,null:ate,nullable:Rte,number:rD,object:fte,oboolean:Dte,onumber:Bte,optional:Ite,ostring:Ote,pipeline:Nte,preprocess:kte,promise:Tte,record:wte,set:Ete,strictObject:pte,string:nD,symbol:ste,transformer:gR,tuple:bte,undefined:ote,union:gte,unknown:lte,void:dte,NEVER:$te,ZodIssueCode:Ee,quotelessJson:Lee,ZodError:go});const Gn=H.object({message:H.string()});function Ue(t){return H.literal(He[t])}H.object({accessList:H.array(H.string()),blockHash:H.string().nullable(),blockNumber:H.string().nullable(),chainId:H.string().or(H.number()),from:H.string(),gas:H.string(),hash:H.string(),input:H.string().nullable(),maxFeePerGas:H.string(),maxPriorityFeePerGas:H.string(),nonce:H.string(),r:H.string(),s:H.string(),to:H.string(),transactionIndex:H.string().nullable(),type:H.string(),v:H.string(),value:H.string()});const Mte=H.object({chainId:H.string().or(H.number())}),Ute=H.object({email:H.string().email()}),Lte=H.object({otp:H.string()}),zte=H.object({uri:H.string(),preferredAccountType:H.optional(H.string())}),Fte=H.object({chainId:H.optional(H.string().or(H.number())),preferredAccountType:H.optional(H.string()),socialUri:H.optional(H.string())}),jte=H.object({provider:H.enum(["google","github","apple","facebook","x","discord"])}),Hte=H.object({email:H.string().email()}),qte=H.object({otp:H.string()}),Vte=H.object({otp:H.string()}),Wte=H.object({themeMode:H.optional(H.enum(["light","dark"])),themeVariables:H.optional(H.record(H.string(),H.string().or(H.number()))),w3mThemeVariables:H.optional(H.record(H.string(),H.string()))}),Kte=H.object({metadata:H.object({name:H.string(),description:H.string(),url:H.string(),icons:H.array(H.string())}).optional(),sdkVersion:H.string().optional(),sdkType:H.string().optional(),projectId:H.string()}),Gte=H.object({type:H.string()}),Yte=H.object({action:H.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Zte=H.object({url:H.string()}),Xte=H.object({userName:H.string()}),Qte=H.object({email:H.string().optional().nullable(),address:H.string(),chainId:H.string().or(H.number()),accounts:H.array(H.object({address:H.string(),type:H.enum([Zr.ACCOUNT_TYPES.EOA,Zr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:H.string().optional().nullable(),preferredAccountType:H.optional(H.string())}),Jte=H.object({action:H.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),ene=H.object({email:H.string().email().optional().nullable(),address:H.string(),chainId:H.string().or(H.number()),smartAccountDeployed:H.optional(H.boolean()),accounts:H.array(H.object({address:H.string(),type:H.enum([Zr.ACCOUNT_TYPES.EOA,Zr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:H.optional(H.string())}),tne=H.object({uri:H.string()}),nne=H.object({isConnected:H.boolean()}),rne=H.object({chainId:H.string().or(H.number())}),ine=H.object({chainId:H.string().or(H.number())}),sne=H.object({newEmail:H.string().email()}),one=H.object({smartAccountEnabledNetworks:H.array(H.number())});H.object({address:H.string(),isDeployed:H.boolean()});const ane=H.object({version:H.string().optional()}),cne=H.object({type:H.string(),address:H.string()}),lne=H.any(),une=H.object({method:H.literal("eth_accounts")}),dne=H.object({method:H.literal("eth_blockNumber")}),hne=H.object({method:H.literal("eth_call"),params:H.array(H.any())}),fne=H.object({method:H.literal("eth_chainId")}),pne=H.object({method:H.literal("eth_estimateGas"),params:H.array(H.any())}),gne=H.object({method:H.literal("eth_feeHistory"),params:H.array(H.any())}),mne=H.object({method:H.literal("eth_gasPrice")}),yne=H.object({method:H.literal("eth_getAccount"),params:H.array(H.any())}),bne=H.object({method:H.literal("eth_getBalance"),params:H.array(H.any())}),wne=H.object({method:H.literal("eth_getBlockByHash"),params:H.array(H.any())}),vne=H.object({method:H.literal("eth_getBlockByNumber"),params:H.array(H.any())}),Ene=H.object({method:H.literal("eth_getBlockReceipts"),params:H.array(H.any())}),_ne=H.object({method:H.literal("eth_getBlockTransactionCountByHash"),params:H.array(H.any())}),xne=H.object({method:H.literal("eth_getBlockTransactionCountByNumber"),params:H.array(H.any())}),Sne=H.object({method:H.literal("eth_getCode"),params:H.array(H.any())}),Ane=H.object({method:H.literal("eth_getFilterChanges"),params:H.array(H.any())}),Cne=H.object({method:H.literal("eth_getFilterLogs"),params:H.array(H.any())}),Tne=H.object({method:H.literal("eth_getLogs"),params:H.array(H.any())}),Ine=H.object({method:H.literal("eth_getProof"),params:H.array(H.any())}),Rne=H.object({method:H.literal("eth_getStorageAt"),params:H.array(H.any())}),kne=H.object({method:H.literal("eth_getTransactionByBlockHashAndIndex"),params:H.array(H.any())}),Nne=H.object({method:H.literal("eth_getTransactionByBlockNumberAndIndex"),params:H.array(H.any())}),One=H.object({method:H.literal("eth_getTransactionByHash"),params:H.array(H.any())}),Bne=H.object({method:H.literal("eth_getTransactionCount"),params:H.array(H.any())}),Dne=H.object({method:H.literal("eth_getTransactionReceipt"),params:H.array(H.any())}),Pne=H.object({method:H.literal("eth_getUncleCountByBlockHash"),params:H.array(H.any())}),$ne=H.object({method:H.literal("eth_getUncleCountByBlockNumber"),params:H.array(H.any())}),Mne=H.object({method:H.literal("eth_maxPriorityFeePerGas")}),Une=H.object({method:H.literal("eth_newBlockFilter")}),Lne=H.object({method:H.literal("eth_newFilter"),params:H.array(H.any())}),zne=H.object({method:H.literal("eth_newPendingTransactionFilter")}),Fne=H.object({method:H.literal("eth_sendRawTransaction"),params:H.array(H.any())}),jne=H.object({method:H.literal("eth_syncing"),params:H.array(H.any())}),Hne=H.object({method:H.literal("eth_uninstallFilter"),params:H.array(H.any())}),mR=H.object({method:H.literal("personal_sign"),params:H.array(H.any())}),qne=H.object({method:H.literal("eth_signTypedData_v4"),params:H.array(H.any())}),Vne=H.object({method:H.literal("eth_sendTransaction"),params:H.array(H.any())}),Wne=H.object({method:H.literal("solana_signMessage"),params:H.object({message:H.string(),pubkey:H.string()})}),Kne=H.object({method:H.literal("solana_signTransaction"),params:H.object({transaction:H.string()})}),Gne=H.object({method:H.literal("solana_signAllTransactions"),params:H.object({transactions:H.array(H.string())})}),Yne=H.object({method:H.literal("solana_signAndSendTransaction"),params:H.object({transaction:H.string(),options:H.object({skipPreflight:H.boolean().optional(),preflightCommitment:H.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:H.number().optional(),minContextSlot:H.number().optional()}).optional()})}),Zne=H.object({method:H.literal("wallet_sendCalls"),params:H.array(H.object({chainId:H.string().or(H.number()).optional(),from:H.string().optional(),version:H.string().optional(),capabilities:H.any().optional(),calls:H.array(H.object({to:H.string().startsWith("0x"),data:H.string().startsWith("0x").optional(),value:H.string().optional()}))}))}),Xne=H.object({method:H.literal("wallet_getCallsStatus"),params:H.array(H.string())}),Qne=H.object({method:H.literal("wallet_getCapabilities")}),Jne=H.object({method:H.literal("wallet_grantPermissions"),params:H.array(H.any())}),ere=H.object({method:H.literal("wallet_revokePermissions"),params:H.any()}),tre=H.object({method:H.literal("wallet_getAssets"),params:H.any()}),yR=H.object({token:H.string()}),Le=H.object({id:H.string().optional()}),mf={appEvent:Le.extend({type:Ue("APP_SWITCH_NETWORK"),payload:Mte}).or(Le.extend({type:Ue("APP_CONNECT_EMAIL"),payload:Ute})).or(Le.extend({type:Ue("APP_CONNECT_DEVICE")})).or(Le.extend({type:Ue("APP_CONNECT_OTP"),payload:Lte})).or(Le.extend({type:Ue("APP_CONNECT_SOCIAL"),payload:zte})).or(Le.extend({type:Ue("APP_GET_FARCASTER_URI")})).or(Le.extend({type:Ue("APP_CONNECT_FARCASTER")})).or(Le.extend({type:Ue("APP_GET_USER"),payload:H.optional(Fte)})).or(Le.extend({type:Ue("APP_GET_SOCIAL_REDIRECT_URI"),payload:jte})).or(Le.extend({type:Ue("APP_SIGN_OUT")})).or(Le.extend({type:Ue("APP_IS_CONNECTED"),payload:H.optional(yR)})).or(Le.extend({type:Ue("APP_GET_CHAIN_ID")})).or(Le.extend({type:Ue("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Le.extend({type:Ue("APP_INIT_SMART_ACCOUNT")})).or(Le.extend({type:Ue("APP_SET_PREFERRED_ACCOUNT"),payload:Gte})).or(Le.extend({type:Ue("APP_RPC_REQUEST"),payload:mR.or(tre).or(une).or(dne).or(hne).or(fne).or(pne).or(gne).or(mne).or(yne).or(bne).or(wne).or(vne).or(Ene).or(_ne).or(xne).or(Sne).or(Ane).or(Cne).or(Tne).or(Ine).or(Rne).or(kne).or(Nne).or(One).or(Bne).or(Dne).or(Pne).or($ne).or(Mne).or(Une).or(Lne).or(zne).or(Fne).or(jne).or(Hne).or(mR).or(qne).or(Vne).or(Wne).or(Kne).or(Gne).or(Yne).or(Xne).or(Zne).or(Qne).or(Jne).or(ere)})).or(Le.extend({type:Ue("APP_UPDATE_EMAIL"),payload:Hte})).or(Le.extend({type:Ue("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:qte})).or(Le.extend({type:Ue("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Vte})).or(Le.extend({type:Ue("APP_SYNC_THEME"),payload:Wte})).or(Le.extend({type:Ue("APP_SYNC_DAPP_DATA"),payload:Kte})).or(Le.extend({type:Ue("APP_RELOAD")})),frameEvent:Le.extend({type:Ue("FRAME_SWITCH_NETWORK_ERROR"),payload:Gn}).or(Le.extend({type:Ue("FRAME_SWITCH_NETWORK_SUCCESS"),payload:ine})).or(Le.extend({type:Ue("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Yte})).or(Le.extend({type:Ue("FRAME_CONNECT_EMAIL_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Zte})).or(Le.extend({type:Ue("FRAME_GET_FARCASTER_URI_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Xte})).or(Le.extend({type:Ue("FRAME_CONNECT_FARCASTER_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_CONNECT_OTP_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_CONNECT_OTP_SUCCESS")})).or(Le.extend({type:Ue("FRAME_CONNECT_DEVICE_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Le.extend({type:Ue("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Qte})).or(Le.extend({type:Ue("FRAME_CONNECT_SOCIAL_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_GET_USER_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_GET_USER_SUCCESS"),payload:ene})).or(Le.extend({type:Ue("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:tne})).or(Le.extend({type:Ue("FRAME_SIGN_OUT_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_SIGN_OUT_SUCCESS")})).or(Le.extend({type:Ue("FRAME_IS_CONNECTED_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_IS_CONNECTED_SUCCESS"),payload:nne})).or(Le.extend({type:Ue("FRAME_GET_CHAIN_ID_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_GET_CHAIN_ID_SUCCESS"),payload:rne})).or(Le.extend({type:Ue("FRAME_RPC_REQUEST_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_RPC_REQUEST_SUCCESS"),payload:lne})).or(Le.extend({type:Ue("FRAME_SESSION_UPDATE"),payload:yR})).or(Le.extend({type:Ue("FRAME_UPDATE_EMAIL_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Jte})).or(Le.extend({type:Ue("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Le.extend({type:Ue("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:sne})).or(Le.extend({type:Ue("FRAME_SYNC_THEME_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_SYNC_THEME_SUCCESS")})).or(Le.extend({type:Ue("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Le.extend({type:Ue("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:one})).or(Le.extend({type:Ue("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:cne})).or(Le.extend({type:Ue("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_READY"),payload:ane})).or(Le.extend({type:Ue("FRAME_RELOAD_ERROR"),payload:Gn})).or(Le.extend({type:Ue("FRAME_RELOAD_SUCCESS")}))};function _1(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}class nre{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.iframeIsReady=!1,this.rpcUrl=Te.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:u}){if(!_1(He.FRAME_EVENT_KEY,u))return;const h=mf.frameEvent.parse(u);h.id===s&&(o(h),window.removeEventListener("message",c))}ls.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{ls.isClient&&window.addEventListener("message",({data:o})=>{if(!_1(He.FRAME_EVENT_KEY,o))return;const a=mf.frameEvent.parse(o);s(a)})},onAppEvent:s=>{ls.isClient&&window.addEventListener("message",({data:o})=>{if(!_1(He.APP_EVENT_KEY,o))return;const a=mf.appEvent.parse(o);s(a)})},postAppEvent:s=>{if(ls.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");mf.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(ls.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");mf.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),ls.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${tJ}?projectId=${e}&chainId=${r}&version=${rJ}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.border="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{o.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class rre{constructor(e){const n=Bh({level:nJ}),{logger:r,chunkLoggerController:i}=lS({opts:n});this.logger=mi(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class ire{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i,abortController:s}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new rre(e)),this.abortController=s,this.w3mFrame=new nre({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!Fr.get(He.EMAIL_LOGIN_USED_KEY)}getEmail(){return Fr.get(He.EMAIL)}getUsername(){return Fr.get(He.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:He.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{ls.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:He.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:He.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:He.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:He.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:He.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:He.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:He.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:He.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:He.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:He.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:He.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:He.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:He.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=await this.appEvent({type:He.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1;e?.preferredAccountType&&await this.setPreferredAccount(e.preferredAccountType);const r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:He.APP_GET_USER,payload:{...e,chainId:n}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial(e){try{await this.init();const n=await this.appEvent({type:He.APP_CONNECT_SOCIAL,payload:{uri:e}});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:He.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:He.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork(e){try{const n=await this.appEvent({type:He.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(n.chainId),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:He.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){try{if(Zr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();this.rpcRequestHandler?.(e);const n=await this.appEvent({type:He.APP_RPC_REQUEST,payload:e});return this.rpcSuccessHandler?.(n,e),n}catch(n){throw this.rpcErrorHandler?.(n,e),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_IS_CONNECTED_ERROR&&e(),n.type===He.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===He.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Zr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===He.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===He.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach(({abortController:e,method:n})=>{Zr.SAFE_RPC_METHODS.includes(n)||e.abort()}),this.openRpcRequests=[]}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function i(c){return c.replace("@w3m-app/","")}const s=[He.APP_SYNC_DAPP_DATA,He.APP_SYNC_THEME,He.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[He.APP_CONNECT_EMAIL,He.APP_CONNECT_DEVICE,He.APP_CONNECT_OTP,He.APP_CONNECT_SOCIAL,He.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},3e4)),new Promise((c,u)=>{const h=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:h},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:h});const f=new AbortController;if(o==="RPC_REQUEST"){const m=e;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:f}]}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?u(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&u(new Error("Something went wrong"))});function g(m,_){m.id===h&&(_?.logger.info?.({framEvent:m,id:h},"Received frame response"),m.type===`@w3m-frame/${o}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&c(m.payload),c(void 0)):m.type===`@w3m-frame/${o}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&u(new Error(m.payload?.message||"An error occurred")),u(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(h,m=>g(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){Fr.set(He.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){Fr.set(He.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&Fr.set(He.EMAIL,e),Fr.set(He.EMAIL_LOGIN_USED_KEY,"true"),Fr.delete(He.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){Fr.delete(He.EMAIL_LOGIN_USED_KEY),Fr.delete(He.EMAIL),Fr.delete(He.LAST_USED_CHAIN_KEY),Fr.delete(He.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&Fr.set(He.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=Fr.get(He.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){Fr.set(He.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class np{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s}){return np.instance||(np.instance=new ire({projectId:e,chainId:n,enableLogger:r,onTimeout:i,abortController:s})),np.instance}}var bR={};const sre={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof bR<"u"?bR.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},F_={filterOutDuplicatesByRDNS(t){const e=we.state.enableEIP6963?ze.state.connectors:[],n=Pe.getRecentWallets(),r=e.map(a=>a.info?.rdns).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&rt.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(t){const e=ze.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=Pe.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ze.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>(o.info?.rdns&&(s[o.info.rdns]=!0),s),{});return t.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||we.state.features?.connectMethodsOrder,r=e||ze.state.connectors;if(n)return n;const{injected:i,announced:s}=iy.getConnectorsByType(r,nt.state.recommended,nt.state.featured),o=i.filter(iy.showConnector),a=s.filter(iy.showConnector);return o.length||a.length?["wallet","email","social"]:sre.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&nt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&nt.state.excludedWallets.some(r=>lw.isLowerCaseMatch(r.name,t.name));return e||n}},iy={getConnectorsByType(t,e,n){const{customWallets:r}=we.state,i=Pe.getRecentWallets(),s=F_.filterOutDuplicateWallets(e),o=F_.filterOutDuplicateWallets(n),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),u=t.filter(f=>f.type==="INJECTED"),h=t.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:i,external:h,multiChain:a,announced:c,injected:u,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,n=!!e&&nt.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),r=!!t.name&&nt.state.excludedWallets.some(i=>lw.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!rt.isMobile()||rt.isMobile()&&!e&&!st.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(Z.state.chains.values()).some(n=>ze.getConnectorId(n.namespace)===Te.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=we.state.features?.connectorTypeOrder??[]}){const u=iy.getIsConnectedWithWC(),g=[{type:"walletConnect",isEnabled:we.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(T=>T.isEnabled),m=new Set(g.map(T=>T.type)),_=c.filter(T=>m.has(T)).map(T=>({type:T,isEnabled:!0})),x=g.filter(({type:T})=>!_.some(({type:C})=>C===T));return Array.from(new Set([..._,...x].map(({type:T})=>T)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sy=globalThis,WS=sy.ShadowRoot&&(sy.ShadyCSS===void 0||sy.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,KS=Symbol(),wR=new WeakMap;let sD=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==KS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(WS&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=wR.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&wR.set(n,e))}return e}toString(){return this.cssText}};const Rs=t=>new sD(typeof t=="string"?t:t+"",void 0,KS),Fd=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new sD(n,t,KS)},ore=(t,e)=>{if(WS)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=sy.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},vR=WS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Rs(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:are,defineProperty:cre,getOwnPropertyDescriptor:lre,getOwnPropertyNames:ure,getOwnPropertySymbols:dre,getPrototypeOf:hre}=Object,dw=globalThis,ER=dw.trustedTypes,fre=ER?ER.emptyScript:"",pre=dw.reactiveElementPolyfillSupport,rp=(t,e)=>t,j_={toAttribute(t,e){switch(e){case Boolean:t=t?fre:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},oD=(t,e)=>!are(t,e),_R={attribute:!0,type:String,converter:j_,reflect:!1,useDefault:!1,hasChanged:oD};Symbol.metadata??=Symbol("metadata"),dw.litPropertyMetadata??=new WeakMap;let pd=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=_R){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&cre(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=lre(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??_R}static _$Ei(){if(this.hasOwnProperty(rp("elementProperties")))return;const e=hre(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(rp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(rp("properties"))){const n=this.properties,r=[...ure(n),...dre(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(vR(i))}else e!==void 0&&n.push(vR(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ore(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:j_).toAttribute(n,r.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,n){const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:j_;this._$Em=i,this[i]=o.fromAttribute(n,s.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){const i=this.constructor,s=this[e];if(r??=i.getPropertyOptions(e),!((r.hasChanged??oD)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(e){}firstUpdated(e){}};pd.elementStyles=[],pd.shadowRootOptions={mode:"open"},pd[rp("elementProperties")]=new Map,pd[rp("finalized")]=new Map,pre?.({ReactiveElement:pd}),(dw.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const GS=globalThis,Wy=GS.trustedTypes,xR=Wy?Wy.createPolicy("lit-html",{createHTML:t=>t}):void 0,aD="$lit$",yc=`lit$${Math.random().toFixed(9).slice(2)}$`,cD="?"+yc,gre=`<${cD}>`,iu=document,gg=()=>iu.createComment(""),mg=t=>t===null||typeof t!="object"&&typeof t!="function",YS=Array.isArray,mre=t=>YS(t)||typeof t?.[Symbol.iterator]=="function",x1=`[ 	
\f\r]`,yf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,SR=/-->/g,AR=/>/g,hl=RegExp(`>|${x1}(?:([^\\s"'>=/]+)(${x1}*=${x1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),CR=/'/g,TR=/"/g,lD=/^(?:script|style|textarea|title)$/i,uD=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Kbe=uD(1),Gbe=uD(2),yh=Symbol.for("lit-noChange"),Ir=Symbol.for("lit-nothing"),IR=new WeakMap,kl=iu.createTreeWalker(iu,129);function dD(t,e){if(!YS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return xR!==void 0?xR.createHTML(e):e}const yre=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=yf;for(let a=0;a<n;a++){const c=t[a];let u,h,f=-1,g=0;for(;g<c.length&&(o.lastIndex=g,h=o.exec(c),h!==null);)g=o.lastIndex,o===yf?h[1]==="!--"?o=SR:h[1]!==void 0?o=AR:h[2]!==void 0?(lD.test(h[2])&&(i=RegExp("</"+h[2],"g")),o=hl):h[3]!==void 0&&(o=hl):o===hl?h[0]===">"?(o=i??yf,f=-1):h[1]===void 0?f=-2:(f=o.lastIndex-h[2].length,u=h[1],o=h[3]===void 0?hl:h[3]==='"'?TR:CR):o===TR||o===CR?o=hl:o===SR||o===AR?o=yf:(o=hl,i=void 0);const m=o===hl&&t[a+1].startsWith("/>")?" ":"";s+=o===yf?c+gre:f>=0?(r.push(u),c.slice(0,f)+aD+c.slice(f)+yc+m):c+yc+(f===-2?a:m)}return[dD(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class yg{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[u,h]=yre(e,n);if(this.el=yg.createElement(u,r),kl.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=kl.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(aD)){const g=h[o++],m=i.getAttribute(f).split(yc),_=/([.?@])?(.*)/.exec(g);c.push({type:1,index:s,name:_[2],strings:m,ctor:_[1]==="."?wre:_[1]==="?"?vre:_[1]==="@"?Ere:hw}),i.removeAttribute(f)}else f.startsWith(yc)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(lD.test(i.tagName)){const f=i.textContent.split(yc),g=f.length-1;if(g>0){i.textContent=Wy?Wy.emptyScript:"";for(let m=0;m<g;m++)i.append(f[m],gg()),kl.nextNode(),c.push({type:2,index:++s});i.append(f[g],gg())}}}else if(i.nodeType===8)if(i.data===cD)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(yc,f+1))!==-1;)c.push({type:7,index:s}),f+=yc.length-1}s++}}static createElement(e,n){const r=iu.createElement("template");return r.innerHTML=e,r}}function bh(t,e,n=t,r){if(e===yh)return e;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=mg(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(e=bh(t,i._$AS(t,e.values),i,r)),e}class bre{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=(e?.creationScope??iu).importNode(n,!0);kl.currentNode=i;let s=kl.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new pm(s,s.nextSibling,this,e):c.type===1?u=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(u=new _re(s,this,e)),this._$AV.push(u),c=r[++a]}o!==c?.index&&(s=kl.nextNode(),o++)}return kl.currentNode=iu,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class pm{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=Ir,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=bh(this,e,n),mg(e)?e===Ir||e==null||e===""?(this._$AH!==Ir&&this._$AR(),this._$AH=Ir):e!==this._$AH&&e!==yh&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):mre(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ir&&mg(this._$AH)?this._$AA.nextSibling.data=e:this.T(iu.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=yg.createElement(dD(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new bre(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=IR.get(e.strings);return n===void 0&&IR.set(e.strings,n=new yg(e)),n}k(e){YS(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new pm(this.O(gg()),this.O(gg()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let hw=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=Ir,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ir}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=bh(this,e,n,0),o=!mg(e)||e!==this._$AH&&e!==yh,o&&(this._$AH=e);else{const a=e;let c,u;for(e=s[0],c=0;c<s.length-1;c++)u=bh(this,a[r+c],n,c),u===yh&&(u=this._$AH[c]),o||=!mg(u)||u!==this._$AH[c],u===Ir?e=Ir:e!==Ir&&(e+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(e)}j(e){e===Ir?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},wre=class extends hw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ir?void 0:e}};class vre extends hw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ir)}}class Ere extends hw{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=bh(this,e,n,0)??Ir)===yh)return;const r=this._$AH,i=e===Ir&&r!==Ir||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==Ir&&(r===Ir||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}let _re=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){bh(this,e)}};const xre=GS.litHtmlPolyfillSupport;xre?.(yg,pm),(GS.litHtmlVersions??=[]).push("3.3.0");const Sre=(t,e,n)=>{const r=n?.renderBefore??e;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new pm(e.insertBefore(gg(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ZS=globalThis;let oy=class extends pd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Sre(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return yh}};oy._$litElement$=!0,oy.finalized=!0,ZS.litElementHydrateSupport?.({LitElement:oy});const Are=ZS.litElementPolyfillSupport;Are?.({LitElement:oy});(ZS.litElementVersions??=[]).push("4.2.0");let ip,Nc,Oc;function Jbe(t,e){ip=document.createElement("style"),Nc=document.createElement("style"),Oc=document.createElement("style"),ip.textContent=jd(t).core.cssText,Nc.textContent=jd(t).dark.cssText,Oc.textContent=jd(t).light.cssText,document.head.appendChild(ip),document.head.appendChild(Nc),document.head.appendChild(Oc),hD(e)}function hD(t){Nc&&Oc&&(t==="light"?(Nc.removeAttribute("media"),Oc.media="enabled"):(Oc.removeAttribute("media"),Nc.media="enabled"))}function Cre(t){ip&&Nc&&Oc&&(ip.textContent=jd(t).core.cssText,Nc.textContent=jd(t).dark.cssText,Oc.textContent=jd(t).light.cssText)}function jd(t){return{core:Fd`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Rs(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Rs(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Rs(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${Rs(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${Rs(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Fd`
      :root {
        --w3m-color-mix: ${Rs(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${Rs(Ra(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Rs(Ra(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Fd`
      :root {
        --w3m-color-mix: ${Rs(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${Rs(Ra(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Rs(Ra(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const ewe=Fd`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,twe=Fd`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,nwe=Fd`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Uf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function gm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const bg=gm({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Ky=gm({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"}),Tre=gm({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});gm({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});gm({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Ire={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},sp={getMethodsByChainNamespace(t){return Ire[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const u=`${o}:${s}`,h=r[o];switch(h.chains.push(u),u){case bg.caipNetworkId:h.chains.push(bg.deprecatedCaipNetworkId);break;case Ky.caipNetworkId:h.chains.push(Ky.deprecatedCaipNetworkId);break}return h?.rpcMap&&c&&(h.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await tp.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else if(r===t)return!0;return!1}};class XS{constructor({provider:e,namespace:n}){this.id=Te.CONNECTOR_ID.WALLET_CONNECT,this.name=Ma.ConnectorNamesMap[Te.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ma.ConnectorImageIds[Te.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=Z.getCaipNetworks.bind(Z),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=we.state.universalProviderConfigOverride,i=sp.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Qf.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Rre})}}const Rre=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class fD{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>Z.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Te.CONNECTOR_ID.AUTH,type:"AUTH",name:Te.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ma.ConnectorImageIds[Te.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){Ve.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const s=i,o=Ve.state.preferredAccountTypes?.[n.chainNamespace];await s.switchNetwork(n.caipNetworkId);const a=await s.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof XS);if(!e)throw new Error("WalletConnectConnector not found");return e}}class kre extends fD{setUniversalProvider(e){this.addConnector(new XS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){const r=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:r.map(i=>rt.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&kr.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Ve.state.balanceLoading&&e.chainId===Z.state.activeCaipNetwork?.id)return{balance:Ve.state.balance||"0.00",symbol:Ve.state.balanceSymbol||""};const i=(await Ve.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return Z.state.activeCaipNetwork?.chainNamespace===Te.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:Li.encode(new TextEncoder().encode(r)),pubkey:i}},Z.state.activeCaipNetwork?.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},Z.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Te.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:YI(n.id)}]})}catch(i){if(i.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Uf.ERROR_INVALID_CHAIN_ID||i.code===Uf.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:YI(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}class Nre{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const i=Z.getNetworkData(n)?.requestedCaipNetworks?.find(a=>a.id===r);if(i)return i;const s=Z.getNetworkData(n)?.caipNetwork;return s||Z.getRequestedCaipNetworks(n).filter(a=>a.chainNamespace===n)?.[0]}return Z.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>Z.getCaipNetworks(n),this.getActiveChainNamespace=()=>Z.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{Z.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>Z.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>Z.state.activeChain===n||!n?Z.state.activeCaipAddress:Z.getAccountProp("caipAddress",n),this.setClientId=n=>{ct.setClientId(n)},this.getProvider=n=>Kt.getProvider(n),this.getProviderType=n=>Kt.getProviderId(n),this.getPreferredAccountType=n=>Ve.state.preferredAccountTypes?.[n],this.setCaipAddress=(n,r)=>{Ve.setCaipAddress(n,r)},this.setBalance=(n,r,i)=>{Ve.setBalance(n,r,i)},this.setProfileName=(n,r)=>{Ve.setProfileName(n,r)},this.setProfileImage=(n,r)=>{Ve.setProfileImage(n,r)},this.setUser=(n,r)=>{Ve.setUser(n,r),we.state.enableEmbedded&&ir.close()},this.resetAccount=n=>{Ve.resetAccount(n)},this.setCaipNetwork=n=>{Z.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{Z.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{Ve.setAllAccounts(n,r),we.setHasMultipleAddresses(n?.length>1)},this.setStatus=(n,r)=>{Ve.setStatus(n,r),ze.isConnected()?Pe.setConnectionStatus("connected"):Pe.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>Z.getAccountProp("address",n),this.setConnectors=n=>{const r=[...ze.state.allConnectors,...n];ze.setConnectors(r)},this.setConnections=(n,r)=>{st.setConnections(n,r)},this.fetchIdentity=n=>ct.fetchIdentity(n),this.getReownName=n=>tp.getNamesForAddress(n),this.getConnectors=()=>ze.getConnectors(),this.getConnectorImage=n=>VO.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=Kt.getProviderId(r),s=n?{...n,type:i}:void 0;Ve.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!Z.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{Ve.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{Ve.removeAddressLabel(n,r)},this.getAddress=n=>Z.state.activeChain===n||!n?Ve.state.address:Z.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>Z.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{Z.resetNetwork(n)},this.addConnector=n=>{ze.addConnector(n)},this.resetWcConnection=()=>{st.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{Ve.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{Ve.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{Z.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{Ve.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{we.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e?.map(s=>s.namespace).filter(s=>!!s);if(r?.length)return[...new Set(r)];const i=n?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),jo.set({initialized:!0}),await this.syncExistingConnection(),(we.state.features?.email||Array.isArray(we.state.features?.socials)&&we.state.features?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await nt.fetchAllowedOrigins();if(e&&rt.isClient()){const n=window.location.origin;sp.isOriginAllowed(n,e,Uf.DEFAULT_ALLOWED_ANCESTORS)||Po.open(ao.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else Po.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,mn.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(r=>r.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&$i.setThemeMode(e.themeMode),e.themeVariables&&$i.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");Z.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&Z.setActiveCaipNetwork(n)}initializeConnectionController(e){st.setWcBasic(e.basic??!1)}initializeConnectorController(){ze.initialize(this.chainNamespaces)}initializeOptionsController(e){we.setDebug(e.debug!==!1),we.setEnableWalletConnect(e.enableWalletConnect!==!1),we.setEnableWalletGuide(e.enableWalletGuide!==!1),we.setEnableWallets(e.enableWallets!==!1),we.setEIP6963Enabled(e.enableEIP6963!==!1),we.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),we.setEnableAuthLogger(e.enableAuthLogger!==!1),we.setCustomRpcUrls(e.customRpcUrls),we.setSdkVersion(e.sdkVersion),we.setProjectId(e.projectId),we.setEnableEmbedded(e.enableEmbedded),we.setAllWallets(e.allWallets),we.setIncludeWalletIds(e.includeWalletIds),we.setExcludeWalletIds(e.excludeWalletIds),we.setFeaturedWalletIds(e.featuredWalletIds),we.setTokens(e.tokens),we.setTermsConditionsUrl(e.termsConditionsUrl),we.setPrivacyPolicyUrl(e.privacyPolicyUrl),we.setCustomWallets(e.customWallets),we.setFeatures(e.features),we.setAllowUnsupportedChain(e.allowUnsupportedChain),we.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),we.setPreferUniversalLinks(e.experimental_preferUniversalLinks),we.setDefaultAccountTypes(e.defaultAccountTypes);const n=Pe.getPreferredAccountTypes()||{},r={...we.state.defaultAccountTypes,...n};Ve.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),we.setMetadata(e.metadata),we.setDisableAppend(e.disableAppend),we.setEnableEmbedded(e.enableEmbedded),we.setSIWX(e.siwx),!e.projectId){Po.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(o=>o.namespace===Te.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");we.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return typeof window<"u"&&typeof document<"u"?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=hd.getUnsupportedNetwork(`${n}:${e}`);Z.setActiveCaipNetwork(r)}}getDefaultNetwork(){return hd.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return hd.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return hd.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?hd.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=Z.state.activeChain,n=this.getAdapter(e),r=this.getCaipNetwork(e)?.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId(i?.clientId||null),Pe.setConnectedNamespaces([...Z.state.chains.keys()]),this.chainNamespaces.forEach(s=>{ze.setConnectorId(pn.CONNECTOR_TYPE_WALLET_CONNECT,s)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{const c=Z.state.activeChain,u=s||c,h=this.getAdapter(u);if(s&&s!==c&&!o){const x=this.getCaipNetworks().find(T=>T.chainNamespace===s);x&&this.setCaipNetwork(x)}if(!h)throw new Error("Adapter not found");const f=this.getCaipNetwork(u),g=await h.connect({id:e,info:n,type:r,provider:i,socialUri:a,chainId:o?.id||f?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||f?.rpcUrls?.default?.http?.[0]});if(!g)return;Pe.addConnectedNamespace(u),this.syncProvider({...g,chainNamespace:u});const m=Ve.state.allAccounts,{accounts:_}=m?.length>0?{accounts:[...m]}:await h.getAccounts({namespace:u,id:e});this.setAllAccounts(_,u),this.setStatus("connected",u),this.syncConnectedWalletInfo(u)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{const s=Z.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:e,info:n,type:r,provider:i,chainId:this.getCaipNetwork()?.id}),Pe.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=e||Z.state.activeChain,r=this.getAdapter(n),i=Kt.getProvider(n),s=Kt.getProviderId(n);await r?.disconnect({provider:i,providerType:s}),Pe.removeConnectedNamespace(n),Kt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n)},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>(await this.getAdapter(Z.state.activeChain)?.signMessage({message:e,address:Ve.state.address,provider:Kt.getProvider(Z.state.activeChain)}))?.signature||"",sendTransaction:async e=>{const n=e.chainNamespace;if(kr.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(Z.state.activeChain),i=Kt.getProvider(n);return(await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{if(e.chainNamespace===Te.CHAIN.EVM){const n=this.getAdapter(Z.state.activeChain),r=Kt.getProvider(Z.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");return(await n?.estimateGas({...e,provider:r,caipNetwork:i}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.syncIdentity({address:Ve.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:Z.state.activeChain}),Ve.state.profileImage||!1),getEnsAddress:async e=>await sp.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(Z.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=Kt.getProvider(Z.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(await n?.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}))?.hash},parseUnits:(e,n)=>this.getAdapter(Z.state.activeChain)?.parseUnits({value:e,decimals:n})??0n,formatUnits:(e,n)=>this.getAdapter(Z.state.activeChain)?.formatUnits({value:e,decimals:n})??"0",getCapabilities:async e=>await this.getAdapter(Z.state.activeChain)?.getCapabilities(e),grantPermissions:async e=>await this.getAdapter(Z.state.activeChain)?.grantPermissions(e),revokePermissions:async e=>{const n=this.getAdapter(Z.state.activeChain);return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>await this.getAdapter(Z.state.activeChain)?.walletGetAssets(e)??{},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!Ve.state.address||this.updateNativeBalance(Ve.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},st.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(Kt.getProviderId(Z.state.activeChain)===pn.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Kt.getProvider(n),s=Kt.getProviderId(n);if(e.chainNamespace===Z.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===pn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=ma.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const i=e?.find(s=>s.namespace===r);return i?(i.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new kre({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=Pe.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(Pe.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(u=>u.id===s||u.caipNetworkId===s),a=Z.state.activeChain===e,c=Z.getAccountProp("address",e);if(o){const u=a&&i?i:c;u&&this.syncAccount({address:u,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=Ve.state.address,s=Z.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{const o=Z.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&Z.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:Z.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=ze.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Te.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Te.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){const n=this.getAdapter(e),r=ze.getConnectorId(e),i=this.getCaipNetwork(e),s=ze.getConnectors(e).find(o=>o.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const o=await n?.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});if(o){const a=await n?.getAccounts({namespace:e,id:s.id});a&&a.accounts.length>0?this.setAllAccounts(a.accounts,e):this.setAllAccounts([rt.createAccount(e,o.address,"eoa")],e),this.syncProvider({...o,chainNamespace:e}),await this.syncAccount({...o,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{const r=this.getAdapter(n),i=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],s=Z.state.activeCaipNetwork?.id,o=i.find(a=>{const{chainId:c}=ma.parseCaipAddress(a);return c===s?.toString()})||i[0];if(o){const a=ma.validateCaipAddress(o),{chainId:c,address:u}=ma.parseCaipAddress(a);if(Kt.setProviderId(n,pn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&Z.state.activeCaipNetwork&&r?.namespace!==Te.CHAIN.EVM){const h=r?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:Z.state.activeCaipNetwork});Kt.setProvider(n,h)}else Kt.setProvider(n,this.universalProvider);ze.setConnectorId(Te.CONNECTOR_ID.WALLET_CONNECT,n),Pe.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:u,chainId:c,chainNamespace:n})}else this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await Z.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){const n=this.universalProvider?.session?.namespaces?.[e]?.accounts?.map(r=>{const{address:i}=ma.parseCaipAddress(r);return i}).filter((r,i,s)=>s.indexOf(r)===i);n&&this.setAllAccounts(n.map(r=>rt.createAccount(e,r,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){Kt.setProviderId(i,e),Kt.setProvider(i,n),ze.setConnectorId(r,i)}async syncAllAccounts(e){const n=ze.getConnectorId(e);if(!n)return;const i=await this.getAdapter(e)?.getAccounts({namespace:e,id:n});i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,e)}async syncAccount(e){const n=e.chainNamespace===Z.state.activeChain,r=Z.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=Pe.getActiveNetworkProps(),c=s||a,u=Z.state.activeCaipNetwork?.name===Te.UNSUPPORTED_NETWORK_NAME,h=Z.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(u&&!h)&&c){let f=this.getCaipNetworks().find(_=>_.id.toString()===c.toString()),g=this.getCaipNetworks().find(_=>_.chainNamespace===o);if(!h&&!f&&!g){const _=this.getApprovedCaipNetworkIds()||[],x=_.find(S=>ma.parseCaipNetworkId(S)?.chainId===c.toString()),T=_.find(S=>ma.parseCaipNetworkId(S)?.chainNamespace===o);f=this.getCaipNetworks().find(S=>S.caipNetworkId===x),g=this.getCaipNetworks().find(S=>S.caipNetworkId===T||"deprecatedCaipNetworkId"in S&&S.deprecatedCaipNetworkId===T)}const m=f||g;m?.chainNamespace===Z.state.activeChain?we.state.enableNetworkSwitch&&!we.state.allowUnsupportedChain&&Z.state.activeCaipNetwork?.name===Te.UNSUPPORTED_NETWORK_NAME?Z.showUnsupportedChainUI():this.setCaipNetwork(m):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),lw.isLowerCaseMatch(i,Ve.state.address)||this.syncAccountInfo(i,m?.id,o),n?await this.syncBalance({address:i,chainId:m?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r?.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||i?.split(":")[1];if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=ze.getConnectorId(e),r=Kt.getProviderId(e);if(r===pn.CONNECTOR_TYPE_ANNOUNCED||r===pn.CONNECTOR_TYPE_INJECTED){if(n){const i=this.getConnectors().find(s=>s.id===n);if(i){const{info:s,name:o,imageUrl:a}=i,c=a||this.getConnectorImage(i);this.setConnectedWalletInfo({name:o,icon:c,...s},e)}}}else if(r===pn.CONNECTOR_TYPE_WALLET_CONNECT){const i=Kt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&n===Te.CONNECTOR_ID.COINBASE){const i=this.getConnectors().find(s=>s.id===Te.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(i)},e)}}async syncBalance(e){!jO.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>r.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=Z.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){const e=Ree.createLogger((r,...i)=>{r&&this.handleAlertError(r),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};we.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await JQ.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{st.setUri(e)}),this.universalProvider.on("connect",st.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),st.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}r?.id!==n?.id&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(sp.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&rt.isCaipAddress(r[0])&&this.syncAccount(ma.parseCaipAddress(r[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&rt.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){mn.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(ao.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=ao.ALERT_ERRORS[o];a&&(Po.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e?.uri&&st.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return ir.open({...e,data:{swap:e.arguments}})}return ir.open(e)}async close(e=!1){await this.injectModalUi(),ir.close(e)}setLoading(e,n){ir.setLoading(e,n)}async disconnect(e){await st.disconnect(e)}getSIWX(){return we.state.siwx}getError(){return""}getChainId(){return Z.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Po.open(ao.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await Z.switchActiveNetwork(n)}getWalletProvider(){return Z.state.activeChain?Kt.state.providers[Z.state.activeChain]:null}getWalletProviderType(){return Kt.getProviderId(Z.state.activeChain)}subscribeProviders(e){return Kt.subscribeProviders(e)}getThemeMode(){return $i.state.themeMode}getThemeVariables(){return $i.state.themeVariables}setThemeMode(e){$i.setThemeMode(e),hD($i.state.themeMode)}setTermsConditionsUrl(e){we.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){we.setPrivacyPolicyUrl(e)}setThemeVariables(e){$i.setThemeVariables(e),Cre($i.state.themeVariables)}subscribeTheme(e){return $i.subscribe(e)}getWalletInfo(){return Ve.state.connectedWalletInfo}getAccount(e){const n=ze.getAuthConnector(e),r=Z.getAccountData(e),i=Z.state.activeChain,s=Pe.getConnectedConnectorId(e);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:rt.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===Te.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:Pe.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:r.preferredAccountTypes?.[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?Z.subscribeChainProp("accountState",r,n):Z.subscribe(r),ze.subscribe(r)}subscribeNetwork(e){return Z.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e){return Ve.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Ve.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){Z.subscribeKey("activeCaipNetwork",e)}getState(){return jo.state}subscribeState(e){return jo.subscribe(e)}showErrorMessage(e){lo.showError(e)}showSuccessMessage(e){lo.showSuccess(e)}getEvent(){return{...mn.state}}subscribeEvents(e){return mn.subscribe(e)}replace(e){Tt.replace(e)}redirect(e){Tt.push(e)}popTransactionStack(e){Tt.popTransactionStack(e)}isOpen(){return ir.state.open}isTransactionStackEmpty(){return Tt.state.transactionStack.length===0}isTransactionShouldReplaceView(){return Tt.state.transactionStack[Tt.state.transactionStack.length-1]?.replace}static getInstance(){return this.instance}updateFeatures(e){we.setFeatures(e)}updateOptions(e){const r={...we.state||{},...e};we.setOptions(r)}setConnectMethodsOrder(e){we.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){we.setWalletFeaturesOrder(e)}setCollapseWallets(e){we.setCollapseWallets(e)}setSocialsOrder(e){we.setSocialsOrder(e)}getConnectMethodsOrder(){return F_.getConnectOrderMethod(we.state.features,ze.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||Z.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&Z.removeNetwork(e,n)}}let RR=!1;class Ore extends Nre{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{ls.checkIfRequestExists(n)?ls.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Zr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Zr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close(!0):this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const i=ls.checkIfRequestIsSafe(r),s=Ve.state.address,o=Z.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(!0),s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=Z.state.activeChain;ze.getConnectorId(n)===Te.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(n=>{const r=Z.state.activeChain,i=r===Te.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=we.state.defaultAccountTypes[r],o=Ve.state.preferredAccountTypes?.[r],a=n.preferredAccountType||o||s;lw.isLowerCaseMatch(n.address,Ve.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...Ve.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(a,r);const c=n.accounts?.map(u=>rt.createAccount(r,u.address,u.type||o||s));this.setAllAccounts(c||[rt.createAccount(r,n.address,n.preferredAccountType||a)],r),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...Ve.state.user||{},username:n},Z.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,Z.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,Z.state.activeChain)})}async syncAuthConnector(e,n){const r=Te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...Ve.state?.user||{},username:o,email:s},Z.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=$i.getSnapshot(),u=we.getSnapshot();await Promise.all([e.syncDappData({metadata:u.metadata,sdkVersion:u.sdkVersion,projectId:u.projectId,sdkType:u.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:Ra(c.themeVariables,c.themeMode)})]),await e.getSmartAccountEnabledNetworks(),n&&r&&(a&&this.connectionControllerClient?.connectExternal?(await this.connectionControllerClient?.connectExternal({id:Te.CONNECTOR_ID.AUTH,info:{name:Te.CONNECTOR_ID.AUTH},type:pn.CONNECTOR_TYPE_AUTH,provider:e,chainId:Z.state.activeCaipNetwork?.id,chain:n}),this.setStatus("connected",n)):ze.getConnectorId(n)===Te.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),Pe.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){try{if(!rt.isTelegram())return;const n=Pe.getTelegramSocialProvider();if(!n||typeof window>"u"||typeof document>"u")return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Ve.setSocialProvider(n,e),await this.authProvider?.init();const s=ze.getAuthConnector();n&&s&&(this.setLoading(!0,e),await st.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),Pe.setConnectedSocialProvider(n),Pe.removeTelegramSocialProvider(),mn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:n}}))}catch(n){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",n)}try{const n=new URL(window.location.href);n.searchParams.delete("result_uri"),window.history.replaceState({},document.title,n.toString())}catch(n){console.error("tma social login failed",n)}}createAuthProvider(e){if(!Te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=this.options?.features?.email===void 0?kr.DEFAULT_FEATURES.email:this.options?.features?.email,i=this.options?.features?.socials?this.options?.features?.socials?.length>0:this.options?.features?.socials??kr.DEFAULT_FEATURES.socials,s=r||i;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=np.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(e)?.caipNetworkId,abortController:ao.EmbeddedWalletAbortController,onTimeout:o=>{o==="iframe_load_failed"?Po.open(ao.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):o==="iframe_request_timeout"?Po.open(ao.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):o==="unverified_domain"&&Po.open(ao.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")}}),jo.subscribeOpen(o=>{!o&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&nt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const n=Z.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===Z.state.activeChain&&i){const s=this.getAdapter(r),o=Kt.getProvider(r),a=Kt.getProviderId(r);await s?.switchNetwork({caipNetwork:e,provider:o,providerType:a}),this.setCaipNetwork(e)}else{const o=Kt.getProviderId(n)===pn.CONNECTOR_TYPE_AUTH,a=Kt.getProviderId(r),c=a===pn.CONNECTOR_TYPE_AUTH,u=Te.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((o&&a===void 0||c)&&u)try{Z.state.activeChain=e.chainNamespace,await this.connectionControllerClient?.connectExternal?.({id:Te.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:pn.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:a})}else a===pn.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){const i=`${r}:${n}`,s=this.caipNetworks?.find(o=>o.caipNetworkId===i);if(r!==Te.CHAIN.EVM||s?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:o,avatar:a}=await this.fetchIdentity({address:e,caipNetworkId:i});this.setProfileName(o,r),this.setProfileImage(a,r)}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=Kt.getProviderId(e);if(n===pn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=Pe.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!RR&&rt.isClient()){const e={...kr.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(kn(()=>import("./embedded-wallet-BN7FnEaP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&n.push(kn(()=>import("./email-BsArHc_0.js"),__vite__mapDeps([12,1,11,5,10,4,9,13,6]))),e.socials&&n.push(kn(()=>import("./socials-Lrza7Llg.js"),__vite__mapDeps([14,1,15,4,16,17,10,18,9,5,11,19,3,20]))),e.swaps&&n.push(kn(()=>import("./swaps-h180uuCu.js"),__vite__mapDeps([21,1,9,5,22,23,24,3,10,20,6,4]))),e.send&&n.push(kn(()=>import("./send-DIPjccKT.js"),__vite__mapDeps([25,1,9,5,10,4,16,11,24,3,6,26,27]))),e.receive&&n.push(kn(()=>import("./receive-D5823GTp.js"),__vite__mapDeps([28,1,29,3,19]))),e.onramp&&n.push(kn(()=>import("./onramp-CE2Nyo61.js"),__vite__mapDeps([30,1,31,20,10,3,5,32,15,4,16,33,11,9,18,6]))),e.history&&n.push(kn(()=>import("./transactions-BHUgEJ3b.js"),__vite__mapDeps([34,1,35,31,20,10,11,3]))),e.pay&&n.push(kn(()=>import("./index-pxMjmnQL.js"),__vite__mapDeps([36,1,9,5,37,3,10,7,32,27,18])))),await Promise.all([...n,kn(()=>import("./index-DxSS-NAw.js"),__vite__mapDeps([38,1,3,5,26,10,39,23,7,32,9,8,37,35,31,20,11,22,4,6,27,13,15,16,17,2,18,29,19,33])),kn(()=>import("./w3m-modal-CdAouBcj.js"),__vite__mapDeps([40,1,7,3,10,8,5,23,39]))]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!we.state.disableAppend&&!we.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}RR=!0}}}const Bre="1.7.5";let S1;function Dre(t){return S1||(S1=new Ore({...t,sdkVersion:rt.generateSdkVersion(t.adapters??[],"react",Bre)})),S1}const bf=wn({connection:null}),sd={state:bf,subscribeKey(t,e){return gi(bf,t,e)},subscribe(t){return fi(bf,()=>t(bf))},setConnection(t){bf.connection=qc(t)}};var bt={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Eu,n=jh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,d){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(p)}return c(p,l,d)}a.poolSize=8192;function c(p,l,d){if(typeof p=="string")return g(p,l);if(ArrayBuffer.isView(p))return _(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ae(p,ArrayBuffer)||p&&ae(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(p,SharedArrayBuffer)||p&&ae(p.buffer,SharedArrayBuffer)))return x(p,l,d);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,l,d);const A=T(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,d){return c(p,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,l,d){return u(p),p<=0?o(p):l!==void 0?typeof d=="string"?o(p).fill(l,d):o(p).fill(l):o(p)}a.alloc=function(p,l,d){return h(p,l,d)};function f(p){return u(p),o(p<0?0:S(p)|0)}a.allocUnsafe=function(p){return f(p)},a.allocUnsafeSlow=function(p){return f(p)};function g(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=I(p,l)|0;let y=o(d);const A=y.write(p,l);return A!==d&&(y=y.slice(0,A)),y}function m(p){const l=p.length<0?0:S(p.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=p[y]&255;return d}function _(p){if(ae(p,Uint8Array)){const l=new Uint8Array(p);return x(l.buffer,l.byteOffset,l.byteLength)}return m(p)}function x(p,l,d){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(p):d===void 0?y=new Uint8Array(p,l):y=new Uint8Array(p,l,d),Object.setPrototypeOf(y,a.prototype),y}function T(p){if(a.isBuffer(p)){const l=S(p.length)|0,d=o(l);return d.length===0||p.copy(d,0,0,l),d}if(p.length!==void 0)return typeof p.length!="number"||Be(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function C(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ae(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ae(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,A=d.length;for(let $=0,F=Math.min(y,A);$<F;++$)if(l[$]!==d[$]){y=l[$],A=d[$];break}return y<A?-1:A<y?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const A=a.allocUnsafe(d);let $=0;for(y=0;y<l.length;++y){let F=l[y];if(ae(F,Uint8Array))$+F.length>A.length?(a.isBuffer(F)||(F=a.from(F)),F.copy(A,$)):Uint8Array.prototype.set.call(A,F,$);else if(a.isBuffer(F))F.copy(A,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=F.length}return A};function I(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ae(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const d=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return N(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(p).length;default:if(A)return y?-1:N(p).length;l=(""+l).toLowerCase(),A=!0}}a.byteLength=I;function P(p,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return R(this,l,d);case"utf8":case"utf-8":return w(this,l,d);case"ascii":return O(this,l,d);case"latin1":case"binary":return B(this,l,d);case"base64":return j(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function z(p,l,d){const y=p[l];p[l]=p[d],p[d]=y}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)z(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)z(this,d,d+3),z(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)z(this,d,d+7),z(this,d+1,d+6),z(this,d+2,d+5),z(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?w(this,0,l):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,y,A,$){if(ae(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),A===void 0&&(A=0),$===void 0&&($=this.length),d<0||y>l.length||A<0||$>this.length)throw new RangeError("out of range index");if(A>=$&&d>=y)return 0;if(A>=$)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,A>>>=0,$>>>=0,this===l)return 0;let F=$-A,ce=y-d;const ve=Math.min(F,ce),me=this.slice(A,$),Ne=l.slice(d,y);for(let de=0;de<ve;++de)if(me[de]!==Ne[de]){F=me[de],ce=Ne[de];break}return F<ce?-1:ce<F?1:0};function W(p,l,d,y,A){if(p.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Be(d)&&(d=A?0:p.length-1),d<0&&(d=p.length+d),d>=p.length){if(A)return-1;d=p.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,y)),a.isBuffer(l))return l.length===0?-1:L(p,l,d,y,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,d):Uint8Array.prototype.lastIndexOf.call(p,l,d):L(p,[l],d,y,A);throw new TypeError("val must be string, number or Buffer")}function L(p,l,d,y,A){let $=1,F=p.length,ce=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||l.length<2)return-1;$=2,F/=2,ce/=2,d/=2}function ve(Ne,de){return $===1?Ne[de]:Ne.readUInt16BE(de*$)}let me;if(A){let Ne=-1;for(me=d;me<F;me++)if(ve(p,me)===ve(l,Ne===-1?0:me-Ne)){if(Ne===-1&&(Ne=me),me-Ne+1===ce)return Ne*$}else Ne!==-1&&(me-=me-Ne),Ne=-1}else for(d+ce>F&&(d=F-ce),me=d;me>=0;me--){let Ne=!0;for(let de=0;de<ce;de++)if(ve(p,me+de)!==ve(l,de)){Ne=!1;break}if(Ne)return me}return-1}a.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},a.prototype.indexOf=function(l,d,y){return W(this,l,d,y,!0)},a.prototype.lastIndexOf=function(l,d,y){return W(this,l,d,y,!1)};function V(p,l,d,y){d=Number(d)||0;const A=p.length-d;y?(y=Number(y),y>A&&(y=A)):y=A;const $=l.length;y>$/2&&(y=$/2);let F;for(F=0;F<y;++F){const ce=parseInt(l.substr(F*2,2),16);if(Be(ce))return F;p[d+F]=ce}return F}function q(p,l,d,y){return ie(N(l,p.length-d),p,d,y)}function X(p,l,d,y){return ie(D(l),p,d,y)}function Y(p,l,d,y){return ie(J(l),p,d,y)}function ee(p,l,d,y){return ie(G(l,p.length-d),p,d,y)}a.prototype.write=function(l,d,y,A){if(d===void 0)A="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")A=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,A===void 0&&(A="utf8")):(A=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-d;if((y===void 0||y>$)&&(y=$),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return V(this,l,d,y);case"utf8":case"utf-8":return q(this,l,d,y);case"ascii":case"latin1":case"binary":return X(this,l,d,y);case"base64":return Y(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,l,d,y);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(p,l,d){return l===0&&d===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,d))}function w(p,l,d){d=Math.min(p.length,d);const y=[];let A=l;for(;A<d;){const $=p[A];let F=null,ce=$>239?4:$>223?3:$>191?2:1;if(A+ce<=d){let ve,me,Ne,de;switch(ce){case 1:$<128&&(F=$);break;case 2:ve=p[A+1],(ve&192)===128&&(de=($&31)<<6|ve&63,de>127&&(F=de));break;case 3:ve=p[A+1],me=p[A+2],(ve&192)===128&&(me&192)===128&&(de=($&15)<<12|(ve&63)<<6|me&63,de>2047&&(de<55296||de>57343)&&(F=de));break;case 4:ve=p[A+1],me=p[A+2],Ne=p[A+3],(ve&192)===128&&(me&192)===128&&(Ne&192)===128&&(de=($&15)<<18|(ve&63)<<12|(me&63)<<6|Ne&63,de>65535&&de<1114112&&(F=de))}}F===null?(F=65533,ce=1):F>65535&&(F-=65536,y.push(F>>>10&1023|55296),F=56320|F&1023),y.push(F),A+=ce}return v(y)}const b=4096;function v(p){const l=p.length;if(l<=b)return String.fromCharCode.apply(String,p);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,p.slice(y,y+=b));return d}function O(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]&127);return y}function B(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]);return y}function R(p,l,d){const y=p.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let A="";for(let $=l;$<d;++$)A+=Ge[p[$]];return A}function M(p,l,d){const y=p.slice(l,d);let A="";for(let $=0;$<y.length-1;$+=2)A+=String.fromCharCode(y[$]+y[$+1]*256);return A}a.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const A=this.subarray(l,d);return Object.setPrototypeOf(A,a.prototype),A};function k(p,l,d){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l+--d],$=1;for(;d>0&&($*=256);)A+=this[l+--d]*$;return A},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,$=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(A)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],$=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(A)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return $*=128,A>=$&&(A-=Math.pow(2,8*d)),A},a.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=d,$=1,F=this[l+--A];for(;A>0&&($*=256);)F+=this[l+--A]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*d)),F},a.prototype.readInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(A)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!1,52,8)};function E(p,l,d,y,A,$){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<$)throw new RangeError('"value" argument is out of bounds');if(d+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const ce=Math.pow(2,8*y)-1;E(this,l,d,y,ce,0)}let $=1,F=0;for(this[d]=l&255;++F<y&&($*=256);)this[d+F]=l/$&255;return d+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const ce=Math.pow(2,8*y)-1;E(this,l,d,y,ce,0)}let $=y-1,F=1;for(this[d+$]=l&255;--$>=0&&(F*=256);)this[d+$]=l/F&255;return d+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function U(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,d}function Q(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d+7]=$,$=$>>8,p[d+6]=$,$=$>>8,p[d+5]=$,$=$>>8,p[d+4]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d+3]=F,F=F>>8,p[d+2]=F,F=F>>8,p[d+1]=F,F=F>>8,p[d]=F,d+8}a.prototype.writeBigUInt64LE=Ye(function(l,d=0){return U(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(l,d=0){return Q(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=0,F=1,ce=0;for(this[d]=l&255;++$<y&&(F*=256);)l<0&&ce===0&&this[d+$-1]!==0&&(ce=1),this[d+$]=(l/F>>0)-ce&255;return d+y},a.prototype.writeIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=y-1,F=1,ce=0;for(this[d+$]=l&255;--$>=0&&(F*=256);)l<0&&ce===0&&this[d+$+1]!==0&&(ce=1),this[d+$]=(l/F>>0)-ce&255;return d+y},a.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ye(function(l,d=0){return U(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(l,d=0){return Q(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(p,l,d,y,A,$){if(d+y>p.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function se(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,4),n.write(p,l,d,y,23,4),d+4}a.prototype.writeFloatLE=function(l,d,y){return se(this,l,d,!0,y)},a.prototype.writeFloatBE=function(l,d,y){return se(this,l,d,!1,y)};function fe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,8),n.write(p,l,d,y,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,y){return fe(this,l,d,!0,y)},a.prototype.writeDoubleBE=function(l,d,y){return fe(this,l,d,!1,y)},a.prototype.copy=function(l,d,y,A){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!A&&A!==0&&(A=this.length),d>=l.length&&(d=l.length),d||(d=0),A>0&&A<y&&(A=y),A===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-d<A-y&&(A=l.length-d+y);const $=A-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,A):Uint8Array.prototype.set.call(l,this.subarray(y,A),d),$},a.prototype.fill=function(l,d,y,A){if(typeof l=="string"){if(typeof d=="string"?(A=d,d=0,y=this.length):typeof y=="string"&&(A=y,y=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){const F=l.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(l=F)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let $;if(typeof l=="number")for($=d;$<y;++$)this[$]=l;else{const F=a.isBuffer(l)?l:a.from(l,A),ce=F.length;if(ce===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for($=0;$<y-d;++$)this[$+d]=F[$%ce]}return this};const le={};function ge(p,l,d){le[p]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),ge("ERR_OUT_OF_RANGE",function(p,l,d){let y=`The value of "${p}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=et(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=et(A)),A+="n"),y+=` It must be ${l}. Received ${A}`,y},RangeError);function et(p){let l="",d=p.length;const y=p[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${p.slice(d-3,d)}${l}`;return`${p.slice(0,d)}${l}`}function qe(p,l,d){je(l,"offset"),(p[l]===void 0||p[l+d]===void 0)&&De(l,p.length-(d+1))}function ke(p,l,d,y,A,$){if(p>d||p<l){const F=typeof l=="bigint"?"n":"";let ce;throw l===0||l===BigInt(0)?ce=`>= 0${F} and < 2${F} ** ${($+1)*8}${F}`:ce=`>= -(2${F} ** ${($+1)*8-1}${F}) and < 2 ** ${($+1)*8-1}${F}`,new le.ERR_OUT_OF_RANGE("value",ce,p)}qe(y,A,$)}function je(p,l){if(typeof p!="number")throw new le.ERR_INVALID_ARG_TYPE(l,"number",p)}function De(p,l,d){throw Math.floor(p)!==p?(je(p,d),new le.ERR_OUT_OF_RANGE("offset","an integer",p)):l<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,p)}const it=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace(it,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function N(p,l){l=l||1/0;let d;const y=p.length;let A=null;const $=[];for(let F=0;F<y;++F){if(d=p.charCodeAt(F),d>55295&&d<57344){if(!A){if(d>56319){(l-=3)>-1&&$.push(239,191,189);continue}else if(F+1===y){(l-=3)>-1&&$.push(239,191,189);continue}A=d;continue}if(d<56320){(l-=3)>-1&&$.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(l-=3)>-1&&$.push(239,191,189);if(A=null,d<128){if((l-=1)<0)break;$.push(d)}else if(d<2048){if((l-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function D(p){const l=[];for(let d=0;d<p.length;++d)l.push(p.charCodeAt(d)&255);return l}function G(p,l){let d,y,A;const $=[];for(let F=0;F<p.length&&!((l-=2)<0);++F)d=p.charCodeAt(F),y=d>>8,A=d%256,$.push(A),$.push(y);return $}function J(p){return e.toByteArray(K(p))}function ie(p,l,d,y){let A;for(A=0;A<y&&!(A+d>=l.length||A>=p.length);++A)l[A+d]=p[A];return A}function ae(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Be(p){return p!==p}const Ge=function(){const p="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let A=0;A<16;++A)l[y+A]=p[d]+p[A]}return l}();function Ye(p){return typeof BigInt>"u"?at:p}function at(){throw new Error("BigInt not supported")}})(bt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fi=BigInt(0),Xr=BigInt(1),Nl=BigInt(2),Pre=BigInt(3),pD=BigInt(4),gD=BigInt(5),mD=BigInt(8);function _n(t,e){const n=t%e;return n>=Fi?n:e+n}function Yn(t,e,n){let r=t;for(;e-- >Fi;)r*=r,r%=n;return r}function H_(t,e){if(t===Fi)throw new Error("invert: expected non-zero number");if(e<=Fi)throw new Error("invert: expected positive modulus, got "+e);let n=_n(t,e),r=e,i=Fi,s=Xr;for(;n!==Fi;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Xr)throw new Error("invert: does not exist");return _n(i,e)}function yD(t,e){const n=(t.ORDER+Xr)/pD,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function $re(t,e){const n=(t.ORDER-gD)/mD,r=t.mul(e,Nl),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Nl),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function Mre(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Xr,n=0;for(;e%Nl===Fi;)e/=Nl,n++;let r=Nl;const i=mm(t);for(;kR(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return yD;let s=i.pow(r,e);const o=(e+Xr)/Nl;return function(c,u){if(c.is0(u))return u;if(kR(c,u)!==1)throw new Error("Cannot find square root");let h=n,f=c.mul(c.ONE,s),g=c.pow(u,e),m=c.pow(u,o);for(;!c.eql(g,c.ONE);){if(c.is0(g))return c.ZERO;let _=1,x=c.sqr(g);for(;!c.eql(x,c.ONE);)if(_++,x=c.sqr(x),_===h)throw new Error("Cannot find square root");const T=Xr<<BigInt(h-_-1),S=c.pow(f,T);h=_,f=c.sqr(S),g=c.mul(g,f),m=c.mul(m,S)}return m}}function Ure(t){return t%pD===Pre?yD:t%mD===gD?$re:Mre(t)}const Lre=(t,e)=>(_n(t,e)&Xr)===Xr,zre=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fre(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=zre.reduce((r,i)=>(r[i]="function",r),e);return dm(t,n)}function jre(t,e,n){if(n<Fi)throw new Error("invalid exponent, negatives unsupported");if(n===Fi)return t.ONE;if(n===Xr)return e;let r=t.ONE,i=e;for(;n>Fi;)n&Xr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Xr;return r}function QS(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function kR(t,e){const n=(t.ORDER-Xr)/Nl,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function bD(t,e){e!==void 0&&$_(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function mm(t,e,n=!1,r={}){if(t<=Fi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=bD(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:cw(i),ZERO:Fi,ONE:Xr,create:c=>_n(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Fi<=c&&c<t},is0:c=>c===Fi,isOdd:c=>(c&Xr)===Xr,neg:c=>_n(-c,t),eql:(c,u)=>c===u,sqr:c=>_n(c*c,t),add:(c,u)=>_n(c+u,t),sub:(c,u)=>_n(c-u,t),mul:(c,u)=>_n(c*u,t),pow:(c,u)=>jre(a,c,u),div:(c,u)=>_n(c*H_(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>H_(c,t),sqrt:r.sqrt||(c=>(o||(o=Ure(t)),o(a,c))),toBytes:c=>n?By(c,s):um(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?ep(c):zl(c)},invertBatch:c=>QS(a,c),cmov:(c,u,h)=>h?u:c});return Object.freeze(a)}function wD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function vD(t){const e=wD(t);return e+Math.ceil(e/2)}function Hre(t,e,n=!1){const r=t.length,i=wD(e),s=vD(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?ep(t):zl(t),a=_n(o,e-Xr)+Xr;return n?By(a,i):um(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NR=BigInt(0),q_=BigInt(1);function A1(t,e){const n=e.negate();return t?n:e}function ED(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function C1(t,e){ED(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=cw(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function OR(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=q_);const u=e*r,h=u+Math.abs(a)-1,f=a===0,g=a<0,m=e%2!==0;return{nextN:c,offset:h,isZero:f,isNeg:g,isNegF:m,offsetF:u}}function qre(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Vre(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const T1=new WeakMap,_D=new WeakMap;function I1(t){return _D.get(t)||1}function xD(t,e){return{constTimeNegate:A1,hasPrecomputes(n){return I1(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>NR;)r&q_&&(i=i.add(s)),s=s.double(),r>>=q_;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=C1(r,e),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let h=1;h<s;h++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=C1(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:h,isZero:f,isNeg:g,isNegF:m,offsetF:_}=OR(i,c,a);i=u,f?o=o.add(A1(m,r[_])):s=s.add(A1(g,r[h]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=C1(n,e);for(let a=0;a<o.windows&&i!==NR;a++){const{nextN:c,offset:u,isZero:h,isNeg:f}=OR(i,a,o);if(i=c,!h){const g=r[u];s=s.add(f?g.negate():g)}}return s},getPrecomputes(n,r,i){let s=T1.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&T1.set(r,i(s))),s},wNAFCached(n,r,i){const s=I1(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=I1(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){ED(r,e),_D.set(n,r),T1.delete(n)}}}function SD(t,e,n,r){qre(n,t),Vre(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=EJ(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=cw(c),h=new Array(Number(u)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let g=o;for(let m=f;m>=0;m-=c){h.fill(o);for(let x=0;x<s;x++){const T=r[x],S=Number(T>>BigInt(m)&u);h[S]=h[S].add(n[x])}let _=o;for(let x=h.length-1,T=o;x>0;x--)T=T.add(h[x]),_=_.add(T);if(g=g.add(_),m!==0)for(let x=0;x<c;x++)g=g.double()}return g}function JS(t){return Fre(t.Fp),dm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bD(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ko=BigInt(0),bi=BigInt(1),BR=BigInt(2),Wre=BigInt(8),Kre={zip215:!0};function Gre(t){const e=JS(t);return dm(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Yre(t){const e=Gre(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=BR<<BigInt(a*8)-bi,h=n.create,f=mm(e.n,e.nBitLength);function g(B,R){const M=n.sqr(B),k=n.sqr(R),E=n.add(n.mul(e.a,M),k),U=n.add(n.ONE,n.mul(e.d,n.mul(M,k)));return n.eql(E,U)}if(!g(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=e.uvRatio||((B,R)=>{try{return{isValid:!0,value:n.sqrt(B*n.inv(R))}}catch{return{isValid:!1,value:ko}}}),_=e.adjustScalarBytes||(B=>B),x=e.domain||((B,R,M)=>{if(kc("phflag",M),R.length||M)throw new Error("Contexts/pre-hash are not supported");return B});function T(B,R,M=!1){const k=M?bi:ko;uo("coordinate "+B,R,k,u)}function S(B){if(!(B instanceof P))throw new Error("ExtendedPoint expected")}const C=Dy((B,R)=>{const{ex:M,ey:k,ez:E}=B,U=B.is0();R==null&&(R=U?Wre:n.inv(E));const Q=h(M*R),te=h(k*R),se=h(E*R);if(U)return{x:ko,y:bi};if(se!==bi)throw new Error("invZ was invalid");return{x:Q,y:te}}),I=Dy(B=>{const{a:R,d:M}=e;if(B.is0())throw new Error("bad point: ZERO");const{ex:k,ey:E,ez:U,et:Q}=B,te=h(k*k),se=h(E*E),fe=h(U*U),le=h(fe*fe),ge=h(te*R),et=h(fe*h(ge+se)),qe=h(le+h(M*h(te*se)));if(et!==qe)throw new Error("bad point: equation left != right (1)");const ke=h(k*E),je=h(U*Q);if(ke!==je)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(R,M,k,E){T("x",R),T("y",M),T("z",k,!0),T("t",E),this.ex=R,this.ey=M,this.ez=k,this.et=E,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof P)throw new Error("extended point not allowed");const{x:M,y:k}=R||{};return T("x",M),T("y",k),new P(M,k,bi,h(M*k))}static normalizeZ(R){const M=QS(n,R.map(k=>k.ez));return R.map((k,E)=>k.toAffine(M[E])).map(P.fromAffine)}static msm(R,M){return SD(P,f,R,M)}_setWindowSize(R){L.setWindowSize(this,R)}assertValidity(){I(this)}equals(R){S(R);const{ex:M,ey:k,ez:E}=this,{ex:U,ey:Q,ez:te}=R,se=h(M*te),fe=h(U*E),le=h(k*te),ge=h(Q*E);return se===fe&&le===ge}is0(){return this.equals(P.ZERO)}negate(){return new P(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:R}=e,{ex:M,ey:k,ez:E}=this,U=h(M*M),Q=h(k*k),te=h(BR*h(E*E)),se=h(R*U),fe=M+k,le=h(h(fe*fe)-U-Q),ge=se+Q,et=ge-te,qe=se-Q,ke=h(le*et),je=h(ge*qe),De=h(le*qe),it=h(et*ge);return new P(ke,je,it,De)}add(R){S(R);const{a:M,d:k}=e,{ex:E,ey:U,ez:Q,et:te}=this,{ex:se,ey:fe,ez:le,et:ge}=R,et=h(E*se),qe=h(U*fe),ke=h(te*k*ge),je=h(Q*le),De=h((E+U)*(se+fe)-et-qe),it=je-ke,K=je+ke,N=h(qe-M*et),D=h(De*it),G=h(K*N),J=h(De*N),ie=h(it*K);return new P(D,G,ie,J)}subtract(R){return this.add(R.negate())}wNAF(R){return L.wNAFCached(this,R,P.normalizeZ)}multiply(R){const M=R;uo("scalar",M,bi,r);const{p:k,f:E}=this.wNAF(M);return P.normalizeZ([k,E])[0]}multiplyUnsafe(R,M=P.ZERO){const k=R;return uo("scalar",k,ko,r),k===ko?W:this.is0()||k===bi?this:L.wNAFCachedUnsafe(this,k,P.normalizeZ,M)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return L.unsafeLadder(this,r).is0()}toAffine(R){return C(this,R)}clearCofactor(){const{h:R}=e;return R===bi?this:this.multiplyUnsafe(R)}static fromHex(R,M=!1){const{d:k,a:E}=e,U=n.BYTES;R=er("pointHex",R,U),kc("zip215",M);const Q=R.slice(),te=R[U-1];Q[U-1]=te&-129;const se=ep(Q),fe=M?u:n.ORDER;uo("pointHex.y",se,ko,fe);const le=h(se*se),ge=h(le-bi),et=h(k*le-E);let{isValid:qe,value:ke}=m(ge,et);if(!qe)throw new Error("Point.fromHex: invalid y coordinate");const je=(ke&bi)===bi,De=(te&128)!==0;if(!M&&ke===ko&&De)throw new Error("Point.fromHex: x=0 and x_0=1");return De!==je&&(ke=h(-ke)),P.fromAffine({x:ke,y:se})}static fromPrivateKey(R){const{scalar:M}=X(R);return z.multiply(M)}toRawBytes(){const{x:R,y:M}=this.toAffine(),k=By(M,n.BYTES);return k[k.length-1]|=R&bi?128:0,k}toHex(){return hh(this.toRawBytes())}}P.BASE=new P(e.Gx,e.Gy,bi,h(e.Gx*e.Gy)),P.ZERO=new P(ko,bi,bi,ko);const{BASE:z,ZERO:W}=P,L=xD(P,a*8);function V(B){return _n(B,r)}function q(B){return V(ep(B))}function X(B){const R=n.BYTES;B=er("private key",B,R);const M=er("hashed private key",s(B),2*R),k=_(M.slice(0,R)),E=M.slice(R,2*R),U=q(k);return{head:k,prefix:E,scalar:U}}function Y(B){const{head:R,prefix:M,scalar:k}=X(B),E=z.multiply(k),U=E.toRawBytes();return{head:R,prefix:M,scalar:k,point:E,pointBytes:U}}function ee(B){return Y(B).pointBytes}function j(B=Uint8Array.of(),...R){const M=fh(...R);return q(s(x(M,er("context",B),!!i)))}function w(B,R,M={}){B=er("message",B),i&&(B=i(B));const{prefix:k,scalar:E,pointBytes:U}=Y(R),Q=j(M.context,k,B),te=z.multiply(Q).toRawBytes(),se=j(M.context,te,U,B),fe=V(Q+se*E);uo("signature.s",fe,ko,r);const le=fh(te,By(fe,n.BYTES));return er("result",le,n.BYTES*2)}const b=Kre;function v(B,R,M,k=b){const{context:E,zip215:U}=k,Q=n.BYTES;B=er("signature",B,2*Q),R=er("message",R),M=er("publicKey",M,Q),U!==void 0&&kc("zip215",U),i&&(R=i(R));const te=ep(B.slice(Q,2*Q));let se,fe,le;try{se=P.fromHex(M,U),fe=P.fromHex(B.slice(0,Q),U),le=z.multiplyUnsafe(te)}catch{return!1}if(!U&&se.isSmallOrder())return!1;const ge=j(E,fe.toRawBytes(),se.toRawBytes(),R);return fe.add(se.multiplyUnsafe(ge)).subtract(le).clearCofactor().equals(P.ZERO)}return z._setWindowSize(8),{CURVE:e,getPublicKey:ee,sign:w,verify:v,ExtendedPoint:P,utils:{getExtendedPublicKey:Y,randomPrivateKey:()=>o(n.BYTES),precompute(B=8,R=P.BASE){return R._setWindowSize(B),R.multiply(BigInt(3)),R}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),DR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Zre=BigInt(1),PR=BigInt(2);BigInt(3);const Xre=BigInt(5),Qre=BigInt(8);function Jre(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=eA,a=t*t%s*t%s,c=Yn(a,PR,s)*a%s,u=Yn(c,Zre,s)*t%s,h=Yn(u,Xre,s)*u%s,f=Yn(h,e,s)*h%s,g=Yn(f,n,s)*f%s,m=Yn(g,r,s)*g%s,_=Yn(m,i,s)*m%s,x=Yn(_,i,s)*m%s,T=Yn(x,e,s)*h%s;return{pow_p_5_8:Yn(T,PR,s)*t%s,b2:a}}function eie(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function tie(t,e){const n=eA,r=_n(e*e*e,n),i=_n(r*r*e,n),s=Jre(t*i).pow_p_5_8;let o=_n(t*r*s,n);const a=_n(e*o*o,n),c=o,u=_n(o*DR,n),h=a===t,f=a===_n(-t,n),g=a===_n(-t*DR,n);return h&&(o=c),(f||g)&&(o=u),Lre(o,n)&&(o=_n(-o,n)),{isValid:h||f,value:o}}const $R=mm(eA,void 0,!0),nie={a:$R.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:$R,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Qre,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:iee,randomBytes:UB,adjustScalarBytes:eie,uvRatio:tie},tA=Yre(nie);var nA={exports:{}};const rie={},iie=Object.freeze(Object.defineProperty({__proto__:null,default:rie},Symbol.toStringTag,{value:"Module"})),sie=Wg(iie);nA.exports;(function(t){(function(e,n){function r(j,w){if(!j)throw new Error(w||"Assertion failed")}function i(j,w){j.super_=w;var b=function(){};b.prototype=w.prototype,j.prototype=new b,j.prototype.constructor=j}function s(j,w,b){if(s.isBN(j))return j;this.negative=0,this.words=null,this.length=0,this.red=null,j!==null&&((w==="le"||w==="be")&&(b=w,w=10),this._init(j||0,w||10,b||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=sie.Buffer}catch{}s.isBN=function(w){return w instanceof s?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===s.wordSize&&Array.isArray(w.words)},s.max=function(w,b){return w.cmp(b)>0?w:b},s.min=function(w,b){return w.cmp(b)<0?w:b},s.prototype._init=function(w,b,v){if(typeof w=="number")return this._initNumber(w,b,v);if(typeof w=="object")return this._initArray(w,b,v);b==="hex"&&(b=16),r(b===(b|0)&&b>=2&&b<=36),w=w.toString().replace(/\s+/g,"");var O=0;w[0]==="-"&&(O++,this.negative=1),O<w.length&&(b===16?this._parseHex(w,O,v):(this._parseBase(w,b,O),v==="le"&&this._initArray(this.toArray(),b,v)))},s.prototype._initNumber=function(w,b,v){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),b,v)},s.prototype._initArray=function(w,b,v){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var B,R,M=0;if(v==="be")for(O=w.length-1,B=0;O>=0;O-=3)R=w[O]|w[O-1]<<8|w[O-2]<<16,this.words[B]|=R<<M&67108863,this.words[B+1]=R>>>26-M&67108863,M+=24,M>=26&&(M-=26,B++);else if(v==="le")for(O=0,B=0;O<w.length;O+=3)R=w[O]|w[O+1]<<8|w[O+2]<<16,this.words[B]|=R<<M&67108863,this.words[B+1]=R>>>26-M&67108863,M+=24,M>=26&&(M-=26,B++);return this._strip()};function a(j,w){var b=j.charCodeAt(w);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;r(!1,"Invalid character in "+j)}function c(j,w,b){var v=a(j,b);return b-1>=w&&(v|=a(j,b-1)<<4),v}s.prototype._parseHex=function(w,b,v){this.length=Math.ceil((w.length-b)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var B=0,R=0,M;if(v==="be")for(O=w.length-1;O>=b;O-=2)M=c(w,b,O)<<B,this.words[R]|=M&67108863,B>=18?(B-=18,R+=1,this.words[R]|=M>>>26):B+=8;else{var k=w.length-b;for(O=k%2===0?b+1:b;O<w.length;O+=2)M=c(w,b,O)<<B,this.words[R]|=M&67108863,B>=18?(B-=18,R+=1,this.words[R]|=M>>>26):B+=8}this._strip()};function u(j,w,b,v){for(var O=0,B=0,R=Math.min(j.length,b),M=w;M<R;M++){var k=j.charCodeAt(M)-48;O*=v,k>=49?B=k-49+10:k>=17?B=k-17+10:B=k,r(k>=0&&B<v,"Invalid character"),O+=B}return O}s.prototype._parseBase=function(w,b,v){this.words=[0],this.length=1;for(var O=0,B=1;B<=67108863;B*=b)O++;O--,B=B/b|0;for(var R=w.length-v,M=R%O,k=Math.min(R,R-M)+v,E=0,U=v;U<k;U+=O)E=u(w,U,U+O,b),this.imuln(B),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(M!==0){var Q=1;for(E=u(w,U,w.length,b),U=0;U<M;U++)Q*=b;this.imuln(Q),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(w){w.words=new Array(this.length);for(var b=0;b<this.length;b++)w.words[b]=this.words[b];w.length=this.length,w.negative=this.negative,w.red=this.red};function h(j,w){j.words=w.words,j.length=w.length,j.negative=w.negative,j.red=w.red}if(s.prototype._move=function(w){h(w,this)},s.prototype.clone=function(){var w=new s(null);return this.copy(w),w},s.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(w,b){w=w||10,b=b|0||1;var v;if(w===16||w==="hex"){v="";for(var O=0,B=0,R=0;R<this.length;R++){var M=this.words[R],k=((M<<O|B)&16777215).toString(16);B=M>>>24-O&16777215,O+=2,O>=26&&(O-=26,R--),B!==0||R!==this.length-1?v=g[6-k.length]+k+v:v=k+v}for(B!==0&&(v=B.toString(16)+v);v.length%b!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(w===(w|0)&&w>=2&&w<=36){var E=m[w],U=_[w];v="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var te=Q.modrn(U).toString(w);Q=Q.idivn(U),Q.isZero()?v=te+v:v=g[E-te.length]+te+v}for(this.isZero()&&(v="0"+v);v.length%b!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(w,b){return this.toArrayLike(o,w,b)}),s.prototype.toArray=function(w,b){return this.toArrayLike(Array,w,b)};var x=function(w,b){return w.allocUnsafe?w.allocUnsafe(b):new w(b)};s.prototype.toArrayLike=function(w,b,v){this._strip();var O=this.byteLength(),B=v||Math.max(1,O);r(O<=B,"byte array longer than desired length"),r(B>0,"Requested array length <= 0");var R=x(w,B),M=b==="le"?"LE":"BE";return this["_toArrayLike"+M](R,O),R},s.prototype._toArrayLikeLE=function(w,b){for(var v=0,O=0,B=0,R=0;B<this.length;B++){var M=this.words[B]<<R|O;w[v++]=M&255,v<w.length&&(w[v++]=M>>8&255),v<w.length&&(w[v++]=M>>16&255),R===6?(v<w.length&&(w[v++]=M>>24&255),O=0,R=0):(O=M>>>24,R+=2)}if(v<w.length)for(w[v++]=O;v<w.length;)w[v++]=0},s.prototype._toArrayLikeBE=function(w,b){for(var v=w.length-1,O=0,B=0,R=0;B<this.length;B++){var M=this.words[B]<<R|O;w[v--]=M&255,v>=0&&(w[v--]=M>>8&255),v>=0&&(w[v--]=M>>16&255),R===6?(v>=0&&(w[v--]=M>>24&255),O=0,R=0):(O=M>>>24,R+=2)}if(v>=0)for(w[v--]=O;v>=0;)w[v--]=0},Math.clz32?s.prototype._countBits=function(w){return 32-Math.clz32(w)}:s.prototype._countBits=function(w){var b=w,v=0;return b>=4096&&(v+=13,b>>>=13),b>=64&&(v+=7,b>>>=7),b>=8&&(v+=4,b>>>=4),b>=2&&(v+=2,b>>>=2),v+b},s.prototype._zeroBits=function(w){if(w===0)return 26;var b=w,v=0;return b&8191||(v+=13,b>>>=13),b&127||(v+=7,b>>>=7),b&15||(v+=4,b>>>=4),b&3||(v+=2,b>>>=2),b&1||v++,v},s.prototype.bitLength=function(){var w=this.words[this.length-1],b=this._countBits(w);return(this.length-1)*26+b};function T(j){for(var w=new Array(j.bitLength()),b=0;b<w.length;b++){var v=b/26|0,O=b%26;w[b]=j.words[v]>>>O&1}return w}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,b=0;b<this.length;b++){var v=this._zeroBits(this.words[b]);if(w+=v,v!==26)break}return w},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},s.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]|w.words[b];return this._strip()},s.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},s.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},s.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},s.prototype.iuand=function(w){var b;this.length>w.length?b=w:b=this;for(var v=0;v<b.length;v++)this.words[v]=this.words[v]&w.words[v];return this.length=b.length,this._strip()},s.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},s.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},s.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},s.prototype.iuxor=function(w){var b,v;this.length>w.length?(b=this,v=w):(b=w,v=this);for(var O=0;O<v.length;O++)this.words[O]=b.words[O]^v.words[O];if(this!==b)for(;O<b.length;O++)this.words[O]=b.words[O];return this.length=b.length,this._strip()},s.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},s.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},s.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},s.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var b=Math.ceil(w/26)|0,v=w%26;this._expand(b),v>0&&b--;for(var O=0;O<b;O++)this.words[O]=~this.words[O]&67108863;return v>0&&(this.words[O]=~this.words[O]&67108863>>26-v),this._strip()},s.prototype.notn=function(w){return this.clone().inotn(w)},s.prototype.setn=function(w,b){r(typeof w=="number"&&w>=0);var v=w/26|0,O=w%26;return this._expand(v+1),b?this.words[v]=this.words[v]|1<<O:this.words[v]=this.words[v]&~(1<<O),this._strip()},s.prototype.iadd=function(w){var b;if(this.negative!==0&&w.negative===0)return this.negative=0,b=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,b=this.isub(w),w.negative=1,b._normSign();var v,O;this.length>w.length?(v=this,O=w):(v=w,O=this);for(var B=0,R=0;R<O.length;R++)b=(v.words[R]|0)+(O.words[R]|0)+B,this.words[R]=b&67108863,B=b>>>26;for(;B!==0&&R<v.length;R++)b=(v.words[R]|0)+B,this.words[R]=b&67108863,B=b>>>26;if(this.length=v.length,B!==0)this.words[this.length]=B,this.length++;else if(v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this},s.prototype.add=function(w){var b;return w.negative!==0&&this.negative===0?(w.negative=0,b=this.sub(w),w.negative^=1,b):w.negative===0&&this.negative!==0?(this.negative=0,b=w.sub(this),this.negative=1,b):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},s.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var b=this.iadd(w);return w.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var v=this.cmp(w);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,B;v>0?(O=this,B=w):(O=w,B=this);for(var R=0,M=0;M<B.length;M++)b=(O.words[M]|0)-(B.words[M]|0)+R,R=b>>26,this.words[M]=b&67108863;for(;R!==0&&M<O.length;M++)b=(O.words[M]|0)+R,R=b>>26,this.words[M]=b&67108863;if(R===0&&M<O.length&&O!==this)for(;M<O.length;M++)this.words[M]=O.words[M];return this.length=Math.max(this.length,M),O!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(w){return this.clone().isub(w)};function S(j,w,b){b.negative=w.negative^j.negative;var v=j.length+w.length|0;b.length=v,v=v-1|0;var O=j.words[0]|0,B=w.words[0]|0,R=O*B,M=R&67108863,k=R/67108864|0;b.words[0]=M;for(var E=1;E<v;E++){for(var U=k>>>26,Q=k&67108863,te=Math.min(E,w.length-1),se=Math.max(0,E-j.length+1);se<=te;se++){var fe=E-se|0;O=j.words[fe]|0,B=w.words[se]|0,R=O*B+Q,U+=R/67108864|0,Q=R&67108863}b.words[E]=Q|0,k=U|0}return k!==0?b.words[E]=k|0:b.length--,b._strip()}var C=function(w,b,v){var O=w.words,B=b.words,R=v.words,M=0,k,E,U,Q=O[0]|0,te=Q&8191,se=Q>>>13,fe=O[1]|0,le=fe&8191,ge=fe>>>13,et=O[2]|0,qe=et&8191,ke=et>>>13,je=O[3]|0,De=je&8191,it=je>>>13,K=O[4]|0,N=K&8191,D=K>>>13,G=O[5]|0,J=G&8191,ie=G>>>13,ae=O[6]|0,Be=ae&8191,Ge=ae>>>13,Ye=O[7]|0,at=Ye&8191,p=Ye>>>13,l=O[8]|0,d=l&8191,y=l>>>13,A=O[9]|0,$=A&8191,F=A>>>13,ce=B[0]|0,ve=ce&8191,me=ce>>>13,Ne=B[1]|0,de=Ne&8191,Mn=Ne>>>13,Lm=B[2]|0,Un=Lm&8191,Ln=Lm>>>13,zm=B[3]|0,zn=zm&8191,Fn=zm>>>13,Fm=B[4]|0,jn=Fm&8191,un=Fm>>>13,jm=B[5]|0,Cn=jm&8191,nn=jm>>>13,nf=B[6]|0,Rt=nf&8191,Hn=nf>>>13,Hm=B[7]|0,qn=Hm&8191,Tn=Hm>>>13,qm=B[8]|0,Vn=qm&8191,Wn=qm>>>13,Vm=B[9]|0,In=Vm&8191,Kn=Vm>>>13;v.negative=w.negative^b.negative,v.length=19,k=Math.imul(te,ve),E=Math.imul(te,me),E=E+Math.imul(se,ve)|0,U=Math.imul(se,me);var Bu=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Bu>>>26)|0,Bu&=67108863,k=Math.imul(le,ve),E=Math.imul(le,me),E=E+Math.imul(ge,ve)|0,U=Math.imul(ge,me),k=k+Math.imul(te,de)|0,E=E+Math.imul(te,Mn)|0,E=E+Math.imul(se,de)|0,U=U+Math.imul(se,Mn)|0;var Wm=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Wm>>>26)|0,Wm&=67108863,k=Math.imul(qe,ve),E=Math.imul(qe,me),E=E+Math.imul(ke,ve)|0,U=Math.imul(ke,me),k=k+Math.imul(le,de)|0,E=E+Math.imul(le,Mn)|0,E=E+Math.imul(ge,de)|0,U=U+Math.imul(ge,Mn)|0,k=k+Math.imul(te,Un)|0,E=E+Math.imul(te,Ln)|0,E=E+Math.imul(se,Un)|0,U=U+Math.imul(se,Ln)|0;var Km=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Km>>>26)|0,Km&=67108863,k=Math.imul(De,ve),E=Math.imul(De,me),E=E+Math.imul(it,ve)|0,U=Math.imul(it,me),k=k+Math.imul(qe,de)|0,E=E+Math.imul(qe,Mn)|0,E=E+Math.imul(ke,de)|0,U=U+Math.imul(ke,Mn)|0,k=k+Math.imul(le,Un)|0,E=E+Math.imul(le,Ln)|0,E=E+Math.imul(ge,Un)|0,U=U+Math.imul(ge,Ln)|0,k=k+Math.imul(te,zn)|0,E=E+Math.imul(te,Fn)|0,E=E+Math.imul(se,zn)|0,U=U+Math.imul(se,Fn)|0;var oe=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(oe>>>26)|0,oe&=67108863,k=Math.imul(N,ve),E=Math.imul(N,me),E=E+Math.imul(D,ve)|0,U=Math.imul(D,me),k=k+Math.imul(De,de)|0,E=E+Math.imul(De,Mn)|0,E=E+Math.imul(it,de)|0,U=U+Math.imul(it,Mn)|0,k=k+Math.imul(qe,Un)|0,E=E+Math.imul(qe,Ln)|0,E=E+Math.imul(ke,Un)|0,U=U+Math.imul(ke,Ln)|0,k=k+Math.imul(le,zn)|0,E=E+Math.imul(le,Fn)|0,E=E+Math.imul(ge,zn)|0,U=U+Math.imul(ge,Fn)|0,k=k+Math.imul(te,jn)|0,E=E+Math.imul(te,un)|0,E=E+Math.imul(se,jn)|0,U=U+Math.imul(se,un)|0;var Me=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Me>>>26)|0,Me&=67108863,k=Math.imul(J,ve),E=Math.imul(J,me),E=E+Math.imul(ie,ve)|0,U=Math.imul(ie,me),k=k+Math.imul(N,de)|0,E=E+Math.imul(N,Mn)|0,E=E+Math.imul(D,de)|0,U=U+Math.imul(D,Mn)|0,k=k+Math.imul(De,Un)|0,E=E+Math.imul(De,Ln)|0,E=E+Math.imul(it,Un)|0,U=U+Math.imul(it,Ln)|0,k=k+Math.imul(qe,zn)|0,E=E+Math.imul(qe,Fn)|0,E=E+Math.imul(ke,zn)|0,U=U+Math.imul(ke,Fn)|0,k=k+Math.imul(le,jn)|0,E=E+Math.imul(le,un)|0,E=E+Math.imul(ge,jn)|0,U=U+Math.imul(ge,un)|0,k=k+Math.imul(te,Cn)|0,E=E+Math.imul(te,nn)|0,E=E+Math.imul(se,Cn)|0,U=U+Math.imul(se,nn)|0;var dt=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(dt>>>26)|0,dt&=67108863,k=Math.imul(Be,ve),E=Math.imul(Be,me),E=E+Math.imul(Ge,ve)|0,U=Math.imul(Ge,me),k=k+Math.imul(J,de)|0,E=E+Math.imul(J,Mn)|0,E=E+Math.imul(ie,de)|0,U=U+Math.imul(ie,Mn)|0,k=k+Math.imul(N,Un)|0,E=E+Math.imul(N,Ln)|0,E=E+Math.imul(D,Un)|0,U=U+Math.imul(D,Ln)|0,k=k+Math.imul(De,zn)|0,E=E+Math.imul(De,Fn)|0,E=E+Math.imul(it,zn)|0,U=U+Math.imul(it,Fn)|0,k=k+Math.imul(qe,jn)|0,E=E+Math.imul(qe,un)|0,E=E+Math.imul(ke,jn)|0,U=U+Math.imul(ke,un)|0,k=k+Math.imul(le,Cn)|0,E=E+Math.imul(le,nn)|0,E=E+Math.imul(ge,Cn)|0,U=U+Math.imul(ge,nn)|0,k=k+Math.imul(te,Rt)|0,E=E+Math.imul(te,Hn)|0,E=E+Math.imul(se,Rt)|0,U=U+Math.imul(se,Hn)|0;var dn=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(dn>>>26)|0,dn&=67108863,k=Math.imul(at,ve),E=Math.imul(at,me),E=E+Math.imul(p,ve)|0,U=Math.imul(p,me),k=k+Math.imul(Be,de)|0,E=E+Math.imul(Be,Mn)|0,E=E+Math.imul(Ge,de)|0,U=U+Math.imul(Ge,Mn)|0,k=k+Math.imul(J,Un)|0,E=E+Math.imul(J,Ln)|0,E=E+Math.imul(ie,Un)|0,U=U+Math.imul(ie,Ln)|0,k=k+Math.imul(N,zn)|0,E=E+Math.imul(N,Fn)|0,E=E+Math.imul(D,zn)|0,U=U+Math.imul(D,Fn)|0,k=k+Math.imul(De,jn)|0,E=E+Math.imul(De,un)|0,E=E+Math.imul(it,jn)|0,U=U+Math.imul(it,un)|0,k=k+Math.imul(qe,Cn)|0,E=E+Math.imul(qe,nn)|0,E=E+Math.imul(ke,Cn)|0,U=U+Math.imul(ke,nn)|0,k=k+Math.imul(le,Rt)|0,E=E+Math.imul(le,Hn)|0,E=E+Math.imul(ge,Rt)|0,U=U+Math.imul(ge,Hn)|0,k=k+Math.imul(te,qn)|0,E=E+Math.imul(te,Tn)|0,E=E+Math.imul(se,qn)|0,U=U+Math.imul(se,Tn)|0;var hr=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(hr>>>26)|0,hr&=67108863,k=Math.imul(d,ve),E=Math.imul(d,me),E=E+Math.imul(y,ve)|0,U=Math.imul(y,me),k=k+Math.imul(at,de)|0,E=E+Math.imul(at,Mn)|0,E=E+Math.imul(p,de)|0,U=U+Math.imul(p,Mn)|0,k=k+Math.imul(Be,Un)|0,E=E+Math.imul(Be,Ln)|0,E=E+Math.imul(Ge,Un)|0,U=U+Math.imul(Ge,Ln)|0,k=k+Math.imul(J,zn)|0,E=E+Math.imul(J,Fn)|0,E=E+Math.imul(ie,zn)|0,U=U+Math.imul(ie,Fn)|0,k=k+Math.imul(N,jn)|0,E=E+Math.imul(N,un)|0,E=E+Math.imul(D,jn)|0,U=U+Math.imul(D,un)|0,k=k+Math.imul(De,Cn)|0,E=E+Math.imul(De,nn)|0,E=E+Math.imul(it,Cn)|0,U=U+Math.imul(it,nn)|0,k=k+Math.imul(qe,Rt)|0,E=E+Math.imul(qe,Hn)|0,E=E+Math.imul(ke,Rt)|0,U=U+Math.imul(ke,Hn)|0,k=k+Math.imul(le,qn)|0,E=E+Math.imul(le,Tn)|0,E=E+Math.imul(ge,qn)|0,U=U+Math.imul(ge,Tn)|0,k=k+Math.imul(te,Vn)|0,E=E+Math.imul(te,Wn)|0,E=E+Math.imul(se,Vn)|0,U=U+Math.imul(se,Wn)|0;var Ii=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Ii>>>26)|0,Ii&=67108863,k=Math.imul($,ve),E=Math.imul($,me),E=E+Math.imul(F,ve)|0,U=Math.imul(F,me),k=k+Math.imul(d,de)|0,E=E+Math.imul(d,Mn)|0,E=E+Math.imul(y,de)|0,U=U+Math.imul(y,Mn)|0,k=k+Math.imul(at,Un)|0,E=E+Math.imul(at,Ln)|0,E=E+Math.imul(p,Un)|0,U=U+Math.imul(p,Ln)|0,k=k+Math.imul(Be,zn)|0,E=E+Math.imul(Be,Fn)|0,E=E+Math.imul(Ge,zn)|0,U=U+Math.imul(Ge,Fn)|0,k=k+Math.imul(J,jn)|0,E=E+Math.imul(J,un)|0,E=E+Math.imul(ie,jn)|0,U=U+Math.imul(ie,un)|0,k=k+Math.imul(N,Cn)|0,E=E+Math.imul(N,nn)|0,E=E+Math.imul(D,Cn)|0,U=U+Math.imul(D,nn)|0,k=k+Math.imul(De,Rt)|0,E=E+Math.imul(De,Hn)|0,E=E+Math.imul(it,Rt)|0,U=U+Math.imul(it,Hn)|0,k=k+Math.imul(qe,qn)|0,E=E+Math.imul(qe,Tn)|0,E=E+Math.imul(ke,qn)|0,U=U+Math.imul(ke,Tn)|0,k=k+Math.imul(le,Vn)|0,E=E+Math.imul(le,Wn)|0,E=E+Math.imul(ge,Vn)|0,U=U+Math.imul(ge,Wn)|0,k=k+Math.imul(te,In)|0,E=E+Math.imul(te,Kn)|0,E=E+Math.imul(se,In)|0,U=U+Math.imul(se,Kn)|0;var Qs=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,k=Math.imul($,de),E=Math.imul($,Mn),E=E+Math.imul(F,de)|0,U=Math.imul(F,Mn),k=k+Math.imul(d,Un)|0,E=E+Math.imul(d,Ln)|0,E=E+Math.imul(y,Un)|0,U=U+Math.imul(y,Ln)|0,k=k+Math.imul(at,zn)|0,E=E+Math.imul(at,Fn)|0,E=E+Math.imul(p,zn)|0,U=U+Math.imul(p,Fn)|0,k=k+Math.imul(Be,jn)|0,E=E+Math.imul(Be,un)|0,E=E+Math.imul(Ge,jn)|0,U=U+Math.imul(Ge,un)|0,k=k+Math.imul(J,Cn)|0,E=E+Math.imul(J,nn)|0,E=E+Math.imul(ie,Cn)|0,U=U+Math.imul(ie,nn)|0,k=k+Math.imul(N,Rt)|0,E=E+Math.imul(N,Hn)|0,E=E+Math.imul(D,Rt)|0,U=U+Math.imul(D,Hn)|0,k=k+Math.imul(De,qn)|0,E=E+Math.imul(De,Tn)|0,E=E+Math.imul(it,qn)|0,U=U+Math.imul(it,Tn)|0,k=k+Math.imul(qe,Vn)|0,E=E+Math.imul(qe,Wn)|0,E=E+Math.imul(ke,Vn)|0,U=U+Math.imul(ke,Wn)|0,k=k+Math.imul(le,In)|0,E=E+Math.imul(le,Kn)|0,E=E+Math.imul(ge,In)|0,U=U+Math.imul(ge,Kn)|0;var uv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(uv>>>26)|0,uv&=67108863,k=Math.imul($,Un),E=Math.imul($,Ln),E=E+Math.imul(F,Un)|0,U=Math.imul(F,Ln),k=k+Math.imul(d,zn)|0,E=E+Math.imul(d,Fn)|0,E=E+Math.imul(y,zn)|0,U=U+Math.imul(y,Fn)|0,k=k+Math.imul(at,jn)|0,E=E+Math.imul(at,un)|0,E=E+Math.imul(p,jn)|0,U=U+Math.imul(p,un)|0,k=k+Math.imul(Be,Cn)|0,E=E+Math.imul(Be,nn)|0,E=E+Math.imul(Ge,Cn)|0,U=U+Math.imul(Ge,nn)|0,k=k+Math.imul(J,Rt)|0,E=E+Math.imul(J,Hn)|0,E=E+Math.imul(ie,Rt)|0,U=U+Math.imul(ie,Hn)|0,k=k+Math.imul(N,qn)|0,E=E+Math.imul(N,Tn)|0,E=E+Math.imul(D,qn)|0,U=U+Math.imul(D,Tn)|0,k=k+Math.imul(De,Vn)|0,E=E+Math.imul(De,Wn)|0,E=E+Math.imul(it,Vn)|0,U=U+Math.imul(it,Wn)|0,k=k+Math.imul(qe,In)|0,E=E+Math.imul(qe,Kn)|0,E=E+Math.imul(ke,In)|0,U=U+Math.imul(ke,Kn)|0;var dv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(dv>>>26)|0,dv&=67108863,k=Math.imul($,zn),E=Math.imul($,Fn),E=E+Math.imul(F,zn)|0,U=Math.imul(F,Fn),k=k+Math.imul(d,jn)|0,E=E+Math.imul(d,un)|0,E=E+Math.imul(y,jn)|0,U=U+Math.imul(y,un)|0,k=k+Math.imul(at,Cn)|0,E=E+Math.imul(at,nn)|0,E=E+Math.imul(p,Cn)|0,U=U+Math.imul(p,nn)|0,k=k+Math.imul(Be,Rt)|0,E=E+Math.imul(Be,Hn)|0,E=E+Math.imul(Ge,Rt)|0,U=U+Math.imul(Ge,Hn)|0,k=k+Math.imul(J,qn)|0,E=E+Math.imul(J,Tn)|0,E=E+Math.imul(ie,qn)|0,U=U+Math.imul(ie,Tn)|0,k=k+Math.imul(N,Vn)|0,E=E+Math.imul(N,Wn)|0,E=E+Math.imul(D,Vn)|0,U=U+Math.imul(D,Wn)|0,k=k+Math.imul(De,In)|0,E=E+Math.imul(De,Kn)|0,E=E+Math.imul(it,In)|0,U=U+Math.imul(it,Kn)|0;var hv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(hv>>>26)|0,hv&=67108863,k=Math.imul($,jn),E=Math.imul($,un),E=E+Math.imul(F,jn)|0,U=Math.imul(F,un),k=k+Math.imul(d,Cn)|0,E=E+Math.imul(d,nn)|0,E=E+Math.imul(y,Cn)|0,U=U+Math.imul(y,nn)|0,k=k+Math.imul(at,Rt)|0,E=E+Math.imul(at,Hn)|0,E=E+Math.imul(p,Rt)|0,U=U+Math.imul(p,Hn)|0,k=k+Math.imul(Be,qn)|0,E=E+Math.imul(Be,Tn)|0,E=E+Math.imul(Ge,qn)|0,U=U+Math.imul(Ge,Tn)|0,k=k+Math.imul(J,Vn)|0,E=E+Math.imul(J,Wn)|0,E=E+Math.imul(ie,Vn)|0,U=U+Math.imul(ie,Wn)|0,k=k+Math.imul(N,In)|0,E=E+Math.imul(N,Kn)|0,E=E+Math.imul(D,In)|0,U=U+Math.imul(D,Kn)|0;var fv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(fv>>>26)|0,fv&=67108863,k=Math.imul($,Cn),E=Math.imul($,nn),E=E+Math.imul(F,Cn)|0,U=Math.imul(F,nn),k=k+Math.imul(d,Rt)|0,E=E+Math.imul(d,Hn)|0,E=E+Math.imul(y,Rt)|0,U=U+Math.imul(y,Hn)|0,k=k+Math.imul(at,qn)|0,E=E+Math.imul(at,Tn)|0,E=E+Math.imul(p,qn)|0,U=U+Math.imul(p,Tn)|0,k=k+Math.imul(Be,Vn)|0,E=E+Math.imul(Be,Wn)|0,E=E+Math.imul(Ge,Vn)|0,U=U+Math.imul(Ge,Wn)|0,k=k+Math.imul(J,In)|0,E=E+Math.imul(J,Kn)|0,E=E+Math.imul(ie,In)|0,U=U+Math.imul(ie,Kn)|0;var pv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(pv>>>26)|0,pv&=67108863,k=Math.imul($,Rt),E=Math.imul($,Hn),E=E+Math.imul(F,Rt)|0,U=Math.imul(F,Hn),k=k+Math.imul(d,qn)|0,E=E+Math.imul(d,Tn)|0,E=E+Math.imul(y,qn)|0,U=U+Math.imul(y,Tn)|0,k=k+Math.imul(at,Vn)|0,E=E+Math.imul(at,Wn)|0,E=E+Math.imul(p,Vn)|0,U=U+Math.imul(p,Wn)|0,k=k+Math.imul(Be,In)|0,E=E+Math.imul(Be,Kn)|0,E=E+Math.imul(Ge,In)|0,U=U+Math.imul(Ge,Kn)|0;var gv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(gv>>>26)|0,gv&=67108863,k=Math.imul($,qn),E=Math.imul($,Tn),E=E+Math.imul(F,qn)|0,U=Math.imul(F,Tn),k=k+Math.imul(d,Vn)|0,E=E+Math.imul(d,Wn)|0,E=E+Math.imul(y,Vn)|0,U=U+Math.imul(y,Wn)|0,k=k+Math.imul(at,In)|0,E=E+Math.imul(at,Kn)|0,E=E+Math.imul(p,In)|0,U=U+Math.imul(p,Kn)|0;var mv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(mv>>>26)|0,mv&=67108863,k=Math.imul($,Vn),E=Math.imul($,Wn),E=E+Math.imul(F,Vn)|0,U=Math.imul(F,Wn),k=k+Math.imul(d,In)|0,E=E+Math.imul(d,Kn)|0,E=E+Math.imul(y,In)|0,U=U+Math.imul(y,Kn)|0;var yv=(M+k|0)+((E&8191)<<13)|0;M=(U+(E>>>13)|0)+(yv>>>26)|0,yv&=67108863,k=Math.imul($,In),E=Math.imul($,Kn),E=E+Math.imul(F,In)|0,U=Math.imul(F,Kn);var bv=(M+k|0)+((E&8191)<<13)|0;return M=(U+(E>>>13)|0)+(bv>>>26)|0,bv&=67108863,R[0]=Bu,R[1]=Wm,R[2]=Km,R[3]=oe,R[4]=Me,R[5]=dt,R[6]=dn,R[7]=hr,R[8]=Ii,R[9]=Qs,R[10]=uv,R[11]=dv,R[12]=hv,R[13]=fv,R[14]=pv,R[15]=gv,R[16]=mv,R[17]=yv,R[18]=bv,M!==0&&(R[19]=M,v.length++),v};Math.imul||(C=S);function I(j,w,b){b.negative=w.negative^j.negative,b.length=j.length+w.length;for(var v=0,O=0,B=0;B<b.length-1;B++){var R=O;O=0;for(var M=v&67108863,k=Math.min(B,w.length-1),E=Math.max(0,B-j.length+1);E<=k;E++){var U=B-E,Q=j.words[U]|0,te=w.words[E]|0,se=Q*te,fe=se&67108863;R=R+(se/67108864|0)|0,fe=fe+M|0,M=fe&67108863,R=R+(fe>>>26)|0,O+=R>>>26,R&=67108863}b.words[B]=M,v=R,R=O}return v!==0?b.words[B]=v:b.length--,b._strip()}function P(j,w,b){return I(j,w,b)}s.prototype.mulTo=function(w,b){var v,O=this.length+w.length;return this.length===10&&w.length===10?v=C(this,w,b):O<63?v=S(this,w,b):O<1024?v=I(this,w,b):v=P(this,w,b),v},s.prototype.mul=function(w){var b=new s(null);return b.words=new Array(this.length+w.length),this.mulTo(w,b)},s.prototype.mulf=function(w){var b=new s(null);return b.words=new Array(this.length+w.length),P(this,w,b)},s.prototype.imul=function(w){return this.clone().mulTo(w,this)},s.prototype.imuln=function(w){var b=w<0;b&&(w=-w),r(typeof w=="number"),r(w<67108864);for(var v=0,O=0;O<this.length;O++){var B=(this.words[O]|0)*w,R=(B&67108863)+(v&67108863);v>>=26,v+=B/67108864|0,v+=R>>>26,this.words[O]=R&67108863}return v!==0&&(this.words[O]=v,this.length++),this.length=w===0?1:this.length,b?this.ineg():this},s.prototype.muln=function(w){return this.clone().imuln(w)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(w){var b=T(w);if(b.length===0)return new s(1);for(var v=this,O=0;O<b.length&&b[O]===0;O++,v=v.sqr());if(++O<b.length)for(var B=v.sqr();O<b.length;O++,B=B.sqr())b[O]!==0&&(v=v.mul(B));return v},s.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var b=w%26,v=(w-b)/26,O=67108863>>>26-b<<26-b,B;if(b!==0){var R=0;for(B=0;B<this.length;B++){var M=this.words[B]&O,k=(this.words[B]|0)-M<<b;this.words[B]=k|R,R=M>>>26-b}R&&(this.words[B]=R,this.length++)}if(v!==0){for(B=this.length-1;B>=0;B--)this.words[B+v]=this.words[B];for(B=0;B<v;B++)this.words[B]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},s.prototype.iushrn=function(w,b,v){r(typeof w=="number"&&w>=0);var O;b?O=(b-b%26)/26:O=0;var B=w%26,R=Math.min((w-B)/26,this.length),M=67108863^67108863>>>B<<B,k=v;if(O-=R,O=Math.max(0,O),k){for(var E=0;E<R;E++)k.words[E]=this.words[E];k.length=R}if(R!==0)if(this.length>R)for(this.length-=R,E=0;E<this.length;E++)this.words[E]=this.words[E+R];else this.words[0]=0,this.length=1;var U=0;for(E=this.length-1;E>=0&&(U!==0||E>=O);E--){var Q=this.words[E]|0;this.words[E]=U<<26-B|Q>>>B,U=Q&M}return k&&U!==0&&(k.words[k.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(w,b,v){return r(this.negative===0),this.iushrn(w,b,v)},s.prototype.shln=function(w){return this.clone().ishln(w)},s.prototype.ushln=function(w){return this.clone().iushln(w)},s.prototype.shrn=function(w){return this.clone().ishrn(w)},s.prototype.ushrn=function(w){return this.clone().iushrn(w)},s.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var b=w%26,v=(w-b)/26,O=1<<b;if(this.length<=v)return!1;var B=this.words[v];return!!(B&O)},s.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var b=w%26,v=(w-b)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(b!==0&&v++,this.length=Math.min(v,this.length),b!==0){var O=67108863^67108863>>>b<<b;this.words[this.length-1]&=O}return this._strip()},s.prototype.maskn=function(w){return this.clone().imaskn(w)},s.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<=w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},s.prototype._iaddn=function(w){this.words[0]+=w;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},s.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},s.prototype.addn=function(w){return this.clone().iaddn(w)},s.prototype.subn=function(w){return this.clone().isubn(w)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(w,b,v){var O=w.length+v,B;this._expand(O);var R,M=0;for(B=0;B<w.length;B++){R=(this.words[B+v]|0)+M;var k=(w.words[B]|0)*b;R-=k&67108863,M=(R>>26)-(k/67108864|0),this.words[B+v]=R&67108863}for(;B<this.length-v;B++)R=(this.words[B+v]|0)+M,M=R>>26,this.words[B+v]=R&67108863;if(M===0)return this._strip();for(r(M===-1),M=0,B=0;B<this.length;B++)R=-(this.words[B]|0)+M,M=R>>26,this.words[B]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(w,b){var v=this.length-w.length,O=this.clone(),B=w,R=B.words[B.length-1]|0,M=this._countBits(R);v=26-M,v!==0&&(B=B.ushln(v),O.iushln(v),R=B.words[B.length-1]|0);var k=O.length-B.length,E;if(b!=="mod"){E=new s(null),E.length=k+1,E.words=new Array(E.length);for(var U=0;U<E.length;U++)E.words[U]=0}var Q=O.clone()._ishlnsubmul(B,1,k);Q.negative===0&&(O=Q,E&&(E.words[k]=1));for(var te=k-1;te>=0;te--){var se=(O.words[B.length+te]|0)*67108864+(O.words[B.length+te-1]|0);for(se=Math.min(se/R|0,67108863),O._ishlnsubmul(B,se,te);O.negative!==0;)se--,O.negative=0,O._ishlnsubmul(B,1,te),O.isZero()||(O.negative^=1);E&&(E.words[te]=se)}return E&&E._strip(),O._strip(),b!=="div"&&v!==0&&O.iushrn(v),{div:E||null,mod:O}},s.prototype.divmod=function(w,b,v){if(r(!w.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,B,R;return this.negative!==0&&w.negative===0?(R=this.neg().divmod(w,b),b!=="mod"&&(O=R.div.neg()),b!=="div"&&(B=R.mod.neg(),v&&B.negative!==0&&B.iadd(w)),{div:O,mod:B}):this.negative===0&&w.negative!==0?(R=this.divmod(w.neg(),b),b!=="mod"&&(O=R.div.neg()),{div:O,mod:R.mod}):this.negative&w.negative?(R=this.neg().divmod(w.neg(),b),b!=="div"&&(B=R.mod.neg(),v&&B.negative!==0&&B.isub(w)),{div:R.div,mod:B}):w.length>this.length||this.cmp(w)<0?{div:new s(0),mod:this}:w.length===1?b==="div"?{div:this.divn(w.words[0]),mod:null}:b==="mod"?{div:null,mod:new s(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new s(this.modrn(w.words[0]))}:this._wordDiv(w,b)},s.prototype.div=function(w){return this.divmod(w,"div",!1).div},s.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},s.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},s.prototype.divRound=function(w){var b=this.divmod(w);if(b.mod.isZero())return b.div;var v=b.div.negative!==0?b.mod.isub(w):b.mod,O=w.ushrn(1),B=w.andln(1),R=v.cmp(O);return R<0||B===1&&R===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},s.prototype.modrn=function(w){var b=w<0;b&&(w=-w),r(w<=67108863);for(var v=(1<<26)%w,O=0,B=this.length-1;B>=0;B--)O=(v*O+(this.words[B]|0))%w;return b?-O:O},s.prototype.modn=function(w){return this.modrn(w)},s.prototype.idivn=function(w){var b=w<0;b&&(w=-w),r(w<=67108863);for(var v=0,O=this.length-1;O>=0;O--){var B=(this.words[O]|0)+v*67108864;this.words[O]=B/w|0,v=B%w}return this._strip(),b?this.ineg():this},s.prototype.divn=function(w){return this.clone().idivn(w)},s.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var b=this,v=w.clone();b.negative!==0?b=b.umod(w):b=b.clone();for(var O=new s(1),B=new s(0),R=new s(0),M=new s(1),k=0;b.isEven()&&v.isEven();)b.iushrn(1),v.iushrn(1),++k;for(var E=v.clone(),U=b.clone();!b.isZero();){for(var Q=0,te=1;!(b.words[0]&te)&&Q<26;++Q,te<<=1);if(Q>0)for(b.iushrn(Q);Q-- >0;)(O.isOdd()||B.isOdd())&&(O.iadd(E),B.isub(U)),O.iushrn(1),B.iushrn(1);for(var se=0,fe=1;!(v.words[0]&fe)&&se<26;++se,fe<<=1);if(se>0)for(v.iushrn(se);se-- >0;)(R.isOdd()||M.isOdd())&&(R.iadd(E),M.isub(U)),R.iushrn(1),M.iushrn(1);b.cmp(v)>=0?(b.isub(v),O.isub(R),B.isub(M)):(v.isub(b),R.isub(O),M.isub(B))}return{a:R,b:M,gcd:v.iushln(k)}},s.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var b=this,v=w.clone();b.negative!==0?b=b.umod(w):b=b.clone();for(var O=new s(1),B=new s(0),R=v.clone();b.cmpn(1)>0&&v.cmpn(1)>0;){for(var M=0,k=1;!(b.words[0]&k)&&M<26;++M,k<<=1);if(M>0)for(b.iushrn(M);M-- >0;)O.isOdd()&&O.iadd(R),O.iushrn(1);for(var E=0,U=1;!(v.words[0]&U)&&E<26;++E,U<<=1);if(E>0)for(v.iushrn(E);E-- >0;)B.isOdd()&&B.iadd(R),B.iushrn(1);b.cmp(v)>=0?(b.isub(v),O.isub(B)):(v.isub(b),B.isub(O))}var Q;return b.cmpn(1)===0?Q=O:Q=B,Q.cmpn(0)<0&&Q.iadd(w),Q},s.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var b=this.clone(),v=w.clone();b.negative=0,v.negative=0;for(var O=0;b.isEven()&&v.isEven();O++)b.iushrn(1),v.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;v.isEven();)v.iushrn(1);var B=b.cmp(v);if(B<0){var R=b;b=v,v=R}else if(B===0||v.cmpn(1)===0)break;b.isub(v)}while(!0);return v.iushln(O)},s.prototype.invm=function(w){return this.egcd(w).a.umod(w)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(w){return this.words[0]&w},s.prototype.bincn=function(w){r(typeof w=="number");var b=w%26,v=(w-b)/26,O=1<<b;if(this.length<=v)return this._expand(v+1),this.words[v]|=O,this;for(var B=O,R=v;B!==0&&R<this.length;R++){var M=this.words[R]|0;M+=B,B=M>>>26,M&=67108863,this.words[R]=M}return B!==0&&(this.words[R]=B,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(w){var b=w<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var v;if(this.length>1)v=1;else{b&&(w=-w),r(w<=67108863,"Number is too big");var O=this.words[0]|0;v=O===w?0:O<w?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var b=this.ucmp(w);return this.negative!==0?-b|0:b},s.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var b=0,v=this.length-1;v>=0;v--){var O=this.words[v]|0,B=w.words[v]|0;if(O!==B){O<B?b=-1:O>B&&(b=1);break}}return b},s.prototype.gtn=function(w){return this.cmpn(w)===1},s.prototype.gt=function(w){return this.cmp(w)===1},s.prototype.gten=function(w){return this.cmpn(w)>=0},s.prototype.gte=function(w){return this.cmp(w)>=0},s.prototype.ltn=function(w){return this.cmpn(w)===-1},s.prototype.lt=function(w){return this.cmp(w)===-1},s.prototype.lten=function(w){return this.cmpn(w)<=0},s.prototype.lte=function(w){return this.cmp(w)<=0},s.prototype.eqn=function(w){return this.cmpn(w)===0},s.prototype.eq=function(w){return this.cmp(w)===0},s.red=function(w){return new Y(w)},s.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(w){return this.red=w,this},s.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},s.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},s.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},s.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},s.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},s.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},s.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},s.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var z={k256:null,p224:null,p192:null,p25519:null};function W(j,w){this.name=j,this.p=new s(w,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var w=new s(null);return w.words=new Array(Math.ceil(this.n/13)),w},W.prototype.ireduce=function(w){var b=w,v;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),v=b.bitLength();while(v>this.n);var O=v<this.n?-1:b.ucmp(this.p);return O===0?(b.words[0]=0,b.length=1):O>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},W.prototype.split=function(w,b){w.iushrn(this.n,0,b)},W.prototype.imulK=function(w){return w.imul(this.k)};function L(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,W),L.prototype.split=function(w,b){for(var v=4194303,O=Math.min(w.length,9),B=0;B<O;B++)b.words[B]=w.words[B];if(b.length=O,w.length<=9){w.words[0]=0,w.length=1;return}var R=w.words[9];for(b.words[b.length++]=R&v,B=10;B<w.length;B++){var M=w.words[B]|0;w.words[B-10]=(M&v)<<4|R>>>22,R=M}R>>>=22,w.words[B-10]=R,R===0&&w.length>10?w.length-=10:w.length-=9},L.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var b=0,v=0;v<w.length;v++){var O=w.words[v]|0;b+=O*977,w.words[v]=b&67108863,b=O*64+(b/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function V(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,W);function q(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(q,W);function X(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,W),X.prototype.imulK=function(w){for(var b=0,v=0;v<w.length;v++){var O=(w.words[v]|0)*19+b,B=O&67108863;O>>>=26,w.words[v]=B,b=O}return b!==0&&(w.words[w.length++]=b),w},s._prime=function(w){if(z[w])return z[w];var b;if(w==="k256")b=new L;else if(w==="p224")b=new V;else if(w==="p192")b=new q;else if(w==="p25519")b=new X;else throw new Error("Unknown prime "+w);return z[w]=b,b};function Y(j){if(typeof j=="string"){var w=s._prime(j);this.m=w.p,this.prime=w}else r(j.gtn(1),"modulus must be greater than 1"),this.m=j,this.prime=null}Y.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},Y.prototype._verify2=function(w,b){r((w.negative|b.negative)===0,"red works only with positives"),r(w.red&&w.red===b.red,"red works only with red numbers")},Y.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(h(w,w.umod(this.m)._forceRed(this)),w)},Y.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},Y.prototype.add=function(w,b){this._verify2(w,b);var v=w.add(b);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},Y.prototype.iadd=function(w,b){this._verify2(w,b);var v=w.iadd(b);return v.cmp(this.m)>=0&&v.isub(this.m),v},Y.prototype.sub=function(w,b){this._verify2(w,b);var v=w.sub(b);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},Y.prototype.isub=function(w,b){this._verify2(w,b);var v=w.isub(b);return v.cmpn(0)<0&&v.iadd(this.m),v},Y.prototype.shl=function(w,b){return this._verify1(w),this.imod(w.ushln(b))},Y.prototype.imul=function(w,b){return this._verify2(w,b),this.imod(w.imul(b))},Y.prototype.mul=function(w,b){return this._verify2(w,b),this.imod(w.mul(b))},Y.prototype.isqr=function(w){return this.imul(w,w.clone())},Y.prototype.sqr=function(w){return this.mul(w,w)},Y.prototype.sqrt=function(w){if(w.isZero())return w.clone();var b=this.m.andln(3);if(r(b%2===1),b===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(w,v)}for(var O=this.m.subn(1),B=0;!O.isZero()&&O.andln(1)===0;)B++,O.iushrn(1);r(!O.isZero());var R=new s(1).toRed(this),M=R.redNeg(),k=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,k).cmp(M)!==0;)E.redIAdd(M);for(var U=this.pow(E,O),Q=this.pow(w,O.addn(1).iushrn(1)),te=this.pow(w,O),se=B;te.cmp(R)!==0;){for(var fe=te,le=0;fe.cmp(R)!==0;le++)fe=fe.redSqr();r(le<se);var ge=this.pow(U,new s(1).iushln(se-le-1));Q=Q.redMul(ge),U=ge.redSqr(),te=te.redMul(U),se=le}return Q},Y.prototype.invm=function(w){var b=w._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Y.prototype.pow=function(w,b){if(b.isZero())return new s(1).toRed(this);if(b.cmpn(1)===0)return w.clone();var v=4,O=new Array(1<<v);O[0]=new s(1).toRed(this),O[1]=w;for(var B=2;B<O.length;B++)O[B]=this.mul(O[B-1],w);var R=O[0],M=0,k=0,E=b.bitLength()%26;for(E===0&&(E=26),B=b.length-1;B>=0;B--){for(var U=b.words[B],Q=E-1;Q>=0;Q--){var te=U>>Q&1;if(R!==O[0]&&(R=this.sqr(R)),te===0&&M===0){k=0;continue}M<<=1,M|=te,k++,!(k!==v&&(B!==0||Q!==0))&&(R=this.mul(R,O[M]),k=0,M=0)}E=26}return R},Y.prototype.convertTo=function(w){var b=w.umod(this.m);return b===w?b.clone():b},Y.prototype.convertFrom=function(w){var b=w.clone();return b.red=null,b},s.mont=function(w){return new ee(w)};function ee(j){Y.call(this,j),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ee,Y),ee.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},ee.prototype.convertFrom=function(w){var b=this.imod(w.mul(this.rinv));return b.red=null,b},ee.prototype.imul=function(w,b){if(w.isZero()||b.isZero())return w.words[0]=0,w.length=1,w;var v=w.imul(b),O=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=v.isub(O).iushrn(this.shift),R=B;return B.cmp(this.m)>=0?R=B.isub(this.m):B.cmpn(0)<0&&(R=B.iadd(this.m)),R._forceRed(this)},ee.prototype.mul=function(w,b){if(w.isZero()||b.isZero())return new s(0)._forceRed(this);var v=w.mul(b),O=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=v.isub(O).iushrn(this.shift),R=B;return B.cmp(this.m)>=0?R=B.isub(this.m):B.cmpn(0)<0&&(R=B.iadd(this.m)),R._forceRed(this)},ee.prototype.invm=function(w){var b=this.imod(w._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(t,tr)})(nA);var AD=nA.exports;const MR=Ks(AD);var V_={exports:{}},CD={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Eu,n=jh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var K=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(K,N),K.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');var N=new Uint8Array(K);return Object.setPrototypeOf(N,a.prototype),N}function a(K,N,D){if(typeof K=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(K)}return c(K,N,D)}a.poolSize=8192;function c(K,N,D){if(typeof K=="string")return g(K,N);if(ArrayBuffer.isView(K))return _(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(je(K,ArrayBuffer)||K&&je(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(K,SharedArrayBuffer)||K&&je(K.buffer,SharedArrayBuffer)))return x(K,N,D);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=K.valueOf&&K.valueOf();if(G!=null&&G!==K)return a.from(G,N,D);var J=T(K);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return a.from(K[Symbol.toPrimitive]("string"),N,D);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}a.from=function(K,N,D){return c(K,N,D)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function h(K,N,D){return u(K),K<=0?o(K):N!==void 0?typeof D=="string"?o(K).fill(N,D):o(K).fill(N):o(K)}a.alloc=function(K,N,D){return h(K,N,D)};function f(K){return u(K),o(K<0?0:S(K)|0)}a.allocUnsafe=function(K){return f(K)},a.allocUnsafeSlow=function(K){return f(K)};function g(K,N){if((typeof N!="string"||N==="")&&(N="utf8"),!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var D=I(K,N)|0,G=o(D),J=G.write(K,N);return J!==D&&(G=G.slice(0,J)),G}function m(K){for(var N=K.length<0?0:S(K.length)|0,D=o(N),G=0;G<N;G+=1)D[G]=K[G]&255;return D}function _(K){if(je(K,Uint8Array)){var N=new Uint8Array(K);return x(N.buffer,N.byteOffset,N.byteLength)}return m(K)}function x(K,N,D){if(N<0||K.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<N+(D||0))throw new RangeError('"length" is outside of buffer bounds');var G;return N===void 0&&D===void 0?G=new Uint8Array(K):D===void 0?G=new Uint8Array(K,N):G=new Uint8Array(K,N,D),Object.setPrototypeOf(G,a.prototype),G}function T(K){if(a.isBuffer(K)){var N=S(K.length)|0,D=o(N);return D.length===0||K.copy(D,0,0,N),D}if(K.length!==void 0)return typeof K.length!="number"||De(K.length)?o(0):m(K);if(K.type==="Buffer"&&Array.isArray(K.data))return m(K.data)}function S(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function C(K){return+K!=K&&(K=0),a.alloc(+K)}a.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==a.prototype},a.compare=function(N,D){if(je(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),je(D,Uint8Array)&&(D=a.from(D,D.offset,D.byteLength)),!a.isBuffer(N)||!a.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===D)return 0;for(var G=N.length,J=D.length,ie=0,ae=Math.min(G,J);ie<ae;++ie)if(N[ie]!==D[ie]){G=N[ie],J=D[ie];break}return G<J?-1:J<G?1:0},a.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(N,D){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return a.alloc(0);var G;if(D===void 0)for(D=0,G=0;G<N.length;++G)D+=N[G].length;var J=a.allocUnsafe(D),ie=0;for(G=0;G<N.length;++G){var ae=N[G];if(je(ae,Uint8Array))ie+ae.length>J.length?a.from(ae).copy(J,ie):Uint8Array.prototype.set.call(J,ae,ie);else if(a.isBuffer(ae))ae.copy(J,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=ae.length}return J};function I(K,N){if(a.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||je(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var D=K.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&D===0)return 0;for(var J=!1;;)switch(N){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return le(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return qe(K).length;default:if(J)return G?-1:le(K).length;N=(""+N).toLowerCase(),J=!0}}a.byteLength=I;function P(K,N,D){var G=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,N>>>=0,D<=N))return"";for(K||(K="utf8");;)switch(K){case"hex":return R(this,N,D);case"utf8":case"utf-8":return w(this,N,D);case"ascii":return O(this,N,D);case"latin1":case"binary":return B(this,N,D);case"base64":return j(this,N,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,N,D);default:if(G)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),G=!0}}a.prototype._isBuffer=!0;function z(K,N,D){var G=K[N];K[N]=K[D],K[D]=G}a.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<N;D+=2)z(this,D,D+1);return this},a.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<N;D+=4)z(this,D,D+3),z(this,D+1,D+2);return this},a.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<N;D+=8)z(this,D,D+7),z(this,D+1,D+6),z(this,D+2,D+5),z(this,D+3,D+4);return this},a.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?w(this,0,N):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(N){if(!a.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:a.compare(this,N)===0},a.prototype.inspect=function(){var N="",D=t.INSPECT_MAX_BYTES;return N=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(N+=" ... "),"<Buffer "+N+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(N,D,G,J,ie){if(je(N,Uint8Array)&&(N=a.from(N,N.offset,N.byteLength)),!a.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(D===void 0&&(D=0),G===void 0&&(G=N?N.length:0),J===void 0&&(J=0),ie===void 0&&(ie=this.length),D<0||G>N.length||J<0||ie>this.length)throw new RangeError("out of range index");if(J>=ie&&D>=G)return 0;if(J>=ie)return-1;if(D>=G)return 1;if(D>>>=0,G>>>=0,J>>>=0,ie>>>=0,this===N)return 0;for(var ae=ie-J,Be=G-D,Ge=Math.min(ae,Be),Ye=this.slice(J,ie),at=N.slice(D,G),p=0;p<Ge;++p)if(Ye[p]!==at[p]){ae=Ye[p],Be=at[p];break}return ae<Be?-1:Be<ae?1:0};function W(K,N,D,G,J){if(K.length===0)return-1;if(typeof D=="string"?(G=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,De(D)&&(D=J?0:K.length-1),D<0&&(D=K.length+D),D>=K.length){if(J)return-1;D=K.length-1}else if(D<0)if(J)D=0;else return-1;if(typeof N=="string"&&(N=a.from(N,G)),a.isBuffer(N))return N.length===0?-1:L(K,N,D,G,J);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(K,N,D):Uint8Array.prototype.lastIndexOf.call(K,N,D):L(K,[N],D,G,J);throw new TypeError("val must be string, number or Buffer")}function L(K,N,D,G,J){var ie=1,ae=K.length,Be=N.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(K.length<2||N.length<2)return-1;ie=2,ae/=2,Be/=2,D/=2}function Ge(d,y){return ie===1?d[y]:d.readUInt16BE(y*ie)}var Ye;if(J){var at=-1;for(Ye=D;Ye<ae;Ye++)if(Ge(K,Ye)===Ge(N,at===-1?0:Ye-at)){if(at===-1&&(at=Ye),Ye-at+1===Be)return at*ie}else at!==-1&&(Ye-=Ye-at),at=-1}else for(D+Be>ae&&(D=ae-Be),Ye=D;Ye>=0;Ye--){for(var p=!0,l=0;l<Be;l++)if(Ge(K,Ye+l)!==Ge(N,l)){p=!1;break}if(p)return Ye}return-1}a.prototype.includes=function(N,D,G){return this.indexOf(N,D,G)!==-1},a.prototype.indexOf=function(N,D,G){return W(this,N,D,G,!0)},a.prototype.lastIndexOf=function(N,D,G){return W(this,N,D,G,!1)};function V(K,N,D,G){D=Number(D)||0;var J=K.length-D;G?(G=Number(G),G>J&&(G=J)):G=J;var ie=N.length;G>ie/2&&(G=ie/2);for(var ae=0;ae<G;++ae){var Be=parseInt(N.substr(ae*2,2),16);if(De(Be))return ae;K[D+ae]=Be}return ae}function q(K,N,D,G){return ke(le(N,K.length-D),K,D,G)}function X(K,N,D,G){return ke(ge(N),K,D,G)}function Y(K,N,D,G){return ke(qe(N),K,D,G)}function ee(K,N,D,G){return ke(et(N,K.length-D),K,D,G)}a.prototype.write=function(N,D,G,J){if(D===void 0)J="utf8",G=this.length,D=0;else if(G===void 0&&typeof D=="string")J=D,G=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(G)?(G=G>>>0,J===void 0&&(J="utf8")):(J=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ie=this.length-D;if((G===void 0||G>ie)&&(G=ie),N.length>0&&(G<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");for(var ae=!1;;)switch(J){case"hex":return V(this,N,D,G);case"utf8":case"utf-8":return q(this,N,D,G);case"ascii":case"latin1":case"binary":return X(this,N,D,G);case"base64":return Y(this,N,D,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,N,D,G);default:if(ae)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ae=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(K,N,D){return N===0&&D===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(N,D))}function w(K,N,D){D=Math.min(K.length,D);for(var G=[],J=N;J<D;){var ie=K[J],ae=null,Be=ie>239?4:ie>223?3:ie>191?2:1;if(J+Be<=D){var Ge,Ye,at,p;switch(Be){case 1:ie<128&&(ae=ie);break;case 2:Ge=K[J+1],(Ge&192)===128&&(p=(ie&31)<<6|Ge&63,p>127&&(ae=p));break;case 3:Ge=K[J+1],Ye=K[J+2],(Ge&192)===128&&(Ye&192)===128&&(p=(ie&15)<<12|(Ge&63)<<6|Ye&63,p>2047&&(p<55296||p>57343)&&(ae=p));break;case 4:Ge=K[J+1],Ye=K[J+2],at=K[J+3],(Ge&192)===128&&(Ye&192)===128&&(at&192)===128&&(p=(ie&15)<<18|(Ge&63)<<12|(Ye&63)<<6|at&63,p>65535&&p<1114112&&(ae=p))}}ae===null?(ae=65533,Be=1):ae>65535&&(ae-=65536,G.push(ae>>>10&1023|55296),ae=56320|ae&1023),G.push(ae),J+=Be}return v(G)}var b=4096;function v(K){var N=K.length;if(N<=b)return String.fromCharCode.apply(String,K);for(var D="",G=0;G<N;)D+=String.fromCharCode.apply(String,K.slice(G,G+=b));return D}function O(K,N,D){var G="";D=Math.min(K.length,D);for(var J=N;J<D;++J)G+=String.fromCharCode(K[J]&127);return G}function B(K,N,D){var G="";D=Math.min(K.length,D);for(var J=N;J<D;++J)G+=String.fromCharCode(K[J]);return G}function R(K,N,D){var G=K.length;(!N||N<0)&&(N=0),(!D||D<0||D>G)&&(D=G);for(var J="",ie=N;ie<D;++ie)J+=it[K[ie]];return J}function M(K,N,D){for(var G=K.slice(N,D),J="",ie=0;ie<G.length-1;ie+=2)J+=String.fromCharCode(G[ie]+G[ie+1]*256);return J}a.prototype.slice=function(N,D){var G=this.length;N=~~N,D=D===void 0?G:~~D,N<0?(N+=G,N<0&&(N=0)):N>G&&(N=G),D<0?(D+=G,D<0&&(D=0)):D>G&&(D=G),D<N&&(D=N);var J=this.subarray(N,D);return Object.setPrototypeOf(J,a.prototype),J};function k(K,N,D){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+N>D)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=this[N],ie=1,ae=0;++ae<D&&(ie*=256);)J+=this[N+ae]*ie;return J},a.prototype.readUintBE=a.prototype.readUIntBE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=this[N+--D],ie=1;D>0&&(ie*=256);)J+=this[N+--D]*ie;return J},a.prototype.readUint8=a.prototype.readUInt8=function(N,D){return N=N>>>0,D||k(N,1,this.length),this[N]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(N,D){return N=N>>>0,D||k(N,2,this.length),this[N]|this[N+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(N,D){return N=N>>>0,D||k(N,2,this.length),this[N]<<8|this[N+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(N,D){return N=N>>>0,D||k(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(N,D){return N=N>>>0,D||k(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},a.prototype.readIntLE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=this[N],ie=1,ae=0;++ae<D&&(ie*=256);)J+=this[N+ae]*ie;return ie*=128,J>=ie&&(J-=Math.pow(2,8*D)),J},a.prototype.readIntBE=function(N,D,G){N=N>>>0,D=D>>>0,G||k(N,D,this.length);for(var J=D,ie=1,ae=this[N+--J];J>0&&(ie*=256);)ae+=this[N+--J]*ie;return ie*=128,ae>=ie&&(ae-=Math.pow(2,8*D)),ae},a.prototype.readInt8=function(N,D){return N=N>>>0,D||k(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},a.prototype.readInt16LE=function(N,D){N=N>>>0,D||k(N,2,this.length);var G=this[N]|this[N+1]<<8;return G&32768?G|4294901760:G},a.prototype.readInt16BE=function(N,D){N=N>>>0,D||k(N,2,this.length);var G=this[N+1]|this[N]<<8;return G&32768?G|4294901760:G},a.prototype.readInt32LE=function(N,D){return N=N>>>0,D||k(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},a.prototype.readInt32BE=function(N,D){return N=N>>>0,D||k(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},a.prototype.readFloatLE=function(N,D){return N=N>>>0,D||k(N,4,this.length),n.read(this,N,!0,23,4)},a.prototype.readFloatBE=function(N,D){return N=N>>>0,D||k(N,4,this.length),n.read(this,N,!1,23,4)},a.prototype.readDoubleLE=function(N,D){return N=N>>>0,D||k(N,8,this.length),n.read(this,N,!0,52,8)},a.prototype.readDoubleBE=function(N,D){return N=N>>>0,D||k(N,8,this.length),n.read(this,N,!1,52,8)};function E(K,N,D,G,J,ie){if(!a.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>J||N<ie)throw new RangeError('"value" argument is out of bounds');if(D+G>K.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(N,D,G,J){if(N=+N,D=D>>>0,G=G>>>0,!J){var ie=Math.pow(2,8*G)-1;E(this,N,D,G,ie,0)}var ae=1,Be=0;for(this[D]=N&255;++Be<G&&(ae*=256);)this[D+Be]=N/ae&255;return D+G},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(N,D,G,J){if(N=+N,D=D>>>0,G=G>>>0,!J){var ie=Math.pow(2,8*G)-1;E(this,N,D,G,ie,0)}var ae=G-1,Be=1;for(this[D+ae]=N&255;--ae>=0&&(Be*=256);)this[D+ae]=N/Be&255;return D+G},a.prototype.writeUint8=a.prototype.writeUInt8=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,1,255,0),this[D]=N&255,D+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,65535,0),this[D]=N&255,this[D+1]=N>>>8,D+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,65535,0),this[D]=N>>>8,this[D+1]=N&255,D+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,4294967295,0),this[D+3]=N>>>24,this[D+2]=N>>>16,this[D+1]=N>>>8,this[D]=N&255,D+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,4294967295,0),this[D]=N>>>24,this[D+1]=N>>>16,this[D+2]=N>>>8,this[D+3]=N&255,D+4},a.prototype.writeIntLE=function(N,D,G,J){if(N=+N,D=D>>>0,!J){var ie=Math.pow(2,8*G-1);E(this,N,D,G,ie-1,-ie)}var ae=0,Be=1,Ge=0;for(this[D]=N&255;++ae<G&&(Be*=256);)N<0&&Ge===0&&this[D+ae-1]!==0&&(Ge=1),this[D+ae]=(N/Be>>0)-Ge&255;return D+G},a.prototype.writeIntBE=function(N,D,G,J){if(N=+N,D=D>>>0,!J){var ie=Math.pow(2,8*G-1);E(this,N,D,G,ie-1,-ie)}var ae=G-1,Be=1,Ge=0;for(this[D+ae]=N&255;--ae>=0&&(Be*=256);)N<0&&Ge===0&&this[D+ae+1]!==0&&(Ge=1),this[D+ae]=(N/Be>>0)-Ge&255;return D+G},a.prototype.writeInt8=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,1,127,-128),N<0&&(N=255+N+1),this[D]=N&255,D+1},a.prototype.writeInt16LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,32767,-32768),this[D]=N&255,this[D+1]=N>>>8,D+2},a.prototype.writeInt16BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,2,32767,-32768),this[D]=N>>>8,this[D+1]=N&255,D+2},a.prototype.writeInt32LE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,2147483647,-2147483648),this[D]=N&255,this[D+1]=N>>>8,this[D+2]=N>>>16,this[D+3]=N>>>24,D+4},a.prototype.writeInt32BE=function(N,D,G){return N=+N,D=D>>>0,G||E(this,N,D,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[D]=N>>>24,this[D+1]=N>>>16,this[D+2]=N>>>8,this[D+3]=N&255,D+4};function U(K,N,D,G,J,ie){if(D+G>K.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function Q(K,N,D,G,J){return N=+N,D=D>>>0,J||U(K,N,D,4),n.write(K,N,D,G,23,4),D+4}a.prototype.writeFloatLE=function(N,D,G){return Q(this,N,D,!0,G)},a.prototype.writeFloatBE=function(N,D,G){return Q(this,N,D,!1,G)};function te(K,N,D,G,J){return N=+N,D=D>>>0,J||U(K,N,D,8),n.write(K,N,D,G,52,8),D+8}a.prototype.writeDoubleLE=function(N,D,G){return te(this,N,D,!0,G)},a.prototype.writeDoubleBE=function(N,D,G){return te(this,N,D,!1,G)},a.prototype.copy=function(N,D,G,J){if(!a.isBuffer(N))throw new TypeError("argument should be a Buffer");if(G||(G=0),!J&&J!==0&&(J=this.length),D>=N.length&&(D=N.length),D||(D=0),J>0&&J<G&&(J=G),J===G||N.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),N.length-D<J-G&&(J=N.length-D+G);var ie=J-G;return this===N&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,G,J):Uint8Array.prototype.set.call(N,this.subarray(G,J),D),ie},a.prototype.fill=function(N,D,G,J){if(typeof N=="string"){if(typeof D=="string"?(J=D,D=0,G=this.length):typeof G=="string"&&(J=G,G=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!a.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(N.length===1){var ie=N.charCodeAt(0);(J==="utf8"&&ie<128||J==="latin1")&&(N=ie)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(D<0||this.length<D||this.length<G)throw new RangeError("Out of range index");if(G<=D)return this;D=D>>>0,G=G===void 0?this.length:G>>>0,N||(N=0);var ae;if(typeof N=="number")for(ae=D;ae<G;++ae)this[ae]=N;else{var Be=a.isBuffer(N)?N:a.from(N,J),Ge=Be.length;if(Ge===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ae=0;ae<G-D;++ae)this[ae+D]=Be[ae%Ge]}return this};var se=/[^+/0-9A-Za-z-_]/g;function fe(K){if(K=K.split("=")[0],K=K.trim().replace(se,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function le(K,N){N=N||1/0;for(var D,G=K.length,J=null,ie=[],ae=0;ae<G;++ae){if(D=K.charCodeAt(ae),D>55295&&D<57344){if(!J){if(D>56319){(N-=3)>-1&&ie.push(239,191,189);continue}else if(ae+1===G){(N-=3)>-1&&ie.push(239,191,189);continue}J=D;continue}if(D<56320){(N-=3)>-1&&ie.push(239,191,189),J=D;continue}D=(J-55296<<10|D-56320)+65536}else J&&(N-=3)>-1&&ie.push(239,191,189);if(J=null,D<128){if((N-=1)<0)break;ie.push(D)}else if(D<2048){if((N-=2)<0)break;ie.push(D>>6|192,D&63|128)}else if(D<65536){if((N-=3)<0)break;ie.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((N-=4)<0)break;ie.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ie}function ge(K){for(var N=[],D=0;D<K.length;++D)N.push(K.charCodeAt(D)&255);return N}function et(K,N){for(var D,G,J,ie=[],ae=0;ae<K.length&&!((N-=2)<0);++ae)D=K.charCodeAt(ae),G=D>>8,J=D%256,ie.push(J),ie.push(G);return ie}function qe(K){return e.toByteArray(fe(K))}function ke(K,N,D,G){for(var J=0;J<G&&!(J+D>=N.length||J>=K.length);++J)N[J+D]=K[J];return J}function je(K,N){return K instanceof N||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===N.name}function De(K){return K!==K}var it=function(){for(var K="0123456789abcdef",N=new Array(256),D=0;D<16;++D)for(var G=D*16,J=0;J<16;++J)N[G+J]=K[D]+K[J];return N}()})(CD);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=CD,r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(V_,V_.exports);var TD=V_.exports,E0=TD.Buffer;function oie(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=E0.from(m)),!E0.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var _=0,x=0,T=0,S=m.length;T!==S&&m[T]===0;)T++,_++;for(var C=(S-T)*u+1>>>0,I=new Uint8Array(C);T!==S;){for(var P=m[T],z=0,W=C-1;(P!==0||z<x)&&W!==-1;W--,z++)P+=256*I[W]>>>0,I[W]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=z,T++}for(var L=C-x;L!==C&&I[L]===0;)L++;for(var V=a.repeat(_);L<C;++L)V+=t.charAt(I[L]);return V}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return E0.alloc(0);for(var _=0,x=0,T=0;m[_]===a;)x++,_++;for(var S=(m.length-_)*c+1>>>0,C=new Uint8Array(S);_<m.length;){var I=m.charCodeAt(_);if(I>255)return;var P=e[I];if(P===255)return;for(var z=0,W=S-1;(P!==0||z<T)&&W!==-1;W--,z++)P+=o*C[W]>>>0,C[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");T=z,_++}for(var L=S-T;L!==S&&C[L]===0;)L++;var V=E0.allocUnsafe(x+(S-L));V.fill(0,0,x);for(var q=x;L!==S;)V[q++]=C[L++];return V}function g(m){var _=f(m);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:g}}var aie=oie,cie=aie,lie="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",uie=cie(lie);const Kr=Ks(uie);var Vr={},_0=TD.Buffer;function die(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(m){if((Array.isArray(m)||m instanceof Uint8Array)&&(m=_0.from(m)),!_0.isBuffer(m))throw new TypeError("Expected Buffer");if(m.length===0)return"";for(var _=0,x=0,T=0,S=m.length;T!==S&&m[T]===0;)T++,_++;for(var C=(S-T)*u+1>>>0,I=new Uint8Array(C);T!==S;){for(var P=m[T],z=0,W=C-1;(P!==0||z<x)&&W!==-1;W--,z++)P+=256*I[W]>>>0,I[W]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");x=z,T++}for(var L=C-x;L!==C&&I[L]===0;)L++;for(var V=a.repeat(_);L<C;++L)V+=t.charAt(I[L]);return V}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return _0.alloc(0);for(var _=0,x=0,T=0;m[_]===a;)x++,_++;for(var S=(m.length-_)*c+1>>>0,C=new Uint8Array(S);_<m.length;){var I=m.charCodeAt(_);if(I>255)return;var P=e[I];if(P===255)return;for(var z=0,W=S-1;(P!==0||z<T)&&W!==-1;W--,z++)P+=o*C[W]>>>0,C[W]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");T=z,_++}for(var L=S-T;L!==S&&C[L]===0;)L++;var V=_0.allocUnsafe(x+(S-L));V.fill(0,0,x);for(var q=x;L!==S;)V[q++]=C[L++];return V}function g(m){var _=f(m);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:h,decodeUnsafe:f,decode:g}}var hie=die,fie=hie,pie="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",gie=fie(pie);function _a(t,e,n){return e<=t&&t<=n}function fw(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function mie(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function yie(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Gy=-1;function rA(t){this.tokens=[].slice.call(t)}rA.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Gy},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var wh=-1;function R1(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Yy="utf-8";function Zy(t,e){if(!(this instanceof Zy))return new Zy(t,e);if(t=t!==void 0?String(t).toLowerCase():Yy,t!==Yy)throw new Error("Encoding not supported. Only utf-8 is supported");e=fw(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Zy.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=fw(n),this._streaming||(this._decoder=new bie({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new rA(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==wh);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===wh)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),yie(s)}};function Xy(t,e){if(!(this instanceof Xy))return new Xy(t,e);if(t=t!==void 0?String(t).toLowerCase():Yy,t!==Yy)throw new Error("Encoding not supported. Only utf-8 is supported");e=fw(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Xy.prototype={encode:function(e,n){e=e?String(e):"",n=fw(n),this._streaming||(this._encoder=new wie(this._options)),this._streaming=!!n.stream;for(var r=[],i=new rA(mie(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==wh);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==wh;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function bie(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===Gy&&i!==0)return i=0,R1(e);if(c===Gy)return wh;if(i===0){if(_a(c,0,127))return c;if(_a(c,194,223))i=1,n=c-192;else if(_a(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,n=c-224;else if(_a(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,n=c-240;else return R1(e);return n=n<<6*i,null}if(!_a(c,s,o))return n=i=r=0,s=128,o=191,a.prepend(c),R1(e);if(s=128,o=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function wie(t){t.fatal,this.handler=function(e,n){if(n===Gy)return wh;if(_a(n,0,127))return n;var r,i;_a(n,128,2047)?(r=1,i=192):_a(n,2048,65535)?(r=2,i=224):_a(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const vie=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Zy,TextEncoder:Xy},Symbol.toStringTag,{value:"Module"})),Eie=Wg(vie);var _ie=tr&&tr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xie=tr&&tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xo=tr&&tr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sie=tr&&tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&_ie(e,t,n);return xie(e,t),e},ID=tr&&tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vr,"__esModule",{value:!0});var RD=Vr.deserializeUnchecked=PD=Vr.deserialize=DD=Vr.serialize=Vr.BinaryReader=Vr.BinaryWriter=Vr.BorshError=Vr.baseDecode=Vr.baseEncode=void 0;const Sc=ID(AD),kD=ID(gie),Aie=Sie(Eie),Cie=typeof TextDecoder!="function"?Aie.TextDecoder:TextDecoder,Tie=new Cie("utf-8",{fatal:!0});function Iie(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),kD.default.encode(Buffer.from(t))}Vr.baseEncode=Iie;function Rie(t){return Buffer.from(kD.default.decode(t))}Vr.baseDecode=Rie;const k1=1024;class Ei extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Vr.BorshError=Ei;class ND{constructor(){this.buf=Buffer.alloc(k1),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(k1)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sc.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sc.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sc.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Sc.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(k1)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Vr.BinaryWriter=ND;function Qo(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Ei("Reached the end of buffer when deserializing")}throw s}}}class ws{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Sc.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Sc.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Sc.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Sc.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Ei(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return Tie.decode(n)}catch(r){throw new Ei(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Xo([Qo],ws.prototype,"readU8",null);Xo([Qo],ws.prototype,"readU16",null);Xo([Qo],ws.prototype,"readU32",null);Xo([Qo],ws.prototype,"readU64",null);Xo([Qo],ws.prototype,"readU128",null);Xo([Qo],ws.prototype,"readU256",null);Xo([Qo],ws.prototype,"readU512",null);Xo([Qo],ws.prototype,"readString",null);Xo([Qo],ws.prototype,"readFixedArray",null);Xo([Qo],ws.prototype,"readArray",null);Vr.BinaryReader=ws;function OD(t){return t.charAt(0).toUpperCase()+t.slice(1)}function xl(t,e,n,r,i){try{if(typeof r=="string")i[`write${OD(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Ei(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Ei(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)xl(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{xl(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),xl(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{xl(t,e,o,r.key,i),xl(t,e,s,r.value,i)});break}default:throw new Ei(`FieldType ${r} unrecognized`)}else BD(t,n,i)}catch(s){throw s instanceof Ei&&s.addToFieldPath(e),s}}function BD(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new Ei(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{xl(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),xl(t,o,e[o],a,n);break}}}else throw new Ei(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function kie(t,e,n=ND){const r=new n;return BD(t,e,r),r.toArray()}var DD=Vr.serialize=kie;function Sl(t,e,n,r){try{if(typeof n=="string")return r[`read${OD(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Sl(t,null,n[0],r));return i}else return r.readArray(()=>Sl(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Sl(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Sl(t,e,n.key,r),c=Sl(t,e,n.value,r);i.set(a,c)}return i}return iA(t,n,r)}catch(i){throw i instanceof Ei&&i.addToFieldPath(e),i}}function iA(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new Ei(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Sl(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new Ei(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Sl(t,s,o,n);return new e({[s]:a})}throw new Ei(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Nie(t,e,n,r=ws){const i=new r(n),s=iA(t,e,i);if(i.offset<n.length)throw new Ei(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var PD=Vr.deserialize=Nie;function Oie(t,e,n,r=ws){const i=new r(n);return iA(t,e,i)}RD=Vr.deserializeUnchecked=Oie;var re={},$D={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Eu,n=jh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,d){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(p)}return c(p,l,d)}a.poolSize=8192;function c(p,l,d){if(typeof p=="string")return g(p,l);if(ArrayBuffer.isView(p))return _(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ae(p,ArrayBuffer)||p&&ae(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(p,SharedArrayBuffer)||p&&ae(p.buffer,SharedArrayBuffer)))return x(p,l,d);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,l,d);const A=T(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,d){return c(p,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,l,d){return u(p),p<=0?o(p):l!==void 0?typeof d=="string"?o(p).fill(l,d):o(p).fill(l):o(p)}a.alloc=function(p,l,d){return h(p,l,d)};function f(p){return u(p),o(p<0?0:S(p)|0)}a.allocUnsafe=function(p){return f(p)},a.allocUnsafeSlow=function(p){return f(p)};function g(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=I(p,l)|0;let y=o(d);const A=y.write(p,l);return A!==d&&(y=y.slice(0,A)),y}function m(p){const l=p.length<0?0:S(p.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=p[y]&255;return d}function _(p){if(ae(p,Uint8Array)){const l=new Uint8Array(p);return x(l.buffer,l.byteOffset,l.byteLength)}return m(p)}function x(p,l,d){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(p):d===void 0?y=new Uint8Array(p,l):y=new Uint8Array(p,l,d),Object.setPrototypeOf(y,a.prototype),y}function T(p){if(a.isBuffer(p)){const l=S(p.length)|0,d=o(l);return d.length===0||p.copy(d,0,0,l),d}if(p.length!==void 0)return typeof p.length!="number"||Be(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function C(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ae(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ae(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,A=d.length;for(let $=0,F=Math.min(y,A);$<F;++$)if(l[$]!==d[$]){y=l[$],A=d[$];break}return y<A?-1:A<y?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const A=a.allocUnsafe(d);let $=0;for(y=0;y<l.length;++y){let F=l[y];if(ae(F,Uint8Array))$+F.length>A.length?(a.isBuffer(F)||(F=a.from(F)),F.copy(A,$)):Uint8Array.prototype.set.call(A,F,$);else if(a.isBuffer(F))F.copy(A,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=F.length}return A};function I(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ae(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const d=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return N(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(p).length;default:if(A)return y?-1:N(p).length;l=(""+l).toLowerCase(),A=!0}}a.byteLength=I;function P(p,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return R(this,l,d);case"utf8":case"utf-8":return w(this,l,d);case"ascii":return O(this,l,d);case"latin1":case"binary":return B(this,l,d);case"base64":return j(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function z(p,l,d){const y=p[l];p[l]=p[d],p[d]=y}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)z(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)z(this,d,d+3),z(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)z(this,d,d+7),z(this,d+1,d+6),z(this,d+2,d+5),z(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?w(this,0,l):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,y,A,$){if(ae(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),A===void 0&&(A=0),$===void 0&&($=this.length),d<0||y>l.length||A<0||$>this.length)throw new RangeError("out of range index");if(A>=$&&d>=y)return 0;if(A>=$)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,A>>>=0,$>>>=0,this===l)return 0;let F=$-A,ce=y-d;const ve=Math.min(F,ce),me=this.slice(A,$),Ne=l.slice(d,y);for(let de=0;de<ve;++de)if(me[de]!==Ne[de]){F=me[de],ce=Ne[de];break}return F<ce?-1:ce<F?1:0};function W(p,l,d,y,A){if(p.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Be(d)&&(d=A?0:p.length-1),d<0&&(d=p.length+d),d>=p.length){if(A)return-1;d=p.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,y)),a.isBuffer(l))return l.length===0?-1:L(p,l,d,y,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,d):Uint8Array.prototype.lastIndexOf.call(p,l,d):L(p,[l],d,y,A);throw new TypeError("val must be string, number or Buffer")}function L(p,l,d,y,A){let $=1,F=p.length,ce=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||l.length<2)return-1;$=2,F/=2,ce/=2,d/=2}function ve(Ne,de){return $===1?Ne[de]:Ne.readUInt16BE(de*$)}let me;if(A){let Ne=-1;for(me=d;me<F;me++)if(ve(p,me)===ve(l,Ne===-1?0:me-Ne)){if(Ne===-1&&(Ne=me),me-Ne+1===ce)return Ne*$}else Ne!==-1&&(me-=me-Ne),Ne=-1}else for(d+ce>F&&(d=F-ce),me=d;me>=0;me--){let Ne=!0;for(let de=0;de<ce;de++)if(ve(p,me+de)!==ve(l,de)){Ne=!1;break}if(Ne)return me}return-1}a.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},a.prototype.indexOf=function(l,d,y){return W(this,l,d,y,!0)},a.prototype.lastIndexOf=function(l,d,y){return W(this,l,d,y,!1)};function V(p,l,d,y){d=Number(d)||0;const A=p.length-d;y?(y=Number(y),y>A&&(y=A)):y=A;const $=l.length;y>$/2&&(y=$/2);let F;for(F=0;F<y;++F){const ce=parseInt(l.substr(F*2,2),16);if(Be(ce))return F;p[d+F]=ce}return F}function q(p,l,d,y){return ie(N(l,p.length-d),p,d,y)}function X(p,l,d,y){return ie(D(l),p,d,y)}function Y(p,l,d,y){return ie(J(l),p,d,y)}function ee(p,l,d,y){return ie(G(l,p.length-d),p,d,y)}a.prototype.write=function(l,d,y,A){if(d===void 0)A="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")A=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,A===void 0&&(A="utf8")):(A=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-d;if((y===void 0||y>$)&&(y=$),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return V(this,l,d,y);case"utf8":case"utf-8":return q(this,l,d,y);case"ascii":case"latin1":case"binary":return X(this,l,d,y);case"base64":return Y(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,l,d,y);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(p,l,d){return l===0&&d===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,d))}function w(p,l,d){d=Math.min(p.length,d);const y=[];let A=l;for(;A<d;){const $=p[A];let F=null,ce=$>239?4:$>223?3:$>191?2:1;if(A+ce<=d){let ve,me,Ne,de;switch(ce){case 1:$<128&&(F=$);break;case 2:ve=p[A+1],(ve&192)===128&&(de=($&31)<<6|ve&63,de>127&&(F=de));break;case 3:ve=p[A+1],me=p[A+2],(ve&192)===128&&(me&192)===128&&(de=($&15)<<12|(ve&63)<<6|me&63,de>2047&&(de<55296||de>57343)&&(F=de));break;case 4:ve=p[A+1],me=p[A+2],Ne=p[A+3],(ve&192)===128&&(me&192)===128&&(Ne&192)===128&&(de=($&15)<<18|(ve&63)<<12|(me&63)<<6|Ne&63,de>65535&&de<1114112&&(F=de))}}F===null?(F=65533,ce=1):F>65535&&(F-=65536,y.push(F>>>10&1023|55296),F=56320|F&1023),y.push(F),A+=ce}return v(y)}const b=4096;function v(p){const l=p.length;if(l<=b)return String.fromCharCode.apply(String,p);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,p.slice(y,y+=b));return d}function O(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]&127);return y}function B(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]);return y}function R(p,l,d){const y=p.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let A="";for(let $=l;$<d;++$)A+=Ge[p[$]];return A}function M(p,l,d){const y=p.slice(l,d);let A="";for(let $=0;$<y.length-1;$+=2)A+=String.fromCharCode(y[$]+y[$+1]*256);return A}a.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const A=this.subarray(l,d);return Object.setPrototypeOf(A,a.prototype),A};function k(p,l,d){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l+--d],$=1;for(;d>0&&($*=256);)A+=this[l+--d]*$;return A},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,$=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(A)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],$=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(A)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return $*=128,A>=$&&(A-=Math.pow(2,8*d)),A},a.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=d,$=1,F=this[l+--A];for(;A>0&&($*=256);)F+=this[l+--A]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*d)),F},a.prototype.readInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(A)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!1,52,8)};function E(p,l,d,y,A,$){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<$)throw new RangeError('"value" argument is out of bounds');if(d+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const ce=Math.pow(2,8*y)-1;E(this,l,d,y,ce,0)}let $=1,F=0;for(this[d]=l&255;++F<y&&($*=256);)this[d+F]=l/$&255;return d+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const ce=Math.pow(2,8*y)-1;E(this,l,d,y,ce,0)}let $=y-1,F=1;for(this[d+$]=l&255;--$>=0&&(F*=256);)this[d+$]=l/F&255;return d+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function U(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,d}function Q(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d+7]=$,$=$>>8,p[d+6]=$,$=$>>8,p[d+5]=$,$=$>>8,p[d+4]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d+3]=F,F=F>>8,p[d+2]=F,F=F>>8,p[d+1]=F,F=F>>8,p[d]=F,d+8}a.prototype.writeBigUInt64LE=Ye(function(l,d=0){return U(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(l,d=0){return Q(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=0,F=1,ce=0;for(this[d]=l&255;++$<y&&(F*=256);)l<0&&ce===0&&this[d+$-1]!==0&&(ce=1),this[d+$]=(l/F>>0)-ce&255;return d+y},a.prototype.writeIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=y-1,F=1,ce=0;for(this[d+$]=l&255;--$>=0&&(F*=256);)l<0&&ce===0&&this[d+$+1]!==0&&(ce=1),this[d+$]=(l/F>>0)-ce&255;return d+y},a.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ye(function(l,d=0){return U(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(l,d=0){return Q(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(p,l,d,y,A,$){if(d+y>p.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function se(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,4),n.write(p,l,d,y,23,4),d+4}a.prototype.writeFloatLE=function(l,d,y){return se(this,l,d,!0,y)},a.prototype.writeFloatBE=function(l,d,y){return se(this,l,d,!1,y)};function fe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,8),n.write(p,l,d,y,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,y){return fe(this,l,d,!0,y)},a.prototype.writeDoubleBE=function(l,d,y){return fe(this,l,d,!1,y)},a.prototype.copy=function(l,d,y,A){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!A&&A!==0&&(A=this.length),d>=l.length&&(d=l.length),d||(d=0),A>0&&A<y&&(A=y),A===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-d<A-y&&(A=l.length-d+y);const $=A-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,A):Uint8Array.prototype.set.call(l,this.subarray(y,A),d),$},a.prototype.fill=function(l,d,y,A){if(typeof l=="string"){if(typeof d=="string"?(A=d,d=0,y=this.length):typeof y=="string"&&(A=y,y=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){const F=l.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(l=F)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let $;if(typeof l=="number")for($=d;$<y;++$)this[$]=l;else{const F=a.isBuffer(l)?l:a.from(l,A),ce=F.length;if(ce===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for($=0;$<y-d;++$)this[$+d]=F[$%ce]}return this};const le={};function ge(p,l,d){le[p]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),ge("ERR_OUT_OF_RANGE",function(p,l,d){let y=`The value of "${p}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=et(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=et(A)),A+="n"),y+=` It must be ${l}. Received ${A}`,y},RangeError);function et(p){let l="",d=p.length;const y=p[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${p.slice(d-3,d)}${l}`;return`${p.slice(0,d)}${l}`}function qe(p,l,d){je(l,"offset"),(p[l]===void 0||p[l+d]===void 0)&&De(l,p.length-(d+1))}function ke(p,l,d,y,A,$){if(p>d||p<l){const F=typeof l=="bigint"?"n":"";let ce;throw l===0||l===BigInt(0)?ce=`>= 0${F} and < 2${F} ** ${($+1)*8}${F}`:ce=`>= -(2${F} ** ${($+1)*8-1}${F}) and < 2 ** ${($+1)*8-1}${F}`,new le.ERR_OUT_OF_RANGE("value",ce,p)}qe(y,A,$)}function je(p,l){if(typeof p!="number")throw new le.ERR_INVALID_ARG_TYPE(l,"number",p)}function De(p,l,d){throw Math.floor(p)!==p?(je(p,d),new le.ERR_OUT_OF_RANGE("offset","an integer",p)):l<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,p)}const it=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace(it,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function N(p,l){l=l||1/0;let d;const y=p.length;let A=null;const $=[];for(let F=0;F<y;++F){if(d=p.charCodeAt(F),d>55295&&d<57344){if(!A){if(d>56319){(l-=3)>-1&&$.push(239,191,189);continue}else if(F+1===y){(l-=3)>-1&&$.push(239,191,189);continue}A=d;continue}if(d<56320){(l-=3)>-1&&$.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(l-=3)>-1&&$.push(239,191,189);if(A=null,d<128){if((l-=1)<0)break;$.push(d)}else if(d<2048){if((l-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function D(p){const l=[];for(let d=0;d<p.length;++d)l.push(p.charCodeAt(d)&255);return l}function G(p,l){let d,y,A;const $=[];for(let F=0;F<p.length&&!((l-=2)<0);++F)d=p.charCodeAt(F),y=d>>8,A=d%256,$.push(A),$.push(y);return $}function J(p){return e.toByteArray(K(p))}function ie(p,l,d,y){let A;for(A=0;A<y&&!(A+d>=l.length||A>=p.length);++A)l[A+d]=p[A];return A}function ae(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Be(p){return p!==p}const Ge=function(){const p="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let A=0;A<16;++A)l[y+A]=p[d]+p[A]}return l}();function Ye(p){return typeof BigInt>"u"?at:p}function at(){throw new Error("BigInt not supported")}})($D);Object.defineProperty(re,"__esModule",{value:!0});re.s16=re.s8=re.nu64be=re.u48be=re.u40be=re.u32be=re.u24be=re.u16be=jr=re.nu64=re.u48=re.u40=Qe=re.u32=re.u24=Ps=re.u16=Lt=re.u8=jl=re.offset=re.greedy=re.Constant=re.UTF8=re.CString=re.Blob=re.Boolean=re.BitField=re.BitStructure=re.VariantLayout=re.Union=re.UnionLayoutDiscriminator=re.UnionDiscriminator=re.Structure=re.Sequence=re.DoubleBE=re.Double=re.FloatBE=re.Float=re.NearInt64BE=re.NearInt64=re.NearUInt64BE=re.NearUInt64=re.IntBE=re.Int=re.UIntBE=re.UInt=re.OffsetLayout=re.GreedyCount=re.ExternalLayout=re.bindConstructorLayout=re.nameWithProperty=re.Layout=re.uint8ArrayToBuffer=re.checkUint8Array=void 0;re.constant=re.utf8=re.cstr=gn=re.blob=re.unionLayoutDiscriminator=re.union=ui=re.seq=re.bits=We=re.struct=re.f64be=re.f64=re.f32be=re.f32=re.ns64be=re.s48be=re.s40be=re.s32be=re.s24be=re.s16be=ss=re.ns64=re.s48=re.s40=re.s32=re.s24=void 0;const sA=$D;function Hh(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}re.checkUint8Array=Hh;function Mt(t){return Hh(t),sA.Buffer.from(t.buffer,t.byteOffset,t.length)}re.uint8ArrayToBuffer=Mt;class Vt{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}re.Layout=Vt;function oA(t,e){return e.property?t+"["+e.property+"]":t}re.nameWithProperty=oA;function Bie(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Vt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}re.bindConstructorLayout=Bie;class zi extends Vt{isCount(){throw new Error("ExternalLayout is abstract")}}re.ExternalLayout=zi;class MD extends zi{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){Hh(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}re.GreedyCount=MD;class aA extends zi{constructor(e,n=0,r){if(!(e instanceof Vt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof qs||this.layout instanceof yo}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}re.OffsetLayout=aA;class qs extends Vt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Mt(e).readUIntLE(n,this.span)}encode(e,n,r=0){return Mt(n).writeUIntLE(e,r,this.span),this.span}}re.UInt=qs;class yo extends Vt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Mt(e).readUIntBE(n,this.span)}encode(e,n,r=0){return Mt(n).writeUIntBE(e,r,this.span),this.span}}re.UIntBE=yo;class _u extends Vt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Mt(e).readIntLE(n,this.span)}encode(e,n,r=0){return Mt(n).writeIntLE(e,r,this.span),this.span}}re.Int=_u;class qh extends Vt{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return Mt(e).readIntBE(n,this.span)}encode(e,n,r=0){return Mt(n).writeIntBE(e,r,this.span),this.span}}re.IntBE=qh;const W_=Math.pow(2,32);function pw(t){const e=Math.floor(t/W_),n=t-e*W_;return{hi32:e,lo32:n}}function gw(t,e){return t*W_+e}class UD extends Vt{constructor(e){super(8,e)}decode(e,n=0){const r=Mt(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return gw(s,i)}encode(e,n,r=0){const i=pw(e),s=Mt(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}re.NearUInt64=UD;class LD extends Vt{constructor(e){super(8,e)}decode(e,n=0){const r=Mt(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return gw(i,s)}encode(e,n,r=0){const i=pw(e),s=Mt(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}re.NearUInt64BE=LD;class zD extends Vt{constructor(e){super(8,e)}decode(e,n=0){const r=Mt(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return gw(s,i)}encode(e,n,r=0){const i=pw(e),s=Mt(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}re.NearInt64=zD;class FD extends Vt{constructor(e){super(8,e)}decode(e,n=0){const r=Mt(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return gw(i,s)}encode(e,n,r=0){const i=pw(e),s=Mt(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}re.NearInt64BE=FD;class jD extends Vt{constructor(e){super(4,e)}decode(e,n=0){return Mt(e).readFloatLE(n)}encode(e,n,r=0){return Mt(n).writeFloatLE(e,r),4}}re.Float=jD;class HD extends Vt{constructor(e){super(4,e)}decode(e,n=0){return Mt(e).readFloatBE(n)}encode(e,n,r=0){return Mt(n).writeFloatBE(e,r),4}}re.FloatBE=HD;class qD extends Vt{constructor(e){super(8,e)}decode(e,n=0){return Mt(e).readDoubleLE(n)}encode(e,n,r=0){return Mt(n).writeDoubleLE(e,r),8}}re.Double=qD;class VD extends Vt{constructor(e){super(8,e)}decode(e,n=0){return Mt(e).readDoubleBE(n)}encode(e,n,r=0){return Mt(n).writeDoubleBE(e,r),8}}re.DoubleBE=VD;class WD extends Vt{constructor(e,n,r){if(!(e instanceof Vt))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof zi&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof zi)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof zi&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof zi&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof zi&&this.count.encode(e.length,n,r),s}}re.Sequence=WD;class KD extends Vt{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Vt,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){Hh(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,n,r),0>c&&(c=a.getSpan(n,r)))}s=r,r+=c}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}re.Structure=KD;class cA{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}re.UnionDiscriminator=cA;class Qy extends cA{constructor(e,n){if(!(e instanceof zi&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}re.UnionLayoutDiscriminator=Qy;class lA extends Vt{constructor(e,n,r){let i;if(e instanceof qs||e instanceof yo)i=new Qy(new aA(e));else if(e instanceof zi&&e.isCount())i=new Qy(e);else if(e instanceof cA)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Vt))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof qs||e instanceof yo)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof qs||e instanceof yo,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+c)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new GD(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}re.Union=lA;class GD extends Vt{constructor(e,n,r,i){if(!(e instanceof lA))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Vt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}re.VariantLayout=GD;function gd(t){return 0>t&&(t+=4294967296),t}class uA extends Vt{constructor(e,n,r){if(!(e instanceof qs||e instanceof yo))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=gd(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new dA(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new YD(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}re.BitStructure=uA;class dA{constructor(e,n,r){if(!(e instanceof uA))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=gd(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return gd(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==gd(e&this.valueMask))throw new TypeError(oA("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=gd(e<<this.start);this.container._packedSetValue(gd(n&~this.wordMask)|r)}}re.BitField=dA;let YD=class extends dA{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};re.Boolean=YD;let ZD=class extends Vt{constructor(e,n){if(!(e instanceof zi&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof zi||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),Mt(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof zi&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(oA("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=Mt(e);return Mt(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof zi&&this.length.encode(i,n,r),i}};re.Blob=ZD;class XD extends Vt{constructor(e){super(-1,e)}getSpan(e,n=0){Hh(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return Mt(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=sA.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=Mt(n);return i.copy(o,r),o[r+s]=0,s+1}}re.CString=XD;class QD extends Vt{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return Hh(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Mt(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=sA.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(Mt(n),r),s}}re.UTF8=QD;class JD extends Vt{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}re.Constant=JD;re.greedy=(t,e)=>new MD(t,e);var jl=re.offset=(t,e,n)=>new aA(t,e,n),Lt=re.u8=t=>new qs(1,t),Ps=re.u16=t=>new qs(2,t);re.u24=t=>new qs(3,t);var Qe=re.u32=t=>new qs(4,t);re.u40=t=>new qs(5,t);re.u48=t=>new qs(6,t);var jr=re.nu64=t=>new UD(t);re.u16be=t=>new yo(2,t);re.u24be=t=>new yo(3,t);re.u32be=t=>new yo(4,t);re.u40be=t=>new yo(5,t);re.u48be=t=>new yo(6,t);re.nu64be=t=>new LD(t);re.s8=t=>new _u(1,t);re.s16=t=>new _u(2,t);re.s24=t=>new _u(3,t);re.s32=t=>new _u(4,t);re.s40=t=>new _u(5,t);re.s48=t=>new _u(6,t);var ss=re.ns64=t=>new zD(t);re.s16be=t=>new qh(2,t);re.s24be=t=>new qh(3,t);re.s32be=t=>new qh(4,t);re.s40be=t=>new qh(5,t);re.s48be=t=>new qh(6,t);re.ns64be=t=>new FD(t);re.f32=t=>new jD(t);re.f32be=t=>new HD(t);re.f64=t=>new qD(t);re.f64be=t=>new VD(t);var We=re.struct=(t,e,n)=>new KD(t,e,n);re.bits=(t,e,n)=>new uA(t,e,n);var ui=re.seq=(t,e,n)=>new WD(t,e,n);re.union=(t,e,n)=>new lA(t,e,n);re.unionLayoutDiscriminator=(t,e)=>new Qy(t,e);var gn=re.blob=(t,e)=>new ZD(t,e);re.cstr=t=>new XD(t);re.utf8=(t,e)=>new QD(t,e);re.constant=(t,e)=>new JD(t,e);var Die=8078e3,Pie=8078001,$ie=8078004,Mie=8078005,Uie=8078006,Lie=8078011;function eP(t){return Array.isArray(t)?"%5B"+t.map(eP).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function zie([t,e]){return`${t}=${eP(e)}`}function Fie(t){const e=Object.entries(t).map(zie).join("&");return btoa(e)}function jie(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Fie(e)}'`),`${n}\``}}var Hd=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=jie(e,r);super(s,i);sr(this,"cause",this.cause);sr(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function Hie(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function qie(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(Hie(e,t));return t.write(e,n,0),n}})}function Vie(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function od(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function Wie(t,e){if(od(t)!==od(e))throw new Hd($ie);if(od(t)&&od(e)&&t.fixedSize!==e.fixedSize)throw new Hd(Mie,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!od(t)&&!od(e)&&t.maxSize!==e.maxSize)throw new Hd(Uie,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function Kie(t,e,n=0){if(e.length-n<=0)throw new Hd(Die,{codecDescription:t})}function Gie(t,e,n,r=0){const i=n.length-r;if(i<e)throw new Hd(Pie,{bytesLength:i,codecDescription:t,expected:e})}function Yie(t,e,n,r){if(r<e||r>n)throw new Hd(Lie,{codecDescription:t,max:n,min:e,value:r})}function tP(t){return t?.endian!==1}function Zie(t){return qie({fixedSize:t.size,write(e,n,r){t.range&&Yie(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,tP(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function Xie(t){return Vie({fixedSize:t.size,read(e,n=0){Kie(t.name,e,n),Gie(t.name,t.size,e,n);const r=new DataView(Qie(e,n,t.size));return[t.get(r,tP(t.config)),n+t.size]}})}function Qie(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var Jie=(t={})=>Zie({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),ese=(t={})=>Xie({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),tse=(t={})=>Wie(Jie(t),ese(t));class nse extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function rse(t){return ym(t)&&typeof t[Symbol.iterator]=="function"}function ym(t){return typeof t=="object"&&t!=null}function Jy(t){return ym(t)&&!Array.isArray(t)}function Eo(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function ise(t){const{done:e,value:n}=t.next();return e?void 0:n}function sse(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Eo(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*UR(t,e,n,r){rse(t)||(t=[t]);for(const i of t){const s=sse(i,e,n,r);s&&(yield s)}}function*hA(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,h,f]of e.entries(t,a)){const g=hA(h,f,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,h],coerce:s,mask:o,message:n.message});for(const m of g)m[0]?(c=m[0].refinement!=null?"not_refined":"not_valid",yield[m[0],void 0]):s&&(h=m[1],u===void 0?t=h:t instanceof Map?t.set(u,h):t instanceof Set?t.add(h):ym(t)&&(h!==void 0||u in t)&&(t[u]=h))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}let Jo=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const h=i(c,u);return UR(h,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const h=s(c,u);return UR(h,u,this,c)}:this.refiner=()=>[]}assert(e,n){return ose(e,this,n)}create(e,n){return Ce(e,this,n)}is(e){return nP(e,this)}mask(e,n){return ase(e,this,n)}validate(e,n={}){return bm(e,this,n)}};function ose(t,e,n){const r=bm(t,e,{message:n});if(r[0])throw r[0]}function Ce(t,e,n){const r=bm(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function ase(t,e,n){const r=bm(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function nP(t,e){return!bm(t,e)[0]}function bm(t,e,n={}){const r=hA(t,e,n),i=ise(r);return i[0]?[new nse(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function xu(t,e){return new Jo({type:t,schema:null,validator:e})}function cse(){return xu("any",()=>!0)}function Ie(t){return new Jo({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Eo(e)}`}})}function Yo(){return xu("boolean",t=>typeof t=="boolean")}function fA(t){return xu("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Eo(e)}`)}function On(t){const e=Eo(t),n=typeof t;return new Jo({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Eo(r)}`}})}function lse(){return xu("never",()=>!1)}function Re(t){return new Jo({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function ne(){return xu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Eo(t)}`)}function Je(t){return new Jo({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function rP(t,e){return new Jo({type:"record",schema:null,*entries(n){if(ym(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Jy(n)||`Expected an object, but received: ${Eo(n)}`},coercer(n){return Jy(n)?{...n}:n}})}function _e(){return xu("string",t=>typeof t=="string"||`Expected a string, but received: ${Eo(t)}`)}function pA(t){const e=lse();return new Jo({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Eo(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function he(t){const e=Object.keys(t);return new Jo({type:"type",schema:t,*entries(n){if(ym(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Jy(n)||`Expected an object, but received: ${Eo(n)}`},coercer(n){return Jy(n)?{...n}:n}})}function Ci(t){const e=t.map(n=>n.type).join(" | ");return new Jo({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=hA(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Eo(n)}`,...i]}})}function Vh(){return xu("unknown",()=>!0)}function wm(t,e,n){return new Jo({...t,coercer:(r,i)=>nP(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var x0,use=new Uint8Array(16);function iP(){if(!x0&&(x0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x0(use)}const dse=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mw(t){return typeof t=="string"&&dse.test(t)}var zr=[];for(var N1=0;N1<256;++N1)zr.push((N1+256).toString(16).substr(1));function yw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(zr[t[e+0]]+zr[t[e+1]]+zr[t[e+2]]+zr[t[e+3]]+"-"+zr[t[e+4]]+zr[t[e+5]]+"-"+zr[t[e+6]]+zr[t[e+7]]+"-"+zr[t[e+8]]+zr[t[e+9]]+"-"+zr[t[e+10]]+zr[t[e+11]]+zr[t[e+12]]+zr[t[e+13]]+zr[t[e+14]]+zr[t[e+15]]).toLowerCase();if(!mw(n))throw TypeError("Stringified UUID is invalid");return n}var LR,O1,B1=0,D1=0;function hse(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||LR,o=t.clockseq!==void 0?t.clockseq:O1;if(s==null||o==null){var a=t.random||(t.rng||iP)();s==null&&(s=LR=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=O1=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:D1+1,h=c-B1+(u-D1)/1e4;if(h<0&&t.clockseq===void 0&&(o=o+1&16383),(h<0||c>B1)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");B1=c,D1=u,O1=o,c+=122192928e5;var f=((c&268435455)*1e4+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var g=c/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=g&255,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var m=0;m<6;++m)i[r+m]=s[m];return e||yw(i)}function sP(t){if(!mw(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function fse(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var pse="6ba7b810-9dad-11d1-80b4-00c04fd430c8",gse="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function oP(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=fse(i)),typeof s=="string"&&(s=sP(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return yw(c)}try{r.name=t}catch{}return r.DNS=pse,r.URL=gse,r}function mse(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return yse(bse(wse(t),t.length*8))}function yse(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function aP(t){return(t+64>>>9<<4)+14+1}function bse(t,e){t[e>>5]|=128<<e%32,t[aP(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,c=r,u=i,h=s;n=ii(n,r,i,s,t[o],7,-680876936),s=ii(s,n,r,i,t[o+1],12,-389564586),i=ii(i,s,n,r,t[o+2],17,606105819),r=ii(r,i,s,n,t[o+3],22,-1044525330),n=ii(n,r,i,s,t[o+4],7,-176418897),s=ii(s,n,r,i,t[o+5],12,1200080426),i=ii(i,s,n,r,t[o+6],17,-1473231341),r=ii(r,i,s,n,t[o+7],22,-45705983),n=ii(n,r,i,s,t[o+8],7,1770035416),s=ii(s,n,r,i,t[o+9],12,-1958414417),i=ii(i,s,n,r,t[o+10],17,-42063),r=ii(r,i,s,n,t[o+11],22,-1990404162),n=ii(n,r,i,s,t[o+12],7,1804603682),s=ii(s,n,r,i,t[o+13],12,-40341101),i=ii(i,s,n,r,t[o+14],17,-1502002290),r=ii(r,i,s,n,t[o+15],22,1236535329),n=si(n,r,i,s,t[o+1],5,-165796510),s=si(s,n,r,i,t[o+6],9,-1069501632),i=si(i,s,n,r,t[o+11],14,643717713),r=si(r,i,s,n,t[o],20,-373897302),n=si(n,r,i,s,t[o+5],5,-701558691),s=si(s,n,r,i,t[o+10],9,38016083),i=si(i,s,n,r,t[o+15],14,-660478335),r=si(r,i,s,n,t[o+4],20,-405537848),n=si(n,r,i,s,t[o+9],5,568446438),s=si(s,n,r,i,t[o+14],9,-1019803690),i=si(i,s,n,r,t[o+3],14,-187363961),r=si(r,i,s,n,t[o+8],20,1163531501),n=si(n,r,i,s,t[o+13],5,-1444681467),s=si(s,n,r,i,t[o+2],9,-51403784),i=si(i,s,n,r,t[o+7],14,1735328473),r=si(r,i,s,n,t[o+12],20,-1926607734),n=oi(n,r,i,s,t[o+5],4,-378558),s=oi(s,n,r,i,t[o+8],11,-2022574463),i=oi(i,s,n,r,t[o+11],16,1839030562),r=oi(r,i,s,n,t[o+14],23,-35309556),n=oi(n,r,i,s,t[o+1],4,-1530992060),s=oi(s,n,r,i,t[o+4],11,1272893353),i=oi(i,s,n,r,t[o+7],16,-155497632),r=oi(r,i,s,n,t[o+10],23,-1094730640),n=oi(n,r,i,s,t[o+13],4,681279174),s=oi(s,n,r,i,t[o],11,-358537222),i=oi(i,s,n,r,t[o+3],16,-722521979),r=oi(r,i,s,n,t[o+6],23,76029189),n=oi(n,r,i,s,t[o+9],4,-640364487),s=oi(s,n,r,i,t[o+12],11,-421815835),i=oi(i,s,n,r,t[o+15],16,530742520),r=oi(r,i,s,n,t[o+2],23,-995338651),n=ai(n,r,i,s,t[o],6,-198630844),s=ai(s,n,r,i,t[o+7],10,1126891415),i=ai(i,s,n,r,t[o+14],15,-1416354905),r=ai(r,i,s,n,t[o+5],21,-57434055),n=ai(n,r,i,s,t[o+12],6,1700485571),s=ai(s,n,r,i,t[o+3],10,-1894986606),i=ai(i,s,n,r,t[o+10],15,-1051523),r=ai(r,i,s,n,t[o+1],21,-2054922799),n=ai(n,r,i,s,t[o+8],6,1873313359),s=ai(s,n,r,i,t[o+15],10,-30611744),i=ai(i,s,n,r,t[o+6],15,-1560198380),r=ai(r,i,s,n,t[o+13],21,1309151649),n=ai(n,r,i,s,t[o+4],6,-145523070),s=ai(s,n,r,i,t[o+11],10,-1120210379),i=ai(i,s,n,r,t[o+2],15,718787259),r=ai(r,i,s,n,t[o+9],21,-343485551),n=Ac(n,a),r=Ac(r,c),i=Ac(i,u),s=Ac(s,h)}return[n,r,i,s]}function wse(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(aP(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Ac(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function vse(t,e){return t<<e|t>>>32-e}function bw(t,e,n,r,i,s){return Ac(vse(Ac(Ac(e,t),Ac(r,s)),i),n)}function ii(t,e,n,r,i,s,o){return bw(e&n|~e&r,t,e,i,s,o)}function si(t,e,n,r,i,s,o){return bw(e&r|n&~r,t,e,i,s,o)}function oi(t,e,n,r,i,s,o){return bw(e^n^r,t,e,i,s,o)}function ai(t,e,n,r,i,s,o){return bw(n^(e|~r),t,e,i,s,o)}var Ese=oP("v3",48,mse);function _se(t,e,n){t=t||{};var r=t.random||(t.rng||iP)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return yw(r)}function xse(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function P1(t,e){return t<<e|t>>>32-e}function Sse(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),h=0;h<16;++h)u[h]=t[c*64+h*4]<<24|t[c*64+h*4+1]<<16|t[c*64+h*4+2]<<8|t[c*64+h*4+3];a[c]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var g=new Uint32Array(80),m=0;m<16;++m)g[m]=a[f][m];for(var _=16;_<80;++_)g[_]=P1(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var x=n[0],T=n[1],S=n[2],C=n[3],I=n[4],P=0;P<80;++P){var z=Math.floor(P/20),W=P1(x,5)+xse(z,T,S,C)+I+e[z]+g[P]>>>0;I=C,C=S,S=P1(T,30)>>>0,T=x,x=W}n[0]=n[0]+x>>>0,n[1]=n[1]+T>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+C>>>0,n[4]=n[4]+I>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var Ase=oP("v5",80,Sse);const Cse="00000000-0000-0000-0000-000000000000";function Tse(t){if(!mw(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const Ise=Object.freeze(Object.defineProperty({__proto__:null,NIL:Cse,parse:sP,stringify:yw,v1:hse,v3:Ese,v4:_se,v5:Ase,validate:mw,version:Tse},Symbol.toStringTag,{value:"Module"})),cP=Wg(Ise),Rse=cP.v4,kse=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return Rse()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var Nse=kse;const Ose=cP.v4,Bse=Nse,wg=function(t,e){if(!(this instanceof wg))return new wg(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Ose()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var Dse=wg;wg.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=Bse(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(h){if(u)return r(h);throw h}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,h){i._parseResponse(u,h,r)}),s};wg.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};const Pse=Ks(Dse);var lP={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Eu,n=jh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,d){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(p)}return c(p,l,d)}a.poolSize=8192;function c(p,l,d){if(typeof p=="string")return g(p,l);if(ArrayBuffer.isView(p))return _(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ae(p,ArrayBuffer)||p&&ae(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(p,SharedArrayBuffer)||p&&ae(p.buffer,SharedArrayBuffer)))return x(p,l,d);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,l,d);const A=T(p);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,d){return c(p,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,l,d){return u(p),p<=0?o(p):l!==void 0?typeof d=="string"?o(p).fill(l,d):o(p).fill(l):o(p)}a.alloc=function(p,l,d){return h(p,l,d)};function f(p){return u(p),o(p<0?0:S(p)|0)}a.allocUnsafe=function(p){return f(p)},a.allocUnsafeSlow=function(p){return f(p)};function g(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=I(p,l)|0;let y=o(d);const A=y.write(p,l);return A!==d&&(y=y.slice(0,A)),y}function m(p){const l=p.length<0?0:S(p.length)|0,d=o(l);for(let y=0;y<l;y+=1)d[y]=p[y]&255;return d}function _(p){if(ae(p,Uint8Array)){const l=new Uint8Array(p);return x(l.buffer,l.byteOffset,l.byteLength)}return m(p)}function x(p,l,d){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let y;return l===void 0&&d===void 0?y=new Uint8Array(p):d===void 0?y=new Uint8Array(p,l):y=new Uint8Array(p,l,d),Object.setPrototypeOf(y,a.prototype),y}function T(p){if(a.isBuffer(p)){const l=S(p.length)|0,d=o(l);return d.length===0||p.copy(d,0,0,l),d}if(p.length!==void 0)return typeof p.length!="number"||Be(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function S(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function C(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ae(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ae(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let y=l.length,A=d.length;for(let $=0,F=Math.min(y,A);$<F;++$)if(l[$]!==d[$]){y=l[$],A=d[$];break}return y<A?-1:A<y?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let y;if(d===void 0)for(d=0,y=0;y<l.length;++y)d+=l[y].length;const A=a.allocUnsafe(d);let $=0;for(y=0;y<l.length;++y){let F=l[y];if(ae(F,Uint8Array))$+F.length>A.length?(a.isBuffer(F)||(F=a.from(F)),F.copy(A,$)):Uint8Array.prototype.set.call(A,F,$);else if(a.isBuffer(F))F.copy(A,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=F.length}return A};function I(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ae(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const d=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&d===0)return 0;let A=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return N(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return J(p).length;default:if(A)return y?-1:N(p).length;l=(""+l).toLowerCase(),A=!0}}a.byteLength=I;function P(p,l,d){let y=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return R(this,l,d);case"utf8":case"utf-8":return w(this,l,d);case"ascii":return O(this,l,d);case"latin1":case"binary":return B(this,l,d);case"base64":return j(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,l,d);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function z(p,l,d){const y=p[l];p[l]=p[d],p[d]=y}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)z(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)z(this,d,d+3),z(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)z(this,d,d+7),z(this,d+1,d+6),z(this,d+2,d+5),z(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?w(this,0,l):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,y,A,$){if(ae(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),y===void 0&&(y=l?l.length:0),A===void 0&&(A=0),$===void 0&&($=this.length),d<0||y>l.length||A<0||$>this.length)throw new RangeError("out of range index");if(A>=$&&d>=y)return 0;if(A>=$)return-1;if(d>=y)return 1;if(d>>>=0,y>>>=0,A>>>=0,$>>>=0,this===l)return 0;let F=$-A,ce=y-d;const ve=Math.min(F,ce),me=this.slice(A,$),Ne=l.slice(d,y);for(let de=0;de<ve;++de)if(me[de]!==Ne[de]){F=me[de],ce=Ne[de];break}return F<ce?-1:ce<F?1:0};function W(p,l,d,y,A){if(p.length===0)return-1;if(typeof d=="string"?(y=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,Be(d)&&(d=A?0:p.length-1),d<0&&(d=p.length+d),d>=p.length){if(A)return-1;d=p.length-1}else if(d<0)if(A)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,y)),a.isBuffer(l))return l.length===0?-1:L(p,l,d,y,A);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(p,l,d):Uint8Array.prototype.lastIndexOf.call(p,l,d):L(p,[l],d,y,A);throw new TypeError("val must be string, number or Buffer")}function L(p,l,d,y,A){let $=1,F=p.length,ce=l.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||l.length<2)return-1;$=2,F/=2,ce/=2,d/=2}function ve(Ne,de){return $===1?Ne[de]:Ne.readUInt16BE(de*$)}let me;if(A){let Ne=-1;for(me=d;me<F;me++)if(ve(p,me)===ve(l,Ne===-1?0:me-Ne)){if(Ne===-1&&(Ne=me),me-Ne+1===ce)return Ne*$}else Ne!==-1&&(me-=me-Ne),Ne=-1}else for(d+ce>F&&(d=F-ce),me=d;me>=0;me--){let Ne=!0;for(let de=0;de<ce;de++)if(ve(p,me+de)!==ve(l,de)){Ne=!1;break}if(Ne)return me}return-1}a.prototype.includes=function(l,d,y){return this.indexOf(l,d,y)!==-1},a.prototype.indexOf=function(l,d,y){return W(this,l,d,y,!0)},a.prototype.lastIndexOf=function(l,d,y){return W(this,l,d,y,!1)};function V(p,l,d,y){d=Number(d)||0;const A=p.length-d;y?(y=Number(y),y>A&&(y=A)):y=A;const $=l.length;y>$/2&&(y=$/2);let F;for(F=0;F<y;++F){const ce=parseInt(l.substr(F*2,2),16);if(Be(ce))return F;p[d+F]=ce}return F}function q(p,l,d,y){return ie(N(l,p.length-d),p,d,y)}function X(p,l,d,y){return ie(D(l),p,d,y)}function Y(p,l,d,y){return ie(J(l),p,d,y)}function ee(p,l,d,y){return ie(G(l,p.length-d),p,d,y)}a.prototype.write=function(l,d,y,A){if(d===void 0)A="utf8",y=this.length,d=0;else if(y===void 0&&typeof d=="string")A=d,y=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(y)?(y=y>>>0,A===void 0&&(A="utf8")):(A=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const $=this.length-d;if((y===void 0||y>$)&&(y=$),l.length>0&&(y<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let F=!1;for(;;)switch(A){case"hex":return V(this,l,d,y);case"utf8":case"utf-8":return q(this,l,d,y);case"ascii":case"latin1":case"binary":return X(this,l,d,y);case"base64":return Y(this,l,d,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,l,d,y);default:if(F)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),F=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(p,l,d){return l===0&&d===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,d))}function w(p,l,d){d=Math.min(p.length,d);const y=[];let A=l;for(;A<d;){const $=p[A];let F=null,ce=$>239?4:$>223?3:$>191?2:1;if(A+ce<=d){let ve,me,Ne,de;switch(ce){case 1:$<128&&(F=$);break;case 2:ve=p[A+1],(ve&192)===128&&(de=($&31)<<6|ve&63,de>127&&(F=de));break;case 3:ve=p[A+1],me=p[A+2],(ve&192)===128&&(me&192)===128&&(de=($&15)<<12|(ve&63)<<6|me&63,de>2047&&(de<55296||de>57343)&&(F=de));break;case 4:ve=p[A+1],me=p[A+2],Ne=p[A+3],(ve&192)===128&&(me&192)===128&&(Ne&192)===128&&(de=($&15)<<18|(ve&63)<<12|(me&63)<<6|Ne&63,de>65535&&de<1114112&&(F=de))}}F===null?(F=65533,ce=1):F>65535&&(F-=65536,y.push(F>>>10&1023|55296),F=56320|F&1023),y.push(F),A+=ce}return v(y)}const b=4096;function v(p){const l=p.length;if(l<=b)return String.fromCharCode.apply(String,p);let d="",y=0;for(;y<l;)d+=String.fromCharCode.apply(String,p.slice(y,y+=b));return d}function O(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]&127);return y}function B(p,l,d){let y="";d=Math.min(p.length,d);for(let A=l;A<d;++A)y+=String.fromCharCode(p[A]);return y}function R(p,l,d){const y=p.length;(!l||l<0)&&(l=0),(!d||d<0||d>y)&&(d=y);let A="";for(let $=l;$<d;++$)A+=Ge[p[$]];return A}function M(p,l,d){const y=p.slice(l,d);let A="";for(let $=0;$<y.length-1;$+=2)A+=String.fromCharCode(y[$]+y[$+1]*256);return A}a.prototype.slice=function(l,d){const y=this.length;l=~~l,d=d===void 0?y:~~d,l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),d<0?(d+=y,d<0&&(d=0)):d>y&&(d=y),d<l&&(d=l);const A=this.subarray(l,d);return Object.setPrototypeOf(A,a.prototype),A};function k(p,l,d){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l+--d],$=1;for(;d>0&&($*=256);)A+=this[l+--d]*$;return A},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||k(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,$=this[++l]+this[++l]*2**8+this[++l]*2**16+y*2**24;return BigInt(A)+(BigInt($)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],$=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y;return(BigInt(A)<<BigInt(32))+BigInt($)}),a.prototype.readIntLE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=this[l],$=1,F=0;for(;++F<d&&($*=256);)A+=this[l+F]*$;return $*=128,A>=$&&(A-=Math.pow(2,8*d)),A},a.prototype.readIntBE=function(l,d,y){l=l>>>0,d=d>>>0,y||k(l,d,this.length);let A=d,$=1,F=this[l+--A];for(;A>0&&($*=256);)F+=this[l+--A]*$;return $*=128,F>=$&&(F-=Math.pow(2,8*d)),F},a.prototype.readInt8=function(l,d){return l=l>>>0,d||k(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l]|this[l+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||k(l,2,this.length);const y=this[l+1]|this[l]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||k(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(y<<24);return(BigInt(A)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ye(function(l){l=l>>>0,je(l,"offset");const d=this[l],y=this[l+7];(d===void 0||y===void 0)&&De(l,this.length-8);const A=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(A)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+y)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||k(l,4,this.length),n.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||k(l,8,this.length),n.read(this,l,!1,52,8)};function E(p,l,d,y,A,$){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>A||l<$)throw new RangeError('"value" argument is out of bounds');if(d+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const ce=Math.pow(2,8*y)-1;E(this,l,d,y,ce,0)}let $=1,F=0;for(this[d]=l&255;++F<y&&($*=256);)this[d+F]=l/$&255;return d+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,y=y>>>0,!A){const ce=Math.pow(2,8*y)-1;E(this,l,d,y,ce,0)}let $=y-1,F=1;for(this[d+$]=l&255;--$>=0&&(F*=256);)this[d+$]=l/F&255;return d+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function U(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$,$=$>>8,p[d++]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,F=F>>8,p[d++]=F,d}function Q(p,l,d,y,A){ke(l,y,A,p,d,7);let $=Number(l&BigInt(4294967295));p[d+7]=$,$=$>>8,p[d+6]=$,$=$>>8,p[d+5]=$,$=$>>8,p[d+4]=$;let F=Number(l>>BigInt(32)&BigInt(4294967295));return p[d+3]=F,F=F>>8,p[d+2]=F,F=F>>8,p[d+1]=F,F=F>>8,p[d]=F,d+8}a.prototype.writeBigUInt64LE=Ye(function(l,d=0){return U(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ye(function(l,d=0){return Q(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=0,F=1,ce=0;for(this[d]=l&255;++$<y&&(F*=256);)l<0&&ce===0&&this[d+$-1]!==0&&(ce=1),this[d+$]=(l/F>>0)-ce&255;return d+y},a.prototype.writeIntBE=function(l,d,y,A){if(l=+l,d=d>>>0,!A){const ve=Math.pow(2,8*y-1);E(this,l,d,y,ve-1,-ve)}let $=y-1,F=1,ce=0;for(this[d+$]=l&255;--$>=0&&(F*=256);)l<0&&ce===0&&this[d+$+1]!==0&&(ce=1),this[d+$]=(l/F>>0)-ce&255;return d+y},a.prototype.writeInt8=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,y){return l=+l,d=d>>>0,y||E(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ye(function(l,d=0){return U(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ye(function(l,d=0){return Q(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(p,l,d,y,A,$){if(d+y>p.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function se(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,4),n.write(p,l,d,y,23,4),d+4}a.prototype.writeFloatLE=function(l,d,y){return se(this,l,d,!0,y)},a.prototype.writeFloatBE=function(l,d,y){return se(this,l,d,!1,y)};function fe(p,l,d,y,A){return l=+l,d=d>>>0,A||te(p,l,d,8),n.write(p,l,d,y,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,y){return fe(this,l,d,!0,y)},a.prototype.writeDoubleBE=function(l,d,y){return fe(this,l,d,!1,y)},a.prototype.copy=function(l,d,y,A){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(y||(y=0),!A&&A!==0&&(A=this.length),d>=l.length&&(d=l.length),d||(d=0),A>0&&A<y&&(A=y),A===y||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-d<A-y&&(A=l.length-d+y);const $=A-y;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,y,A):Uint8Array.prototype.set.call(l,this.subarray(y,A),d),$},a.prototype.fill=function(l,d,y,A){if(typeof l=="string"){if(typeof d=="string"?(A=d,d=0,y=this.length):typeof y=="string"&&(A=y,y=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){const F=l.charCodeAt(0);(A==="utf8"&&F<128||A==="latin1")&&(l=F)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<y)throw new RangeError("Out of range index");if(y<=d)return this;d=d>>>0,y=y===void 0?this.length:y>>>0,l||(l=0);let $;if(typeof l=="number")for($=d;$<y;++$)this[$]=l;else{const F=a.isBuffer(l)?l:a.from(l,A),ce=F.length;if(ce===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for($=0;$<y-d;++$)this[$+d]=F[$%ce]}return this};const le={};function ge(p,l,d){le[p]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),ge("ERR_OUT_OF_RANGE",function(p,l,d){let y=`The value of "${p}" is out of range.`,A=d;return Number.isInteger(d)&&Math.abs(d)>2**32?A=et(String(d)):typeof d=="bigint"&&(A=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(A=et(A)),A+="n"),y+=` It must be ${l}. Received ${A}`,y},RangeError);function et(p){let l="",d=p.length;const y=p[0]==="-"?1:0;for(;d>=y+4;d-=3)l=`_${p.slice(d-3,d)}${l}`;return`${p.slice(0,d)}${l}`}function qe(p,l,d){je(l,"offset"),(p[l]===void 0||p[l+d]===void 0)&&De(l,p.length-(d+1))}function ke(p,l,d,y,A,$){if(p>d||p<l){const F=typeof l=="bigint"?"n":"";let ce;throw l===0||l===BigInt(0)?ce=`>= 0${F} and < 2${F} ** ${($+1)*8}${F}`:ce=`>= -(2${F} ** ${($+1)*8-1}${F}) and < 2 ** ${($+1)*8-1}${F}`,new le.ERR_OUT_OF_RANGE("value",ce,p)}qe(y,A,$)}function je(p,l){if(typeof p!="number")throw new le.ERR_INVALID_ARG_TYPE(l,"number",p)}function De(p,l,d){throw Math.floor(p)!==p?(je(p,d),new le.ERR_OUT_OF_RANGE("offset","an integer",p)):l<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,p)}const it=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace(it,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function N(p,l){l=l||1/0;let d;const y=p.length;let A=null;const $=[];for(let F=0;F<y;++F){if(d=p.charCodeAt(F),d>55295&&d<57344){if(!A){if(d>56319){(l-=3)>-1&&$.push(239,191,189);continue}else if(F+1===y){(l-=3)>-1&&$.push(239,191,189);continue}A=d;continue}if(d<56320){(l-=3)>-1&&$.push(239,191,189),A=d;continue}d=(A-55296<<10|d-56320)+65536}else A&&(l-=3)>-1&&$.push(239,191,189);if(A=null,d<128){if((l-=1)<0)break;$.push(d)}else if(d<2048){if((l-=2)<0)break;$.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;$.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;$.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return $}function D(p){const l=[];for(let d=0;d<p.length;++d)l.push(p.charCodeAt(d)&255);return l}function G(p,l){let d,y,A;const $=[];for(let F=0;F<p.length&&!((l-=2)<0);++F)d=p.charCodeAt(F),y=d>>8,A=d%256,$.push(A),$.push(y);return $}function J(p){return e.toByteArray(K(p))}function ie(p,l,d,y){let A;for(A=0;A<y&&!(A+d>=l.length||A>=p.length);++A)l[A+d]=p[A];return A}function ae(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Be(p){return p!==p}const Ge=function(){const p="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const y=d*16;for(let A=0;A<16;++A)l[y+A]=p[d]+p[A]}return l}();function Ye(p){return typeof BigInt>"u"?at:p}function at(){throw new Error("BigInt not supported")}})(lP);var uP={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||c,g),_=n?n+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],m]:c._events[_].push(m):(c._events[_]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},a.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,m=f.length,_=new Array(m);g<m;g++)_[g]=f[g].fn;return _},a.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,h,f,g,m,_){var x=n?n+u:u;if(!this._events[x])return!1;var T=this._events[x],S=arguments.length,C,I;if(T.fn){switch(T.once&&this.removeListener(u,T.fn,void 0,!0),S){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,f),!0;case 4:return T.fn.call(T.context,h,f,g),!0;case 5:return T.fn.call(T.context,h,f,g,m),!0;case 6:return T.fn.call(T.context,h,f,g,m,_),!0}for(I=1,C=new Array(S-1);I<S;I++)C[I-1]=arguments[I];T.fn.apply(T.context,C)}else{var P=T.length,z;for(I=0;I<P;I++)switch(T[I].once&&this.removeListener(u,T[I].fn,void 0,!0),S){case 1:T[I].fn.call(T[I].context);break;case 2:T[I].fn.call(T[I].context,h);break;case 3:T[I].fn.call(T[I].context,h,f);break;case 4:T[I].fn.call(T[I].context,h,f,g);break;default:if(!C)for(z=1,C=new Array(S-1);z<S;z++)C[z-1]=arguments[z];T[I].fn.apply(T[I].context,C)}}return!0},a.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},a.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},a.prototype.removeListener=function(u,h,f,g){var m=n?n+u:u;if(!this._events[m])return this;if(!h)return o(this,m),this;var _=this._events[m];if(_.fn)_.fn===h&&(!g||_.once)&&(!f||_.context===f)&&o(this,m);else{for(var x=0,T=[],S=_.length;x<S;x++)(_[x].fn!==h||g&&!_[x].once||f&&_[x].context!==f)&&T.push(_[x]);T.length?this._events[m]=T.length===1?T[0]:T:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(uP);var $se=uP.exports;const dP=Ks($se);var Mse=class extends dP{constructor(e,n,r){super();sr(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,n,r){const i=r||n;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,n){this.socket.close(e,n)}addEventListener(e,n,r){this.socket.addEventListener(e,n,r)}};function Use(t,e){return new Mse(t,e)}var Lse=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},zse=class extends dP{constructor(e,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,u){super();sr(this,"address");sr(this,"rpc_id");sr(this,"queue");sr(this,"options");sr(this,"autoconnect");sr(this,"ready");sr(this,"reconnect");sr(this,"reconnect_timer_id");sr(this,"reconnect_interval");sr(this,"max_reconnects");sr(this,"rest_options");sr(this,"current_reconnects");sr(this,"generate_request_id");sr(this,"socket");sr(this,"webSocketFactory");sr(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new Lse,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,n,r,i){return!i&&typeof r=="object"&&(i=r,r=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,n),c={jsonrpc:"2.0",method:e,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return o(u);this.queue[a]={promise:[s,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const n=await this.call("rpc.login",e);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(e,n){return new Promise((r,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:n};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.on",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+n[e]);return n}async unsubscribe(e){typeof e=="string"&&(e=[e]);const n=await this.call("rpc.off",e);if(typeof e=="string"&&n[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(e,n){this.socket.close(e||1e3,n)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=lP.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const i=[r.notification];if(r.params.constructor===Object)i.push(r.params);else for(let s=0;s<r.params.length;s++)i.push(r.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r?.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",r,i),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,n),this.reconnect_interval)))})}};class hP extends $B{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,UJ(e);const r=zS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),ph(s)}update(e){return Py(this),this.iHash.update(e),this}digestInto(e){Py(this),hm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fP=(t,e,n)=>new hP(t,e).update(n).digest();fP.create=(t,e)=>new hP(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zR(t){t.lowS!==void 0&&kc("lowS",t.lowS),t.prehash!==void 0&&kc("prehash",t.prehash)}function Fse(t){const e=JS(t);dm(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class jse extends Error{constructor(e=""){super(e)}}const wa={Err:jse,_tlv:{encode:(t,e)=>{const{Err:n}=wa;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=u0(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?u0(i.length/2|128):"";return u0(t)+s+i+e},decode(t,e){const{Err:n}=wa;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of u)o=o<<8|h;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=wa;if(t<xa)throw new e("integer: negative integers are not allowed");let n=u0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=wa;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return zl(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=wa,i=er("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l:h}=r.decode(2,c);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=wa,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function $1(t,e){return hh(um(t,e))}const xa=BigInt(0),Ar=BigInt(1);BigInt(2);const M1=BigInt(3),Hse=BigInt(4);function qse(t){const e=Fse(t),{Fp:n}=e,r=mm(e.n,e.nBitLength),i=e.toBytes||((I,P,z)=>{const W=P.toAffine();return fh(Uint8Array.from([4]),n.toBytes(W.x),n.toBytes(W.y))}),s=e.fromBytes||(I=>{const P=I.subarray(1),z=n.fromBytes(P.subarray(0,n.BYTES)),W=n.fromBytes(P.subarray(n.BYTES,2*n.BYTES));return{x:z,y:W}});function o(I){const{a:P,b:z}=e,W=n.sqr(I),L=n.mul(W,I);return n.add(n.add(L,n.mul(I,P)),z)}function a(I,P){const z=n.sqr(P),W=o(I);return n.eql(z,W)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,M1),Hse),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function h(I){return LS(I,Ar,e.n)}function f(I){const{allowedPrivateKeyLengths:P,nByteLength:z,wrapPrivateKey:W,n:L}=e;if(P&&typeof I!="bigint"){if(lm(I)&&(I=hh(I)),typeof I!="string"||!P.includes(I.length))throw new Error("invalid private key");I=I.padStart(z*2,"0")}let V;try{V=typeof I=="bigint"?I:zl(er("private key",I,z))}catch{throw new Error("invalid private key, expected hex or "+z+" bytes, got "+typeof I)}return W&&(V=_n(V,L)),uo("private key",V,Ar,L),V}function g(I){if(!(I instanceof x))throw new Error("ProjectivePoint expected")}const m=Dy((I,P)=>{const{px:z,py:W,pz:L}=I;if(n.eql(L,n.ONE))return{x:z,y:W};const V=I.is0();P==null&&(P=V?n.ONE:n.inv(L));const q=n.mul(z,P),X=n.mul(W,P),Y=n.mul(L,P);if(V)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Y,n.ONE))throw new Error("invZ was invalid");return{x:q,y:X}}),_=Dy(I=>{if(I.is0()){if(e.allowInfinityPoint&&!n.is0(I.py))return;throw new Error("bad point: ZERO")}const{x:P,y:z}=I.toAffine();if(!n.isValid(P)||!n.isValid(z))throw new Error("bad point: x or y not FE");if(!a(P,z))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(P,z,W){if(P==null||!n.isValid(P))throw new Error("x required");if(z==null||!n.isValid(z)||n.is0(z))throw new Error("y required");if(W==null||!n.isValid(W))throw new Error("z required");this.px=P,this.py=z,this.pz=W,Object.freeze(this)}static fromAffine(P){const{x:z,y:W}=P||{};if(!P||!n.isValid(z)||!n.isValid(W))throw new Error("invalid affine point");if(P instanceof x)throw new Error("projective point not allowed");const L=V=>n.eql(V,n.ZERO);return L(z)&&L(W)?x.ZERO:new x(z,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){const z=QS(n,P.map(W=>W.pz));return P.map((W,L)=>W.toAffine(z[L])).map(x.fromAffine)}static fromHex(P){const z=x.fromAffine(s(er("pointHex",P)));return z.assertValidity(),z}static fromPrivateKey(P){return x.BASE.multiply(f(P))}static msm(P,z){return SD(x,r,P,z)}_setWindowSize(P){C.setWindowSize(this,P)}assertValidity(){_(this)}hasEvenY(){const{y:P}=this.toAffine();if(n.isOdd)return!n.isOdd(P);throw new Error("Field doesn't support isOdd")}equals(P){g(P);const{px:z,py:W,pz:L}=this,{px:V,py:q,pz:X}=P,Y=n.eql(n.mul(z,X),n.mul(V,L)),ee=n.eql(n.mul(W,X),n.mul(q,L));return Y&&ee}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:P,b:z}=e,W=n.mul(z,M1),{px:L,py:V,pz:q}=this;let X=n.ZERO,Y=n.ZERO,ee=n.ZERO,j=n.mul(L,L),w=n.mul(V,V),b=n.mul(q,q),v=n.mul(L,V);return v=n.add(v,v),ee=n.mul(L,q),ee=n.add(ee,ee),X=n.mul(P,ee),Y=n.mul(W,b),Y=n.add(X,Y),X=n.sub(w,Y),Y=n.add(w,Y),Y=n.mul(X,Y),X=n.mul(v,X),ee=n.mul(W,ee),b=n.mul(P,b),v=n.sub(j,b),v=n.mul(P,v),v=n.add(v,ee),ee=n.add(j,j),j=n.add(ee,j),j=n.add(j,b),j=n.mul(j,v),Y=n.add(Y,j),b=n.mul(V,q),b=n.add(b,b),j=n.mul(b,v),X=n.sub(X,j),ee=n.mul(b,w),ee=n.add(ee,ee),ee=n.add(ee,ee),new x(X,Y,ee)}add(P){g(P);const{px:z,py:W,pz:L}=this,{px:V,py:q,pz:X}=P;let Y=n.ZERO,ee=n.ZERO,j=n.ZERO;const w=e.a,b=n.mul(e.b,M1);let v=n.mul(z,V),O=n.mul(W,q),B=n.mul(L,X),R=n.add(z,W),M=n.add(V,q);R=n.mul(R,M),M=n.add(v,O),R=n.sub(R,M),M=n.add(z,L);let k=n.add(V,X);return M=n.mul(M,k),k=n.add(v,B),M=n.sub(M,k),k=n.add(W,L),Y=n.add(q,X),k=n.mul(k,Y),Y=n.add(O,B),k=n.sub(k,Y),j=n.mul(w,M),Y=n.mul(b,B),j=n.add(Y,j),Y=n.sub(O,j),j=n.add(O,j),ee=n.mul(Y,j),O=n.add(v,v),O=n.add(O,v),B=n.mul(w,B),M=n.mul(b,M),O=n.add(O,B),B=n.sub(v,B),B=n.mul(w,B),M=n.add(M,B),v=n.mul(O,M),ee=n.add(ee,v),v=n.mul(k,M),Y=n.mul(R,Y),Y=n.sub(Y,v),v=n.mul(R,O),j=n.mul(k,j),j=n.add(j,v),new x(Y,ee,j)}subtract(P){return this.add(P.negate())}is0(){return this.equals(x.ZERO)}wNAF(P){return C.wNAFCached(this,P,x.normalizeZ)}multiplyUnsafe(P){const{endo:z,n:W}=e;uo("scalar",P,xa,W);const L=x.ZERO;if(P===xa)return L;if(this.is0()||P===Ar)return this;if(!z||C.hasPrecomputes(this))return C.wNAFCachedUnsafe(this,P,x.normalizeZ);let{k1neg:V,k1:q,k2neg:X,k2:Y}=z.splitScalar(P),ee=L,j=L,w=this;for(;q>xa||Y>xa;)q&Ar&&(ee=ee.add(w)),Y&Ar&&(j=j.add(w)),w=w.double(),q>>=Ar,Y>>=Ar;return V&&(ee=ee.negate()),X&&(j=j.negate()),j=new x(n.mul(j.px,z.beta),j.py,j.pz),ee.add(j)}multiply(P){const{endo:z,n:W}=e;uo("scalar",P,Ar,W);let L,V;if(z){const{k1neg:q,k1:X,k2neg:Y,k2:ee}=z.splitScalar(P);let{p:j,f:w}=this.wNAF(X),{p:b,f:v}=this.wNAF(ee);j=C.constTimeNegate(q,j),b=C.constTimeNegate(Y,b),b=new x(n.mul(b.px,z.beta),b.py,b.pz),L=j.add(b),V=w.add(v)}else{const{p:q,f:X}=this.wNAF(P);L=q,V=X}return x.normalizeZ([L,V])[0]}multiplyAndAddUnsafe(P,z,W){const L=x.BASE,V=(X,Y)=>Y===xa||Y===Ar||!X.equals(L)?X.multiplyUnsafe(Y):X.multiply(Y),q=V(this,z).add(V(P,W));return q.is0()?void 0:q}toAffine(P){return m(this,P)}isTorsionFree(){const{h:P,isTorsionFree:z}=e;if(P===Ar)return!0;if(z)return z(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:P,clearCofactor:z}=e;return P===Ar?this:z?z(x,this):this.multiplyUnsafe(e.h)}toRawBytes(P=!0){return kc("isCompressed",P),this.assertValidity(),i(x,this,P)}toHex(P=!0){return kc("isCompressed",P),hh(this.toRawBytes(P))}}x.BASE=new x(e.Gx,e.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO);const{endo:T,nBitLength:S}=e,C=xD(x,T?Math.ceil(S/2):S);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:h}}function Vse(t){const e=JS(t);return dm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Wse(t){const e=Vse(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(b){return _n(b,r)}function u(b){return H_(b,r)}const{ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:g,isWithinCurveOrder:m}=qse({...e,toBytes(b,v,O){const B=v.toAffine(),R=n.toBytes(B.x),M=fh;return kc("isCompressed",O),O?M(Uint8Array.from([v.hasEvenY()?2:3]),R):M(Uint8Array.from([4]),R,n.toBytes(B.y))},fromBytes(b){const v=b.length,O=b[0],B=b.subarray(1);if(v===o&&(O===2||O===3)){const R=zl(B);if(!LS(R,Ar,n.ORDER))throw new Error("Point is not on curve");const M=g(R);let k;try{k=n.sqrt(M)}catch(Q){const te=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+te)}const E=(k&Ar)===Ar;return(O&1)===1!==E&&(k=n.neg(k)),{x:R,y:k}}else if(v===a&&O===4){const R=n.fromBytes(B.subarray(0,n.BYTES)),M=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:R,y:M}}else{const R=o,M=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+M+", got "+v)}}});function _(b){const v=r>>Ar;return b>v}function x(b){return _(b)?c(-b):b}const T=(b,v,O)=>zl(b.slice(v,O));class S{constructor(v,O,B){uo("r",v,Ar,r),uo("s",O,Ar,r),this.r=v,this.s=O,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(v){const O=i;return v=er("compactSignature",v,O*2),new S(T(v,0,O),T(v,O,2*O))}static fromDER(v){const{r:O,s:B}=wa.toSig(er("DER",v));return new S(O,B)}assertValidity(){}addRecoveryBit(v){return new S(this.r,this.s,v)}recoverPublicKey(v){const{r:O,s:B,recovery:R}=this,M=L(er("msgHash",v));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const k=R===2||R===3?O+e.n:O;if(k>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const E=R&1?"03":"02",U=h.fromHex(E+$1(k,n.BYTES)),Q=u(k),te=c(-M*Q),se=c(B*Q),fe=h.BASE.multiplyAndAddUnsafe(U,te,se);if(!fe)throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Oy(this.toDERHex())}toDERHex(){return wa.hexFromSig(this)}toCompactRawBytes(){return Oy(this.toCompactHex())}toCompactHex(){const v=i;return $1(this.r,v)+$1(this.s,v)}}const C={isValidPrivateKey(b){try{return f(b),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const b=vD(e.n);return Hre(e.randomBytes(b),e.n)},precompute(b=8,v=h.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function I(b,v=!0){return h.fromPrivateKey(b).toRawBytes(v)}function P(b){if(typeof b=="bigint")return!1;if(b instanceof h)return!0;const O=er("key",b).length,B=n.BYTES,R=B+1,M=2*B+1;if(!(e.allowedPrivateKeyLengths||i===R))return O===R||O===M}function z(b,v,O=!0){if(P(b)===!0)throw new Error("first arg must be private key");if(P(v)===!1)throw new Error("second arg must be public key");return h.fromHex(v).multiply(f(b)).toRawBytes(O)}const W=e.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const v=zl(b),O=b.length*8-s;return O>0?v>>BigInt(O):v},L=e.bits2int_modN||function(b){return c(W(b))},V=cw(s);function q(b){return uo("num < 2^"+s,b,xa,V),um(b,i)}function X(b,v,O=Y){if(["recovered","canonical"].some(ge=>ge in O))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:R}=e;let{lowS:M,prehash:k,extraEntropy:E}=O;M==null&&(M=!0),b=er("msgHash",b),zR(O),k&&(b=er("prehashed msgHash",B(b)));const U=L(b),Q=f(v),te=[q(Q),q(U)];if(E!=null&&E!==!1){const ge=E===!0?R(n.BYTES):E;te.push(er("extraEntropy",ge))}const se=fh(...te),fe=U;function le(ge){const et=W(ge);if(!m(et))return;const qe=u(et),ke=h.BASE.multiply(et).toAffine(),je=c(ke.x);if(je===xa)return;const De=c(qe*c(fe+je*Q));if(De===xa)return;let it=(ke.x===je?0:2)|Number(ke.y&Ar),K=De;return M&&_(De)&&(K=x(De),it^=1),new S(je,K,it)}return{seed:se,k2sig:le}}const Y={lowS:e.lowS,prehash:!1},ee={lowS:e.lowS,prehash:!1};function j(b,v,O=Y){const{seed:B,k2sig:R}=X(b,v,O),M=e;return _J(M.hash.outputLen,M.nByteLength,M.hmac)(B,R)}h.BASE._setWindowSize(8);function w(b,v,O,B=ee){const R=b;v=er("msgHash",v),O=er("publicKey",O);const{lowS:M,prehash:k,format:E}=B;if(zR(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(E!==void 0&&E!=="compact"&&E!=="der")throw new Error("format must be compact or der");const U=typeof R=="string"||lm(R),Q=!U&&!E&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!U&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,se;try{if(Q&&(te=new S(R.r,R.s)),U){try{E!=="compact"&&(te=S.fromDER(R))}catch(it){if(!(it instanceof wa.Err))throw it}!te&&E!=="der"&&(te=S.fromCompact(R))}se=h.fromHex(O)}catch{return!1}if(!te||M&&te.hasHighS())return!1;k&&(v=e.hash(v));const{r:fe,s:le}=te,ge=L(v),et=u(le),qe=c(ge*et),ke=c(fe*et),je=h.BASE.multiplyAndAddUnsafe(se,qe,ke)?.toAffine();return je?c(je.x)===fe:!1}return{CURVE:e,getPublicKey:I,getSharedSecret:z,sign:j,verify:w,ProjectivePoint:h,Signature:S,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kse(t){return{hash:t,hmac:(e,...n)=>fP(t,e,FJ(...n)),randomBytes:UB}}function Gse(t,e){const n=r=>Wse({...t,...Kse(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),FR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yse=BigInt(0),Zse=BigInt(1),K_=BigInt(2),jR=(t,e)=>(t+e/K_)/e;function Xse(t){const e=pP,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,h=u*u*t%e,f=Yn(h,n,e)*h%e,g=Yn(f,n,e)*h%e,m=Yn(g,K_,e)*u%e,_=Yn(m,i,e)*m%e,x=Yn(_,s,e)*_%e,T=Yn(x,a,e)*x%e,S=Yn(T,c,e)*T%e,C=Yn(S,a,e)*x%e,I=Yn(C,n,e)*h%e,P=Yn(I,o,e)*_%e,z=Yn(P,r,e)*u%e,W=Yn(z,K_,e);if(!G_.eql(G_.sqr(W),t))throw new Error("Cannot find square root");return W}const G_=mm(pP,void 0,void 0,{sqrt:Xse}),Qse=Gse({a:Yse,b:BigInt(7),Fp:G_,n:FR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=FR,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Zse*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=jR(s*t,e),c=jR(-r*t,e);let u=_n(t-a*n-c*i,e),h=_n(-a*r-c*s,e);const f=u>o,g=h>o;if(f&&(u=e-u),g&&(h=e-h),u>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:g,k2:h}}}},FB);function HR(t){try{return tA.ExtendedPoint.fromHex(t),!0}catch{return!1}}const gP=(t,e)=>tA.sign(t,e.slice(0,32)),Jse=tA.verify,Hr=t=>bt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bt.Buffer.from(t);class eoe{constructor(e){Object.assign(this,e)}encode(){return bt.Buffer.from(DD(ay,this))}static decode(e){return PD(ay,this,e)}static decodeUnchecked(e){return RD(ay,this,e)}}const ay=new Map;var mP;const toe=32,Bc=32;function noe(t){return t._bn!==void 0}let qR=1;class Ke extends eoe{constructor(e){if(super({}),this._bn=void 0,noe(e))this._bn=e._bn;else{if(typeof e=="string"){const n=Kr.decode(e);if(n.length!=Bc)throw new Error("Invalid public key input");this._bn=new MR(n)}else this._bn=new MR(e);if(this._bn.byteLength()>Bc)throw new Error("Invalid public key input")}}static unique(){const e=new Ke(qR);return qR+=1,new Ke(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Kr.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bt.Buffer);if(e.length===Bc)return e;const n=bt.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=bt.Buffer.concat([e.toBuffer(),bt.Buffer.from(n),r.toBuffer()]),s=iR(i);return new Ke(s)}static createProgramAddressSync(e,n){let r=bt.Buffer.alloc(0);e.forEach(function(s){if(s.length>toe)throw new TypeError("Max seed length exceeded");r=bt.Buffer.concat([r,Hr(s)])}),r=bt.Buffer.concat([r,n.toBuffer(),bt.Buffer.from("ProgramDerivedAddress")]);const i=iR(r);if(HR(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ke(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(bt.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Ke(e);return HR(n.toBytes())}}mP=Ke;Ke.default=new mP("11111111111111111111111111111111");ay.set(Ke,{kind:"struct",fields:[["_bn","u256"]]});new Ke("BPFLoader1111111111111111111111111111111111");const qd=1232,gA=127,eb=64;class yP extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(yP.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class bP extends Error{constructor(e,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(bP.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Lf extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Lf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class tb{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const _t=(t="publicKey")=>gn(32,t),roe=(t="signature")=>gn(64,t),Ad=(t="string")=>{const e=We([Qe("length"),Qe("lengthPadding"),gn(jl(Qe(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:bt.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>Qe().span+Qe().span+bt.Buffer.from(s,"utf8").length,i},ioe=(t="authorized")=>We([_t("staker"),_t("withdrawer")],t),soe=(t="lockup")=>We([ss("unixTimestamp"),ss("epoch"),_t("custodian")],t),ooe=(t="voteInit")=>We([_t("nodePubkey"),_t("authorizedVoter"),_t("authorizedWithdrawer"),Lt("commission")],t),aoe=(t="voteAuthorizeWithSeedArgs")=>We([Qe("voteAuthorizationType"),_t("currentAuthorityDerivedKeyOwnerPubkey"),Ad("currentAuthorityDerivedKeySeed"),_t("newAuthorized")],t);function wP(t,e){const n=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*n(i.elementLayout)}else if("fields"in i)return wP({layout:i},e[i.property]);return 0};let r=0;return t.layout.fields.forEach(i=>{r+=n(i)}),r}function os(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function as(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function En(t,e){if(!t)throw new Error(e||"Assertion failed")}class ww{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new ww(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];En(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{En(n.length>0,"Expected at least one writable signer key");const[c]=n[0];En(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Ke(c)),...r.map(([c])=>new Ke(c)),...i.map(([c])=>new Ke(c)),...s.map(([c])=>new Ke(c))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new Ke(s),c=e.findIndex(u=>u.equals(a));c>=0&&(En(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const vP="Reached end of buffer unexpectedly";function Sa(t){if(t.length===0)throw new Error(vP);return t.shift()}function cs(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(vP);return t.splice(...e)}class ja{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Ke(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Kr.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new tb(this.staticAccountKeys)}static compile(e){const n=ww.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new tb(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Kr.encode(a.data)}));return new ja({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];as(n,e);const r=this.instructions.map(f=>{const{accounts:g,programIdIndex:m}=f,_=Array.from(Kr.decode(f.data));let x=[];as(x,g.length);let T=[];return as(T,_.length),{programIdIndex:m,keyIndicesCount:bt.Buffer.from(x),keyIndices:g,dataLength:bt.Buffer.from(T),data:_}});let i=[];as(i,r.length);let s=bt.Buffer.alloc(qd);bt.Buffer.from(i).copy(s);let o=i.length;r.forEach(f=>{const m=We([Lt("programIdIndex"),gn(f.keyIndicesCount.length,"keyIndicesCount"),ui(Lt("keyIndex"),f.keyIndices.length,"keyIndices"),gn(f.dataLength.length,"dataLength"),ui(Lt("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=m}),s=s.slice(0,o);const a=We([gn(1,"numRequiredSignatures"),gn(1,"numReadonlySignedAccounts"),gn(1,"numReadonlyUnsignedAccounts"),gn(n.length,"keyCount"),ui(_t("key"),e,"keys"),_t("recentBlockhash")]),c={numRequiredSignatures:bt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bt.Buffer.from(n),keys:this.accountKeys.map(f=>Hr(f.toBytes())),recentBlockhash:Kr.decode(this.recentBlockhash)};let u=bt.Buffer.alloc(2048);const h=a.encode(c,u);return s.copy(u,h),u.slice(0,h+s.length)}static from(e){let n=[...e];const r=Sa(n);if(r!==(r&gA))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Sa(n),s=Sa(n),o=os(n);let a=[];for(let g=0;g<o;g++){const m=cs(n,0,Bc);a.push(new Ke(bt.Buffer.from(m)))}const c=cs(n,0,Bc),u=os(n);let h=[];for(let g=0;g<u;g++){const m=Sa(n),_=os(n),x=cs(n,0,_),T=os(n),S=cs(n,0,T),C=Kr.encode(bt.Buffer.from(S));h.push({programIdIndex:m,accounts:x,data:C})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Kr.encode(bt.Buffer.from(c)),accountKeys:a,instructions:h};return new ja(f)}}class vg{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new tb(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=ww.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const h of s){const f=n.extractTableLookup(h);if(f!==void 0){const[g,{writable:m,readonly:_}]=f;r.push(g),i.writable.push(...m),i.readonly.push(..._)}}const[o,a]=n.getMessageComponents(),u=new tb(a,i).compileInstructions(e.instructions);return new vg({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();as(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();as(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();as(s,this.addressTableLookups.length);const o=We([Lt("prefix"),We([Lt("numRequiredSignatures"),Lt("numReadonlySignedAccounts"),Lt("numReadonlyUnsignedAccounts")],"header"),gn(e.length,"staticAccountKeysLength"),ui(_t(),this.staticAccountKeys.length,"staticAccountKeys"),_t("recentBlockhash"),gn(r.length,"instructionsLength"),gn(n.length,"serializedInstructions"),gn(s.length,"addressTableLookupsLength"),gn(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(qd),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:Kr.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const n=new Uint8Array(qd);for(const r of this.compiledInstructions){const i=Array();as(i,r.accountKeyIndexes.length);const s=Array();as(s,r.data.length);const o=We([Lt("programIdIndex"),gn(i.length,"encodedAccountKeyIndexesLength"),ui(Lt(),r.accountKeyIndexes.length,"accountKeyIndexes"),gn(s.length,"encodedDataLength"),gn(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(qd);for(const r of this.addressTableLookups){const i=Array();as(i,r.writableIndexes.length);const s=Array();as(s,r.readonlyIndexes.length);const o=We([_t("accountKey"),gn(i.length,"encodedWritableIndexesLength"),ui(Lt(),r.writableIndexes.length,"writableIndexes"),gn(s.length,"encodedReadonlyIndexesLength"),ui(Lt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=Sa(n),i=r&gA;En(r!==i,"Expected versioned message but received legacy message");const s=i;En(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Sa(n),numReadonlySignedAccounts:Sa(n),numReadonlyUnsignedAccounts:Sa(n)},a=[],c=os(n);for(let _=0;_<c;_++)a.push(new Ke(cs(n,0,Bc)));const u=Kr.encode(cs(n,0,Bc)),h=os(n),f=[];for(let _=0;_<h;_++){const x=Sa(n),T=os(n),S=cs(n,0,T),C=os(n),I=new Uint8Array(cs(n,0,C));f.push({programIdIndex:x,accountKeyIndexes:S,data:I})}const g=os(n),m=[];for(let _=0;_<g;_++){const x=new Ke(cs(n,0,Bc)),T=os(n),S=cs(n,0,T),C=os(n),I=cs(n,0,C);m.push({accountKey:x,writableIndexes:S,readonlyIndexes:I})}return new vg({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:m})}}const EP={deserializeMessageVersion(t){const e=t[0],n=e&gA;return n===e?"legacy":n},deserialize:t=>{const e=EP.deserializeMessageVersion(t);if(e==="legacy")return ja.from(t);if(e===0)return vg.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let oc=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const coe=bt.Buffer.alloc(eb).fill(0);class wi{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class li{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new wi(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<n.length;x++)if(n[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);const i=[],s=[];n.forEach(x=>{x.keys.forEach(S=>{s.push({...S})});const T=x.programId.toString();i.includes(T)||i.push(T)}),i.forEach(x=>{s.push({pubkey:new Ke(x),isSigner:!1,isWritable:!1})});const o=[];s.forEach(x=>{const T=x.pubkey.toString(),S=o.findIndex(C=>C.pubkey.toString()===T);S>-1?(o[S].isWritable=o[S].isWritable||x.isWritable,o[S].isSigner=o[S].isSigner||x.isSigner):o.push(x)}),o.sort(function(x,T){if(x.isSigner!==T.isSigner)return x.isSigner?-1:1;if(x.isWritable!==T.isWritable)return x.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return x.pubkey.toBase58().localeCompare(T.pubkey.toBase58(),"en",S)});const a=o.findIndex(x=>x.pubkey.equals(r));if(a>-1){const[x]=o.splice(a,1);x.isSigner=!0,x.isWritable=!0,o.unshift(x)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const x of this.signatures){const T=o.findIndex(S=>S.pubkey.equals(x.publicKey));if(T>-1)o[T].isSigner||(o[T].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let c=0,u=0,h=0;const f=[],g=[];o.forEach(({pubkey:x,isSigner:T,isWritable:S})=>{T?(f.push(x.toString()),c+=1,S||(u+=1)):(g.push(x.toString()),S||(h+=1))});const m=f.concat(g),_=n.map(x=>{const{data:T,programId:S}=x;return{programIdIndex:m.indexOf(S.toString()),accounts:x.keys.map(C=>m.indexOf(C.pubkey.toString())),data:Kr.encode(T)}});return _.forEach(x=>{En(x.programIdIndex>=0),x.accounts.forEach(T=>En(T>=0))}),new ja({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h},accountKeys:m,recentBlockhash:e,instructions:_})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=gP(r,i.secretKey);this._addSignature(i.publicKey,Hr(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){En(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bt.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||=[]).push(s):Jse(i,e,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];as(r,n.length);const i=r.length+n.length*64+e.length,s=bt.Buffer.alloc(i);return En(n.length<256),bt.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(En(o.length===64,"signature has invalid length"),bt.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),En(s.length<=qd,`Transaction too large: ${s.length} > ${qd}`),s}get keys(){return En(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return En(this.instructions.length===1),this.instructions[0].programId}get data(){return En(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=os(n);let i=[];for(let s=0;s<r;s++){const o=cs(n,0,eb);i.push(Kr.encode(bt.Buffer.from(o)))}return li.populate(ja.from(n),i)}static populate(e,n=[]){const r=new li;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Kr.encode(coe)?null:Kr.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new wi({keys:s,programId:e.accountKeys[i.programIdIndex],data:Kr.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Gc{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)En(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(eb));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();as(n,this.signatures.length);const r=We([gn(n.length,"encodedSignaturesLength"),ui(roe(),this.signatures.length,"signatures"),gn(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=os(n);for(let o=0;o<i;o++)r.push(new Uint8Array(cs(n,0,eb)));const s=EP.deserialize(new Uint8Array(n));return new Gc(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));En(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=gP(n,i.secretKey)}}addSignature(e,n){En(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));En(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const loe=160,uoe=64,doe=loe/uoe,hoe=1e3/doe;new Ke("SysvarC1ock11111111111111111111111111111111");new Ke("SysvarEpochSchedu1e111111111111111111111111");new Ke("Sysvar1nstructions1111111111111111111111111");const U1=new Ke("SysvarRecentB1ockHashes11111111111111111111"),VR=new Ke("SysvarRent111111111111111111111111111111111");new Ke("SysvarRewards111111111111111111111111111111");new Ke("SysvarS1otHashes111111111111111111111111111");new Ke("SysvarS1otHistory11111111111111111111111111");new Ke("SysvarStakeHistory1111111111111111111111111");class WR extends Error{constructor({action:e,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Ze extends Error{constructor({code:e,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function md(t){return new Promise(e=>setTimeout(e,t))}function ci(t,e){const n=t.layout.span>=0?t.layout.span:wP(t,e),r=bt.Buffer.alloc(n),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,r),r}const foe=jr("lamportsPerSignature"),_P=We([Qe("version"),Qe("state"),_t("authorizedPubkey"),_t("nonce"),We([foe],"feeCalculator")]),KR=_P.span;class mA{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const n=_P.decode(Hr(e),0);return new mA({authorizedPubkey:new Ke(n.authorizedPubkey),nonce:new Ke(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function vh(t){const e=gn(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=tse();return i.decode=(o,a)=>{const c=n(o,a);return s.decode(c)},i.encode=(o,a,c)=>{const u=s.encode(o);return r(u,a,c)},i}const Cs=Object.freeze({Create:{index:0,layout:We([Qe("instruction"),ss("lamports"),ss("space"),_t("programId")])},Assign:{index:1,layout:We([Qe("instruction"),_t("programId")])},Transfer:{index:2,layout:We([Qe("instruction"),vh("lamports")])},CreateWithSeed:{index:3,layout:We([Qe("instruction"),_t("base"),Ad("seed"),ss("lamports"),ss("space"),_t("programId")])},AdvanceNonceAccount:{index:4,layout:We([Qe("instruction")])},WithdrawNonceAccount:{index:5,layout:We([Qe("instruction"),ss("lamports")])},InitializeNonceAccount:{index:6,layout:We([Qe("instruction"),_t("authorized")])},AuthorizeNonceAccount:{index:7,layout:We([Qe("instruction"),_t("authorized")])},Allocate:{index:8,layout:We([Qe("instruction"),ss("space")])},AllocateWithSeed:{index:9,layout:We([Qe("instruction"),_t("base"),Ad("seed"),ss("space"),_t("programId")])},AssignWithSeed:{index:10,layout:We([Qe("instruction"),_t("base"),Ad("seed"),_t("programId")])},TransferWithSeed:{index:11,layout:We([Qe("instruction"),vh("lamports"),Ad("seed"),_t("programId")])},UpgradeNonceAccount:{index:12,layout:We([Qe("instruction")])}});class Eg{constructor(){}static createAccount(e){const n=Cs.Create,r=ci(n,{lamports:e.lamports,space:e.space,programId:Hr(e.programId.toBuffer())});return new wi({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let n,r;if("basePubkey"in e){const i=Cs.TransferWithSeed;n=ci(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Hr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Cs.Transfer;n=ci(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new wi({keys:r,programId:this.programId,data:n})}static assign(e){let n,r;if("basePubkey"in e){const i=Cs.AssignWithSeed;n=ci(i,{base:Hr(e.basePubkey.toBuffer()),seed:e.seed,programId:Hr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Cs.Assign;n=ci(i,{programId:Hr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new wi({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(e){const n=Cs.CreateWithSeed,r=ci(n,{base:Hr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Hr(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new wi({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const n=new li;"basePubkey"in e&&"seed"in e?n.add(Eg.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:KR,programId:this.programId})):n.add(Eg.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:KR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(e){const n=Cs.InitializeNonceAccount,r=ci(n,{authorized:Hr(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:U1,isSigner:!1,isWritable:!1},{pubkey:VR,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new wi(i)}static nonceAdvance(e){const n=Cs.AdvanceNonceAccount,r=ci(n),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:U1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new wi(i)}static nonceWithdraw(e){const n=Cs.WithdrawNonceAccount,r=ci(n,{lamports:e.lamports});return new wi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:U1,isSigner:!1,isWritable:!1},{pubkey:VR,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const n=Cs.AuthorizeNonceAccount,r=ci(n,{authorized:Hr(e.newAuthorizedPubkey.toBuffer())});return new wi({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let n,r;if("basePubkey"in e){const i=Cs.AllocateWithSeed;n=ci(i,{base:Hr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Hr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Cs.Allocate;n=ci(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new wi({keys:r,programId:this.programId,data:n})}}Eg.programId=new Ke("11111111111111111111111111111111");new Ke("BPFLoader2111111111111111111111111111111111");function poe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L1,GR;function goe(){if(GR)return L1;GR=1;var t=Object.prototype.toString,e=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,c,u,h,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(f=t.call(r),f==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(f==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",s=0;s<o;)u=c[s],h=n(r[u],!1),h!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+h),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return L1=function(r){var i=n(r,!1);if(i!==void 0)return""+i},L1}var moe=goe(),YR=poe(moe);const wf=32;function z1(t){let e=0;for(;t>1;)t/=2,e++;return e}function yoe(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class boe{constructor(e,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=z1(yoe(e+wf+1))-z1(wf)-1,r=this.getSlotsInEpoch(n),i=e-(r-wf);return[n,i]}else{const n=e-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*wf:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+z1(wf)):this.slotsPerEpoch}}var woe=globalThis.fetch;class voe extends zse{constructor(e,n,r){const i=s=>{const o=Use(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,n,r),this.underlyingSocket=void 0}call(...e){const n=this.underlyingSocket?.readyState;return n===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...e){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function Eoe(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}const ZR=56;class XR{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const n=Eoe(_oe,e),r=e.length-ZR;En(r>=0,"lookup table is invalid"),En(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=We([ui(_t(),i,"addresses")]).decode(e.slice(ZR));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ke(n.authority[0]):void 0,addresses:s.map(o=>new Ke(o))}}}const _oe={index:1,layout:We([Qe("typeIndex"),vh("deactivationSlot"),jr("lastExtendedSlot"),Lt("lastExtendedStartIndex"),Lt(),ui(_t(),jl(Lt(),-1),"authority")])},xoe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Soe(t){const e=t.match(xoe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const Pn=wm(fA(Ke),_e(),t=>new Ke(t)),xP=pA([_e(),On("base64")]),yA=wm(fA(bt.Buffer),xP,t=>bt.Buffer.from(t[0],"base64")),Aoe=30*1e3;function Coe(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function on(t){let e,n;if(typeof t=="string")e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function QR(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function SP(t){return Ci([he({jsonrpc:On("2.0"),id:_e(),result:t}),he({jsonrpc:On("2.0"),id:_e(),error:he({code:Vh(),message:_e(),data:Je(cse())})})])}const Toe=SP(Vh());function yt(t){return wm(SP(t),Toe,e=>"error"in e?e:{...e,result:Ce(e.result,t)})}function Jn(t){return yt(he({context:he({slot:ne()}),value:t}))}function vw(t){return he({context:he({slot:ne()}),value:t})}function F1(t,e){return t===0?new vg({header:e.header,staticAccountKeys:e.accountKeys.map(n=>new Ke(n)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Kr.decode(n.data)})),addressTableLookups:e.addressTableLookups}):new ja(e)}const Ioe=he({foundation:ne(),foundationTerm:ne(),initial:ne(),taper:ne(),terminal:ne()}),Roe=yt(Ie(Re(he({epoch:ne(),effectiveSlot:ne(),amount:ne(),postBalance:ne(),commission:Je(Re(ne()))})))),koe=Ie(he({slot:ne(),prioritizationFee:ne()})),Noe=he({total:ne(),validator:ne(),foundation:ne(),epoch:ne()}),Ooe=he({epoch:ne(),slotIndex:ne(),slotsInEpoch:ne(),absoluteSlot:ne(),blockHeight:Je(ne()),transactionCount:Je(ne())}),Boe=he({slotsPerEpoch:ne(),leaderScheduleSlotOffset:ne(),warmup:Yo(),firstNormalEpoch:ne(),firstNormalSlot:ne()}),Doe=rP(_e(),Ie(ne())),Su=Re(Ci([he({}),_e()])),Poe=he({err:Su}),$oe=On("receivedSignature"),Moe=he({"solana-core":_e(),"feature-set":Je(ne())}),Uoe=he({program:_e(),programId:Pn,parsed:Vh()}),Loe=he({programId:Pn,accounts:Ie(Pn),data:_e()}),JR=Jn(he({err:Re(Ci([he({}),_e()])),logs:Re(Ie(_e())),accounts:Je(Re(Ie(Re(he({executable:Yo(),owner:_e(),lamports:ne(),data:Ie(_e()),rentEpoch:Je(ne())}))))),unitsConsumed:Je(ne()),returnData:Je(Re(he({programId:_e(),data:pA([_e(),On("base64")])}))),innerInstructions:Je(Re(Ie(he({index:ne(),instructions:Ie(Ci([Uoe,Loe]))}))))})),zoe=Jn(he({byIdentity:rP(_e(),Ie(ne())),range:he({firstSlot:ne(),lastSlot:ne()})}));function Foe(t,e,n,r,i,s){const o=n||woe;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(h,f)=>{const g=await new Promise((m,_)=>{try{r(h,f,(x,T)=>m([x,T]))}catch(x){_(x)}});return await o(...g)}),new Pse(async(h,f)=>{const g={method:"POST",body:h,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Fae)};try{let m=5,_,x=500;for(;c?_=await c(t,g):_=await o(t,g),!(_.status!==429||i===!0||(m-=1,m===0));)console.error(`Server responded with ${_.status} ${_.statusText}.  Retrying after ${x}ms delay...`),await md(x),x*=2;const T=await _.text();_.ok?f(null,T):f(new Error(`${_.status} ${_.statusText}: ${T}`))}catch(m){m instanceof Error&&f(m)}},{})}function joe(t){return(e,n)=>new Promise((r,i)=>{t.request(e,n,(s,o)=>{if(s){i(s);return}r(o)})})}function Hoe(t){return e=>new Promise((n,r)=>{e.length===0&&n([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const qoe=yt(Ioe),Voe=yt(Noe),Woe=yt(koe),Koe=yt(Ooe),Goe=yt(Boe),Yoe=yt(Doe),Zoe=yt(ne()),Xoe=Jn(he({total:ne(),circulating:ne(),nonCirculating:ne(),nonCirculatingAccounts:Ie(Pn)})),Y_=he({amount:_e(),uiAmount:Re(ne()),decimals:ne(),uiAmountString:Je(_e())}),Qoe=Jn(Ie(he({address:Pn,amount:_e(),uiAmount:Re(ne()),decimals:ne(),uiAmountString:Je(_e())}))),Joe=Jn(Ie(he({pubkey:Pn,account:he({executable:Yo(),owner:Pn,lamports:ne(),data:yA,rentEpoch:ne()})}))),Z_=he({program:_e(),parsed:Vh(),space:ne()}),eae=Jn(Ie(he({pubkey:Pn,account:he({executable:Yo(),owner:Pn,lamports:ne(),data:Z_,rentEpoch:ne()})}))),tae=Jn(Ie(he({lamports:ne(),address:Pn}))),_g=he({executable:Yo(),owner:Pn,lamports:ne(),data:yA,rentEpoch:ne()}),nae=he({pubkey:Pn,account:_g}),rae=wm(Ci([fA(bt.Buffer),Z_]),Ci([xP,Z_]),t=>Array.isArray(t)?Ce(t,yA):t),X_=he({executable:Yo(),owner:Pn,lamports:ne(),data:rae,rentEpoch:ne()}),iae=he({pubkey:Pn,account:X_}),sae=he({state:Ci([On("active"),On("inactive"),On("activating"),On("deactivating")]),active:ne(),inactive:ne()}),oae=yt(Ie(he({signature:_e(),slot:ne(),err:Su,memo:Re(_e()),blockTime:Je(Re(ne()))}))),aae=yt(Ie(he({signature:_e(),slot:ne(),err:Su,memo:Re(_e()),blockTime:Je(Re(ne()))}))),cae=he({subscription:ne(),result:vw(_g)}),lae=he({pubkey:Pn,account:_g}),uae=he({subscription:ne(),result:vw(lae)}),dae=he({parent:ne(),slot:ne(),root:ne()}),hae=he({subscription:ne(),result:dae}),fae=Ci([he({type:Ci([On("firstShredReceived"),On("completed"),On("optimisticConfirmation"),On("root")]),slot:ne(),timestamp:ne()}),he({type:On("createdBank"),parent:ne(),slot:ne(),timestamp:ne()}),he({type:On("frozen"),slot:ne(),timestamp:ne(),stats:he({numTransactionEntries:ne(),numSuccessfulTransactions:ne(),numFailedTransactions:ne(),maxTransactionsPerEntry:ne()})}),he({type:On("dead"),slot:ne(),timestamp:ne(),err:_e()})]),pae=he({subscription:ne(),result:fae}),gae=he({subscription:ne(),result:vw(Ci([Poe,$oe]))}),mae=he({subscription:ne(),result:ne()}),yae=he({pubkey:_e(),gossip:Re(_e()),tpu:Re(_e()),rpc:Re(_e()),version:Re(_e())}),ek=he({votePubkey:_e(),nodePubkey:_e(),activatedStake:ne(),epochVoteAccount:Yo(),epochCredits:Ie(pA([ne(),ne(),ne()])),commission:ne(),lastVote:ne(),rootSlot:Re(ne())}),bae=yt(he({current:Ie(ek),delinquent:Ie(ek)})),wae=Ci([On("processed"),On("confirmed"),On("finalized")]),vae=he({slot:ne(),confirmations:Re(ne()),err:Su,confirmationStatus:Je(wae)}),Eae=Jn(Ie(Re(vae))),_ae=yt(ne()),AP=he({accountKey:Pn,writableIndexes:Ie(ne()),readonlyIndexes:Ie(ne())}),bA=he({signatures:Ie(_e()),message:he({accountKeys:Ie(_e()),header:he({numRequiredSignatures:ne(),numReadonlySignedAccounts:ne(),numReadonlyUnsignedAccounts:ne()}),instructions:Ie(he({accounts:Ie(ne()),data:_e(),programIdIndex:ne()})),recentBlockhash:_e(),addressTableLookups:Je(Ie(AP))})}),CP=he({pubkey:Pn,signer:Yo(),writable:Yo(),source:Je(Ci([On("transaction"),On("lookupTable")]))}),TP=he({accountKeys:Ie(CP),signatures:Ie(_e())}),IP=he({parsed:Vh(),program:_e(),programId:Pn}),RP=he({accounts:Ie(Pn),data:_e(),programId:Pn}),xae=Ci([RP,IP]),Sae=Ci([he({parsed:Vh(),program:_e(),programId:_e()}),he({accounts:Ie(_e()),data:_e(),programId:_e()})]),kP=wm(xae,Sae,t=>"accounts"in t?Ce(t,RP):Ce(t,IP)),NP=he({signatures:Ie(_e()),message:he({accountKeys:Ie(CP),instructions:Ie(kP),recentBlockhash:_e(),addressTableLookups:Je(Re(Ie(AP)))})}),nb=he({accountIndex:ne(),mint:_e(),owner:Je(_e()),programId:Je(_e()),uiTokenAmount:Y_}),OP=he({writable:Ie(Pn),readonly:Ie(Pn)}),Ew=he({err:Su,fee:ne(),innerInstructions:Je(Re(Ie(he({index:ne(),instructions:Ie(he({accounts:Ie(ne()),data:_e(),programIdIndex:ne()}))})))),preBalances:Ie(ne()),postBalances:Ie(ne()),logMessages:Je(Re(Ie(_e()))),preTokenBalances:Je(Re(Ie(nb))),postTokenBalances:Je(Re(Ie(nb))),loadedAddresses:Je(OP),computeUnitsConsumed:Je(ne())}),wA=he({err:Su,fee:ne(),innerInstructions:Je(Re(Ie(he({index:ne(),instructions:Ie(kP)})))),preBalances:Ie(ne()),postBalances:Ie(ne()),logMessages:Je(Re(Ie(_e()))),preTokenBalances:Je(Re(Ie(nb))),postTokenBalances:Je(Re(Ie(nb))),loadedAddresses:Je(OP),computeUnitsConsumed:Je(ne())}),Wh=Ci([On(0),On("legacy")]),Au=he({pubkey:_e(),lamports:ne(),postBalance:Re(ne()),rewardType:Re(_e()),commission:Je(Re(ne()))}),Aae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(he({transaction:bA,meta:Re(Ew),version:Je(Wh)})),rewards:Je(Ie(Au)),blockTime:Re(ne()),blockHeight:Re(ne())}))),Cae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),rewards:Je(Ie(Au)),blockTime:Re(ne()),blockHeight:Re(ne())}))),Tae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(he({transaction:TP,meta:Re(Ew),version:Je(Wh)})),rewards:Je(Ie(Au)),blockTime:Re(ne()),blockHeight:Re(ne())}))),Iae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(he({transaction:NP,meta:Re(wA),version:Je(Wh)})),rewards:Je(Ie(Au)),blockTime:Re(ne()),blockHeight:Re(ne())}))),Rae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(he({transaction:TP,meta:Re(wA),version:Je(Wh)})),rewards:Je(Ie(Au)),blockTime:Re(ne()),blockHeight:Re(ne())}))),kae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),rewards:Je(Ie(Au)),blockTime:Re(ne()),blockHeight:Re(ne())}))),Nae=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),transactions:Ie(he({transaction:bA,meta:Re(Ew)})),rewards:Je(Ie(Au)),blockTime:Re(ne())}))),tk=yt(Re(he({blockhash:_e(),previousBlockhash:_e(),parentSlot:ne(),signatures:Ie(_e()),blockTime:Re(ne())}))),j1=yt(Re(he({slot:ne(),meta:Re(Ew),blockTime:Je(Re(ne())),transaction:bA,version:Je(Wh)}))),S0=yt(Re(he({slot:ne(),transaction:NP,meta:Re(wA),blockTime:Je(Re(ne())),version:Je(Wh)}))),Oae=Jn(he({blockhash:_e(),lastValidBlockHeight:ne()})),Bae=Jn(Yo()),Dae=he({slot:ne(),numTransactions:ne(),numSlots:ne(),samplePeriodSecs:ne()}),Pae=yt(Ie(Dae)),$ae=Jn(Re(he({feeCalculator:he({lamportsPerSignature:ne()})}))),Mae=yt(_e()),Uae=yt(_e()),Lae=he({err:Su,logs:Ie(_e()),signature:_e()}),zae=he({result:vw(Lae),subscription:ne()}),Fae={"solana-client":"js/1.0.0-maintenance"};class vf{constructor(e,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async h=>{const{commitment:f,config:g}=on(h),m=this._buildArgs([],f,void 0,g),_=YR(m);return u[_]=u[_]??(async()=>{try{const x=await this._rpcRequest("getBlockHeight",m),T=Ce(x,yt(ne()));if("error"in T)throw new Ze(T.error,"failed to get block height information");return T.result}finally{delete u[_]}})(),await u[_]}})();let r,i,s,o,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=Coe(e),this._rpcWsEndpoint=r||Soe(e),this._rpcClient=Foe(e,i,s,o,a,c),this._rpcRequest=joe(this._rpcClient),this._rpcBatchRequest=Hoe(this._rpcClient),this._rpcWebSocket=new voe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=Ce(o,Jn(ne()));if("error"in a)throw new Ze(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,n){return await this.getBalanceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const n=await this._rpcRequest("getBlockTime",[e]),r=Ce(n,yt(Re(ne())));if("error"in r)throw new Ze(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),n=Ce(e,yt(ne()));if("error"in n)throw new Ze(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),n=Ce(e,Zoe);if("error"in n)throw new Ze(n.error,"failed to get first available block");return n.result}async getSupply(e){let n={};typeof e=="string"?n={commitment:e}:e?n={...e,commitment:e&&e.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=Ce(r,Xoe);if("error"in i)throw new Ze(i.error,"failed to get supply");return i.result}async getTokenSupply(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=Ce(i,Jn(Y_));if("error"in s)throw new Ze(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=Ce(i,Jn(Y_));if("error"in s)throw new Ze(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,n,r){const{commitment:i,config:s}=on(r);let o=[e.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Ce(c,Joe);if("error"in u)throw new Ze(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,n,r){let i=[e.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Ce(o,eae);if("error"in a)throw new Ze(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const n={...e,commitment:e&&e.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=Ce(i,tae);if("error"in s)throw new Ze(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,n){const r=this._buildArgs([e.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=Ce(i,Qoe);if("error"in s)throw new Ze(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Ce(o,Jn(Re(_g)));if("error"in a)throw new Ze(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Ce(o,Jn(Re(X_)));if("error"in a)throw new Ze(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,n){try{return(await this.getAccountInfoAndContext(e,n)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,n){const{commitment:r,config:i}=on(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Ce(a,Jn(Ie(Re(X_))));if("error"in c)throw new Ze(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,n){const{commitment:r,config:i}=on(n),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Ce(a,Jn(Ie(Re(_g))));if("error"in c)throw new Ze(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,n){return(await this.getMultipleAccountsInfoAndContext(e,n)).value}async getStakeActivation(e,n,r){const{commitment:i,config:s}=on(n),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=Ce(a,yt(sae));if("error"in c)throw new Ze(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,n){const{commitment:r,config:i}=on(n),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",{...o,...o.filters?{filters:QR(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Ie(nae),h=o.withContext===!0?Ce(c,Jn(u)):Ce(c,yt(u));if("error"in h)throw new Ze(h.error,`failed to get accounts owned by program ${e.toBase58()}`);return h.result}async getParsedProgramAccounts(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Ce(o,yt(Ie(iae)));if("error"in a)throw new Ze(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,n){let r;if(typeof e=="string")r=e;else{const s=e;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Kr.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return En(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((n,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:n}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(n,(f,g)=>{r=void 0;const m={context:g,value:f};c({__type:oc.PROCESSED,response:m})},e);const h=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,g=>{g==="subscribed"&&f()})});(async()=>{if(await h,s)return;const f=await this.getSignatureStatus(n);if(s||f==null)return;const{context:g,value:m}=f;if(m!=null)if(m?.err)u(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:oc.PROCESSED,response:{context:g,value:m}})}})()}catch(h){u(h)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(f=>{const g=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await g();if(!s){for(;m<=r;)if(await md(1e3),s||(m=await g(),s))return;f({__type:oc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(n);let h;try{const f=await Promise.race([u,c,o]);if(f.__type===oc.PROCESSED)h=f.response;else throw new yP(i)}finally{s=!0,a()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(m=>{let _=s,x=null;const T=async()=>{try{const{context:S,value:C}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return x=S.slot,C?.nonce}catch{return _}};(async()=>{if(_=await T(),!a)for(;;){if(s!==_){m({__type:oc.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await md(2e3),a||(_=await T(),a))return}})()}),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(n);let g;try{const m=await Promise.race([f,h,c]);if(m.__type===oc.PROCESSED)g=m.response;else{let _;for(;;){const x=await this.getSignatureStatus(o);if(x==null)break;if(x.context.slot<(m.slotInWhichNonceDidAdvance??r)){await md(400);continue}_=x;break}if(_?.value){const x=e||"finalized",{confirmationStatus:T}=_.value;switch(x){case"processed":case"recent":if(T!=="processed"&&T!=="confirmed"&&T!=="finalized")throw new Lf(o);break;case"confirmed":case"single":case"singleGossip":if(T!=="confirmed"&&T!=="finalized")throw new Lf(o);break;case"finalized":case"max":case"root":if(T!=="finalized")throw new Lf(o);break;default:}g={context:_.context,value:{err:_.value.err}}}else throw new Lf(o)}}finally{a=!0,u()}return g}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:n}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:oc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:n});let a;try{const c=await Promise.race([o,i]);if(c.__type===oc.PROCESSED)a=c.response;else throw new bP(n,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),n=Ce(e,yt(Ie(yae)));if("error"in n)throw new Ze(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",n),i=Ce(r,bae);if("error"in i)throw new Ze(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:n,config:r}=on(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=Ce(s,yt(ne()));if("error"in o)throw new Ze(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:n,config:r}=on(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=Ce(s,yt(_e()));if("error"in o)throw new Ze(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,n){const r=[e,n],i=await this._rpcRequest("getSlotLeaders",r),s=Ce(i,yt(Ie(Pn)));if("error"in s)throw new Ze(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,n){const{context:r,value:i}=await this.getSignatureStatuses([e],n);En(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,n){const r=[e];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=Ce(i,Eae);if("error"in s)throw new Ze(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:n,config:r}=on(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=Ce(s,yt(ne()));if("error"in o)throw new Ze(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const n=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",n),i=Ce(r,qoe);if("error"in i)throw new Ze(i.error,"failed to get inflation");return i.result}async getInflationReward(e,n,r){const{commitment:i,config:s}=on(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=Ce(a,Roe);if("error"in c)throw new Ze(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),n=Ce(e,Voe);if("error"in n)throw new Ze(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(e){const{commitment:n,config:r}=on(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=Ce(s,Koe);if("error"in o)throw new Ze(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),n=Ce(e,Goe);if("error"in n)throw new Ze(n.error,"failed to get epoch schedule");const r=n.result;return new boe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),n=Ce(e,Yoe);if("error"in n)throw new Ze(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=Ce(i,_ae);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const n=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Ce(n,Pae);if("error"in r)throw new Ze(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,n){const r=this._buildArgs([e],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=Ce(i,$ae);if("error"in s)throw new Ze(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,n){const r=Hr(e.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=Ce(s,Jn(Re(ne())));if("error"in o)throw new Ze(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){const n=e?.lockedWritableAccounts?.map(o=>o.toBase58()),r=n?.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=Ce(i,Woe);if("error"in s)throw new Ze(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(e){const{commitment:n,config:r}=on(e),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=Ce(s,Oae);if("error"in o)throw new Ze(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Ce(o,Bae);if("error"in a)throw new Ze(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),n=Ce(e,yt(Moe));if("error"in n)throw new Ze(n.error,"failed to get version");return n.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),n=Ce(e,yt(_e()));if("error"in n)throw new Ze(n.error,"failed to get genesis hash");return n.result}async getBlock(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Ce(o,Tae);if("error"in a)throw a.error;return a.result}case"none":{const a=Ce(o,Cae);if("error"in a)throw a.error;return a.result}default:{const a=Ce(o,Aae);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:h,version:f})=>({meta:h,transaction:{...u,message:F1(f,u.message)},version:f}))}:null}}}catch(a){throw new Ze(a,"failed to get confirmed block")}}async getParsedBlock(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=Ce(o,Rae);if("error"in a)throw a.error;return a.result}case"none":{const a=Ce(o,kae);if("error"in a)throw a.error;return a.result}default:{const a=Ce(o,Iae);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ze(a,"failed to get block")}}async getBlockProduction(e){let n,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,n=c}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=Ce(s,zoe);if("error"in o)throw new Ze(o.error,"failed to get block production information");return o.result}async getTransaction(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Ce(o,j1);if("error"in a)throw new Ze(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:F1(c.version,c.transaction.message)}}}async getParsedTransaction(e,n){const{commitment:r,config:i}=on(n),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Ce(o,S0);if("error"in a)throw new Ze(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,n){const{commitment:r,config:i}=on(n),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Ce(c,S0);if("error"in u)throw new Ze(u.error,"failed to get transactions");return u.result})}async getTransactions(e,n){const{commitment:r,config:i}=on(n),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Ce(c,j1);if("error"in u)throw new Ze(u.error,"failed to get transactions");const h=u.result;return h&&{...h,transaction:{...h.transaction,message:F1(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getBlock",r),s=Ce(i,Nae);if("error"in s)throw new Ze(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const h=new ja(c.message);return{meta:u,transaction:{...c,message:h}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:li.populate(c.message,c.signatures)}))}}async getBlocks(e,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[e,n]:[e],r),s=await this._rpcRequest("getBlocks",i),o=Ce(s,yt(Ie(ne())));if("error"in o)throw new Ze(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Ce(i,tk);if("error"in s)throw new Ze(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Ce(i,tk);if("error"in s)throw new Ze(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n),i=await this._rpcRequest("getTransaction",r),s=Ce(i,j1);if("error"in s)throw new Ze(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ja(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:li.populate(a,c)}}async getParsedConfirmedTransaction(e,n){const r=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=Ce(i,S0);if("error"in s)throw new Ze(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,n){const r=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=Ce(o,S0);if("error"in a)throw new Ze(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ce(s,oae);if("error"in o)throw new Ze(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,n,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ce(s,aae);if("error"in o)throw new Ze(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=new XR({key:e,state:XR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,n){const{context:r,value:i}=await this.getAccountInfoAndContext(e,n);let s=null;return i!==null&&(s=mA.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,n){return await this.getNonceAndContext(e,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,n){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),n]),i=Ce(r,Mae);if("error"in i)throw new Ze(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await md(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Aoe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await md(hoe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:n,config:r}=on(e),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ce(s,Jn(ne()));if("error"in o)throw new Ze(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,n,r){if("message"in e){const x=e.serialize(),T=bt.Buffer.from(x).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const C=[T,S],I=await this._rpcRequest("simulateTransaction",C),P=Ce(I,JR);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let i;if(e instanceof li){let _=e;i=new li,i.feePayer=_.feePayer,i.instructions=e.instructions,i.nonceInfo=_.nonceInfo,i.signatures=_.signatures}else i=li.populate(e),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let _=this._disableBlockhashCaching;for(;;){const x=await this._blockhashWithExpiryBlockHeight(_);if(i.lastValidBlockHeight=x.lastValidBlockHeight,i.recentBlockhash=x.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const T=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(T)&&!this._blockhashInfo.transactionSignatures.includes(T)){this._blockhashInfo.simulatedSignatures.push(T);break}else _=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(r){const _=(Array.isArray(r)?r:o.nonProgramIds()).map(x=>x.toBase58());h.accounts={encoding:"base64",addresses:_}}s&&(h.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(h.innerInstructions=n.innerInstructions);const f=[u,h],g=await this._rpcRequest("simulateTransaction",f),m=Ce(g,JR);if("error"in m){let _;if("data"in m.error&&(_=m.error.data.logs,_&&Array.isArray(_))){const x=`
    `,T=x+_.join(x);console.error(m.error.message,T)}throw new WR({action:"simulate",signature:"",transactionMessage:m.error.message,logs:_})}return m.result}async sendTransaction(e,n,r){if("version"in e){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,n){const r=Hr(e).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(e,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=Ce(a,Uae);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new WR({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(e,n){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(e,n){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,n=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,n){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:n,subscription:r}=Ce(e,cae);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(e,n){const r=this._nextClientSubscriptionId++,i=YR([e.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:n,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];En(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,n,r){const{commitment:i,config:s}=on(r),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:n,subscription:r}=Ce(e,uae);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(e,n,r,i){const{commitment:s,config:o}=on(r),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:QR(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,n,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:n,subscription:r}=Ce(e,zae);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(e){const{result:n,subscription:r}=Ce(e,hae);this._handleServerNotification(r,[n])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:n,subscription:r}=Ce(e,pae);this._handleServerNotification(r,[n])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${n}' events could not be found.`)}_buildArgs(e,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,n,r,i)}_wsOnSignatureNotification(e){const{result:n,subscription:r}=Ce(e,gae);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(e,n,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{n(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:n,subscription:r}=Ce(e,mae);this._handleServerNotification(r,[n])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:We([Qe("instruction"),vh("recentSlot"),Lt("bumpSeed")])},FreezeLookupTable:{index:1,layout:We([Qe("instruction")])},ExtendLookupTable:{index:2,layout:We([Qe("instruction"),vh(),ui(_t(),jl(Qe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:We([Qe("instruction")])},CloseLookupTable:{index:4,layout:We([Qe("instruction")])}});new Ke("AddressLookupTab1e1111111111111111111111111");const A0=Object.freeze({RequestUnits:{index:0,layout:We([Lt("instruction"),Qe("units"),Qe("additionalFee")])},RequestHeapFrame:{index:1,layout:We([Lt("instruction"),Qe("bytes")])},SetComputeUnitLimit:{index:2,layout:We([Lt("instruction"),Qe("units")])},SetComputeUnitPrice:{index:3,layout:We([Lt("instruction"),vh("microLamports")])}});class Q_{constructor(){}static requestUnits(e){const n=A0.RequestUnits,r=ci(n,e);return new wi({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const n=A0.RequestHeapFrame,r=ci(n,e);return new wi({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const n=A0.SetComputeUnitLimit,r=ci(n,e);return new wi({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const n=A0.SetComputeUnitPrice,r=ci(n,{microLamports:BigInt(e.microLamports)});return new wi({keys:[],programId:this.programId,data:r})}}Q_.programId=new Ke("ComputeBudget111111111111111111111111111111");We([Lt("numSignatures"),Lt("padding"),Ps("signatureOffset"),Ps("signatureInstructionIndex"),Ps("publicKeyOffset"),Ps("publicKeyInstructionIndex"),Ps("messageDataOffset"),Ps("messageDataSize"),Ps("messageInstructionIndex")]);new Ke("Ed25519SigVerify111111111111111111111111111");Qse.utils.isValidPrivateKey;We([Lt("numSignatures"),Ps("signatureOffset"),Lt("signatureInstructionIndex"),Ps("ethAddressOffset"),Lt("ethAddressInstructionIndex"),Ps("messageDataOffset"),Ps("messageDataSize"),Lt("messageInstructionIndex"),gn(20,"ethAddress"),gn(64,"signature"),Lt("recoveryId")]);new Ke("KeccakSecp256k11111111111111111111111111111");var BP;new Ke("StakeConfig11111111111111111111111111111111");class DP{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}BP=DP;DP.default=new BP(0,0,Ke.default);Object.freeze({Initialize:{index:0,layout:We([Qe("instruction"),ioe(),soe()])},Authorize:{index:1,layout:We([Qe("instruction"),_t("newAuthorized"),Qe("stakeAuthorizationType")])},Delegate:{index:2,layout:We([Qe("instruction")])},Split:{index:3,layout:We([Qe("instruction"),ss("lamports")])},Withdraw:{index:4,layout:We([Qe("instruction"),ss("lamports")])},Deactivate:{index:5,layout:We([Qe("instruction")])},Merge:{index:7,layout:We([Qe("instruction")])},AuthorizeWithSeed:{index:8,layout:We([Qe("instruction"),_t("newAuthorized"),Qe("stakeAuthorizationType"),Ad("authoritySeed"),_t("authorityOwner")])}});new Ke("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:We([Qe("instruction"),ooe()])},Authorize:{index:1,layout:We([Qe("instruction"),_t("newAuthorized"),Qe("voteAuthorizationType")])},Withdraw:{index:3,layout:We([Qe("instruction"),ss("lamports")])},UpdateValidatorIdentity:{index:4,layout:We([Qe("instruction")])},AuthorizeWithSeed:{index:10,layout:We([Qe("instruction"),aoe()])}});new Ke("Vote111111111111111111111111111111111111111");new Ke("Va1idator1nfo111111111111111111111111111111");he({name:_e(),website:Je(_e()),details:Je(_e()),iconUrl:Je(_e()),keybaseUsername:Je(_e())});new Ke("Vote111111111111111111111111111111111111111");We([_t("nodePubkey"),_t("authorizedWithdrawer"),Lt("commission"),jr(),ui(We([jr("slot"),Qe("confirmationCount")]),jl(Qe(),-8),"votes"),Lt("rootSlotValid"),jr("rootSlot"),jr(),ui(We([jr("epoch"),_t("authorizedVoter")]),jl(Qe(),-8),"authorizedVoters"),We([ui(We([_t("authorizedPubkey"),jr("epochOfLastAuthorizedSwitch"),jr("targetEpoch")]),32,"buf"),jr("idx"),Lt("isEmpty")],"priorVoters"),jr(),ui(We([jr("epoch"),jr("credits"),jr("prevCredits")]),jl(Qe(),-8),"epochCredits"),We([jr("slot"),jr("timestamp")],"lastTimestamp")]);const jae=1e9,io={UNIVERSAL_PROVIDER_RELAY_URL:"wss://relay.walletconnect.org",HASH_PREFIX:"SPL Name Service",ROOT_DOMAIN_ACCOUNT:new Ke("58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx"),NAME_PROGRAM_ID:new Ke("namesLPneVptA9Z5rqUDD9tMTWEJwofgaYwp8cawRkX"),REVERSE_LOOKUP_CLASS:new Ke("33m47vH6Eav6jr5Ry86XjhRft2jRBLDnDgPSHoquXi2Z"),DEFAULT_CHAIN:{id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",chainNamespace:Te.CHAIN.SOLANA,nativeCurrency:{name:"Solana",decimals:9,symbol:"SOL"},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},rpcUrls:{default:{http:[`${Te.BLOCKCHAIN_API_RPC_URL}/v1`]}}},CHAIN_IDS:{Mainnet:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",Devnet:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",Testnet:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",Deprecated_Mainnet:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ",Deprecated_Devnet:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"},LAMPORTS_PER_SOL:1e9};class _w extends Error{constructor(e,n){super(e),this.error=n}}class Hae extends _w{constructor(){super(...arguments),this.name="WalletAccountError"}}class qae extends _w{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class nk extends _w{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Vae extends _w{constructor(){super(...arguments),this.name="WalletSignMessageError"}}function Hl(t){return"version"in t}const PP="solana:signAndSendTransaction",Wae="solana:signMessage",J_="solana:signTransaction",$P="standard:connect",Kae="standard:disconnect",MP="standard:events";function Gae(t){return $P in t.features&&MP in t.features&&(PP in t.features||J_ in t.features)}function Yae(t){if(typeof t=="string")return`solana:${t}`}class xw{constructor(){this.listeners={accountsChanged:[],chainChanged:[],connect:[],disconnect:[],pendingTransaction:[],auth_rpcRequest:[],auth_rpcSuccess:[],auth_rpcError:[]}}on(e,n){this.listeners[e].push(n)}removeListener(e,n){this.listeners[e]=this.listeners[e].filter(r=>r!==n)}emit(e,n){this.listeners[e].forEach(r=>r(n))}}class Zae extends xw{constructor(e){super(),this.id=Te.CONNECTOR_ID.AUTH,this.name=Te.CONNECTOR_NAMES.AUTH,this.type="AUTH",this.chain=Te.CHAIN.SOLANA,this.provider=e.w3mFrameProvider,this.requestedChains=e.chains,this.getActiveChain=e.getActiveChain}get publicKey(){const e=this.provider.user?.address;return e?new Ke(e):void 0}get chains(){const e=this.provider.getAvailableChainIds();return this.requestedChains.filter(n=>e.includes(n.caipNetworkId))}async connect(e={}){const n=e.chainId||this.getActiveChain()?.id,r=Ve.state.preferredAccountTypes?.solana;if(await this.provider.connect({chainId:Yae(n),socialUri:e.socialUri,preferredAccountType:r}),!this.publicKey)throw new Error("Failed to connect to the wallet");return this.emit("connect",this.publicKey),this.publicKey.toBase58()}async disconnect(){await this.provider.disconnect(),this.emit("disconnect",void 0)}async signMessage(e){if(!this.publicKey)throw new Error("Wallet not connected");const n=await this.provider.request({method:"solana_signMessage",params:{message:Li.encode(e),pubkey:this.publicKey.toBase58()}});return Li.decode(n.signature)}async signTransaction(e){const n=await this.provider.request({method:"solana_signTransaction",params:{transaction:this.serializeTransaction(e)}}),r=Li.decode(n.transaction);return Hl(e)?Gc.deserialize(r):li.from(r)}async signAndSendTransaction(e,n){const r=this.serializeTransaction(e);return(await this.provider.request({method:"solana_signAndSendTransaction",params:{transaction:r,options:n}})).signature}async sendTransaction(e,n,r){const i=await this.signTransaction(e);return await n.sendRawTransaction(i.serialize(),r)}async signAllTransactions(e){return(await this.provider.request({method:"solana_signAllTransactions",params:{transactions:e.map(r=>this.serializeTransaction(r))}})).transactions.map((r,i)=>{const s=e[i];if(!s)throw new Error("Invalid solana_signAllTransactions response");const o=Li.decode(r);return Hl(s)?Gc.deserialize(o):li.from(o)})}async request(e){return this.provider.request({method:e.method,params:e.params})}async getAccounts(){return this.publicKey?Promise.resolve([{namespace:this.chain,address:this.publicKey.toBase58(),type:"eoa"}]):Promise.resolve([])}serializeTransaction(e){return Li.encode(new Uint8Array(e.serialize({verifySignatures:!1})))}}class Xae extends xw{constructor(e){super(),this.name="Coinbase Wallet",this.id=Ma.ConnectorExplorerIds[Te.CONNECTOR_ID.COINBASE_SDK],this.explorerId=Ma.ConnectorExplorerIds[Te.CONNECTOR_ID.COINBASE_SDK],this.type="ANNOUNCED",this.imageUrl="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.chain=Te.CHAIN.SOLANA,this.provider=this,this.coinbase=e.provider,this.requestedChains=e.chains}get chains(){return this.requestedChains.filter(e=>e.id===bg.id)}get publicKey(){return this.coinbase.publicKey}get imageId(){return Ma.ConnectorImageIds[Te.CONNECTOR_ID.COINBASE]}async connect(){try{await this.coinbase.connect();const e=this.getAccount(!0);return this.coinbase.emit("connect",this.coinbase.publicKey),this.emit("connect",e),e.toBase58()}catch(e){throw this.coinbase.emit("error",e),e}}async disconnect(){await this.coinbase.disconnect(),this.coinbase.emit("disconnect",void 0),this.emit("disconnect",void 0)}async signMessage(e){return(await this.coinbase.signMessage(e)).signature}async signTransaction(e){return this.coinbase.signTransaction(e)}async signAndSendTransaction(e,n){return(await this.coinbase.signAndSendTransaction(e,n)).signature}async sendTransaction(e,n,r){const i=await this.signTransaction(e);return await n.sendRawTransaction(i.serialize(),r)}async signAllTransactions(e){return await this.coinbase.signAllTransactions(e)}async request(e){return Promise.reject(new Error('The "request" method is not supported on Coinbase Wallet'))}async getAccounts(){const e=this.getAccount();return e?Promise.resolve([{namespace:this.chain,address:e.toBase58(),type:"eoa"}]):Promise.resolve([])}getAccount(e){const n=this.coinbase.publicKey;if(e&&!n)throw new Error("Not connected");return n}}class rk extends Error{constructor(e){super(`The wallet does not support the "${e}" feature`)}}class ik extends Error{constructor(e){super(`The method "${e}" is not supported by the wallet`)}}class sk extends XS{constructor({provider:e,chains:n,getActiveChain:r}){super({caipNetworks:n,namespace:"solana",provider:e}),this.eventEmitter=new xw,this.emit=this.eventEmitter.emit.bind(this.eventEmitter),this.on=this.eventEmitter.on.bind(this.eventEmitter),this.removeListener=this.eventEmitter.removeListener.bind(this.eventEmitter),this.getActiveChain=r}get session(){return this.provider.session}get chains(){return this.sessionChains.map(e=>{let n=e;return n===io.CHAIN_IDS.Deprecated_Mainnet?n=io.CHAIN_IDS.Mainnet:n===io.CHAIN_IDS.Deprecated_Devnet&&(n=io.CHAIN_IDS.Devnet),this.caipNetworks.find(r=>r.caipNetworkId===n)}).filter(Boolean)}get publicKey(){const e=this.getAccount(!1);if(e)return new Ke(e.publicKey)}async connect(){await super.connectWalletConnect();const e=this.getAccount(!0);return this.emit("connect",new Ke(e.publicKey)),e.address}async disconnect(){await super.disconnect(),this.emit("disconnect",void 0)}async signMessage(e){this.checkIfMethodIsSupported("solana_signMessage");const n=await this.internalRequest("solana_signMessage",{message:Li.encode(e),pubkey:this.getAccount(!0).address});return Li.decode(n.signature)}async signTransaction(e){this.checkIfMethodIsSupported("solana_signTransaction");const n=this.serializeTransaction(e),r=await this.internalRequest("solana_signTransaction",{transaction:n,pubkey:this.getAccount(!0).address,...this.getRawRPCParams(e)});if("signature"in r){const s=Li.decode(r.signature);return e.addSignature(new Ke(this.getAccount(!0).publicKey),Buffer.from(s)),e}const i=Buffer.from(r.transaction,"base64");return Hl(e)?Gc.deserialize(new Uint8Array(i)):li.from(i)}async signAndSendTransaction(e,n){this.checkIfMethodIsSupported("solana_signAndSendTransaction");const r=this.serializeTransaction(e),i=await this.internalRequest("solana_signAndSendTransaction",{transaction:r,pubkey:this.getAccount(!0).address,sendOptions:n});return this.emit("pendingTransaction",void 0),i.signature}async sendTransaction(e,n,r){const i=await this.signTransaction(e),s=await n.sendRawTransaction(i.serialize(),r);return this.emit("pendingTransaction",void 0),s}async signAllTransactions(e){try{return this.checkIfMethodIsSupported("solana_signAllTransactions"),(await this.internalRequest("solana_signAllTransactions",{transactions:e.map(r=>this.serializeTransaction(r))})).transactions.map((r,i)=>{const s=e[i];if(!s)throw new Error("Invalid transactions response");const o=Buffer.from(r,"base64");return Hl(s)?Gc.deserialize(new Uint8Array(o)):(this.emit("pendingTransaction",void 0),li.from(o))})}catch(n){if(n instanceof ik){const r=[];for(const i of e)r.push(await this.signTransaction(i));return r}throw n}}request(e){return this.internalRequest(e.method,e.params)}async getAccounts(){const e=this.session?.namespaces.solana?.accounts||[];return Promise.resolve(e.map(n=>({namespace:this.chain,address:ma.parseCaipAddress(n).address,type:"eoa"})))}internalRequest(e,n){let i=this.chains.find(s=>this.getActiveChain()?.id===s.id)?.caipNetworkId;switch(i){case io.CHAIN_IDS.Mainnet:this.sessionChains.includes(io.CHAIN_IDS.Mainnet)||(i=io.CHAIN_IDS.Deprecated_Mainnet);break;case io.CHAIN_IDS.Devnet:this.sessionChains.includes(io.CHAIN_IDS.Devnet)||(i=io.CHAIN_IDS.Deprecated_Devnet);break}return this.provider?.request({method:e,params:n},i)}get sessionChains(){return sp.getChainsFromNamespaces(this.session?.namespaces)}serializeTransaction(e){return Buffer.from(new Uint8Array(e.serialize({verifySignatures:!1}))).toString("base64")}getAccount(e){const n=this.session?.namespaces.solana?.accounts[0];if(!n){if(e)throw new Error("Account not found");return}const r=n.split(":")[2];if(!r){if(e)throw new Error("Address not found");return}return{address:r,publicKey:Li.decode(r)}}getRawRPCParams(e){return Hl(e)?{}:{feePayer:e.feePayer?.toBase58()??"",instructions:e.instructions.map(n=>({data:Li.encode(new Uint8Array(n.data)),keys:n.keys.map(r=>({isWritable:r.isWritable,isSigner:r.isSigner,pubkey:r.pubkey.toBase58()})),programId:n.programId.toBase58()})),recentBlockhash:e.recentBlockhash??""}}checkIfMethodIsSupported(e){if(!this.session?.namespaces.solana?.methods.includes(e))throw new ik(e)}}const ok={UNIT_PRICE_MICRO_LAMPORTS:2e7,UNIT_LIMIT:500};async function ak({provider:t,to:e,value:n,connection:r}){if(!t.publicKey)throw Error("No public key found");const i=new Ke(e),s=Math.floor(n*jae),{blockhash:o,lastValidBlockHeight:a}=await r.getLatestBlockhash(),c=[Q_.setComputeUnitPrice({microLamports:ok.UNIT_PRICE_MICRO_LAMPORTS}),Q_.setComputeUnitLimit({units:ok.UNIT_LIMIT}),Eg.transfer({fromPubkey:t.publicKey,toPubkey:i,lamports:s})];return new li({feePayer:t.publicKey,blockhash:o,lastValidBlockHeight:a}).add(...c)}var Qae=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Jae=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},cy;let Ef;const Sw=new Set;function ece(t){op=void 0,Sw.add(t)}function tce(t){op=void 0,Sw.delete(t)}const Cd={};function nce(){if(Ef||(Ef=Object.freeze({register:ck,get:rce,on:ice}),typeof window>"u"))return Ef;const t=Object.freeze({register:ck});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new sce(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Ef}function ck(...t){return t=t.filter(e=>!Sw.has(e)),t.length?(t.forEach(e=>ece(e)),Cd.register?.forEach(e=>lk(()=>e(...t))),function(){t.forEach(n=>tce(n)),Cd.unregister?.forEach(n=>lk(()=>n(...t)))}):()=>{}}let op;function rce(){return op||(op=[...Sw]),op}function ice(t,e){return Cd[t]?.push(e)||(Cd[t]=[e]),function(){Cd[t]=Cd[t]?.filter(r=>e!==r)}}function lk(t){try{t()}catch(e){console.error(e)}}class sce extends Event{get detail(){return Qae(this,cy,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),cy.set(this,void 0),Jae(this,cy,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}cy=new WeakMap;function oce(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const uk={"solana:mainnet":bg,"solana:testnet":Tre,"solana:devnet":Ky};class ace extends xw{constructor({wallet:e,getActiveChain:n,requestedChains:r}){super(),this.chain=Te.CHAIN.SOLANA,this.provider=this,this.wallet=e,this.getActiveChain=n,this.requestedChains=r,this.bindEvents()}get id(){const e=this.name;return Ma.ConnectorExplorerIds[e]||e}get name(){return this.wallet.name==="Trust"?"Trust Wallet":this.wallet.name}get type(){return"ANNOUNCED"}get explorerId(){return Ma.ConnectorExplorerIds[this.name]}get publicKey(){const e=this.getAccount(!1);if(e)return new Ke(e.publicKey)}get imageUrl(){return this.wallet.icon}get chains(){return this.wallet.chains.map(e=>this.requestedChains.find(n=>n.id===e||n.id===uk[e]?.id)).filter(Boolean)}async connect(){await this.getWalletFeature($P).connect();const n=this.getAccount(!0),r=new Ke(n.publicKey);return this.emit("connect",r),n.address}async disconnect(){await this.getWalletFeature(Kae).disconnect(),this.emit("disconnect",void 0)}async signMessage(e){const n=this.getWalletFeature(Wae),r=this.getAccount(!0),[i]=await n.signMessage({message:e,account:r});if(!i)throw new Vae("Empty result");return i.signature}async signTransaction(e){const n=this.getWalletFeature(J_),r=this.getAccount(!0),i=this.serializeTransaction(e),[s]=await n.signTransaction({account:r,transaction:new Uint8Array(i),chain:this.getActiveChainName()});if(!s)throw new nk("Empty result");return this.emit("pendingTransaction",void 0),Hl(e)?Gc.deserialize(s.signedTransaction):li.from(s.signedTransaction)}async signAndSendTransaction(e,n){const r=this.getWalletFeature(PP),i=this.getAccount(!0),[s]=await r.signAndSendTransaction({account:i,transaction:new Uint8Array(this.serializeTransaction(e)),options:{...n,preflightCommitment:oce(n?.preflightCommitment)},chain:this.getActiveChainName()});if(!s)throw new qae("Empty result");return this.emit("pendingTransaction",void 0),Li.encode(s.signature)}async sendTransaction(e,n,r){const i=await this.signTransaction(e);return await n.sendRawTransaction(i.serialize(),r)}async signAllTransactions(e){const n=this.getWalletFeature(J_),r=this.getAccount(!0),i=this.getActiveChainName();return(await n.signTransaction(...e.map(o=>({transaction:new Uint8Array(this.serializeTransaction(o)),account:r,chain:i})))).map(({signedTransaction:o},a)=>{const c=e[a];if(!c)throw new nk("Invalid transaction signature response");return this.emit("pendingTransaction",void 0),Hl(c)?Gc.deserialize(o):li.from(o)})}async request(e){return Promise.reject(new rk("request"))}async getAccounts(){return Promise.resolve(this.wallet.accounts.map(e=>({namespace:this.chain,address:e.address,type:"eoa"})))}serializeTransaction(e){return e.serialize({verifySignatures:!1})}getAccount(e){const n=this.wallet.accounts[0];if(e&&!n)throw new Hae;return n}getWalletFeature(e){if(!(e in this.wallet.features))throw new rk(e);return this.wallet.features[e]}getActiveChainName(){const e=Object.entries(uk).find(([,n])=>n.id===this.getActiveChain()?.id);if(!e)throw new Error("Invalid chain id");return e[0]}bindEvents(){this.getWalletFeature(MP).on("change",n=>{if(n.accounts){const r=n.accounts[0];r&&this.emit("accountsChanged",new Ke(r.publicKey))}})}}const{get:cce,on:dk}=nce();let ac=[];function lce(t,e,n){const r=[dk("register",(...i)=>{ac=[...ac,...hk(i,t,e)],n(...ac)}),dk("unregister",(...i)=>{ac=ac.filter(s=>i.some(o=>o.name===s.wallet.name)),n(...ac)})];return ac=hk(cce(),t,e),n(...ac),()=>r.forEach(i=>i())}function hk(t,e,n){return t.filter(Gae).map(r=>new ace({wallet:r,requestedChains:e,getActiveChain:n}))}class uce extends fD{constructor(e={}){super({adapterType:Te.ADAPTER_TYPES.SOLANA,namespace:Te.CHAIN.SOLANA}),this.balancePromises={},this.providerHandlers=null,this.connectionSettings=e.connectionSettings||"confirmed",this.wallets=e.wallets}construct(e){super.construct(e);const n=Pe.getActiveCaipNetworkId(),i=(e.networks?.find(s=>s.caipNetworkId===n)||e.networks?.[0])?.rpcUrls.default.http[0];i&&sd.setConnection(new vf(i,this.connectionSettings))}setAuthProvider(e){this.addConnector(new Zae({w3mFrameProvider:e,getActiveChain:()=>Z.getCaipNetworkByNamespace(this.namespace),chains:this.getCaipNetworks()}))}syncConnectors(e,n){e.projectId||Po.open(ao.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");const r=()=>n.getCaipNetwork(this.namespace);rt.isClient()&&"coinbaseSolana"in window&&this.addConnector(new Xae({provider:window.coinbaseSolana,chains:this.getCaipNetworks(),getActiveChain:r})),lce(this.getCaipNetworks(),r,this.addConnector.bind(this))}async writeContract(){return Promise.resolve({hash:""})}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async walletGetAssets(e){return Promise.resolve({})}async getAccounts(e){const n=this.connectors.find(r=>r.id===e.id);return n?{accounts:await n.getAccounts()}:{accounts:[]}}async signMessage(e){const n=e.provider;if(!n)throw new Error("connectionControllerClient:signMessage - provider is undefined");const r=await n.signMessage(new TextEncoder().encode(e.message));return{signature:Li.encode(r)}}async estimateGas(e){const n=sd.state.connection;if(!n||!e.provider)throw new Error("Connection is not set");const i=await(await ak({provider:e.provider,connection:n,to:"11111111111111111111111111111111",value:1})).getEstimatedFee(n);return{gas:BigInt(i||0)}}async sendTransaction(e){const n=sd.state.connection;if(!n||!e.provider)throw new Error("Connection is not set");const r=e.provider,i=await ak({provider:r,connection:n,to:e.to,value:Number.isNaN(Number(e.value))?0:Number(e.value)}),s=await r.sendTransaction(i,n);return await new Promise(o=>{const a=setInterval(async()=>{(await n.getSignatureStatus(s))?.value&&(clearInterval(a),o())},1e3)}),{hash:s}}parseUnits(){return 0n}formatUnits(){return""}async connect(e){const n=this.connectors.find(s=>s.id===e.id);if(!n)throw new Error("Provider not found");const r=e.rpcUrl||this.getCaipNetworks()?.find(s=>s.id===e.chainId)?.rpcUrls.default.http[0];if(!r)throw new Error(`RPC URL not found for chainId: ${e.chainId}`);const i=await n.connect({chainId:e.chainId,socialUri:e.socialUri});return this.listenProviderEvents(n),sd.setConnection(new vf(r,this.connectionSettings)),this.emit("accountChanged",{address:i,chainId:e.chainId}),{id:n.id,address:i,chainId:e.chainId,provider:n,type:n.type}}async getBalance(e){const n=e.address,r=this.getCaipNetworks()?.find(c=>c.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"SOL"});const i=new vf(r?.rpcUrls?.default?.http?.[0],this.connectionSettings),s=`${r?.caipNetworkId}:${e.address}`,o=this.balancePromises[s];if(o)return o;const a=Pe.getNativeBalanceCacheForCaipAddress(s);return a?{balance:a.balance,symbol:a.symbol}:(this.balancePromises[s]=new Promise(async c=>{try{const h=(await i.getBalance(new Ke(n))/io.LAMPORTS_PER_SOL).toString();if(Pe.updateNativeBalanceCache({caipAddress:s,balance:h,symbol:e.caipNetwork?.nativeCurrency.symbol||"SOL",timestamp:Date.now()}),!e.caipNetwork)throw new Error("caipNetwork is required");c({balance:h,symbol:e.caipNetwork?.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"SOL"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"SOL"})}async switchNetwork(e){await super.switchNetwork(e);const{caipNetwork:n}=e;n?.rpcUrls?.default?.http?.[0]&&sd.setConnection(new vf(n.rpcUrls.default.http[0],this.connectionSettings))}listenProviderEvents(e){const n=()=>{this.removeProviderListeners(e),this.emit("disconnect")},r=i=>{const s=i.toBase58();s&&this.emit("accountChanged",{address:s})};e.on("disconnect",n),e.on("accountsChanged",r),e.on("connect",r),e.on("pendingTransaction",()=>{this.emit("pendingTransactions")}),this.providerHandlers={disconnect:n,accountsChanged:r}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("connect",this.providerHandlers.accountsChanged),this.providerHandlers=null)}setUniversalProvider(e){this.addConnector(new sk({provider:e,chains:this.getCaipNetworks(),getActiveChain:()=>Z.getCaipNetworkByNamespace(this.namespace)}))}async connectWalletConnect(e){const n=await super.connectWalletConnect(e),r=this.getCaipNetworks()?.find(s=>s.id===e)?.rpcUrls.default.http[0],i=new vf(r,this.connectionSettings);return sd.setConnection(i),n}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");await e.provider.disconnect()}async syncConnection(e){return this.connect({...e,type:""})}getWalletConnectProvider(e){return new sk({provider:e.provider,chains:e.caipNetworks,getActiveChain:()=>Z.getCaipNetworkByNamespace(this.namespace)})}}var UP={exports:{}},Aw={},LP={exports:{}},zP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(v,O){var B=v.length;v.push(O);e:for(;0<B;){var R=B-1>>>1,M=v[R];if(0<i(M,O))v[R]=O,v[B]=M,B=R;else break e}}function n(v){return v.length===0?null:v[0]}function r(v){if(v.length===0)return null;var O=v[0],B=v.pop();if(B!==O){v[0]=B;e:for(var R=0,M=v.length,k=M>>>1;R<k;){var E=2*(R+1)-1,U=v[E],Q=E+1,te=v[Q];if(0>i(U,B))Q<M&&0>i(te,U)?(v[R]=te,v[Q]=B,R=Q):(v[R]=U,v[E]=B,R=E);else if(Q<M&&0>i(te,B))v[R]=te,v[Q]=B,R=Q;else break e}}return O}function i(v,O){var B=v.sortIndex-O.sortIndex;return B!==0?B:v.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,g=3,m=!1,_=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function I(v){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=v)r(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(u)}}function P(v){if(x=!1,I(v),!_)if(n(c)!==null)_=!0,w();else{var O=n(u);O!==null&&b(P,O.startTime-v)}}var z=!1,W=-1,L=5,V=-1;function q(){return!(t.unstable_now()-V<L)}function X(){if(z){var v=t.unstable_now();V=v;var O=!0;try{e:{_=!1,x&&(x=!1,S(W),W=-1),m=!0;var B=g;try{t:{for(I(v),f=n(c);f!==null&&!(f.expirationTime>v&&q());){var R=f.callback;if(typeof R=="function"){f.callback=null,g=f.priorityLevel;var M=R(f.expirationTime<=v);if(v=t.unstable_now(),typeof M=="function"){f.callback=M,I(v),O=!0;break t}f===n(c)&&r(c),I(v)}else r(c);f=n(c)}if(f!==null)O=!0;else{var k=n(u);k!==null&&b(P,k.startTime-v),O=!1}}break e}finally{f=null,g=B,m=!1}O=void 0}}finally{O?Y():z=!1}}}var Y;if(typeof C=="function")Y=function(){C(X)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,j=ee.port2;ee.port1.onmessage=X,Y=function(){j.postMessage(null)}}else Y=function(){T(X,0)};function w(){z||(z=!0,Y())}function b(v,O){W=T(function(){v(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(v){v.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,w())},t.unstable_forceFrameRate=function(v){0>v||125<v?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<v?Math.floor(1e3/v):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(v){switch(g){case 1:case 2:case 3:var O=3;break;default:O=g}var B=g;g=O;try{return v()}finally{g=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(v,O){switch(v){case 1:case 2:case 3:case 4:case 5:break;default:v=3}var B=g;g=v;try{return O()}finally{g=B}},t.unstable_scheduleCallback=function(v,O,B){var R=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?R+B:R):B=R,v){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,v={id:h++,callback:O,priorityLevel:v,startTime:B,expirationTime:M,sortIndex:-1},B>R?(v.sortIndex=B,e(u,v),n(c)===null&&v===n(u)&&(x?(S(W),W=-1):x=!0,b(P,B-R))):(v.sortIndex=M,e(c,v),_||m||(_=!0,w())),v},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(v){var O=g;return function(){var B=g;g=O;try{return v.apply(this,arguments)}finally{g=B}}}})(zP);LP.exports=zP;var dce=LP.exports,FP={exports:{}},Ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hce=qi;function jP(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function cc(){}var _i={d:{f:cc,r:function(){throw Error(jP(522))},D:cc,C:cc,L:cc,m:cc,X:cc,S:cc,M:cc},p:0,findDOMNode:null},fce=Symbol.for("react.portal");function pce(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fce,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var ap=hce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cw(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_i;Ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(jP(299));return pce(t,e,null,n)};Ti.flushSync=function(t){var e=ap.T,n=_i.p;try{if(ap.T=null,_i.p=2,t)return t()}finally{ap.T=e,_i.p=n,_i.d.f()}};Ti.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,_i.d.C(t,e))};Ti.prefetchDNS=function(t){typeof t=="string"&&_i.d.D(t)};Ti.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Cw(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?_i.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&_i.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ti.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Cw(e.as,e.crossOrigin);_i.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&_i.d.M(t)};Ti.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Cw(n,e.crossOrigin);_i.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ti.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Cw(e.as,e.crossOrigin);_i.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else _i.d.m(t)};Ti.requestFormReset=function(t){_i.d.r(t)};Ti.unstable_batchedUpdates=function(t,e){return t(e)};Ti.useFormState=function(t,e,n){return ap.H.useFormState(t,e,n)};Ti.useFormStatus=function(){return ap.H.useHostTransitionStatus()};Ti.version="19.0.0";function HP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HP)}catch(t){console.error(t)}}HP(),FP.exports=Ti;var vA=FP.exports;const gce=Ks(vA);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wr=dce,qP=qi,mce=vA;function ue(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function VP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var yce=Symbol.for("react.element"),C0=Symbol.for("react.transitional.element"),zf=Symbol.for("react.portal"),Td=Symbol.for("react.fragment"),WP=Symbol.for("react.strict_mode"),ex=Symbol.for("react.profiler"),bce=Symbol.for("react.provider"),KP=Symbol.for("react.consumer"),ka=Symbol.for("react.context"),EA=Symbol.for("react.forward_ref"),tx=Symbol.for("react.suspense"),nx=Symbol.for("react.suspense_list"),_A=Symbol.for("react.memo"),fc=Symbol.for("react.lazy"),GP=Symbol.for("react.offscreen"),wce=Symbol.for("react.memo_cache_sentinel"),fk=Symbol.iterator;function _f(t){return t===null||typeof t!="object"?null:(t=fk&&t[fk]||t["@@iterator"],typeof t=="function"?t:null)}var vce=Symbol.for("react.client.reference");function rx(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Td:return"Fragment";case zf:return"Portal";case ex:return"Profiler";case WP:return"StrictMode";case tx:return"Suspense";case nx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ka:return(t.displayName||"Context")+".Provider";case KP:return(t._context.displayName||"Context")+".Consumer";case EA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _A:return e=t.displayName||null,e!==null?e:rx(t.type)||"Memo";case fc:e=t._payload,t=t._init;try{return rx(t(e))}catch{}}return null}var gt=qP.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vn=Object.assign,H1,pk;function Ff(t){if(H1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);H1=e&&e[1]||"",pk=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H1+t+pk}var q1=!1;function V1(t,e){if(!t||q1)return"";q1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var g=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){g=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){g=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&g&&typeof m.stack=="string")return[m.stack,g.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var c=o.split(`
`),u=a.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var h=`
`+c[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{q1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ff(n):""}function Ece(t){switch(t.tag){case 26:case 27:case 5:return Ff(t.type);case 16:return Ff("Lazy");case 13:return Ff("Suspense");case 19:return Ff("SuspenseList");case 0:case 15:return t=V1(t.type,!1),t;case 11:return t=V1(t.type.render,!1),t;case 1:return t=V1(t.type,!0),t;default:return""}}function gk(t){try{var e="";do e+=Ece(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Kh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mk(t){if(Kh(t)!==t)throw Error(ue(188))}function _ce(t){var e=t.alternate;if(!e){if(e=Kh(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return mk(i),t;if(s===r)return mk(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function ZP(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=ZP(t),e!==null)return e;t=t.sibling}return null}var jf=Array.isArray,bn=mce.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ql={pending:!1,data:null,method:null,action:null},ix=[],Id=-1;function ea(t){return{current:t}}function Dr(t){0>Id||(t.current=ix[Id],ix[Id]=null,Id--)}function xn(t,e){Id++,ix[Id]=t.current,t.current=e}var Ho=ea(null),xg=ea(null),Dc=ea(null),rb=ea(null);function ib(t,e){switch(xn(Dc,e),xn(xg,t),xn(Ho,null),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)&&(e=e.namespaceURI)?yN(e):0;break;default:if(t=t===8?e.parentNode:e,e=t.tagName,t=t.namespaceURI)t=yN(t),e=c5(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Dr(Ho),xn(Ho,e)}function Eh(){Dr(Ho),Dr(xg),Dr(Dc)}function sx(t){t.memoizedState!==null&&xn(rb,t);var e=Ho.current,n=c5(e,t.type);e!==n&&(xn(xg,t),xn(Ho,n))}function sb(t){xg.current===t&&(Dr(Ho),Dr(xg)),rb.current===t&&(Dr(rb),Dg._currentValue=ql)}var ox=Object.prototype.hasOwnProperty,xA=wr.unstable_scheduleCallback,W1=wr.unstable_cancelCallback,xce=wr.unstable_shouldYield,Sce=wr.unstable_requestPaint,qo=wr.unstable_now,Ace=wr.unstable_getCurrentPriorityLevel,XP=wr.unstable_ImmediatePriority,QP=wr.unstable_UserBlockingPriority,ob=wr.unstable_NormalPriority,Cce=wr.unstable_LowPriority,JP=wr.unstable_IdlePriority,Tce=wr.log,Ice=wr.unstable_setDisableYieldValue,vm=null,hs=null;function Rce(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(vm,t,void 0,(t.current.flags&128)===128)}catch{}}function Cc(t){if(typeof Tce=="function"&&Ice(t),hs&&typeof hs.setStrictMode=="function")try{hs.setStrictMode(vm,t)}catch{}}var fs=Math.clz32?Math.clz32:Oce,kce=Math.log,Nce=Math.LN2;function Oce(t){return t>>>=0,t===0?32:31-(kce(t)/Nce|0)|0}var T0=128,I0=4194304;function ml(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=t.warmLanes;t=t.finishedLanes!==0;var a=n&134217727;return a!==0?(n=a&~i,n!==0?r=ml(n):(s&=a,s!==0?r=ml(s):t||(o=a&~o,o!==0&&(r=ml(o))))):(a=n&~i,a!==0?r=ml(a):s!==0?r=ml(s):t||(o=n&~o,o!==0&&(r=ml(o)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===32&&(o&4194176)!==0)?e:r}function Em(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Bce(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e6(){var t=T0;return T0<<=1,!(T0&4194176)&&(T0=128),t}function t6(){var t=I0;return I0<<=1,!(I0&62914560)&&(I0=4194304),t}function K1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _m(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Dce(t,e,n,r,i,s){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var a=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var h=31-fs(n),f=1<<h;a[h]=0,c[h]=-1;var g=u[h];if(g!==null)for(u[h]=null,h=0;h<g.length;h++){var m=g[h];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&n6(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(o&~e))}function n6(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-fs(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194218}function r6(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function i6(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function s6(){var t=bn.p;return t!==0?t:(t=window.event,t===void 0?32:b5(t.type))}function Pce(t,e){var n=bn.p;try{return bn.p=t,e()}finally{bn.p=n}}var il=Math.random().toString(36).slice(2),di="__reactFiber$"+il,Vi="__reactProps$"+il,Gh="__reactContainer$"+il,ax="__reactEvents$"+il,$ce="__reactListeners$"+il,Mce="__reactHandles$"+il,yk="__reactResources$"+il,Sg="__reactMarker$"+il;function SA(t){delete t[di],delete t[Vi],delete t[ax],delete t[$ce],delete t[Mce]}function Ol(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gh]||n[di]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wN(t);t!==null;){if(n=t[di])return n;t=wN(t)}return e}t=n,n=t.parentNode}return null}function Yh(t){if(t=t[di]||t[Gh]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Hf(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(ue(33))}function Vd(t){var e=t[yk];return e||(e=t[yk]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Rr(t){t[Sg]=!0}var o6=new Set,a6={};function Cu(t,e){_h(t,e),_h(t+"Capture",e)}function _h(t,e){for(a6[t]=e,t=0;t<e.length;t++)o6.add(e[t])}var Ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uce=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bk={},wk={};function Lce(t){return ox.call(wk,t)?!0:ox.call(bk,t)?!1:Uce.test(t)?wk[t]=!0:(bk[t]=!0,!1)}function ly(t,e,n){if(Lce(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function R0(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function ha(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function $s(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zce(t){var e=c6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ab(t){t._valueTracker||(t._valueTracker=zce(t))}function l6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=c6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fce=/[\n"\\]/g;function Ls(t){return t.replace(Fce,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cx(t,e,n,r,i,s,o,a){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+$s(e)):t.value!==""+$s(e)&&(t.value=""+$s(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?lx(t,o,$s(e)):n!=null?lx(t,o,$s(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.name=""+$s(a):t.removeAttribute("name")}function u6(t,e,n,r,i,s,o,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+$s(n):"",e=e!=null?""+$s(e):n,a||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=a?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o)}function lx(t,e,n){e==="number"&&cb(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Wd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$s(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function d6(t,e,n){if(e!=null&&(e=""+$s(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+$s(n):""}function h6(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(ue(92));if(jf(r)){if(1<r.length)throw Error(ue(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=$s(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function xh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jce=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vk(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||jce.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function f6(t,e,n){if(e!=null&&typeof e!="object")throw Error(ue(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&vk(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&vk(t,s,e[s])}function AA(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hce=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qce=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uy(t){return qce.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ux=null;function CA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rd=null,Kd=null;function Ek(t){var e=Yh(t);if(e&&(t=e.stateNode)){var n=t[Vi]||null;e:switch(t=e.stateNode,e.type){case"input":if(cx(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ls(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Vi]||null;if(!i)throw Error(ue(90));cx(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&l6(r)}break e;case"textarea":d6(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Wd(t,!!n.multiple,e,!1)}}}var G1=!1;function p6(t,e,n){if(G1)return t(e,n);G1=!0;try{var r=t(e);return r}finally{if(G1=!1,(Rd!==null||Kd!==null)&&(Mw(),Rd&&(e=Rd,t=Kd,Kd=Rd=null,Ek(e),t)))for(e=0;e<t.length;e++)Ek(t[e])}}function Ag(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Vi]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var dx=!1;if(Ha)try{var xf={};Object.defineProperty(xf,"passive",{get:function(){dx=!0}}),window.addEventListener("test",xf,xf),window.removeEventListener("test",xf,xf)}catch{dx=!1}var Tc=null,TA=null,dy=null;function g6(){if(dy)return dy;var t,e=TA,n=e.length,r,i="value"in Tc?Tc.value:Tc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return dy=i.slice(t,1<r?1-r:void 0)}function hy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function k0(){return!0}function _k(){return!1}function Yi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?k0:_k,this.isPropagationStopped=_k,this}return vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=k0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=k0)},persist:function(){},isPersistent:k0}),e}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iw=Yi(Tu),xm=vn({},Tu,{view:0,detail:0}),Vce=Yi(xm),Y1,Z1,Sf,Rw=vn({},xm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sf&&(Sf&&t.type==="mousemove"?(Y1=t.screenX-Sf.screenX,Z1=t.screenY-Sf.screenY):Z1=Y1=0,Sf=t),Y1)},movementY:function(t){return"movementY"in t?t.movementY:Z1}}),xk=Yi(Rw),Wce=vn({},Rw,{dataTransfer:0}),Kce=Yi(Wce),Gce=vn({},xm,{relatedTarget:0}),X1=Yi(Gce),Yce=vn({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),Zce=Yi(Yce),Xce=vn({},Tu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qce=Yi(Xce),Jce=vn({},Tu,{data:0}),Sk=Yi(Jce),ele={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nle[t])?!!e[t]:!1}function IA(){return rle}var ile=vn({},xm,{key:function(t){if(t.key){var e=ele[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tle[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IA,charCode:function(t){return t.type==="keypress"?hy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sle=Yi(ile),ole=vn({},Rw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ak=Yi(ole),ale=vn({},xm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IA}),cle=Yi(ale),lle=vn({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ule=Yi(lle),dle=vn({},Rw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hle=Yi(dle),fle=vn({},Tu,{newState:0,oldState:0}),ple=Yi(fle),gle=[9,13,27,32],RA=Ha&&"CompositionEvent"in window,cp=null;Ha&&"documentMode"in document&&(cp=document.documentMode);var mle=Ha&&"TextEvent"in window&&!cp,m6=Ha&&(!RA||cp&&8<cp&&11>=cp),Ck=" ",Tk=!1;function y6(t,e){switch(t){case"keyup":return gle.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b6(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kd=!1;function yle(t,e){switch(t){case"compositionend":return b6(e);case"keypress":return e.which!==32?null:(Tk=!0,Ck);case"textInput":return t=e.data,t===Ck&&Tk?null:t;default:return null}}function ble(t,e){if(kd)return t==="compositionend"||!RA&&y6(t,e)?(t=g6(),dy=TA=Tc=null,kd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m6&&e.locale!=="ko"?null:e.data;default:return null}}var wle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ik(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wle[t.type]:e==="textarea"}function w6(t,e,n,r){Rd?Kd?Kd.push(r):Kd=[r]:Rd=r,e=Sb(e,"onChange"),0<e.length&&(n=new Iw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lp=null,Cg=null;function vle(t){s5(t,0)}function kw(t){var e=Hf(t);if(l6(e))return t}function Rk(t,e){if(t==="change")return e}var v6=!1;if(Ha){var Q1;if(Ha){var J1="oninput"in document;if(!J1){var kk=document.createElement("div");kk.setAttribute("oninput","return;"),J1=typeof kk.oninput=="function"}Q1=J1}else Q1=!1;v6=Q1&&(!document.documentMode||9<document.documentMode)}function Nk(){lp&&(lp.detachEvent("onpropertychange",E6),Cg=lp=null)}function E6(t){if(t.propertyName==="value"&&kw(Cg)){var e=[];w6(e,Cg,t,CA(t)),p6(vle,e)}}function Ele(t,e,n){t==="focusin"?(Nk(),lp=e,Cg=n,lp.attachEvent("onpropertychange",E6)):t==="focusout"&&Nk()}function _le(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kw(Cg)}function xle(t,e){if(t==="click")return kw(e)}function Sle(t,e){if(t==="input"||t==="change")return kw(e)}function Ale(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ys=typeof Object.is=="function"?Object.is:Ale;function Tg(t,e){if(ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ox.call(e,i)||!ys(t[i],e[i]))return!1}return!0}function Ok(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bk(t,e){var n=Ok(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ok(n)}}function _6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function x6(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=cb(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cb(t.document)}return e}function kA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cle(t,e){var n=x6(e);e=t.focusedElem;var r=t.selectionRange;if(n!==e&&e&&e.ownerDocument&&_6(e.ownerDocument.documentElement,e)){if(r!==null&&kA(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Bk(e,s);var o=Bk(e,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(t),n.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Tle=Ha&&"documentMode"in document&&11>=document.documentMode,Nd=null,hx=null,up=null,fx=!1;function Dk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fx||Nd==null||Nd!==cb(r)||(r=Nd,"selectionStart"in r&&kA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),up&&Tg(up,r)||(up=r,r=Sb(hx,"onSelect"),0<r.length&&(e=new Iw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Nd)))}function fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Od={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionrun:fl("Transition","TransitionRun"),transitionstart:fl("Transition","TransitionStart"),transitioncancel:fl("Transition","TransitionCancel"),transitionend:fl("Transition","TransitionEnd")},eE={},S6={};Ha&&(S6=document.createElement("div").style,"AnimationEvent"in window||(delete Od.animationend.animation,delete Od.animationiteration.animation,delete Od.animationstart.animation),"TransitionEvent"in window||delete Od.transitionend.transition);function Iu(t){if(eE[t])return eE[t];if(!Od[t])return t;var e=Od[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in S6)return eE[t]=e[n];return t}var A6=Iu("animationend"),C6=Iu("animationiteration"),T6=Iu("animationstart"),Ile=Iu("transitionrun"),Rle=Iu("transitionstart"),kle=Iu("transitioncancel"),I6=Iu("transitionend"),R6=new Map,Pk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xo(t,e){R6.set(t,e),Cu(e,[t])}var Ds=[],Bd=0,NA=0;function Nw(){for(var t=Bd,e=NA=Bd=0;e<t;){var n=Ds[e];Ds[e++]=null;var r=Ds[e];Ds[e++]=null;var i=Ds[e];Ds[e++]=null;var s=Ds[e];if(Ds[e++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}s!==0&&k6(n,i,s)}}function Ow(t,e,n,r){Ds[Bd++]=t,Ds[Bd++]=e,Ds[Bd++]=n,Ds[Bd++]=r,NA|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function OA(t,e,n,r){return Ow(t,e,n,r),lb(t)}function Yc(t,e){return Ow(t,null,null,e),lb(t)}function k6(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;i&&e!==null&&t.tag===3&&(s=t.stateNode,i=31-fs(n),s=s.hiddenUpdates,t=s[i],t===null?s[i]=[e]:t.push(e),e.lane=n|536870912)}function lb(t){if(50<_p)throw _p=0,Px=null,Error(ue(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Dd={},$k=new WeakMap;function zs(t,e){if(typeof t=="object"&&t!==null){var n=$k.get(t);return n!==void 0?n:(e={value:t,source:e,stack:gk(e)},$k.set(t,e),e)}return{value:t,source:e,stack:gk(e)}}var Pd=[],$d=0,ub=null,db=0,Ms=[],Us=0,Vl=null,Na=1,Oa="";function yl(t,e){Pd[$d++]=db,Pd[$d++]=ub,ub=t,db=e}function N6(t,e,n){Ms[Us++]=Na,Ms[Us++]=Oa,Ms[Us++]=Vl,Vl=t;var r=Na;t=Oa;var i=32-fs(r)-1;r&=~(1<<i),n+=1;var s=32-fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Na=1<<32-fs(e)+i|n<<i|r,Oa=s+t}else Na=1<<s|n<<i|r,Oa=t}function BA(t){t.return!==null&&(yl(t,1),N6(t,1,0))}function DA(t){for(;t===ub;)ub=Pd[--$d],Pd[$d]=null,db=Pd[--$d],Pd[$d]=null;for(;t===Vl;)Vl=Ms[--Us],Ms[Us]=null,Oa=Ms[--Us],Ms[Us]=null,Na=Ms[--Us],Ms[Us]=null}var vi=null,Gr=null,Dt=!1,co=null,Mo=!1,px=Error(ue(519));function su(t){var e=Error(ue(418,""));throw Ig(zs(e,t)),px}function Mk(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[di]=t,e[Vi]=r,n){case"dialog":Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":case"embed":Ct("load",e);break;case"video":case"audio":for(n=0;n<Ng.length;n++)Ct(Ng[n],e);break;case"source":Ct("error",e);break;case"img":case"image":case"link":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"input":Ct("invalid",e),u6(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ab(e);break;case"select":Ct("invalid",e);break;case"textarea":Ct("invalid",e),h6(e,r.value,r.defaultValue,r.children),ab(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||a5(e.textContent,n)?(r.popover!=null&&(Ct("beforetoggle",e),Ct("toggle",e)),r.onScroll!=null&&Ct("scroll",e),r.onScrollEnd!=null&&Ct("scrollend",e),r.onClick!=null&&(e.onclick=Lw),e=!0):e=!1,e||su(t)}function Uk(t){for(vi=t.return;vi;)switch(vi.tag){case 3:case 27:Mo=!0;return;case 5:case 13:Mo=!1;return;default:vi=vi.return}}function Af(t){if(t!==vi)return!1;if(!Dt)return Uk(t),Dt=!0,!1;var e=!1,n;if((n=t.tag!==3&&t.tag!==27)&&((n=t.tag===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||jx(t.type,t.memoizedProps)),n=!n),n&&(e=!0),e&&Gr&&su(t),Uk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Gr=bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Gr=null}}else Gr=vi?bo(t.stateNode.nextSibling):null;return!0}function Sm(){Gr=vi=null,Dt=!1}function Ig(t){co===null?co=[t]:co.push(t)}var dp=Error(ue(460)),O6=Error(ue(474)),gx={then:function(){}};function Lk(t){return t=t.status,t==="fulfilled"||t==="rejected"}function N0(){}function B6(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(N0,N0),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===dp?Error(ue(483)):t;default:if(typeof e.status=="string")e.then(N0,N0);else{if(t=ln,t!==null&&100<t.shellSuspendCounter)throw Error(ue(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===dp?Error(ue(483)):t}throw hp=e,dp}}var hp=null;function zk(){if(hp===null)throw Error(ue(459));var t=hp;return hp=null,t}var Gd=null,Rg=0;function O0(t){var e=Rg;return Rg+=1,Gd===null&&(Gd=[]),B6(Gd,t,e)}function Cf(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function B0(t,e){throw e.$$typeof===yce?Error(ue(525)):(t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Fk(t){var e=t._init;return e(t._payload)}function D6(t){function e(S,C){if(t){var I=S.deletions;I===null?(S.deletions=[C],S.flags|=16):I.push(C)}}function n(S,C){if(!t)return null;for(;C!==null;)e(S,C),C=C.sibling;return null}function r(S){for(var C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function i(S,C){return S=Mc(S,C),S.index=0,S.sibling=null,S}function s(S,C,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<C?(S.flags|=33554434,C):I):(S.flags|=33554434,C)):(S.flags|=1048576,C)}function o(S){return t&&S.alternate===null&&(S.flags|=33554434),S}function a(S,C,I,P){return C===null||C.tag!==6?(C=hE(I,S.mode,P),C.return=S,C):(C=i(C,I),C.return=S,C)}function c(S,C,I,P){var z=I.type;return z===Td?h(S,C,I.props.children,P,I.key):C!==null&&(C.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fc&&Fk(z)===C.type)?(C=i(C,I.props),Cf(C,I),C.return=S,C):(C=yy(I.type,I.key,I.props,null,S.mode,P),Cf(C,I),C.return=S,C)}function u(S,C,I,P){return C===null||C.tag!==4||C.stateNode.containerInfo!==I.containerInfo||C.stateNode.implementation!==I.implementation?(C=fE(I,S.mode,P),C.return=S,C):(C=i(C,I.children||[]),C.return=S,C)}function h(S,C,I,P,z){return C===null||C.tag!==7?(C=Kl(I,S.mode,P,z),C.return=S,C):(C=i(C,I),C.return=S,C)}function f(S,C,I){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=hE(""+C,S.mode,I),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case C0:return I=yy(C.type,C.key,C.props,null,S.mode,I),Cf(I,C),I.return=S,I;case zf:return C=fE(C,S.mode,I),C.return=S,C;case fc:var P=C._init;return C=P(C._payload),f(S,C,I)}if(jf(C)||_f(C))return C=Kl(C,S.mode,I,null),C.return=S,C;if(typeof C.then=="function")return f(S,O0(C),I);if(C.$$typeof===ka)return f(S,D0(S,C),I);B0(S,C)}return null}function g(S,C,I,P){var z=C!==null?C.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z!==null?null:a(S,C,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C0:return I.key===z?c(S,C,I,P):null;case zf:return I.key===z?u(S,C,I,P):null;case fc:return z=I._init,I=z(I._payload),g(S,C,I,P)}if(jf(I)||_f(I))return z!==null?null:h(S,C,I,P,null);if(typeof I.then=="function")return g(S,C,O0(I),P);if(I.$$typeof===ka)return g(S,C,D0(S,I),P);B0(S,I)}return null}function m(S,C,I,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return S=S.get(I)||null,a(C,S,""+P,z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C0:return S=S.get(P.key===null?I:P.key)||null,c(C,S,P,z);case zf:return S=S.get(P.key===null?I:P.key)||null,u(C,S,P,z);case fc:var W=P._init;return P=W(P._payload),m(S,C,I,P,z)}if(jf(P)||_f(P))return S=S.get(I)||null,h(C,S,P,z,null);if(typeof P.then=="function")return m(S,C,I,O0(P),z);if(P.$$typeof===ka)return m(S,C,I,D0(C,P),z);B0(C,P)}return null}function _(S,C,I,P){for(var z=null,W=null,L=C,V=C=0,q=null;L!==null&&V<I.length;V++){L.index>V?(q=L,L=null):q=L.sibling;var X=g(S,L,I[V],P);if(X===null){L===null&&(L=q);break}t&&L&&X.alternate===null&&e(S,L),C=s(X,C,V),W===null?z=X:W.sibling=X,W=X,L=q}if(V===I.length)return n(S,L),Dt&&yl(S,V),z;if(L===null){for(;V<I.length;V++)L=f(S,I[V],P),L!==null&&(C=s(L,C,V),W===null?z=L:W.sibling=L,W=L);return Dt&&yl(S,V),z}for(L=r(L);V<I.length;V++)q=m(L,S,V,I[V],P),q!==null&&(t&&q.alternate!==null&&L.delete(q.key===null?V:q.key),C=s(q,C,V),W===null?z=q:W.sibling=q,W=q);return t&&L.forEach(function(Y){return e(S,Y)}),Dt&&yl(S,V),z}function x(S,C,I,P){if(I==null)throw Error(ue(151));for(var z=null,W=null,L=C,V=C=0,q=null,X=I.next();L!==null&&!X.done;V++,X=I.next()){L.index>V?(q=L,L=null):q=L.sibling;var Y=g(S,L,X.value,P);if(Y===null){L===null&&(L=q);break}t&&L&&Y.alternate===null&&e(S,L),C=s(Y,C,V),W===null?z=Y:W.sibling=Y,W=Y,L=q}if(X.done)return n(S,L),Dt&&yl(S,V),z;if(L===null){for(;!X.done;V++,X=I.next())X=f(S,X.value,P),X!==null&&(C=s(X,C,V),W===null?z=X:W.sibling=X,W=X);return Dt&&yl(S,V),z}for(L=r(L);!X.done;V++,X=I.next())X=m(L,S,V,X.value,P),X!==null&&(t&&X.alternate!==null&&L.delete(X.key===null?V:X.key),C=s(X,C,V),W===null?z=X:W.sibling=X,W=X);return t&&L.forEach(function(ee){return e(S,ee)}),Dt&&yl(S,V),z}function T(S,C,I,P){if(typeof I=="object"&&I!==null&&I.type===Td&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C0:e:{for(var z=I.key;C!==null;){if(C.key===z){if(z=I.type,z===Td){if(C.tag===7){n(S,C.sibling),P=i(C,I.props.children),P.return=S,S=P;break e}}else if(C.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fc&&Fk(z)===C.type){n(S,C.sibling),P=i(C,I.props),Cf(P,I),P.return=S,S=P;break e}n(S,C);break}else e(S,C);C=C.sibling}I.type===Td?(P=Kl(I.props.children,S.mode,P,I.key),P.return=S,S=P):(P=yy(I.type,I.key,I.props,null,S.mode,P),Cf(P,I),P.return=S,S=P)}return o(S);case zf:e:{for(z=I.key;C!==null;){if(C.key===z)if(C.tag===4&&C.stateNode.containerInfo===I.containerInfo&&C.stateNode.implementation===I.implementation){n(S,C.sibling),P=i(C,I.children||[]),P.return=S,S=P;break e}else{n(S,C);break}else e(S,C);C=C.sibling}P=fE(I,S.mode,P),P.return=S,S=P}return o(S);case fc:return z=I._init,I=z(I._payload),T(S,C,I,P)}if(jf(I))return _(S,C,I,P);if(_f(I)){if(z=_f(I),typeof z!="function")throw Error(ue(150));return I=z.call(I),x(S,C,I,P)}if(typeof I.then=="function")return T(S,C,O0(I),P);if(I.$$typeof===ka)return T(S,C,D0(S,I),P);B0(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,C!==null&&C.tag===6?(n(S,C.sibling),P=i(C,I),P.return=S,S=P):(n(S,C),P=hE(I,S.mode,P),P.return=S,S=P),o(S)):n(S,C)}return function(S,C,I,P){try{Rg=0;var z=T(S,C,I,P);return Gd=null,z}catch(L){if(L===dp)throw L;var W=js(29,L,null,S.mode);return W.lanes=P,W.return=S,W}finally{}}}var ou=D6(!0),P6=D6(!1),Sh=ea(null),hb=ea(0);function jk(t,e){t=Wa,xn(hb,t),xn(Sh,e),Wa=t|e.baseLanes}function mx(){xn(hb,Wa),xn(Sh,Sh.current)}function PA(){Wa=hb.current,Dr(Sh),Dr(hb)}var Vs=ea(null),Vo=null;function bc(t){var e=t.alternate;xn(br,br.current&1),xn(Vs,t),Vo===null&&(e===null||Sh.current!==null||e.memoizedState!==null)&&(Vo=t)}function $6(t){if(t.tag===22){if(xn(br,br.current),xn(Vs,t),Vo===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Vo=t)}}else wc()}function wc(){xn(br,br.current),xn(Vs,Vs.current)}function Ba(t){Dr(Vs),Vo===t&&(Vo=null),Dr(br)}var br=ea(0);function fb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nle=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Ole=wr.unstable_scheduleCallback,Ble=wr.unstable_NormalPriority,yr={$$typeof:ka,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $A(){return{controller:new Nle,data:new Map,refCount:0}}function Am(t){t.refCount--,t.refCount===0&&Ole(Ble,function(){t.controller.abort()})}var fp=null,yx=0,Ah=0,Yd=null;function Dle(t,e){if(fp===null){var n=fp=[];yx=0,Ah=sC(),Yd={status:"pending",value:void 0,then:function(r){n.push(r)}}}return yx++,e.then(Hk,Hk),e}function Hk(){if(--yx===0&&fp!==null){Yd!==null&&(Yd.status="fulfilled");var t=fp;fp=null,Ah=0,Yd=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Ple(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var qk=gt.S;gt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Dle(t,e),qk!==null&&qk(t,e)};var Wl=ea(null);function MA(){var t=Wl.current;return t!==null?t:ln.pooledCache}function fy(t,e){e===null?xn(Wl,Wl.current):xn(Wl,e.pool)}function M6(){var t=MA();return t===null?null:{parent:yr._currentValue,pool:t}}var Zc=0,Et=null,Zt=null,cr=null,pb=!1,Zd=!1,au=!1,gb=0,kg=0,Xd=null,$le=0;function Qn(){throw Error(ue(321))}function UA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ys(t[n],e[n]))return!1;return!0}function LA(t,e,n,r,i,s){return Zc=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gt.H=t===null||t.memoizedState===null?Ru:sl,au=!1,s=n(r,i),au=!1,Zd&&(s=L6(e,n,r,i)),U6(t),s}function U6(t){gt.H=Zo;var e=Zt!==null&&Zt.next!==null;if(Zc=0,cr=Zt=Et=null,pb=!1,kg=0,Xd=null,e)throw Error(ue(300));t===null||Br||(t=t.dependencies,t!==null&&bb(t)&&(Br=!0))}function L6(t,e,n,r){Et=t;var i=0;do{if(Zd&&(Xd=null),kg=0,Zd=!1,25<=i)throw Error(ue(301));if(i+=1,cr=Zt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}gt.H=ku,s=e(n,r)}while(Zd);return s}function Mle(){var t=gt.H,e=t.useState()[0];return e=typeof e.then=="function"?Cm(e):e,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Et.flags|=1024),e}function zA(){var t=gb!==0;return gb=0,t}function FA(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function jA(t){if(pb){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}pb=!1}Zc=0,cr=Zt=Et=null,Zd=!1,kg=gb=0,Xd=null}function Mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Et.memoizedState=cr=t:cr=cr.next=t,cr}function ur(){if(Zt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=cr===null?Et.memoizedState:cr.next;if(e!==null)cr=e,Zt=t;else{if(t===null)throw Et.alternate===null?Error(ue(467)):Error(ue(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},cr===null?Et.memoizedState=cr=t:cr=cr.next=t}return cr}var Bw;Bw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Cm(t){var e=kg;return kg+=1,Xd===null&&(Xd=[]),t=B6(Xd,t,e),e=Et,(cr===null?e.memoizedState:cr.next)===null&&(e=e.alternate,gt.H=e===null||e.memoizedState===null?Ru:sl),t}function Dw(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cm(t);if(t.$$typeof===ka)return hi(t)}throw Error(ue(438,String(t)))}function HA(t){var e=null,n=Et.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Et.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Bw(),Et.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=wce;return e.index++,n}function qa(t,e){return typeof e=="function"?e(t):e}function py(t){var e=ur();return qA(e,Zt,t)}function qA(t,e,n){var r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var a=o=null,c=null,u=e,h=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(It&f)===f:(Zc&f)===f){var g=u.revertLane;if(g===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ah&&(h=!0);else if((Zc&g)===g){u=u.next,g===Ah&&(h=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=f,o=s):c=c.next=f,Et.lanes|=g,Qc|=g;f=u.action,au&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else g={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(a=c=g,o=s):c=c.next=g,Et.lanes|=f,Qc|=f;u=u.next}while(u!==null&&u!==e);if(c===null?o=s:c.next=a,!ys(s,t.memoizedState)&&(Br=!0,h&&(n=Yd,n!==null)))throw n;t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function tE(t){var e=ur(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ys(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function z6(t,e,n){var r=Et,i=ur(),s=Dt;if(s){if(n===void 0)throw Error(ue(407));n=n()}else n=e();var o=!ys((Zt||i).memoizedState,n);if(o&&(i.memoizedState=n,Br=!0),i=i.queue,VA(H6.bind(null,r,i,t),[t]),i.getSnapshot!==e||o||cr!==null&&cr.memoizedState.tag&1){if(r.flags|=2048,Ch(9,j6.bind(null,r,i,n,e),{destroy:void 0},null),ln===null)throw Error(ue(349));s||Zc&60||F6(r,e,n)}return n}function F6(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e=Bw(),Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j6(t,e,n,r){e.value=n,e.getSnapshot=r,q6(e)&&V6(t)}function H6(t,e,n){return n(function(){q6(e)&&V6(t)})}function q6(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ys(t,n)}catch{return!0}}function V6(t){var e=Yc(t,2);e!==null&&Si(e,t,2)}function bx(t){var e=Mi();if(typeof t=="function"){var n=t;if(t=n(),au){Cc(!0);try{n()}finally{Cc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e}function W6(t,e,n,r){return t.baseState=n,qA(t,Zt,typeof r=="function"?r:qa)}function Ule(t,e,n,r,i){if($w(t))throw Error(ue(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};gt.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,K6(e,s)):(s.next=n.next,e.pending=n.next=s)}}function K6(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=gt.T,o={};gt.T=o;try{var a=n(i,r),c=gt.S;c!==null&&c(o,a),Vk(t,e,a)}catch(u){wx(t,e,u)}finally{gt.T=s}}else try{s=n(i,r),Vk(t,e,s)}catch(u){wx(t,e,u)}}function Vk(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Wk(t,e,r)},function(r){return wx(t,e,r)}):Wk(t,e,n)}function Wk(t,e,n){e.status="fulfilled",e.value=n,G6(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,K6(t,n)))}function wx(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,G6(e),e=e.next;while(e!==r)}t.action=null}function G6(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Y6(t,e){return e}function Z6(t,e){if(Dt){var n=ln.formState;if(n!==null){e:{var r=Et;if(Dt){if(Gr){t:{for(var i=Gr,s=Mo;i.nodeType!==8;){if(!s){i=null;break t}if(i=bo(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Gr=bo(i.nextSibling),r=i.data==="F!";break e}}su(r)}r=!1}r&&(e=n[0])}}return n=Mi(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y6,lastRenderedState:e},n.queue=r,n=f4.bind(null,Et,r),r.dispatch=n,r=bx(!1),s=YA.bind(null,Et,!1,r.queue),r=Mi(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=Ule.bind(null,Et,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function X6(t){var e=ur();return Q6(e,Zt,t)}function Q6(t,e,n){e=qA(t,e,Y6)[0],t=py(qa)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?Cm(e):e;var r=ur(),i=r.queue,s=i.dispatch;return n!==r.memoizedState&&(Et.flags|=2048,Ch(9,Lle.bind(null,i,n),{destroy:void 0},null)),[e,s,t]}function Lle(t,e){t.action=e}function J6(t){var e=ur(),n=Zt;if(n!==null)return Q6(e,n,t);ur(),e=e.memoizedState,n=ur();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ch(t,e,n,r){return t={tag:t,create:e,inst:n,deps:r,next:null},e=Et.updateQueue,e===null&&(e=Bw(),Et.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function e4(){return ur().memoizedState}function gy(t,e,n,r){var i=Mi();Et.flags|=t,i.memoizedState=Ch(1|e,n,{destroy:void 0},r===void 0?null:r)}function Pw(t,e,n,r){var i=ur();r=r===void 0?null:r;var s=i.memoizedState.inst;Zt!==null&&r!==null&&UA(r,Zt.memoizedState.deps)?i.memoizedState=Ch(e,n,s,r):(Et.flags|=t,i.memoizedState=Ch(1|e,n,s,r))}function Kk(t,e){gy(8390656,8,t,e)}function VA(t,e){Pw(2048,8,t,e)}function t4(t,e){return Pw(4,2,t,e)}function n4(t,e){return Pw(4,4,t,e)}function r4(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function i4(t,e,n){n=n!=null?n.concat([t]):null,Pw(4,4,r4.bind(null,e,t),n)}function WA(){}function s4(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&UA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o4(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&UA(e,r[1]))return r[0];if(r=t(),au){Cc(!0);try{t()}finally{Cc(!1)}}return n.memoizedState=[r,e],r}function KA(t,e,n){return n===void 0||Zc&1073741824?t.memoizedState=e:(t.memoizedState=n,t=G4(),Et.lanes|=t,Qc|=t,n)}function a4(t,e,n,r){return ys(n,e)?n:Sh.current!==null?(t=KA(t,n,r),ys(t,e)||(Br=!0),t):Zc&42?(t=G4(),Et.lanes|=t,Qc|=t,e):(Br=!0,t.memoizedState=n)}function c4(t,e,n,r,i){var s=bn.p;bn.p=s!==0&&8>s?s:8;var o=gt.T,a={};gt.T=a,YA(t,!1,e,n);try{var c=i(),u=gt.S;if(u!==null&&u(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=Ple(c,r);pp(t,e,h,ps(t))}else pp(t,e,r,ps(t))}catch(f){pp(t,e,{then:function(){},status:"rejected",reason:f},ps())}finally{bn.p=s,gt.T=o}}function zle(){}function vx(t,e,n,r){if(t.tag!==5)throw Error(ue(476));var i=l4(t).queue;c4(t,i,e,ql,n===null?zle:function(){return u4(t),n(r)})}function l4(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ql,baseState:ql,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:ql},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function u4(t){var e=l4(t).next.queue;pp(t,e,{},ps())}function GA(){return hi(Dg)}function d4(){return ur().memoizedState}function h4(){return ur().memoizedState}function Fle(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ps();t=Pc(n);var r=$c(e,t,n);r!==null&&(Si(r,e,n),mp(r,e,n)),e={cache:$A()},t.payload=e;return}e=e.return}}function jle(t,e,n){var r=ps();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$w(t)?p4(e,n):(n=OA(t,e,n,r),n!==null&&(Si(n,t,r),g4(n,e,r)))}function f4(t,e,n){var r=ps();pp(t,e,n,r)}function pp(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($w(t))p4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ys(a,o))return Ow(t,e,i,0),ln===null&&Nw(),!1}catch{}finally{}if(n=OA(t,e,i,r),n!==null)return Si(n,t,r),g4(n,e,r),!0}return!1}function YA(t,e,n,r){if(r={lane:2,revertLane:sC(),action:r,hasEagerState:!1,eagerState:null,next:null},$w(t)){if(e)throw Error(ue(479))}else e=OA(t,n,r,2),e!==null&&Si(e,t,2)}function $w(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function p4(t,e){Zd=pb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function g4(t,e,n){if(n&4194176){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r6(t,n)}}var Zo={readContext:hi,use:Dw,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn};Zo.useCacheRefresh=Qn;Zo.useMemoCache=Qn;Zo.useHostTransitionStatus=Qn;Zo.useFormState=Qn;Zo.useActionState=Qn;Zo.useOptimistic=Qn;var Ru={readContext:hi,use:Dw,useCallback:function(t,e){return Mi().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:Kk,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,gy(4194308,4,r4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gy(4194308,4,t,e)},useInsertionEffect:function(t,e){gy(4,2,t,e)},useMemo:function(t,e){var n=Mi();e=e===void 0?null:e;var r=t();if(au){Cc(!0);try{t()}finally{Cc(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Mi();if(n!==void 0){var i=n(e);if(au){Cc(!0);try{n(e)}finally{Cc(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=jle.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Mi();return t={current:t},e.memoizedState=t},useState:function(t){t=bx(t);var e=t.queue,n=f4.bind(null,Et,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:WA,useDeferredValue:function(t,e){var n=Mi();return KA(n,t,e)},useTransition:function(){var t=bx(!1);return t=c4.bind(null,Et,t.queue,!0,!1),Mi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Et,i=Mi();if(Dt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),ln===null)throw Error(ue(349));It&60||F6(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Kk(H6.bind(null,r,s,t),[t]),r.flags|=2048,Ch(9,j6.bind(null,r,s,n,e),{destroy:void 0},null),n},useId:function(){var t=Mi(),e=ln.identifierPrefix;if(Dt){var n=Oa,r=Na;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gb++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$le++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return Mi().memoizedState=Fle.bind(null,Et)}};Ru.useMemoCache=HA;Ru.useHostTransitionStatus=GA;Ru.useFormState=Z6;Ru.useActionState=Z6;Ru.useOptimistic=function(t){var e=Mi();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=YA.bind(null,Et,!0,n),n.dispatch=e,[t,e]};var sl={readContext:hi,use:Dw,useCallback:s4,useContext:hi,useEffect:VA,useImperativeHandle:i4,useInsertionEffect:t4,useLayoutEffect:n4,useMemo:o4,useReducer:py,useRef:e4,useState:function(){return py(qa)},useDebugValue:WA,useDeferredValue:function(t,e){var n=ur();return a4(n,Zt.memoizedState,t,e)},useTransition:function(){var t=py(qa)[0],e=ur().memoizedState;return[typeof t=="boolean"?t:Cm(t),e]},useSyncExternalStore:z6,useId:d4};sl.useCacheRefresh=h4;sl.useMemoCache=HA;sl.useHostTransitionStatus=GA;sl.useFormState=X6;sl.useActionState=X6;sl.useOptimistic=function(t,e){var n=ur();return W6(n,Zt,t,e)};var ku={readContext:hi,use:Dw,useCallback:s4,useContext:hi,useEffect:VA,useImperativeHandle:i4,useInsertionEffect:t4,useLayoutEffect:n4,useMemo:o4,useReducer:tE,useRef:e4,useState:function(){return tE(qa)},useDebugValue:WA,useDeferredValue:function(t,e){var n=ur();return Zt===null?KA(n,t,e):a4(n,Zt.memoizedState,t,e)},useTransition:function(){var t=tE(qa)[0],e=ur().memoizedState;return[typeof t=="boolean"?t:Cm(t),e]},useSyncExternalStore:z6,useId:d4};ku.useCacheRefresh=h4;ku.useMemoCache=HA;ku.useHostTransitionStatus=GA;ku.useFormState=J6;ku.useActionState=J6;ku.useOptimistic=function(t,e){var n=ur();return Zt!==null?W6(n,Zt,t,e):(n.baseState=t,[t,n.queue.dispatch])};function nE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ex={isMounted:function(t){return(t=t._reactInternals)?Kh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ps(),i=Pc(r);i.payload=e,n!=null&&(i.callback=n),e=$c(t,i,r),e!==null&&(Si(e,t,r),mp(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ps(),i=Pc(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$c(t,i,r),e!==null&&(Si(e,t,r),mp(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ps(),r=Pc(n);r.tag=2,e!=null&&(r.callback=e),e=$c(t,r,n),e!==null&&(Si(e,t,n),mp(e,t,n))}};function Gk(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Tg(n,r)||!Tg(i,s):!0}function Yk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ex.enqueueReplaceState(e,e.state,null)}function cu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=vn({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var mb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function m4(t){mb(t)}function y4(t){console.error(t)}function b4(t){mb(t)}function yb(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Zk(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function _x(t,e,n){return n=Pc(n),n.tag=3,n.payload={element:null},n.callback=function(){yb(t,e)},n}function w4(t){return t=Pc(t),t.tag=3,t}function v4(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){Zk(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){Zk(e,n,r),typeof i!="function"&&(Uc===null?Uc=new Set([this]):Uc.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function Hle(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Tm(e,n,i,!0),n=Vs.current,n!==null){switch(n.tag){case 13:return Vo===null?Mx():n.alternate===null&&Xn===0&&(Xn=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===gx?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),gE(t,r,i)),!1;case 22:return n.flags|=65536,r===gx?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),gE(t,r,i)),!1}throw Error(ue(435,n.tag))}return gE(t,r,i),Mx(),!1}if(Dt)return e=Vs.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==px&&(t=Error(ue(422),{cause:r}),Ig(zs(t,n)))):(r!==px&&(e=Error(ue(423),{cause:r}),Ig(zs(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=zs(r,n),i=_x(t.stateNode,r,i),cE(t,i),Xn!==4&&(Xn=2)),!1;var s=Error(ue(520),{cause:r});if(s=zs(s,n),vp===null?vp=[s]:vp.push(s),Xn!==4&&(Xn=2),e===null)return!0;r=zs(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=_x(n.stateNode,r,t),cE(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Uc===null||!Uc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=w4(i),v4(i,t,n,r),cE(n,i),!1}n=n.return}while(n!==null);return!1}var E4=Error(ue(461)),Br=!1;function qr(t,e,n,r){e.child=t===null?P6(e,null,n,r):ou(e,t.child,n,r)}function Xk(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var o={};for(var a in r)a!=="ref"&&(o[a]=r[a])}else o=r;return lu(e),r=LA(t,e,n,o,s,i),a=zA(),t!==null&&!Br?(FA(t,e,i),Va(t,e,i)):(Dt&&a&&BA(e),e.flags|=1,qr(t,e,r,i),e.child)}function Qk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!eC(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,_4(t,e,s,r,i)):(t=yy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!ZA(t,i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tg,n(o,r)&&t.ref===e.ref)return Va(t,e,i)}return e.flags|=1,t=Mc(s,r),t.ref=e.ref,t.return=e,e.child=t}function _4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Tg(s,r)&&t.ref===e.ref)if(Br=!1,e.pendingProps=r=s,ZA(t,i))t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,Va(t,e,i)}return xx(t,e,n,r,i)}function x4(t,e,n){var r=e.pendingProps,i=r.children,s=(e.stateNode._pendingVisibility&2)!==0,o=t!==null?t.memoizedState:null;if(gp(t,e),r.mode==="hidden"||s){if(e.flags&128){if(r=o!==null?o.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return Jk(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&fy(e,o!==null?o.cachePool:null),o!==null?jk(e,o):mx(),$6(e);else return e.lanes=e.childLanes=536870912,Jk(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(fy(e,o.cachePool),jk(e,o),wc(),e.memoizedState=null):(t!==null&&fy(e,null),mx(),wc());return qr(t,e,i,n),e.child}function Jk(t,e,n,r){var i=MA();return i=i===null?null:{parent:yr._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&fy(e,null),mx(),$6(e),t!==null&&Tm(t,e,r,!0),null}function gp(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(ue(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function xx(t,e,n,r,i){return lu(e),n=LA(t,e,n,r,void 0,i),r=zA(),t!==null&&!Br?(FA(t,e,i),Va(t,e,i)):(Dt&&r&&BA(e),e.flags|=1,qr(t,e,n,i),e.child)}function eN(t,e,n,r,i,s){return lu(e),e.updateQueue=null,n=L6(e,r,n,i),U6(t),r=zA(),t!==null&&!Br?(FA(t,e,s),Va(t,e,s)):(Dt&&r&&BA(e),e.flags|=1,qr(t,e,n,s),e.child)}function tN(t,e,n,r,i){if(lu(e),e.stateNode===null){var s=Dd,o=n.contextType;typeof o=="object"&&o!==null&&(s=hi(o)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ex,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},XA(e),o=n.contextType,s.context=typeof o=="object"&&o!==null?hi(o):Dd,s.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(nE(e,n,o,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Ex.enqueueReplaceState(s,s.state,null),bp(e,r,s,i),yp(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var a=e.memoizedProps,c=cu(n,a);s.props=c;var u=s.context,h=n.contextType;o=Dd,typeof h=="object"&&h!==null&&(o=hi(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=e.pendingProps!==a,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||u!==o)&&Yk(e,s,r,o),pc=!1;var g=e.memoizedState;s.state=g,bp(e,r,s,i),yp(),u=e.memoizedState,a||g!==u||pc?(typeof f=="function"&&(nE(e,n,f,r),u=e.memoizedState),(c=pc||Gk(e,n,c,r,g,u,o))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=o,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Rx(t,e),o=e.memoizedProps,h=cu(n,o),s.props=h,f=e.pendingProps,g=s.context,u=n.contextType,c=Dd,typeof u=="object"&&u!==null&&(c=hi(u)),a=n.getDerivedStateFromProps,(u=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||g!==c)&&Yk(e,s,r,c),pc=!1,g=e.memoizedState,s.state=g,bp(e,r,s,i),yp();var m=e.memoizedState;o!==f||g!==m||pc||t!==null&&t.dependencies!==null&&bb(t.dependencies)?(typeof a=="function"&&(nE(e,n,a,r),m=e.memoizedState),(h=pc||Gk(e,n,h,r,g,m,c)||t!==null&&t.dependencies!==null&&bb(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=c,r=h):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,gp(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=ou(e,t.child,null,i),e.child=ou(e,null,n,i)):qr(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Va(t,e,i),t}function nN(t,e,n,r){return Sm(),e.flags|=256,qr(t,e,n,r),e.child}var rE={dehydrated:null,treeContext:null,retryLane:0};function iE(t){return{baseLanes:t,cachePool:M6()}}function sE(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Hs),t}function S4(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(br.current&2)!==0),o&&(i=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Dt){if(i?bc(e):wc(),Dt){var a=Gr,c;if(c=a){e:{for(c=a,a=Mo;c.nodeType!==8;){if(!a){a=null;break e}if(c=bo(c.nextSibling),c===null){a=null;break e}}a=c}a!==null?(e.memoizedState={dehydrated:a,treeContext:Vl!==null?{id:Na,overflow:Oa}:null,retryLane:536870912},c=js(18,null,null,0),c.stateNode=a,c.return=e,e.child=c,vi=e,Gr=null,c=!0):c=!1}c||su(e)}if(a=e.memoizedState,a!==null&&(a=a.dehydrated,a!==null))return a.data==="$!"?e.lanes=16:e.lanes=536870912,null;Ba(e)}return a=r.children,r=r.fallback,i?(wc(),i=e.mode,a=Ax({mode:"hidden",children:a},i),r=Kl(r,i,n,null),a.return=e,r.return=e,a.sibling=r,e.child=a,i=e.child,i.memoizedState=iE(n),i.childLanes=sE(t,o,n),e.memoizedState=rE,r):(bc(e),Sx(e,a))}if(c=t.memoizedState,c!==null&&(a=c.dehydrated,a!==null)){if(s)e.flags&256?(bc(e),e.flags&=-257,e=oE(t,e,n)):e.memoizedState!==null?(wc(),e.child=t.child,e.flags|=128,e=null):(wc(),i=r.fallback,a=e.mode,r=Ax({mode:"visible",children:r.children},a),i=Kl(i,a,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,ou(e,t.child,null,n),r=e.child,r.memoizedState=iE(n),r.childLanes=sE(t,o,n),e.memoizedState=rE,e=i);else if(bc(e),a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(ue(419)),r.stack="",r.digest=o,Ig({value:r,source:null,stack:null}),e=oE(t,e,n)}else if(Br||Tm(t,e,n,!1),o=(n&t.childLanes)!==0,Br||o){if(o=ln,o!==null){if(r=n&-n,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane)throw c.retryLane=r,Yc(t,r),Si(o,t,r),E4}a.data==="$?"||Mx(),e=oE(t,e,n)}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=iue.bind(null,t),a._reactRetry=e,e=null):(t=c.treeContext,Gr=bo(a.nextSibling),vi=e,Dt=!0,co=null,Mo=!1,t!==null&&(Ms[Us++]=Na,Ms[Us++]=Oa,Ms[Us++]=Vl,Na=t.id,Oa=t.overflow,Vl=e),e=Sx(e,r.children),e.flags|=4096);return e}return i?(wc(),i=r.fallback,a=e.mode,c=t.child,u=c.sibling,r=Mc(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&31457280,u!==null?i=Mc(u,i):(i=Kl(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a===null?a=iE(n):(c=a.cachePool,c!==null?(u=yr._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=M6(),a={baseLanes:a.baseLanes|n,cachePool:c}),i.memoizedState=a,i.childLanes=sE(t,o,n),e.memoizedState=rE,r):(bc(e),n=t.child,t=n.sibling,n=Mc(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function Sx(t,e){return e=Ax({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ax(t,e){return W4(t,e,0,null)}function oE(t,e,n){return ou(e,t.child,null,n),t=Sx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tx(t.return,e,n)}function aE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function A4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qr(t,e,r.children,n),r=br.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rN(t,n,e);else if(t.tag===19)rN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(xn(br,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),aE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}aE(e,!0,n,null,s);break;case"together":aE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qc|=e.lanes,!(n&e.childLanes))if(t!==null){if(Tm(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Mc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZA(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&bb(t)))}function qle(t,e,n){switch(e.tag){case 3:ib(e,e.stateNode.containerInfo),vc(e,yr,t.memoizedState.cache),Sm();break;case 27:case 5:sx(e);break;case 4:ib(e,e.stateNode.containerInfo);break;case 10:vc(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(bc(e),e.flags|=128,null):n&e.child.childLanes?S4(t,e,n):(bc(e),t=Va(t,e,n),t!==null?t.sibling:null);bc(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Tm(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return A4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xn(br,br.current),r)break;return null;case 22:case 23:return e.lanes=0,x4(t,e,n);case 24:vc(e,yr,t.memoizedState.cache)}return Va(t,e,n)}function C4(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Br=!0;else{if(!ZA(t,n)&&!(e.flags&128))return Br=!1,qle(t,e,n);Br=!!(t.flags&131072)}else Br=!1,Dt&&e.flags&1048576&&N6(e,db,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")eC(r)?(t=cu(r,t),e.tag=1,e=tN(null,e,r,t,n)):(e.tag=0,e=xx(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===EA){e.tag=11,e=Xk(null,e,r,t,n);break e}else if(i===_A){e.tag=14,e=Qk(null,e,r,t,n);break e}}throw e=rx(r)||r,Error(ue(306,e,""))}}return e;case 0:return xx(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=cu(r,e.pendingProps),tN(t,e,r,i,n);case 3:e:{if(ib(e,e.stateNode.containerInfo),t===null)throw Error(ue(387));var s=e.pendingProps;i=e.memoizedState,r=i.element,Rx(t,e),bp(e,s,null,n);var o=e.memoizedState;if(s=o.cache,vc(e,yr,s),s!==i.cache&&Ix(e,[yr],n,!0),yp(),s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=nN(t,e,s,n);break e}else if(s!==r){r=zs(Error(ue(424)),e),Ig(r),e=nN(t,e,s,n);break e}else for(Gr=bo(e.stateNode.containerInfo.firstChild),vi=e,Dt=!0,co=null,Mo=!0,n=P6(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sm(),s===r){e=Va(t,e,n);break e}qr(t,e,s,n)}e=e.child}return e;case 26:return gp(t,e),t===null?(n=EN(e.type,null,e.pendingProps,null))?e.memoizedState=n:Dt||(n=e.type,t=e.pendingProps,r=Ab(Dc.current).createElement(n),r[di]=e,r[Vi]=t,Yr(r,n,t),Rr(r),e.stateNode=r):e.memoizedState=EN(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return sx(e),t===null&&Dt&&(r=e.stateNode=u5(e.type,e.pendingProps,Dc.current),vi=e,Mo=!0,Gr=bo(r.firstChild)),r=e.pendingProps.children,t!==null||Dt?qr(t,e,r,n):e.child=ou(e,null,r,n),gp(t,e),e.child;case 5:return t===null&&Dt&&((i=r=Gr)&&(r=vue(r,e.type,e.pendingProps,Mo),r!==null?(e.stateNode=r,vi=e,Gr=bo(r.firstChild),Mo=!1,i=!0):i=!1),i||su(e)),sx(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,r=s.children,jx(i,s)?r=null:o!==null&&jx(i,o)&&(e.flags|=32),e.memoizedState!==null&&(i=LA(t,e,Mle,null,null,n),Dg._currentValue=i),gp(t,e),qr(t,e,r,n),e.child;case 6:return t===null&&Dt&&((t=n=Gr)&&(n=Eue(n,e.pendingProps,Mo),n!==null?(e.stateNode=n,vi=e,Gr=null,t=!0):t=!1),t||su(e)),null;case 13:return S4(t,e,n);case 4:return ib(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ou(e,null,r,n):qr(t,e,r,n),e.child;case 11:return Xk(t,e,e.type,e.pendingProps,n);case 7:return qr(t,e,e.pendingProps,n),e.child;case 8:return qr(t,e,e.pendingProps.children,n),e.child;case 12:return qr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,vc(e,e.type,r.value),qr(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,lu(e),i=hi(i),r=r(i),e.flags|=1,qr(t,e,r,n),e.child;case 14:return Qk(t,e,e.type,e.pendingProps,n);case 15:return _4(t,e,e.type,e.pendingProps,n);case 19:return A4(t,e,n);case 22:return x4(t,e,n);case 24:return lu(e),r=hi(yr),t===null?(i=MA(),i===null&&(i=ln,s=$A(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},XA(e),vc(e,yr,i)):(t.lanes&n&&(Rx(t,e),bp(e,null,null,n),yp()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),vc(e,yr,r)):(r=s.cache,vc(e,yr,r),r!==i.cache&&Ix(e,[yr],n,!0))),qr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(ue(156,e.tag))}var Cx=ea(null),Nu=null,Da=null;function vc(t,e,n){xn(Cx,e._currentValue),e._currentValue=n}function La(t){t._currentValue=Cx.current,Dr(Cx)}function Tx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ix(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var o=i.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=i;for(var c=0;c<e.length;c++)if(a.context===e[c]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Tx(s.return,n,t),r||(o=null);break e}s=a.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(ue(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Tx(o,n,t),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Tm(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(ue(387));if(o=o.memoizedProps,o!==null){var a=i.type;ys(i.pendingProps.value,o.value)||(t!==null?t.push(a):t=[a])}}else if(i===rb.current){if(o=i.alternate,o===null)throw Error(ue(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Dg):t=[Dg])}i=i.return}t!==null&&Ix(e,t,n,r),e.flags|=262144}function bb(t){for(t=t.firstContext;t!==null;){if(!ys(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lu(t){Nu=t,Da=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function hi(t){return T4(Nu,t)}function D0(t,e){return Nu===null&&lu(t),T4(t,e)}function T4(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Da===null){if(t===null)throw Error(ue(308));Da=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Da=Da.next=e;return n}var pc=!1;function XA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pc(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $c(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Dn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=lb(t),k6(t,null,n),e}return Ow(t,r,e,n),lb(t)}function mp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r6(t,n)}}function cE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var kx=!1;function yp(){if(kx){var t=Yd;if(t!==null)throw t}}function bp(t,e,n,r){kx=!1;var i=t.updateQueue;pc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,h=u=c=null,a=s;do{var g=a.lane&-536870913,m=g!==a.lane;if(m?(It&g)===g:(r&g)===g){g!==0&&g===Ah&&(kx=!0),h!==null&&(h=h.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var _=t,x=a;g=e;var T=n;switch(x.tag){case 1:if(_=x.payload,typeof _=="function"){f=_.call(T,f,g);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,g=typeof _=="function"?_.call(T,f,g):_,g==null)break e;f=vn({},f,g);break e;case 2:pc=!0}}g=a.callback,g!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[g]:m.push(g))}else m={lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,c=f):h=h.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Qc|=o,t.lanes=o,t.memoizedState=f}}function I4(t,e){if(typeof t!="function")throw Error(ue(191,t));t.call(e)}function R4(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)I4(n[t],e)}function Im(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){tn(e,e.return,a)}}function Xc(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var o=r.inst,a=o.destroy;if(a!==void 0){o.destroy=void 0,i=e;var c=n;try{a()}catch(u){tn(i,c,u)}}}r=r.next}while(r!==s)}}catch(u){tn(e,e.return,u)}}function k4(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{R4(e,n)}catch(r){tn(t,t.return,r)}}}function N4(t,e,n){n.props=cu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){tn(t,e,r)}}function Bl(t,e){try{var n=t.ref;if(n!==null){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){tn(t,e,s)}}function us(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){tn(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){tn(t,e,i)}else n.current=null}function O4(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){tn(t,t.return,i)}}function iN(t,e,n){try{var r=t.stateNode;gue(r,t.type,n,e),r[Vi]=e}catch(i){tn(t,t.return,i)}}function B4(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function lE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lw));else if(r!==4&&r!==27&&(t=t.child,t!==null))for(Nx(t,e,n),t=t.sibling;t!==null;)Nx(t,e,n),t=t.sibling}function wb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&r!==27&&(t=t.child,t!==null))for(wb(t,e,n),t=t.sibling;t!==null;)wb(t,e,n),t=t.sibling}var Aa=!1,Zn=!1,uE=!1,sN=typeof WeakSet=="function"?WeakSet:Set,Cr=null,oN=!1;function Vle(t,e){if(t=t.containerInfo,zx=Rb,t=x6(t),kA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++h===r&&(c=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fx={focusedElem:t,selectionRange:n},Rb=!1,Cr=e;Cr!==null;)if(e=Cr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Cr=t;else for(;Cr!==null;){switch(e=Cr,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var _=cu(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(_,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(x){tn(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Hx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ue(163))}if(t=e.sibling,t!==null){t.return=e.return,Cr=t;break}Cr=e.return}return _=oN,oN=!1,_}function D4(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:pa(t,n),r&4&&Im(5,n);break;case 1:if(pa(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){tn(n,n.return,a)}else{var i=cu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){tn(n,n.return,a)}}r&64&&k4(n),r&512&&Bl(n,n.return);break;case 3:if(pa(t,n),r&64&&(r=n.updateQueue,r!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{R4(r,t)}catch(a){tn(n,n.return,a)}}break;case 26:pa(t,n),r&512&&Bl(n,n.return);break;case 27:case 5:pa(t,n),e===null&&r&4&&O4(n),r&512&&Bl(n,n.return);break;case 12:pa(t,n);break;case 13:pa(t,n),r&4&&M4(t,n);break;case 22:if(i=n.memoizedState!==null||Aa,!i){e=e!==null&&e.memoizedState!==null||Zn;var s=Aa,o=Zn;Aa=i,(Zn=e)&&!o?uc(t,n,(n.subtreeFlags&8772)!==0):pa(t,n),Aa=s,Zn=o}r&512&&(n.memoizedProps.mode==="manual"?Bl(n,n.return):us(n,n.return));break;default:pa(t,n)}}function P4(t){var e=t.alternate;e!==null&&(t.alternate=null,P4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&SA(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ar=null,es=!1;function fa(t,e,n){for(n=n.child;n!==null;)$4(t,e,n),n=n.sibling}function $4(t,e,n){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(vm,n)}catch{}switch(n.tag){case 26:Zn||us(n,e),fa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Zn||us(n,e);var r=ar,i=es;for(ar=n.stateNode,fa(t,e,n),n=n.stateNode,e=n.attributes;e.length;)n.removeAttributeNode(e[0]);SA(n),ar=r,es=i;break;case 5:Zn||us(n,e);case 6:i=ar;var s=es;if(ar=null,fa(t,e,n),ar=i,es=s,ar!==null)if(es)try{t=ar,r=n.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)}catch(o){tn(n,e,o)}else try{ar.removeChild(n.stateNode)}catch(o){tn(n,e,o)}break;case 18:ar!==null&&(es?(e=ar,n=n.stateNode,e.nodeType===8?_E(e.parentNode,n):e.nodeType===1&&_E(e,n),Mg(e)):_E(ar,n.stateNode));break;case 4:r=ar,i=es,ar=n.stateNode.containerInfo,es=!0,fa(t,e,n),ar=r,es=i;break;case 0:case 11:case 14:case 15:Zn||Xc(2,n,e),Zn||Xc(4,n,e),fa(t,e,n);break;case 1:Zn||(us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&N4(n,e,r)),fa(t,e,n);break;case 21:fa(t,e,n);break;case 22:Zn||us(n,e),Zn=(r=Zn)||n.memoizedState!==null,fa(t,e,n),Zn=r;break;default:fa(t,e,n)}}function M4(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mg(t)}catch(n){tn(e,e.return,n)}}function Wle(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new sN),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new sN),e;default:throw Error(ue(435,t.tag))}}function dE(t,e){var n=Wle(t);e.forEach(function(r){var i=sue.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function Ts(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 27:case 5:ar=a.stateNode,es=!1;break e;case 3:ar=a.stateNode.containerInfo,es=!0;break e;case 4:ar=a.stateNode.containerInfo,es=!0;break e}a=a.return}if(ar===null)throw Error(ue(160));$4(s,o,i),ar=null,es=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)U4(e,t),e=e.sibling}var so=null;function U4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ts(e,t),Is(t),r&4&&(Xc(3,t,t.return),Im(3,t),Xc(5,t,t.return));break;case 1:Ts(e,t),Is(t),r&512&&(Zn||n===null||us(n,n.return)),r&64&&Aa&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=so;if(Ts(e,t),Is(t),r&512&&(Zn||n===null||us(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Sg]||s[di]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Yr(s,r,n),s[di]=t,Rr(s),r=s;break e;case"link":var o=xN("link","href",i).get(r+(n.href||""));if(o){for(var a=0;a<o.length;a++)if(s=o[a],s.getAttribute("href")===(n.href==null?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(a,1);break t}}s=i.createElement(r),Yr(s,r,n),i.head.appendChild(s);break;case"meta":if(o=xN("meta","content",i).get(r+(n.content||""))){for(a=0;a<o.length;a++)if(s=o[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(a,1);break t}}s=i.createElement(r),Yr(s,r,n),i.head.appendChild(s);break;default:throw Error(ue(468,r))}s[di]=t,Rr(s),r=s}t.stateNode=r}else SN(i,t.type,t.stateNode);else t.stateNode=_N(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?SN(i,t.type,t.stateNode):_N(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&iN(t,t.memoizedProps,n.memoizedProps)}break;case 27:if(r&4&&t.alternate===null){i=t.stateNode,s=t.memoizedProps;try{for(var c=i.firstChild;c;){var u=c.nextSibling,h=c.nodeName;c[Sg]||h==="HEAD"||h==="BODY"||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=u}for(var f=t.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Yr(i,f,s),i[di]=t,i[Vi]=s}catch(_){tn(t,t.return,_)}}case 5:if(Ts(e,t),Is(t),r&512&&(Zn||n===null||us(n,n.return)),t.flags&32){i=t.stateNode;try{xh(i,"")}catch(_){tn(t,t.return,_)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,iN(t,i,n!==null?n.memoizedProps:i)),r&1024&&(uE=!0);break;case 6:if(Ts(e,t),Is(t),r&4){if(t.stateNode===null)throw Error(ue(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(_){tn(t,t.return,_)}}break;case 3:if(wy=null,i=so,so=Cb(e.containerInfo),Ts(e,t),so=i,Is(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mg(e.containerInfo)}catch(_){tn(t,t.return,_)}uE&&(uE=!1,L4(t));break;case 4:r=so,so=Cb(t.stateNode.containerInfo),Ts(e,t),Is(t),so=r;break;case 12:Ts(e,t),Is(t);break;case 13:Ts(e,t),Is(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rC=qo()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,dE(t,r)));break;case 22:if(r&512&&(Zn||n===null||us(n,n.return)),c=t.memoizedState!==null,u=n!==null&&n.memoizedState!==null,h=Aa,f=Zn,Aa=h||c,Zn=f||u,Ts(e,t),Zn=f,Aa=h,Is(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,r&8192&&(e._visibility=c?e._visibility&-2:e._visibility|1,c&&(e=Aa||Zn,n===null||u||e||yd(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(n=null,e=t;;){if(e.tag===5||e.tag===26||e.tag===27){if(n===null){u=n=e;try{if(i=u.stateNode,c)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode,a=u.memoizedProps.style;var m=a!=null&&a.hasOwnProperty("display")?a.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){tn(u,u.return,_)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(_){tn(u,u.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,dE(t,n))));break;case 19:Ts(e,t),Is(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,dE(t,r)));break;case 21:break;default:Ts(e,t),Is(t)}}function Is(t){var e=t.flags;if(e&2){try{if(t.tag!==27){e:{for(var n=t.return;n!==null;){if(B4(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 27:var i=r.stateNode,s=lE(t);wb(t,s,i);break;case 5:var o=r.stateNode;r.flags&32&&(xh(o,""),r.flags&=-33);var a=lE(t);wb(t,a,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=lE(t);Nx(t,u,c);break;default:throw Error(ue(161))}}}catch(h){tn(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L4(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;L4(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function pa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)D4(t,e.alternate,e),e=e.sibling}function yd(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Xc(4,e,e.return),yd(e);break;case 1:us(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&N4(e,e.return,n),yd(e);break;case 26:case 27:case 5:us(e,e.return),yd(e);break;case 22:us(e,e.return),e.memoizedState===null&&yd(e);break;default:yd(e)}t=t.sibling}}function uc(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,o=s.flags;switch(s.tag){case 0:case 11:case 15:uc(i,s,n),Im(4,s);break;case 1:if(uc(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){tn(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var a=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)I4(c[i],a)}catch(u){tn(r,r.return,u)}}n&&o&64&&k4(s),Bl(s,s.return);break;case 26:case 27:case 5:uc(i,s,n),n&&r===null&&o&4&&O4(s),Bl(s,s.return);break;case 12:uc(i,s,n);break;case 13:uc(i,s,n),n&&o&4&&M4(i,s);break;case 22:s.memoizedState===null&&uc(i,s,n),Bl(s,s.return);break;default:uc(i,s,n)}e=e.sibling}}function QA(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Am(n))}function JA(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Am(t))}function lc(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)z4(t,e,n,r),e=e.sibling}function z4(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:lc(t,e,n,r),i&2048&&Im(9,e);break;case 3:lc(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Am(t)));break;case 12:if(i&2048){lc(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,o=s.id,a=s.onPostCommit;typeof a=="function"&&a(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){tn(e,e.return,c)}}else lc(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,e.memoizedState!==null?s._visibility&4?lc(t,e,n,r):wp(t,e):s._visibility&4?lc(t,e,n,r):(s._visibility|=4,bd(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&QA(e.alternate,e);break;case 24:lc(t,e,n,r),i&2048&&JA(e.alternate,e);break;default:lc(t,e,n,r)}}function bd(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,o=e,a=n,c=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:bd(s,o,a,c,i),Im(8,o);break;case 23:break;case 22:var h=o.stateNode;o.memoizedState!==null?h._visibility&4?bd(s,o,a,c,i):wp(s,o):(h._visibility|=4,bd(s,o,a,c,i)),i&&u&2048&&QA(o.alternate,o);break;case 24:bd(s,o,a,c,i),i&&u&2048&&JA(o.alternate,o);break;default:bd(s,o,a,c,i)}e=e.sibling}}function wp(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:wp(n,r),i&2048&&QA(r.alternate,r);break;case 24:wp(n,r),i&2048&&JA(r.alternate,r);break;default:wp(n,r)}e=e.sibling}}var qf=8192;function ad(t){if(t.subtreeFlags&qf)for(t=t.child;t!==null;)F4(t),t=t.sibling}function F4(t){switch(t.tag){case 26:ad(t),t.flags&qf&&t.memoizedState!==null&&Due(so,t.memoizedState,t.memoizedProps);break;case 5:ad(t);break;case 3:case 4:var e=so;so=Cb(t.stateNode.containerInfo),ad(t),so=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=qf,qf=16777216,ad(t),qf=e):ad(t));break;default:ad(t)}}function j4(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Tf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Cr=r,q4(r,t)}j4(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H4(t),t=t.sibling}function H4(t){switch(t.tag){case 0:case 11:case 15:Tf(t),t.flags&2048&&Xc(9,t,t.return);break;case 3:Tf(t);break;case 12:Tf(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,my(t)):Tf(t);break;default:Tf(t)}}function my(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Cr=r,q4(r,t)}j4(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Xc(8,e,e.return),my(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,my(e));break;default:my(e)}t=t.sibling}}function q4(t,e){for(;Cr!==null;){var n=Cr;switch(n.tag){case 0:case 11:case 15:Xc(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Am(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Cr=r;else e:for(n=t;Cr!==null;){r=Cr;var i=r.sibling,s=r.return;if(P4(r),r===n){Cr=null;break e}if(i!==null){i.return=s,Cr=i;break e}Cr=s}}}function Kle(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(t,e,n,r){return new Kle(t,e,n,r)}function eC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mc(t,e){var n=t.alternate;return n===null?(n=js(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function V4(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function yy(t,e,n,r,i,s){var o=0;if(r=t,typeof t=="function")eC(t)&&(o=1);else if(typeof t=="string")o=Oue(t,n,Ho.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Td:return Kl(n.children,i,s,e);case WP:o=8,i|=24;break;case ex:return t=js(12,n,e,i|2),t.elementType=ex,t.lanes=s,t;case tx:return t=js(13,n,e,i),t.elementType=tx,t.lanes=s,t;case nx:return t=js(19,n,e,i),t.elementType=nx,t.lanes=s,t;case GP:return W4(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bce:case ka:o=10;break e;case KP:o=9;break e;case EA:o=11;break e;case _A:o=14;break e;case fc:o=16,r=null;break e}o=29,n=Error(ue(130,t===null?"null":typeof t,"")),r=null}return e=js(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Kl(t,e,n,r){return t=js(7,t,r,e),t.lanes=n,t}function W4(t,e,n,r){t=js(22,t,r,e),t.elementType=GP,t.lanes=n;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var s=i._current;if(s===null)throw Error(ue(456));if(!(i._pendingVisibility&2)){var o=Yc(s,2);o!==null&&(i._pendingVisibility|=2,Si(o,s,2))}},attach:function(){var s=i._current;if(s===null)throw Error(ue(456));if(i._pendingVisibility&2){var o=Yc(s,2);o!==null&&(i._pendingVisibility&=-3,Si(o,s,2))}}};return t.stateNode=i,t}function hE(t,e,n){return t=js(6,t,null,e),t.lanes=n,t}function fE(t,e,n){return e=js(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ga(t){t.flags|=4}function aN(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!f5(e)){if(e=Vs.current,e!==null&&((It&4194176)===It?Vo!==null:(It&62914560)!==It&&!(It&536870912)||e!==Vo))throw hp=gx,O6;t.flags|=8192}}function P0(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?t6():536870912,t.lanes|=e,Th|=e)}function If(t,e){if(!Dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gle(t,e,n){var r=e.pendingProps;switch(DA(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(e),null;case 1:return Rn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),La(yr),Eh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Af(e)?ga(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,co!==null&&($x(co),co=null))),Rn(e),null;case 26:return n=e.memoizedState,t===null?(ga(e),n!==null?(Rn(e),aN(e,n)):(Rn(e),e.flags&=-16777217)):n?n!==t.memoizedState?(ga(e),Rn(e),aN(e,n)):(Rn(e),e.flags&=-16777217):(t.memoizedProps!==r&&ga(e),Rn(e),e.flags&=-16777217),null;case 27:sb(e),n=Dc.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ga(e);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Rn(e),null}t=Ho.current,Af(e)?Mk(e):(t=u5(i,r,n),e.stateNode=t,ga(e))}return Rn(e),null;case 5:if(sb(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&ga(e);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Rn(e),null}if(t=Ho.current,Af(e))Mk(e);else{switch(i=Ab(Dc.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[di]=e,t[Vi]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Yr(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ga(e)}}return Rn(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&ga(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(t=Dc.current,Af(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=vi,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[di]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||a5(t.nodeValue,n)),t||su(e)}else t=Ab(t).createTextNode(r),t[di]=e,e.stateNode=t}return Rn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ue(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[di]=e}else Sm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rn(e),i=!1}else co!==null&&($x(co),co=null),i=!0;if(!i)return e.flags&256?(Ba(e),e):(Ba(e),null)}if(Ba(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),P0(e,e.updateQueue),Rn(e),null;case 4:return Eh(),t===null&&oC(e.stateNode.containerInfo),Rn(e),null;case 10:return La(e.type),Rn(e),null;case 19:if(Dr(br),i=e.memoizedState,i===null)return Rn(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)If(i,!1);else{if(Xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=fb(t),s!==null){for(e.flags|=128,If(i,!1),t=s.updateQueue,e.updateQueue=t,P0(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)V4(n,t),n=n.sibling;return xn(br,br.current&1|2),e.child}t=t.sibling}i.tail!==null&&qo()>vb&&(e.flags|=128,r=!0,If(i,!1),e.lanes=4194304)}else{if(!r)if(t=fb(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,P0(e,t),If(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Dt)return Rn(e),null}else 2*qo()-i.renderingStartTime>vb&&n!==536870912&&(e.flags|=128,r=!0,If(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qo(),e.sibling=null,t=br.current,xn(br,r?t&1|2:t&1),e):(Rn(e),null);case 22:case 23:return Ba(e),PA(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Rn(e),e.subtreeFlags&6&&(e.flags|=8192)):Rn(e),n=e.updateQueue,n!==null&&P0(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Dr(Wl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),La(yr),Rn(e),null;case 25:return null}throw Error(ue(156,e.tag))}function Yle(t,e){switch(DA(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return La(yr),Eh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return sb(e),null;case 13:if(Ba(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Sm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dr(br),null;case 4:return Eh(),null;case 10:return La(e.type),null;case 22:case 23:return Ba(e),PA(),t!==null&&Dr(Wl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return La(yr),null;case 25:return null;default:return null}}function K4(t,e){switch(DA(e),e.tag){case 3:La(yr),Eh();break;case 26:case 27:case 5:sb(e);break;case 4:Eh();break;case 13:Ba(e);break;case 19:Dr(br);break;case 10:La(e.type);break;case 22:case 23:Ba(e),PA(),t!==null&&Dr(Wl);break;case 24:La(yr)}}var Zle={getCacheForType:function(t){var e=hi(yr),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Xle=typeof WeakMap=="function"?WeakMap:Map,Dn=0,ln=null,xt=null,It=0,an=0,ns=null,Ca=!1,Zh=!1,tC=!1,Wa=0,Xn=0,Qc=0,Gl=0,nC=0,Hs=0,Th=0,vp=null,Uo=null,Ox=!1,rC=0,vb=1/0,Eb=null,Uc=null,$0=!1,Al=null,Ep=0,Bx=0,Dx=null,_p=0,Px=null;function ps(){if(Dn&2&&It!==0)return It&-It;if(gt.T!==null){var t=Ah;return t!==0?t:sC()}return s6()}function G4(){Hs===0&&(Hs=!(It&536870912)||Dt?e6():536870912);var t=Vs.current;return t!==null&&(t.flags|=32),Hs}function Si(t,e,n){(t===ln&&an===2||t.cancelPendingCommit!==null)&&(Ih(t,0),Ta(t,It,Hs,!1)),_m(t,n),(!(Dn&2)||t!==ln)&&(t===ln&&(!(Dn&2)&&(Gl|=n),Xn===4&&Ta(t,It,Hs,!1)),ta(t))}function Y4(t,e,n){if(Dn&6)throw Error(ue(327));var r=!n&&(e&60)===0&&(e&t.expiredLanes)===0||Em(t,e),i=r?eue(t,e):pE(t,e,!0),s=r;do{if(i===0){Zh&&!r&&Ta(t,e,0,!1);break}else if(i===6)Ta(t,e,0,!Ca);else{if(n=t.current.alternate,s&&!Qle(n)){i=pE(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var a=t;i=vp;var c=a.current.memoizedState.isDehydrated;if(c&&(Ih(a,o).flags|=256),o=pE(a,o,!1),o!==2){if(tC&&!c){a.errorRecoveryDisabledLanes|=s,Gl|=s,i=4;break e}s=Uo,Uo=i,s!==null&&$x(s)}i=o}if(s=!1,i!==2)continue}}if(i===1){Ih(t,0),Ta(t,e,0,!0);break}e:{switch(r=t,i){case 0:case 1:throw Error(ue(345));case 4:if((e&4194176)===e){Ta(r,e,Hs,!Ca);break e}break;case 2:Uo=null;break;case 3:case 5:break;default:throw Error(ue(329))}if(r.finishedWork=n,r.finishedLanes=e,(e&62914560)===e&&(s=rC+300-qo(),10<s)){if(Ta(r,e,Hs,!Ca),Tw(r,0)!==0)break e;r.timeoutHandle=l5(cN.bind(null,r,n,Uo,Eb,Ox,e,Hs,Gl,Th,Ca,2,-0,0),s);break e}cN(r,n,Uo,Eb,Ox,e,Hs,Gl,Th,Ca,0,-0,0)}}break}while(!0);ta(t)}function $x(t){Uo===null?Uo=t:Uo.push.apply(Uo,t)}function cN(t,e,n,r,i,s,o,a,c,u,h,f,g){var m=e.subtreeFlags;if((m&8192||(m&16785408)===16785408)&&(Bg={stylesheets:null,count:0,unsuspend:Bue},F4(e),e=Pue(),e!==null)){t.cancelPendingCommit=e(uN.bind(null,t,n,r,i,o,a,c,1,f,g)),Ta(t,s,o,!u);return}uN(t,n,r,i,o,a,c,h,f,g)}function Qle(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ys(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ta(t,e,n,r){e&=~nC,e&=~Gl,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-fs(i),o=1<<s;r[s]=-1,i&=~o}n!==0&&n6(t,n,e)}function Mw(){return Dn&6?!0:(Rm(0),!1)}function iC(){if(xt!==null){if(an===0)var t=xt.return;else t=xt,Da=Nu=null,jA(t),Gd=null,Rg=0,t=xt;for(;t!==null;)K4(t.alternate,t),t=t.return;xt=null}}function Ih(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,yue(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),iC(),ln=t,xt=n=Mc(t.current,null),It=e,an=0,ns=null,Ca=!1,Zh=Em(t,e),tC=!1,Th=Hs=nC=Gl=Qc=Xn=0,Uo=vp=null,Ox=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-fs(r),s=1<<i;e|=t[i],r&=~s}return Wa=e,Nw(),n}function Z4(t,e){Et=null,gt.H=Zo,e===dp?(e=zk(),an=3):e===O6?(e=zk(),an=4):an=e===E4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ns=e,xt===null&&(Xn=1,yb(t,zs(e,t.current)))}function X4(){var t=gt.H;return gt.H=Zo,t===null?Zo:t}function Q4(){var t=gt.A;return gt.A=Zle,t}function Mx(){Xn=4,Ca||(It&4194176)!==It&&Vs.current!==null||(Zh=!0),!(Qc&134217727)&&!(Gl&134217727)||ln===null||Ta(ln,It,Hs,!1)}function pE(t,e,n){var r=Dn;Dn|=2;var i=X4(),s=Q4();(ln!==t||It!==e)&&(Eb=null,Ih(t,e)),e=!1;var o=Xn;e:do try{if(an!==0&&xt!==null){var a=xt,c=ns;switch(an){case 8:iC(),o=6;break e;case 3:case 2:case 6:Vs.current===null&&(e=!0);var u=an;if(an=0,ns=null,Md(t,a,c,u),n&&Zh){o=0;break e}break;default:u=an,an=0,ns=null,Md(t,a,c,u)}}Jle(),o=Xn;break}catch(h){Z4(t,h)}while(!0);return e&&t.shellSuspendCounter++,Da=Nu=null,Dn=r,gt.H=i,gt.A=s,xt===null&&(ln=null,It=0,Nw()),o}function Jle(){for(;xt!==null;)J4(xt)}function eue(t,e){var n=Dn;Dn|=2;var r=X4(),i=Q4();ln!==t||It!==e?(Eb=null,vb=qo()+500,Ih(t,e)):Zh=Em(t,e);e:do try{if(an!==0&&xt!==null){e=xt;var s=ns;t:switch(an){case 1:an=0,ns=null,Md(t,e,s,1);break;case 2:if(Lk(s)){an=0,ns=null,lN(e);break}e=function(){an===2&&ln===t&&(an=7),ta(t)},s.then(e,e);break e;case 3:an=7;break e;case 4:an=5;break e;case 7:Lk(s)?(an=0,ns=null,lN(e)):(an=0,ns=null,Md(t,e,s,7));break;case 5:var o=null;switch(xt.tag){case 26:o=xt.memoizedState;case 5:case 27:var a=xt;if(!o||f5(o)){an=0,ns=null;var c=a.sibling;if(c!==null)xt=c;else{var u=a.return;u!==null?(xt=u,Uw(u)):xt=null}break t}}an=0,ns=null,Md(t,e,s,5);break;case 6:an=0,ns=null,Md(t,e,s,6);break;case 8:iC(),Xn=6;break e;default:throw Error(ue(462))}}tue();break}catch(h){Z4(t,h)}while(!0);return Da=Nu=null,gt.H=r,gt.A=i,Dn=n,xt!==null?0:(ln=null,It=0,Nw(),Xn)}function tue(){for(;xt!==null&&!xce();)J4(xt)}function J4(t){var e=C4(t.alternate,t,Wa);t.memoizedProps=t.pendingProps,e===null?Uw(t):xt=e}function lN(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=eN(n,e,e.pendingProps,e.type,void 0,It);break;case 11:e=eN(n,e,e.pendingProps,e.type.render,e.ref,It);break;case 5:jA(e);default:K4(n,e),e=xt=V4(e,Wa),e=C4(n,e,Wa)}t.memoizedProps=t.pendingProps,e===null?Uw(t):xt=e}function Md(t,e,n,r){Da=Nu=null,jA(e),Gd=null,Rg=0;var i=e.return;try{if(Hle(t,i,e,n,It)){Xn=1,yb(t,zs(n,t.current)),xt=null;return}}catch(s){if(i!==null)throw xt=i,s;Xn=1,yb(t,zs(n,t.current)),xt=null;return}e.flags&32768?(Dt||r===1?t=!0:Zh||It&536870912?t=!1:(Ca=t=!0,(r===2||r===3||r===6)&&(r=Vs.current,r!==null&&r.tag===13&&(r.flags|=16384))),e5(e,t)):Uw(e)}function Uw(t){var e=t;do{if(e.flags&32768){e5(e,Ca);return}t=e.return;var n=Gle(e.alternate,e,Wa);if(n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Xn===0&&(Xn=5)}function e5(t,e){do{var n=Yle(t.alternate,t);if(n!==null){n.flags&=32767,xt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){xt=t;return}xt=t=n}while(t!==null);Xn=6,xt=null}function uN(t,e,n,r,i,s,o,a,c,u){var h=gt.T,f=bn.p;try{bn.p=2,gt.T=null,nue(t,e,n,r,f,i,s,o,a,c,u)}finally{gt.T=h,bn.p=f}}function nue(t,e,n,r,i,s,o,a){do Qd();while(Al!==null);if(Dn&6)throw Error(ue(327));var c=t.finishedWork;if(r=t.finishedLanes,c===null)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var u=c.lanes|c.childLanes;if(u|=NA,Dce(t,r,u,s,o,a),t===ln&&(xt=ln=null,It=0),!(c.subtreeFlags&10256)&&!(c.flags&10256)||$0||($0=!0,Bx=u,Dx=n,oue(ob,function(){return Qd(),null})),n=(c.flags&15990)!==0,c.subtreeFlags&15990||n?(n=gt.T,gt.T=null,s=bn.p,bn.p=2,o=Dn,Dn|=4,Vle(t,c),U4(c,t),Cle(Fx,t.containerInfo),Rb=!!zx,Fx=zx=null,t.current=c,D4(t,c.alternate,c),Sce(),Dn=o,bn.p=s,gt.T=n):t.current=c,$0?($0=!1,Al=t,Ep=r):t5(t,u),u=t.pendingLanes,u===0&&(Uc=null),Rce(c.stateNode),ta(t),e!==null)for(i=t.onRecoverableError,c=0;c<e.length;c++)u=e[c],i(u.value,{componentStack:u.stack});return Ep&3&&Qd(),u=t.pendingLanes,r&4194218&&u&42?t===Px?_p++:(_p=0,Px=t):_p=0,Rm(0),null}function t5(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Am(e)))}function Qd(){if(Al!==null){var t=Al,e=Bx;Bx=0;var n=i6(Ep),r=gt.T,i=bn.p;try{if(bn.p=32>n?32:n,gt.T=null,Al===null)var s=!1;else{n=Dx,Dx=null;var o=Al,a=Ep;if(Al=null,Ep=0,Dn&6)throw Error(ue(331));var c=Dn;if(Dn|=4,H4(o.current),z4(o,o.current,a,n),Dn=c,Rm(0,!1),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(vm,o)}catch{}s=!0}return s}finally{bn.p=i,gt.T=r,t5(t,e)}}return!1}function dN(t,e,n){e=zs(n,e),e=_x(t.stateNode,e,2),t=$c(t,e,2),t!==null&&(_m(t,2),ta(t))}function tn(t,e,n){if(t.tag===3)dN(t,t,n);else for(;e!==null;){if(e.tag===3){dN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uc===null||!Uc.has(r))){t=zs(n,t),n=w4(2),r=$c(e,n,2),r!==null&&(v4(n,r,e,t),_m(r,2),ta(r));break}}e=e.return}}function gE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Xle;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(tC=!0,i.add(n),t=rue.bind(null,t,e,n),e.then(t,t))}function rue(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ln===t&&(It&n)===n&&(Xn===4||Xn===3&&(It&62914560)===It&&300>qo()-rC?!(Dn&2)&&Ih(t,0):nC|=n,Th===It&&(Th=0)),ta(t)}function n5(t,e){e===0&&(e=t6()),t=Yc(t,e),t!==null&&(_m(t,e),ta(t))}function iue(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n5(t,n)}function sue(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(ue(314))}r!==null&&r.delete(e),n5(t,n)}function oue(t,e){return xA(t,e)}var _b=null,wd=null,Ux=!1,xb=!1,mE=!1,Yl=0;function ta(t){t!==wd&&t.next===null&&(wd===null?_b=wd=t:wd=wd.next=t),xb=!0,Ux||(Ux=!0,cue(aue))}function Rm(t,e){if(!mE&&xb){mE=!0;do for(var n=!1,r=_b;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-fs(42|t)+1)-1,s&=i&~(o&~a),s=s&201326677?s&201326677|1:s?s|2:0}s!==0&&(n=!0,hN(r,s))}else s=It,s=Tw(r,r===ln?s:0),!(s&3)||Em(r,s)||(n=!0,hN(r,s));r=r.next}while(n);mE=!1}}function aue(){xb=Ux=!1;var t=0;Yl!==0&&(mue()&&(t=Yl),Yl=0);for(var e=qo(),n=null,r=_b;r!==null;){var i=r.next,s=r5(r,e);s===0?(r.next=null,n===null?_b=i:n.next=i,i===null&&(wd=n)):(n=r,(t!==0||s&3)&&(xb=!0)),r=i}Rm(t)}function r5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var o=31-fs(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=Bce(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}if(e=ln,n=It,n=Tw(t,t===e?n:0),r=t.callbackNode,n===0||t===e&&an===2||t.cancelPendingCommit!==null)return r!==null&&r!==null&&W1(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Em(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&W1(r),i6(n)){case 2:case 8:n=QP;break;case 32:n=ob;break;case 268435456:n=JP;break;default:n=ob}return r=i5.bind(null,t),n=xA(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&W1(r),t.callbackPriority=2,t.callbackNode=null,2}function i5(t,e){var n=t.callbackNode;if(Qd()&&t.callbackNode!==n)return null;var r=It;return r=Tw(t,t===ln?r:0),r===0?null:(Y4(t,r,e),r5(t,qo()),t.callbackNode!=null&&t.callbackNode===n?i5.bind(null,t):null)}function hN(t,e){if(Qd())return null;Y4(t,e,!0)}function cue(t){bue(function(){Dn&6?xA(XP,t):t()})}function sC(){return Yl===0&&(Yl=e6()),Yl}function fN(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:uy(""+t)}function pN(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function lue(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=fN((i[Vi]||null).action),o=r.submitter;o&&(e=(e=o[Vi]||null)?fN(e.formAction):o.getAttribute("formAction"),e!==null&&(s=e,o=null));var a=new Iw("action","action",null,r,i);t.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Yl!==0){var c=o?pN(i,o):new FormData(i);vx(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(a.preventDefault(),c=o?pN(i,o):new FormData(i),vx(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var yE=0;yE<Pk.length;yE++){var bE=Pk[yE],uue=bE.toLowerCase(),due=bE[0].toUpperCase()+bE.slice(1);xo(uue,"on"+due)}xo(A6,"onAnimationEnd");xo(C6,"onAnimationIteration");xo(T6,"onAnimationStart");xo("dblclick","onDoubleClick");xo("focusin","onFocus");xo("focusout","onBlur");xo(Ile,"onTransitionRun");xo(Rle,"onTransitionStart");xo(kle,"onTransitionCancel");xo(I6,"onTransitionEnd");_h("onMouseEnter",["mouseout","mouseover"]);_h("onMouseLeave",["mouseout","mouseover"]);_h("onPointerEnter",["pointerout","pointerover"]);_h("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ng="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hue=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ng));function s5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(h){mb(h)}i.currentTarget=null,s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=u;try{s(i)}catch(h){mb(h)}i.currentTarget=null,s=c}}}}function Ct(t,e){var n=e[ax];n===void 0&&(n=e[ax]=new Set);var r=t+"__bubble";n.has(r)||(o5(e,t,2,!1),n.add(r))}function wE(t,e,n){var r=0;e&&(r|=4),o5(n,t,r,e)}var M0="_reactListening"+Math.random().toString(36).slice(2);function oC(t){if(!t[M0]){t[M0]=!0,o6.forEach(function(n){n!=="selectionchange"&&(hue.has(n)||wE(n,!1,t),wE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[M0]||(e[M0]=!0,wE("selectionchange",!1,e))}}function o5(t,e,n,r){switch(b5(e)){case 2:var i=Uue;break;case 8:i=Lue;break;default:i=uC}n=i.bind(null,e,n,t),i=void 0,!dx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ol(a),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){r=s=o;continue e}a=a.parentNode}}r=r.return}p6(function(){var u=s,h=CA(n),f=[];e:{var g=R6.get(t);if(g!==void 0){var m=Iw,_=t;switch(t){case"keypress":if(hy(n)===0)break e;case"keydown":case"keyup":m=sle;break;case"focusin":_="focus",m=X1;break;case"focusout":_="blur",m=X1;break;case"beforeblur":case"afterblur":m=X1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Kce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cle;break;case A6:case C6:case T6:m=Zce;break;case I6:m=ule;break;case"scroll":case"scrollend":m=Vce;break;case"wheel":m=hle;break;case"copy":case"cut":case"paste":m=Qce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ak;break;case"toggle":case"beforetoggle":m=ple}var x=(e&4)!==0,T=!x&&(t==="scroll"||t==="scrollend"),S=x?g!==null?g+"Capture":null:g;x=[];for(var C=u,I;C!==null;){var P=C;if(I=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||I===null||S===null||(P=Ag(C,S),P!=null&&x.push(Og(C,P,I))),T)break;C=C.return}0<x.length&&(g=new m(g,_,null,n,h),f.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==ux&&(_=n.relatedTarget||n.fromElement)&&(Ol(_)||_[Gh]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Ol(_):null,_!==null&&(T=Kh(_),x=_.tag,_!==T||x!==5&&x!==27&&x!==6)&&(_=null)):(m=null,_=u),m!==_)){if(x=xk,P="onMouseLeave",S="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ak,P="onPointerLeave",S="onPointerEnter",C="pointer"),T=m==null?g:Hf(m),I=_==null?g:Hf(_),g=new x(P,C+"leave",m,n,h),g.target=T,g.relatedTarget=I,P=null,Ol(h)===u&&(x=new x(S,C+"enter",_,n,h),x.target=I,x.relatedTarget=T,P=x),T=P,m&&_)t:{for(x=m,S=_,C=0,I=x;I;I=cd(I))C++;for(I=0,P=S;P;P=cd(P))I++;for(;0<C-I;)x=cd(x),C--;for(;0<I-C;)S=cd(S),I--;for(;C--;){if(x===S||S!==null&&x===S.alternate)break t;x=cd(x),S=cd(S)}x=null}else x=null;m!==null&&gN(f,g,m,x,!1),_!==null&&T!==null&&gN(f,T,_,x,!0)}}e:{if(g=u?Hf(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var z=Rk;else if(Ik(g))if(v6)z=Sle;else{z=_le;var W=Ele}else m=g.nodeName,!m||m.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?u&&AA(u.elementType)&&(z=Rk):z=xle;if(z&&(z=z(t,u))){w6(f,z,n,h);break e}W&&W(t,g,u),t==="focusout"&&u&&g.type==="number"&&u.memoizedProps.value!=null&&lx(g,"number",g.value)}switch(W=u?Hf(u):window,t){case"focusin":(Ik(W)||W.contentEditable==="true")&&(Nd=W,hx=u,up=null);break;case"focusout":up=hx=Nd=null;break;case"mousedown":fx=!0;break;case"contextmenu":case"mouseup":case"dragend":fx=!1,Dk(f,n,h);break;case"selectionchange":if(Tle)break;case"keydown":case"keyup":Dk(f,n,h)}var L;if(RA)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else kd?y6(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(m6&&n.locale!=="ko"&&(kd||V!=="onCompositionStart"?V==="onCompositionEnd"&&kd&&(L=g6()):(Tc=h,TA="value"in Tc?Tc.value:Tc.textContent,kd=!0)),W=Sb(u,V),0<W.length&&(V=new Sk(V,t,null,n,h),f.push({event:V,listeners:W}),L?V.data=L:(L=b6(n),L!==null&&(V.data=L)))),(L=mle?yle(t,n):ble(t,n))&&(V=Sb(u,"onBeforeInput"),0<V.length&&(W=new Sk("onBeforeInput","beforeinput",null,n,h),f.push({event:W,listeners:V}),W.data=L)),lue(f,t,u,n,h)}s5(f,e)})}function Og(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Ag(t,n),i!=null&&r.unshift(Og(t,i,s)),i=Ag(t,e),i!=null&&r.push(Og(t,i,s))),t=t.return}return r}function cd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gN(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(a=a.tag,c!==null&&c===r)break;a!==5&&a!==26&&a!==27||u===null||(c=u,i?(u=Ag(n,s),u!=null&&o.unshift(Og(n,u,c))):i||(u=Ag(n,s),u!=null&&o.push(Og(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fue=/\r\n?/g,pue=/\u0000|\uFFFD/g;function mN(t){return(typeof t=="string"?t:""+t).replace(fue,`
`).replace(pue,"")}function a5(t,e){return e=mN(e),mN(t)===e}function Lw(){}function Yt(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||xh(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&xh(t,""+r);break;case"className":R0(t,"class",r);break;case"tabIndex":R0(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":R0(t,n,r);break;case"style":f6(t,r,s);break;case"data":if(e!=="object"){R0(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=uy(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Yt(t,e,"name",i.name,i,null),Yt(t,e,"formEncType",i.formEncType,i,null),Yt(t,e,"formMethod",i.formMethod,i,null),Yt(t,e,"formTarget",i.formTarget,i,null)):(Yt(t,e,"encType",i.encType,i,null),Yt(t,e,"method",i.method,i,null),Yt(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=uy(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Lw);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ue(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ue(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=uy(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),ly(t,"popover",r);break;case"xlinkActuate":ha(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ha(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ha(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ha(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ha(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ha(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ha(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ha(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ha(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ly(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Hce.get(n)||n,ly(t,n,r))}}function Lx(t,e,n,r,i,s){switch(n){case"style":f6(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ue(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ue(60));t.innerHTML=n}}break;case"children":typeof r=="string"?xh(t,r):(typeof r=="number"||typeof r=="bigint")&&xh(t,""+r);break;case"onScroll":r!=null&&Ct("scroll",t);break;case"onScrollEnd":r!=null&&Ct("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Lw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!a6.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[Vi]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):ly(t,n,r)}}}function Yr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(o!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ue(137,e));default:Yt(t,e,s,o,n,null)}}i&&Yt(t,e,"srcSet",n.srcSet,n,null),r&&Yt(t,e,"src",n.src,n,null);return;case"input":Ct("invalid",t);var a=s=o=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":a=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(ue(137,e));break;default:Yt(t,e,r,h,n,null)}}u6(t,s,a,c,u,o,i,!1),ab(t);return;case"select":Ct("invalid",t),r=o=s=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":s=a;break;case"defaultValue":o=a;break;case"multiple":r=a;default:Yt(t,e,i,a,n,null)}e=s,n=o,t.multiple=!!r,e!=null?Wd(t,!!r,e,!1):n!=null&&Wd(t,!!r,n,!0);return;case"textarea":Ct("invalid",t),s=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":r=a;break;case"defaultValue":i=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(ue(91));break;default:Yt(t,e,o,a,n,null)}h6(t,r,i,s),ab(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Yt(t,e,c,r,n,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(r=0;r<Ng.length;r++)Ct(Ng[r],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ue(137,e));default:Yt(t,e,u,r,n,null)}return;default:if(AA(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Lx(t,e,h,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&Yt(t,e,a,r,n,null))}function gue(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,a=null,c=null,u=null,h=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||Yt(t,e,m,null,r,f)}}for(var g in r){var m=r[g];if(f=n[g],r.hasOwnProperty(g)&&(m!=null||f!=null))switch(g){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":o=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ue(137,e));break;default:m!==f&&Yt(t,e,g,m,r,f)}}cx(t,o,a,c,u,h,s,i);return;case"select":m=o=a=g=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||Yt(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":g=s;break;case"defaultValue":a=s;break;case"multiple":o=s;default:s!==c&&Yt(t,e,i,s,r,c)}e=a,n=o,r=m,g!=null?Wd(t,!!n,g,!1):!!r!=!!n&&(e!=null?Wd(t,!!n,e,!0):Wd(t,!!n,n?[]:"",!1));return;case"textarea":m=g=null;for(a in n)if(i=n[a],n.hasOwnProperty(a)&&i!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Yt(t,e,a,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(i!=null||s!=null))switch(o){case"value":g=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ue(91));break;default:i!==s&&Yt(t,e,o,i,r,s)}d6(t,g,m);return;case"option":for(var _ in n)if(g=n[_],n.hasOwnProperty(_)&&g!=null&&!r.hasOwnProperty(_))switch(_){case"selected":t.selected=!1;break;default:Yt(t,e,_,null,r,g)}for(c in r)if(g=r[c],m=n[c],r.hasOwnProperty(c)&&g!==m&&(g!=null||m!=null))switch(c){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Yt(t,e,c,g,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!r.hasOwnProperty(x)&&Yt(t,e,x,null,r,g);for(u in r)if(g=r[u],m=n[u],r.hasOwnProperty(u)&&g!==m&&(g!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(ue(137,e));break;default:Yt(t,e,u,g,r,m)}return;default:if(AA(e)){for(var T in n)g=n[T],n.hasOwnProperty(T)&&g!==void 0&&!r.hasOwnProperty(T)&&Lx(t,e,T,void 0,r,g);for(h in r)g=r[h],m=n[h],!r.hasOwnProperty(h)||g===m||g===void 0&&m===void 0||Lx(t,e,h,g,r,m);return}}for(var S in n)g=n[S],n.hasOwnProperty(S)&&g!=null&&!r.hasOwnProperty(S)&&Yt(t,e,S,null,r,g);for(f in r)g=r[f],m=n[f],!r.hasOwnProperty(f)||g===m||g==null&&m==null||Yt(t,e,f,g,r,m)}var zx=null,Fx=null;function Ab(t){return t.nodeType===9?t:t.ownerDocument}function yN(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c5(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function jx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var EE=null;function mue(){var t=window.event;return t&&t.type==="popstate"?t===EE?!1:(EE=t,!0):(EE=null,!1)}var l5=typeof setTimeout=="function"?setTimeout:void 0,yue=typeof clearTimeout=="function"?clearTimeout:void 0,bN=typeof Promise=="function"?Promise:void 0,bue=typeof queueMicrotask=="function"?queueMicrotask:typeof bN<"u"?function(t){return bN.resolve(null).then(t).catch(wue)}:l5;function wue(t){setTimeout(function(){throw t})}function _E(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mg(e)}function Hx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hx(n),SA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function vue(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Sg])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=bo(t.nextSibling),t===null)break}return null}function Eue(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=bo(t.nextSibling),t===null))return null;return t}function bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}function wN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function u5(t,e,n){switch(e=Ab(n),t){case"html":if(t=e.documentElement,!t)throw Error(ue(452));return t;case"head":if(t=e.head,!t)throw Error(ue(453));return t;case"body":if(t=e.body,!t)throw Error(ue(454));return t;default:throw Error(ue(451))}}var Ws=new Map,vN=new Set;function Cb(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ga=bn.d;bn.d={f:_ue,r:xue,D:Sue,C:Aue,L:Cue,m:Tue,X:Rue,S:Iue,M:kue};function _ue(){var t=Ga.f(),e=Mw();return t||e}function xue(t){var e=Yh(t);e!==null&&e.tag===5&&e.type==="form"?u4(e):Ga.r(t)}var Xh=typeof document>"u"?null:document;function d5(t,e,n){var r=Xh;if(r&&typeof e=="string"&&e){var i=Ls(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),vN.has(i)||(vN.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Yr(e,"link",t),Rr(e),r.head.appendChild(e)))}}function Sue(t){Ga.D(t),d5("dns-prefetch",t,null)}function Aue(t,e){Ga.C(t,e),d5("preconnect",t,e)}function Cue(t,e,n){Ga.L(t,e,n);var r=Xh;if(r&&t&&e){var i='link[rel="preload"][as="'+Ls(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Ls(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Ls(n.imageSizes)+'"]')):i+='[href="'+Ls(t)+'"]';var s=i;switch(e){case"style":s=Rh(t);break;case"script":s=Qh(t)}Ws.has(s)||(t=vn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ws.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(km(s))||e==="script"&&r.querySelector(Nm(s))||(e=r.createElement("link"),Yr(e,"link",t),Rr(e),r.head.appendChild(e)))}}function Tue(t,e){Ga.m(t,e);var n=Xh;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ls(r)+'"][href="'+Ls(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Qh(t)}if(!Ws.has(s)&&(t=vn({rel:"modulepreload",href:t},e),Ws.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nm(s)))return}r=n.createElement("link"),Yr(r,"link",t),Rr(r),n.head.appendChild(r)}}}function Iue(t,e,n){Ga.S(t,e,n);var r=Xh;if(r&&t){var i=Vd(r).hoistableStyles,s=Rh(t);e=e||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(km(s)))a.loading=5;else{t=vn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ws.get(s))&&aC(t,n);var c=o=r.createElement("link");Rr(c),Yr(c,"link",t),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,by(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}}function Rue(t,e){Ga.X(t,e);var n=Xh;if(n&&t){var r=Vd(n).hoistableScripts,i=Qh(t),s=r.get(i);s||(s=n.querySelector(Nm(i)),s||(t=vn({src:t,async:!0},e),(e=Ws.get(i))&&cC(t,e),s=n.createElement("script"),Rr(s),Yr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function kue(t,e){Ga.M(t,e);var n=Xh;if(n&&t){var r=Vd(n).hoistableScripts,i=Qh(t),s=r.get(i);s||(s=n.querySelector(Nm(i)),s||(t=vn({src:t,async:!0,type:"module"},e),(e=Ws.get(i))&&cC(t,e),s=n.createElement("script"),Rr(s),Yr(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function EN(t,e,n,r){var i=(i=Dc.current)?Cb(i):null;if(!i)throw Error(ue(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Rh(n.href),n=Vd(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Rh(n.href);var s=Vd(i).hoistableStyles,o=s.get(t);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,o),(s=i.querySelector(km(t)))&&!s._p&&(o.instance=s,o.state.loading=5),Ws.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ws.set(t,n),s||Nue(i,t,n,o.state))),e&&r===null)throw Error(ue(528,""));return o}if(e&&r!==null)throw Error(ue(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Qh(n),n=Vd(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ue(444,t))}}function Rh(t){return'href="'+Ls(t)+'"'}function km(t){return'link[rel="stylesheet"]['+t+"]"}function h5(t){return vn({},t,{"data-precedence":t.precedence,precedence:null})}function Nue(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Yr(e,"link",n),Rr(e),t.head.appendChild(e))}function Qh(t){return'[src="'+Ls(t)+'"]'}function Nm(t){return"script[async]"+t}function _N(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ls(n.href)+'"]');if(r)return e.instance=r,Rr(r),r;var i=vn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Rr(r),Yr(r,"style",i),by(r,n.precedence,t),e.instance=r;case"stylesheet":i=Rh(n.href);var s=t.querySelector(km(i));if(s)return e.state.loading|=4,e.instance=s,Rr(s),s;r=h5(n),(i=Ws.get(i))&&aC(r,i),s=(t.ownerDocument||t).createElement("link"),Rr(s);var o=s;return o._p=new Promise(function(a,c){o.onload=a,o.onerror=c}),Yr(s,"link",r),e.state.loading|=4,by(s,n.precedence,t),e.instance=s;case"script":return s=Qh(n.src),(i=t.querySelector(Nm(s)))?(e.instance=i,Rr(i),i):(r=n,(i=Ws.get(s))&&(r=vn({},n),cC(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Rr(i),Yr(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(ue(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,by(r,n.precedence,t));return e.instance}function by(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===e)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function aC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function cC(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var wy=null;function xN(t,e,n){if(wy===null){var r=new Map,i=wy=new Map;i.set(n,r)}else i=wy,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Sg]||s[di]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(e)||"";o=t+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function SN(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Oue(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function f5(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Bg=null;function Bue(){}function Due(t,e,n){if(Bg===null)throw Error(ue(475));var r=Bg;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Rh(n.href),s=t.querySelector(km(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Tb.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,Rr(s);return}s=t.ownerDocument||t,n=h5(n),(i=Ws.get(i))&&aC(n,i),s=s.createElement("link"),Rr(s);var o=s;o._p=new Promise(function(a,c){o.onload=a,o.onerror=c}),Yr(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Tb.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function Pue(){if(Bg===null)throw Error(ue(475));var t=Bg;return t.stylesheets&&t.count===0&&qx(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&qx(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Tb(){if(this.count--,this.count===0){if(this.stylesheets)qx(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ib=null;function qx(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ib=new Map,e.forEach($ue,t),Ib=null,Tb.call(t))}function $ue(t,e){if(!(e.state.loading&4)){var n=Ib.get(t);if(n)var r=n.get(null);else{n=new Map,Ib.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=e.instance,o=i.getAttribute("data-precedence"),s=n.get(o)||r,s===r&&n.set(null,i),n.set(o,i),this.count++,r=Tb.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Dg={$$typeof:ka,Provider:null,Consumer:null,_currentValue:ql,_currentValue2:ql,_threadCount:0};function Mue(t,e,n,r,i,s,o,a){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=K1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K1(0),this.hiddenUpdates=K1(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function p5(t,e,n,r,i,s,o,a,c,u,h,f){return t=new Mue(t,e,n,o,a,c,u,f),e=1,s===!0&&(e|=24),s=js(3,null,null,e),t.current=s,s.stateNode=t,e=$A(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},XA(s),t}function g5(t){return t?(t=Dd,t):Dd}function m5(t,e,n,r,i,s){i=g5(i),r.context===null?r.context=i:r.pendingContext=i,r=Pc(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=$c(t,r,e),n!==null&&(Si(n,t,e),mp(n,t,e))}function AN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lC(t,e){AN(t,e),(t=t.alternate)&&AN(t,e)}function y5(t){if(t.tag===13){var e=Yc(t,67108864);e!==null&&Si(e,t,67108864),lC(t,67108864)}}var Rb=!0;function Uue(t,e,n,r){var i=gt.T;gt.T=null;var s=bn.p;try{bn.p=2,uC(t,e,n,r)}finally{bn.p=s,gt.T=i}}function Lue(t,e,n,r){var i=gt.T;gt.T=null;var s=bn.p;try{bn.p=8,uC(t,e,n,r)}finally{bn.p=s,gt.T=i}}function uC(t,e,n,r){if(Rb){var i=Vx(r);if(i===null)vE(t,e,r,kb,n),CN(t,r);else if(Fue(i,t,e,n,r))r.stopPropagation();else if(CN(t,r),e&4&&-1<zue.indexOf(t)){for(;i!==null;){var s=Yh(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=ml(s.pendingLanes);if(o!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var c=1<<31-fs(o);a.entanglements[1]|=c,o&=~c}ta(s),!(Dn&6)&&(vb=qo()+500,Rm(0))}}break;case 13:a=Yc(s,2),a!==null&&Si(a,s,2),Mw(),lC(s,2)}if(s=Vx(r),s===null&&vE(t,e,r,kb,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vE(t,e,r,null,n)}}function Vx(t){return t=CA(t),dC(t)}var kb=null;function dC(t){if(kb=null,t=Ol(t),t!==null){var e=Kh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=YP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return kb=t,null}function b5(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ace()){case XP:return 2;case QP:return 8;case ob:case Cce:return 32;case JP:return 268435456;default:return 32}default:return 32}}var Wx=!1,Lc=null,zc=null,Fc=null,Pg=new Map,$g=new Map,Ec=[],zue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CN(t,e){switch(t){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Fc=null;break;case"pointerover":case"pointerout":Pg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$g.delete(e.pointerId)}}function Rf(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yh(e),e!==null&&y5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Fue(t,e,n,r,i){switch(e){case"focusin":return Lc=Rf(Lc,t,e,n,r,i),!0;case"dragenter":return zc=Rf(zc,t,e,n,r,i),!0;case"mouseover":return Fc=Rf(Fc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pg.set(s,Rf(Pg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$g.set(s,Rf($g.get(s)||null,t,e,n,r,i)),!0}return!1}function w5(t){var e=Ol(t.target);if(e!==null){var n=Kh(e);if(n!==null){if(e=n.tag,e===13){if(e=YP(n),e!==null){t.blockedOn=e,Pce(t.priority,function(){if(n.tag===13){var r=ps(),i=Yc(n,r);i!==null&&Si(i,n,r),lC(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vx(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ux=r,n.target.dispatchEvent(r),ux=null}else return e=Yh(n),e!==null&&y5(e),t.blockedOn=n,!1;e.shift()}return!0}function TN(t,e,n){vy(t)&&n.delete(e)}function jue(){Wx=!1,Lc!==null&&vy(Lc)&&(Lc=null),zc!==null&&vy(zc)&&(zc=null),Fc!==null&&vy(Fc)&&(Fc=null),Pg.forEach(TN),$g.forEach(TN)}function U0(t,e){t.blockedOn===e&&(t.blockedOn=null,Wx||(Wx=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,jue)))}var L0=null;function IN(t){L0!==t&&(L0=t,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,function(){L0===t&&(L0=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(dC(r||n)===null)continue;break}var s=Yh(n);s!==null&&(t.splice(e,3),e-=3,vx(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Mg(t){function e(c){return U0(c,t)}Lc!==null&&U0(Lc,t),zc!==null&&U0(zc,t),Fc!==null&&U0(Fc,t),Pg.forEach(e),$g.forEach(e);for(var n=0;n<Ec.length;n++){var r=Ec[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ec.length&&(n=Ec[0],n.blockedOn===null);)w5(n),n.blockedOn===null&&Ec.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Vi]||null;if(typeof s=="function")o||IN(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Vi]||null)a=o.formAction;else if(dC(i)!==null)continue}else a=o.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),IN(n)}}}function hC(t){this._internalRoot=t}zw.prototype.render=hC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));var n=e.current,r=ps();m5(n,r,t,e,null,null)};zw.prototype.unmount=hC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;t.tag===0&&Qd(),m5(t.current,2,null,t,null,null),Mw(),e[Gh]=null}};function zw(t){this._internalRoot=t}zw.prototype.unstable_scheduleHydration=function(t){if(t){var e=s6();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ec.length&&e!==0&&e<Ec[n].priority;n++);Ec.splice(n,0,t),n===0&&w5(t)}};var RN=qP.version;if(RN!=="19.0.0")throw Error(ue(527,RN,"19.0.0"));bn.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=_ce(e),t=t!==null?ZP(t):null,t=t===null?null:t.stateNode,t};var Hue={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:gt,findFiberByHostInstance:Ol,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z0.isDisabled&&z0.supportsFiber)try{vm=z0.inject(Hue),hs=z0}catch{}}Aw.createRoot=function(t,e){if(!VP(t))throw Error(ue(299));var n=!1,r="",i=m4,s=y4,o=b4,a=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(a=e.unstable_transitionCallbacks)),e=p5(t,1,!1,null,null,n,r,i,s,o,a,null),t[Gh]=e.current,oC(t.nodeType===8?t.parentNode:t),new hC(e)};Aw.hydrateRoot=function(t,e,n){if(!VP(t))throw Error(ue(299));var r=!1,i="",s=m4,o=y4,a=b4,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=p5(t,1,!0,e,n??null,r,i,s,o,a,c,u),e.context=g5(null),n=e.current,r=ps(),i=Pc(r),i.callback=null,$c(n,i,r),e.current.lanes=r,_m(e,r),ta(e),t[Gh]=e.current,oC(t),new zw(e)};Aw.version="19.0.0";function v5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v5)}catch(t){console.error(t)}}v5(),UP.exports=Aw;var que=UP.exports,ho={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},Vue=Object.defineProperty,Wue=(t,e)=>{for(var n in e)Vue(t,n,{get:e[n],enumerable:!0})},Kue={isBrowser:!0},E5=new WeakMap,ol=t=>E5.get(t),Gue=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return E5.set(t,n)},kN=(t,e)=>e in t,Om=(t,e)=>(0,console.error)(t,e),Nb=new Map,_5=[],Yue="slot-fb{display:contents}slot-fb[hidden]{display:none}",NN="http://www.w3.org/1999/xlink",Bm=typeof window<"u"?window:{},wo=Bm.document||{head:{}},Sn=Bm.HTMLElement||class{},Qr={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},Zue=(()=>{let t=!1;try{wo.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),Xue=t=>Promise.resolve(t),Que=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Kx=!1,Gx=[],x5=[],S5=(t,e)=>n=>{t.push(n),Kx||(Kx=!0,e&&Qr.$flags$&4?Jue(Yx):Qr.raf(Yx))},ON=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Om(n)}t.length=0},Yx=()=>{ON(Gx),ON(x5),(Kx=Gx.length>0)&&Qr.raf(Yx)},Jue=t=>Xue().then(t),Ug=S5(Gx,!1),Jc=S5(x5,!0),A5=t=>{const e=new URL(t,Qr.$resourcesUrl$);return e.origin!==Bm.location.origin?e.href:e.pathname},BN={},ede="http://www.w3.org/2000/svg",tde="http://www.w3.org/1999/xhtml",nde=t=>t!=null,fC=t=>(t=typeof t,t==="object"||t==="function");function rde(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var ide={};Wue(ide,{err:()=>C5,map:()=>sde,ok:()=>Zx,unwrap:()=>ode,unwrapErr:()=>ade});var Zx=t=>({isOk:!0,isErr:!1,value:t}),C5=t=>({isOk:!1,isErr:!0,value:t});function sde(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>Zx(r)):Zx(n)}if(t.isErr){const n=t.value;return C5(n)}throw"should never get here"}var ode=t=>{if(t.isOk)return t.value;throw t.value},ade=t=>{if(t.isErr)return t.value;throw t.value},uu=(t,e="")=>()=>{},Ae=(t,e,...n)=>{let r=null,i=null,s=null,o=!1,a=!1;const c=[],u=f=>{for(let g=0;g<f.length;g++)r=f[g],Array.isArray(r)?u(r):r!=null&&typeof r!="boolean"&&((o=typeof t!="function"&&!fC(r))&&(r=String(r)),o&&a?c[c.length-1].$text$+=r:c.push(o?Ob(null,r):r),a=o)};if(u(n),e){e.key&&(i=e.key),e.name&&(s=e.name);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(g=>f[g]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,c,lde);const h=Ob(t,null);return h.$attrs$=e,c.length>0&&(h.$children$=c),h.$key$=i,h.$name$=s,h},Ob=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},$n={},cde=t=>t&&t.$tag$===$n,lde={forEach:(t,e)=>t.map(DN).forEach(e),map:(t,e)=>t.map(DN).map(e).map(ude)},DN=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),ude=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),Ae(t.vtag,n,...t.vchildren||[])}const e=Ob(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},dde=t=>_5.map(e=>e(t)).find(e=>!!e),hde=t=>_5.push(t),fde=t=>ol(t).$modeName$,pde=(t,e)=>t!=null&&!fC(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,gde=t=>t,yn=(t,e,n)=>{const r=gde(t);return{emit:i=>mde(r,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},mde=(t,e,n)=>{const r=Qr.ce(e,n);return t.dispatchEvent(r),r},PN=new WeakMap,yde=(t,e,n)=>{let r=Nb.get(t);Que&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Nb.set(t,r)},bde=(t,e,n)=>{var r;const i=T5(e,n),s=Nb.get(i);if(t=t.nodeType===11?t:wo,s)if(typeof s=="string"){t=t.head||t;let o=PN.get(t),a;if(o||PN.set(t,o=new Set),!o.has(i)){{a=wo.createElement("style"),a.innerHTML=s;const c=(r=Qr.$nonce$)!=null?r:rde(wo);c!=null&&a.setAttribute("nonce",c),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(a,t.querySelector("link"))}e.$flags$&4&&(a.innerHTML+=Yue),o&&o.add(i)}}else t.adoptedStyleSheets.includes(s)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return i},wde=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=uu("attachStyles",e.$tagName$),s=bde(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);r&10&&r&2&&(n["s-sc"]=s,n.classList.add(s+"-h"),r&2&&n.classList.add(s+"-s")),i()},T5=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),$N=(t,e,n,r,i,s)=>{if(n!==r){let o=kN(t,e),a=e.toLowerCase();if(e==="class"){const c=t.classList,u=MN(n),h=MN(r);c.remove(...u.filter(f=>f&&!h.includes(f))),c.add(...h.filter(f=>f&&!u.includes(f)))}else if(e==="style"){for(const c in n)(!r||r[c]==null)&&(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in r)(!n||r[c]!==n[c])&&(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):kN(Bm,a)?e=a.slice(2):e=a[2]+e.slice(3),n||r){const c=e.endsWith(I5);e=e.replace(Ede,""),n&&Qr.rel(t,e,n,c),r&&Qr.ael(t,e,r,c)}}else{const c=fC(r);if((o||c&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]=r;else{const h=r??"";e==="list"?o=!1:(n==null||t[e]!=h)&&(t[e]=h)}}catch{}let u=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,u=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(u?t.removeAttributeNS(NN,e):t.removeAttribute(e)):(!o||s&4||i)&&!c&&(r=r===!0?"":r,u?t.setAttributeNS(NN,e,r):t.setAttribute(e,r))}}},vde=/\s/,MN=t=>t?t.split(vde):[],I5="Capture",Ede=new RegExp(I5+"$"),R5=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||BN,s=e.$attrs$||BN;for(const o of UN(Object.keys(i)))o in s||$N(r,o,i[o],void 0,n,e.$flags$);for(const o of UN(Object.keys(s)))$N(r,o,i[o],s[o],n,e.$flags$)};function UN(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var vd,Xx,Lg,Bb=!1,Db=!1,pC=!1,rs=!1,Pb=(t,e,n,r)=>{var i;const s=e.$children$[n];let o=0,a,c,u;if(Bb||(pC=!0,s.$tag$==="slot"&&(vd&&r.classList.add(vd+"-s"),s.$flags$|=s.$children$?2:1)),s.$text$!==null)a=s.$elm$=wo.createTextNode(s.$text$);else if(s.$flags$&1)a=s.$elm$=wo.createTextNode("");else{if(rs||(rs=s.$tag$==="svg"),a=s.$elm$=wo.createElementNS(rs?ede:tde,!Bb&&ho.slotRelocation&&s.$flags$&2?"slot-fb":s.$tag$),rs&&s.$tag$==="foreignObject"&&(rs=!1),R5(null,s,rs),!!a.getRootNode().querySelector("body")&&ho.scoped&&nde(vd)&&a["s-si"]!==vd&&a.classList.add(a["s-si"]=vd),mC(a,r),s.$children$)for(o=0;o<s.$children$.length;++o)c=Pb(t,s,o,a),c&&a.appendChild(c);s.$tag$==="svg"?rs=!1:a.tagName==="foreignObject"&&(rs=!0)}return a["s-hn"]=Lg,s.$flags$&3&&(a["s-sr"]=!0,a["s-cr"]=Xx,a["s-sn"]=s.$name$||"",a["s-rf"]=(i=s.$attrs$)==null?void 0:i.ref,u=t&&t.$children$&&t.$children$[n],u&&u.$tag$===s.$tag$&&t.$elm$&&zg(t.$elm$,!1)),a},zg=(t,e)=>{Qr.$flags$|=1;const n=Array.from(t.childNodes);t["s-sr"]&&ho.experimentalSlotFixes;for(let r=n.length-1;r>=0;r--){const i=n[r];i["s-hn"]!==Lg&&i["s-ol"]&&(jc(O5(i),i,gC(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,pC=!0),e&&zg(i,e)}Qr.$flags$&=-2},k5=(t,e,n,r,i,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===Lg&&(o=o.shadowRoot);i<=s;++i)r[i]&&(a=Pb(null,n,i,t),a&&(r[i].$elm$=a,jc(o,a,gC(e))))},N5=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const s=i.$elm$;P5(i),s&&(Db=!0,s["s-ol"]?s["s-ol"].remove():zg(s,!0),s.remove())}}},_de=(t,e,n,r,i=!1)=>{let s=0,o=0,a=0,c=0,u=e.length-1,h=e[0],f=e[u],g=r.length-1,m=r[0],_=r[g],x,T;for(;s<=u&&o<=g;)if(h==null)h=e[++s];else if(f==null)f=e[--u];else if(m==null)m=r[++o];else if(_==null)_=r[--g];else if(F0(h,m,i))Ed(h,m,i),h=e[++s],m=r[++o];else if(F0(f,_,i))Ed(f,_,i),f=e[--u],_=r[--g];else if(F0(h,_,i))(h.$tag$==="slot"||_.$tag$==="slot")&&zg(h.$elm$.parentNode,!1),Ed(h,_,i),jc(t,h.$elm$,f.$elm$.nextSibling),h=e[++s],_=r[--g];else if(F0(f,m,i))(h.$tag$==="slot"||_.$tag$==="slot")&&zg(f.$elm$.parentNode,!1),Ed(f,m,i),jc(t,f.$elm$,h.$elm$),f=e[--u],m=r[++o];else{for(a=-1,c=s;c<=u;++c)if(e[c]&&e[c].$key$!==null&&e[c].$key$===m.$key$){a=c;break}a>=0?(T=e[a],T.$tag$!==m.$tag$?x=Pb(e&&e[o],n,a,t):(Ed(T,m,i),e[a]=void 0,x=T.$elm$),m=r[++o]):(x=Pb(e&&e[o],n,o,t),m=r[++o]),x&&jc(O5(h.$elm$),x,gC(h.$elm$))}s>u?k5(t,r[g+1]==null?null:r[g+1].$elm$,n,r,o,g):o>g&&N5(e,s,u)},F0=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&n&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:n?!0:t.$key$===e.$key$:!1,gC=t=>t&&t["s-ol"]||t,O5=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,Ed=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let c;a===null?(rs=o==="svg"?!0:o==="foreignObject"?!1:rs,o==="slot"&&!Bb||R5(t,e,rs),i!==null&&s!==null?_de(r,i,e,s,n):s!==null?(t.$text$!==null&&(r.textContent=""),k5(r,null,e,s,0,s.length-1)):!n&&ho.updatable&&i!==null&&N5(i,0,i.length-1),rs&&o==="svg"&&(rs=!1)):(c=r["s-cr"])?c.parentNode.textContent=a:t.$text$!==a&&(r.data=a)},B5=t=>{const e=t.childNodes;for(const n of e)if(n.nodeType===1){if(n["s-sr"]){const r=n["s-sn"];n.hidden=!1;for(const i of e)if(i!==n){if(i["s-hn"]!==n["s-hn"]||r!==""){if(i.nodeType===1&&(r===i.getAttribute("slot")||r===i["s-sn"])||i.nodeType===3&&r===i["s-sn"]){n.hidden=!0;break}}else if(i.nodeType===1||i.nodeType===3&&i.textContent.trim()!==""){n.hidden=!0;break}}}B5(n)}},va=[],D5=t=>{let e,n,r;for(const i of t.childNodes){if(i["s-sr"]&&(e=i["s-cr"])&&e.parentNode){n=e.parentNode.childNodes;const s=i["s-sn"];for(r=n.length-1;r>=0;r--)if(e=n[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==i["s-hn"])if(LN(e,s)){let o=va.find(a=>a.$nodeToRelocate$===e);Db=!0,e["s-sn"]=e["s-sn"]||s,o?(o.$nodeToRelocate$["s-sh"]=i["s-hn"],o.$slotRefNode$=i):(e["s-sh"]=i["s-hn"],va.push({$slotRefNode$:i,$nodeToRelocate$:e})),e["s-sr"]&&va.map(a=>{LN(a.$nodeToRelocate$,e["s-sn"])&&(o=va.find(c=>c.$nodeToRelocate$===e),o&&!a.$slotRefNode$&&(a.$slotRefNode$=o.$slotRefNode$))})}else va.some(o=>o.$nodeToRelocate$===e)||va.push({$nodeToRelocate$:e})}i.nodeType===1&&D5(i)}},LN=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",P5=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(P5)},jc=(t,e,n)=>{const r=t?.insertBefore(e,n);return mC(e,t),r},$5=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...$5(t.parentElement)),e},mC=(t,e,n=!1)=>{var r;if(t&&e&&t.nodeType===1){const i=new Set($5(e).filter(Boolean));if(i.size&&((r=t.classList)==null||r.add(...t["s-scs"]=[...i]),t["s-ol"]||n))for(const s of Array.from(t.childNodes))mC(s,t,!0)}},xde=(t,e,n=!1)=>{var r,i,s,o,a;const c=t.$hostElement$,u=t.$cmpMeta$,h=t.$vnode$||Ob(null,null),f=cde(e)?e:Ae(null,null,e);if(Lg=c.tagName,u.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},u.$attrsToReflect$.map(([g,m])=>f.$attrs$[m]=c[g])),n&&f.$attrs$)for(const g of Object.keys(f.$attrs$))c.hasAttribute(g)&&!["key","ref","style","class"].includes(g)&&(f.$attrs$[g]=c[g]);f.$tag$=null,f.$flags$|=4,t.$vnode$=f,f.$elm$=h.$elm$=c.shadowRoot||c,vd=c["s-sc"],Bb=(u.$flags$&1)!==0,Xx=c["s-cr"],Db=!1,Ed(h,f,n);{if(Qr.$flags$|=1,pC){D5(f.$elm$);for(const g of va){const m=g.$nodeToRelocate$;if(!m["s-ol"]){const _=wo.createTextNode("");_["s-nr"]=m,jc(m.parentNode,m["s-ol"]=_,m)}}for(const g of va){const m=g.$nodeToRelocate$,_=g.$slotRefNode$;if(_){const x=_.parentNode;let T=_.nextSibling;{let S=(r=m["s-ol"])==null?void 0:r.previousSibling;for(;S;){let C=(i=S["s-nr"])!=null?i:null;if(C&&C["s-sn"]===m["s-sn"]&&x===C.parentNode){for(C=C.nextSibling;C===m||C?.["s-sr"];)C=C?.nextSibling;if(!C||!C["s-nr"]){T=C;break}}S=S.previousSibling}}(!T&&x!==m.parentNode||m.nextSibling!==T)&&m!==T&&(!m["s-hn"]&&m["s-ol"]&&(m["s-hn"]=m["s-ol"].parentNode.nodeName),jc(x,m,T),m.nodeType===1&&(m.hidden=(s=m["s-ih"])!=null?s:!1)),m&&typeof _["s-rf"]=="function"&&_["s-rf"](m)}else m.nodeType===1&&(n&&(m["s-ih"]=(o=m.hidden)!=null?o:!1),m.hidden=!0)}}Db&&B5(f.$elm$),Qr.$flags$&=-2,va.length=0}if(ho.experimentalScopedSlotChanges&&u.$flags$&2)for(const g of f.$elm$.childNodes)g["s-hn"]!==Lg&&!g["s-sh"]&&(n&&g["s-ih"]==null&&(g["s-ih"]=(a=g.hidden)!=null?a:!1),g.hidden=!0);Xx=void 0},Sde=(t,e)=>{},yC=(t,e)=>(t.$flags$|=16,Sde(t,t.$ancestorComponent$),Jc(()=>Ade(t,e))),Ade=(t,e)=>{const n=t.$hostElement$,r=uu("scheduleUpdate",t.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return e?s=Jd(i,"componentWillLoad"):s=Jd(i,"componentWillUpdate"),s=zN(s,()=>Jd(i,"componentWillRender")),r(),zN(s,()=>Tde(t,i,e))},zN=(t,e)=>Cde(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),Cde=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",Tde=async(t,e,n)=>{const r=t.$hostElement$,i=uu("update",t.$cmpMeta$.$tagName$);r["s-rc"],n&&wde(t);const s=uu("render",t.$cmpMeta$.$tagName$);Ide(t,e,r,n),s(),i(),Rde(t)},FN=null,Ide=(t,e,n,r)=>{try{FN=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(ho.hasRenderFn||ho.reflect)&&(ho.vdomRender||ho.reflect)&&(ho.hydrateServerSide||xde(t,e,r))}catch(c){Om(c,t.$hostElement$)}return FN=null,null},Rde=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=uu("postUpdate",e),i=n;t.$ancestorComponent$,Jd(i,"componentDidRender"),t.$flags$&64?(Jd(i,"componentDidUpdate"),r()):(t.$flags$|=64,Jd(i,"componentDidLoad"),r())},$b=t=>{{const e=ol(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&yC(e,!1),n}},Jd=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){Om(r)}},kde=(t,e)=>ol(t).$instanceValues$.get(e),Nde=(t,e,n,r)=>{const i=ol(t),s=t,o=i.$instanceValues$.get(e),a=i.$flags$,c=s;n=pde(n,r.$members$[e][0]);const u=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!u){i.$instanceValues$.set(e,n);{if(r.$watchers$&&a&128){const f=r.$watchers$[e];f&&f.map(g=>{try{c[g](n,o,e)}catch(m){Om(m,s)}})}if((a&18)===2){if(c.componentShouldUpdate&&c.componentShouldUpdate(n,o,e)===!1)return;yC(i,!1)}}}},Ode=(t,e,n)=>{var r,i;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((r=e.$members$)!=null?r:{});o.map(([a,[c]])=>{(c&31||c&32)&&Object.defineProperty(s,a,{get(){return kde(this,a)},set(u){Nde(this,a,u,e)},configurable:!0,enumerable:!0})});{const a=new Map;s.attributeChangedCallback=function(c,u,h){Qr.jmp(()=>{var f;const g=a.get(c);if(this.hasOwnProperty(g))h=this[g],delete this[g];else{if(s.hasOwnProperty(g)&&typeof this[g]=="number"&&this[g]==h)return;if(g==null){const m=ol(this),_=m?.$flags$;if(_&&!(_&8)&&_&128&&h!==u){const T=this,S=(f=e.$watchers$)==null?void 0:f[c];S?.forEach(C=>{T[C]!=null&&T[C].call(T,h,u,c)})}return}}this[g]=h===null&&typeof this[g]=="boolean"?!1:h})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([c,u])=>u[0]&15).map(([c,u])=>{var h;const f=u[1]||c;return a.set(f,c),u[0]&512&&((h=e.$attrsToReflect$)==null||h.push([c,f])),f})]))}}return t},Bde=async(t,e,n,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{i=t.constructor;const o=t.localName;customElements.whenDefined(o).then(()=>e.$flags$|=128)}if(i&&i.style){let o;typeof i.style=="string"?o=i.style:typeof i.style!="string"&&(e.$modeName$=dde(t),e.$modeName$&&(o=i.style[e.$modeName$]));const a=T5(n,e.$modeName$);if(!Nb.has(a)){const c=uu("registerStyles",n.$tagName$);yde(a,o,!!(n.$flags$&1)),c()}}}e.$ancestorComponent$,yC(e,!0)},jN=t=>{},Dde=t=>{if(!(Qr.$flags$&1)){const e=ol(t),n=e.$cmpMeta$,r=uu("connectedCallback",n.$tagName$);e.$flags$&1?(M5(t,e,n.$listeners$),e?.$lazyInstance$?jN(e.$lazyInstance$):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>jN(e.$lazyInstance$))):(e.$flags$|=1,n.$flags$&12&&Pde(t),n.$members$&&Object.entries(n.$members$).map(([i,[s]])=>{if(s&31&&t.hasOwnProperty(i)){const o=t[i];delete t[i],t[i]=o}}),Bde(t,e,n)),r()}},Pde=t=>{const e=t["s-cr"]=wo.createComment("");e["s-cn"]=!0,jc(t,e,t.firstChild)},$de=async t=>{if(!(Qr.$flags$&1)){const e=ol(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}},An=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){Gue(this,n)},connectedCallback(){const s=ol(this);M5(this,s,n.$listeners$),Dde(this),r&&r.call(this)},disconnectedCallback(){$de(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=n.$tagName$,Ode(t,n)},M5=(t,e,n,r)=>{n&&n.map(([i,s,o])=>{const a=Ude(t,i),c=Mde(e,o),u=Lde(i);Qr.ael(a,s,c,u),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Qr.rel(a,s,c,u))})},Mde=(t,e)=>n=>{var r;try{ho.lazyLoad||t.$hostElement$[e](n)}catch(i){Om(i)}},Ude=(t,e)=>e&4?wo:e&8?Bm:e&16?wo.body:t,Lde=t=>Zue?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class zde{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return r!==void 0?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return r===void 0?n:typeof r=="string"?r==="true":!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?n!==void 0?n:NaN:r}set(e,n){this.m.set(e,n)}}const kt=new zde,Fde=t=>{try{const e=t.sessionStorage.getItem(U5);return e!==null?JSON.parse(e):{}}catch{return{}}},jde=(t,e)=>{try{t.sessionStorage.setItem(U5,JSON.stringify(e))}catch{return}},Hde=t=>{const e={};return t.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,r])=>{try{return[decodeURIComponent(n),decodeURIComponent(r)]}catch{return["",""]}}).filter(([n])=>qde(n,HN)).map(([n,r])=>[n.slice(HN.length),r]).forEach(([n,r])=>{e[n]=r}),e},qde=(t,e)=>t.substr(0,e.length)===e,HN="ionic:",U5="ionic-persist-config";var Zl;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(Zl||(Zl={}));const el=(t,...e)=>{const n=kt.get("logLevel",Zl.WARN);if([Zl.WARN].includes(n))return console.warn(`[Ionic Warning]: ${t}`,...e)},tl=(t,...e)=>{const n=kt.get("logLevel",Zl.ERROR);if([Zl.ERROR,Zl.WARN].includes(n))return console.error(`[Ionic Error]: ${t}`,...e)},Vde=(t,...e)=>console.error(`<${t.tagName.toLowerCase()}> must be used inside ${e.join(" or ")}.`);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gr=typeof window<"u"?window:void 0,eh=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let xE;const Wde=t=>{if(xE===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;xE=!e&&n?"-webkit-":""}return xE},SE=(t,e,n)=>{const r=e.startsWith("animation")?Wde(t):"";t.style.setProperty(r+e,n)},j0=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},Hc=t=>{let e,n,r,i,s,o,a=[],c=[],u=[],h=!1,f,g={},m=[],_=[],x={},T=0,S=!1,C=!1,I,P,z,W=!0,L=!1,V=!0,q,X=!1;const Y=t,ee=[],j=[],w=[],b=[],v=[],O=[],B=[],R=[],M=[],k=[],E=[],U=typeof AnimationEffect=="function"||gr!==void 0&&typeof gr.AnimationEffect=="function",Q=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&U,te=()=>E,se=oe=>(v.forEach(Me=>{Me.destroy(oe)}),fe(oe),b.length=0,v.length=0,a.length=0,je(),h=!1,V=!0,q),fe=oe=>{De(),oe&&it()},le=()=>{S=!1,C=!1,V=!0,I=void 0,P=void 0,z=void 0,T=0,L=!1,W=!0,X=!1},ge=()=>T!==0&&!X,et=(oe,Me)=>{const dt=Me.findIndex(dn=>dn.c===oe);dt>-1&&Me.splice(dt,1)},qe=(oe,Me)=>(w.push({c:oe,o:Me}),q),ke=(oe,Me)=>((Me?.oneTimeCallback?j:ee).push({c:oe,o:Me}),q),je=()=>(ee.length=0,j.length=0,q),De=()=>{Q&&(E.forEach(oe=>{oe.cancel()}),E.length=0)},it=()=>{O.forEach(oe=>{oe?.parentNode&&oe.parentNode.removeChild(oe)}),O.length=0},K=oe=>(B.push(oe),q),N=oe=>(R.push(oe),q),D=oe=>(M.push(oe),q),G=oe=>(k.push(oe),q),J=oe=>(c=j0(c,oe),q),ie=oe=>(u=j0(u,oe),q),ae=(oe={})=>(g=oe,q),Be=(oe=[])=>{for(const Me of oe)g[Me]="";return q},Ge=oe=>(m=j0(m,oe),q),Ye=oe=>(_=j0(_,oe),q),at=(oe={})=>(x=oe,q),p=(oe=[])=>{for(const Me of oe)x[Me]="";return q},l=()=>s!==void 0?s:f?f.getFill():"both",d=()=>I!==void 0?I:o!==void 0?o:f?f.getDirection():"normal",y=()=>S?"linear":r!==void 0?r:f?f.getEasing():"linear",A=()=>C?0:P!==void 0?P:n!==void 0?n:f?f.getDuration():0,$=()=>i!==void 0?i:f?f.getIterations():1,F=()=>z!==void 0?z:e!==void 0?e:f?f.getDelay():0,ce=()=>a,ve=oe=>(o=oe,Rt(!0),q),me=oe=>(s=oe,Rt(!0),q),Ne=oe=>(e=oe,Rt(!0),q),de=oe=>(r=oe,Rt(!0),q),Mn=oe=>(!Q&&oe===0&&(oe=1),n=oe,Rt(!0),q),Lm=oe=>(i=oe,Rt(!0),q),Un=oe=>(f=oe,q),Ln=oe=>{if(oe!=null)if(oe.nodeType===1)b.push(oe);else if(oe.length>=0)for(let Me=0;Me<oe.length;Me++)b.push(oe[Me]);else tl("createAnimation - Invalid addElement value.");return q},zm=oe=>{if(oe!=null)if(Array.isArray(oe))for(const Me of oe)Me.parent(q),v.push(Me);else oe.parent(q),v.push(oe);return q},zn=oe=>{const Me=a!==oe;return a=oe,Me&&Fn(a),q},Fn=oe=>{Q&&te().forEach(Me=>{const dt=Me.effect;if(dt.setKeyframes)dt.setKeyframes(oe);else{const dn=new KeyframeEffect(dt.target,oe,dt.getTiming());Me.effect=dn}})},Fm=()=>{B.forEach(dn=>dn()),R.forEach(dn=>dn());const oe=c,Me=u,dt=g;b.forEach(dn=>{const hr=dn.classList;oe.forEach(Ii=>hr.add(Ii)),Me.forEach(Ii=>hr.remove(Ii));for(const Ii in dt)dt.hasOwnProperty(Ii)&&SE(dn,Ii,dt[Ii])})},jn=()=>{M.forEach(hr=>hr()),k.forEach(hr=>hr());const oe=W?1:0,Me=m,dt=_,dn=x;b.forEach(hr=>{const Ii=hr.classList;Me.forEach(Qs=>Ii.add(Qs)),dt.forEach(Qs=>Ii.remove(Qs));for(const Qs in dn)dn.hasOwnProperty(Qs)&&SE(hr,Qs,dn[Qs])}),P=void 0,I=void 0,z=void 0,ee.forEach(hr=>hr.c(oe,q)),j.forEach(hr=>hr.c(oe,q)),j.length=0,V=!0,W&&(L=!0),W=!0},un=()=>{T!==0&&(T--,T===0&&(jn(),f&&f.animationFinish()))},jm=()=>{b.forEach(oe=>{const Me=oe.animate(a,{id:Y,delay:F(),duration:A(),easing:y(),iterations:$(),fill:l(),direction:d()});Me.pause(),E.push(Me)}),E.length>0&&(E[0].onfinish=()=>{un()})},Cn=()=>{Fm(),a.length>0&&Q&&jm(),h=!0},nn=oe=>{oe=Math.min(Math.max(oe,0),.9999),Q&&E.forEach(Me=>{Me.currentTime=Me.effect.getComputedTiming().delay+A()*oe,Me.pause()})},nf=oe=>{E.forEach(Me=>{Me.effect.updateTiming({delay:F(),duration:A(),easing:y(),iterations:$(),fill:l(),direction:d()})}),oe!==void 0&&nn(oe)},Rt=(oe=!1,Me=!0,dt)=>(oe&&v.forEach(dn=>{dn.update(oe,Me,dt)}),Q&&nf(dt),q),Hn=(oe=!1,Me)=>(v.forEach(dt=>{dt.progressStart(oe,Me)}),Tn(),S=oe,h||Cn(),Rt(!1,!0,Me),q),Hm=oe=>(v.forEach(Me=>{Me.progressStep(oe)}),nn(oe),q),qn=(oe,Me,dt)=>(S=!1,v.forEach(dn=>{dn.progressEnd(oe,Me,dt)}),dt!==void 0&&(P=dt),L=!1,W=!0,oe===0?(I=d()==="reverse"?"normal":"reverse",I==="reverse"&&(W=!1),Q?(Rt(),nn(1-Me)):(z=(1-Me)*A()*-1,Rt(!1,!1))):oe===1&&(Q?(Rt(),nn(Me)):(z=Me*A()*-1,Rt(!1,!1))),oe!==void 0&&!f&&In(),q),Tn=()=>{h&&(Q?E.forEach(oe=>{oe.pause()}):b.forEach(oe=>{SE(oe,"animation-play-state","paused")}),X=!0)},qm=()=>(v.forEach(oe=>{oe.pause()}),Tn(),q),Vn=()=>{un()},Wn=()=>{E.forEach(oe=>{oe.play()}),(a.length===0||b.length===0)&&un()},Vm=()=>{Q&&(nn(0),nf())},In=oe=>new Promise(Me=>{oe?.sync&&(C=!0,ke(()=>C=!1,{oneTimeCallback:!0})),h||Cn(),L&&(Vm(),L=!1),V&&(T=v.length+1,V=!1);const dt=()=>{et(dn,j),Me()},dn=()=>{et(dt,w),Me()};ke(dn,{oneTimeCallback:!0}),qe(dt,{oneTimeCallback:!0}),v.forEach(hr=>{hr.play()}),Q?Wn():Vn(),X=!1}),Kn=()=>{v.forEach(oe=>{oe.stop()}),h&&(De(),h=!1),le(),w.forEach(oe=>oe.c(0,q)),w.length=0},Bu=(oe,Me)=>{const dt=a[0];return dt!==void 0&&(dt.offset===void 0||dt.offset===0)?dt[oe]=Me:a=[{offset:0,[oe]:Me},...a],q};return q={parentAnimation:f,elements:b,childAnimations:v,id:Y,animationFinish:un,from:Bu,to:(oe,Me)=>{const dt=a[a.length-1];return dt!==void 0&&(dt.offset===void 0||dt.offset===1)?dt[oe]=Me:a=[...a,{offset:1,[oe]:Me}],q},fromTo:(oe,Me,dt)=>Bu(oe,Me).to(oe,dt),parent:Un,play:In,pause:qm,stop:Kn,destroy:se,keyframes:zn,addAnimation:zm,addElement:Ln,update:Rt,fill:me,direction:ve,iterations:Lm,duration:Mn,easing:de,delay:Ne,getWebAnimations:te,getKeyframes:ce,getFill:l,getDirection:d,getDelay:F,getIterations:$,getEasing:y,getDuration:A,afterAddRead:D,afterAddWrite:G,afterClearStyles:p,afterStyles:at,afterRemoveClass:Ye,afterAddClass:Ge,beforeAddRead:K,beforeAddWrite:N,beforeClearStyles:Be,beforeStyles:ae,beforeRemoveClass:ie,beforeAddClass:J,onFinish:ke,isRunning:ge,progressStart:Hn,progressStep:Hm,progressEnd:qn}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kh=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):wC(()=>e(t))},Qx=t=>t.componentOnReady!==void 0,bC=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},Kde=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Fw=(t,e)=>bC(t,Kde),lwe=(t,e,n,r)=>t.addEventListener(e,n,r),uwe=(t,e,n,r)=>t.removeEventListener(e,n,r),wC=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),Gde=t=>{if(t.focus(),t.classList.contains("ion-focusable")){const e=t.closest("ion-app");e&&e.setFocus([t])}},vC=(t,e,n)=>Math.max(t,Math.min(e,n)),xr=(t,e)=>{if(!t){const n="ASSERT: "+e;tl(n);debugger;throw new Error(n)}},dwe=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},qN=t=>{const e=document.dir==="rtl";switch(t){case"start":return e;case"end":return!e;default:throw new Error(`"${t}" is not a valid value for [side]. Use "start" or "end" instead.`)}},L5=(t,e)=>{if(t??(t={}),e??(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!(r in e)||t[r]!==e[r])return!1;return!0},Yde="ionViewWillEnter",Zde="ionViewDidEnter",z5="ionViewWillLeave",F5="ionViewDidLeave",AE="ionViewWillUnload",kf=t=>{t.tabIndex=-1,t.focus()},H0=t=>t.offsetParent!==null,Xde=()=>({saveViewFocus:n=>{if(kt.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&n?.contains(i)&&i.setAttribute(VN,"true")}},setViewFocus:n=>{const r=kt.get("focusManagerPriority",!1);if(Array.isArray(r)&&!n.contains(document.activeElement)){const i=n.querySelector(`[${VN}]`);if(i&&H0(i)){kf(i);return}for(const s of r)switch(s){case"content":const o=n.querySelector('main, [role="main"]');if(o&&H0(o)){kf(o);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&H0(a)){kf(a);return}break;case"banner":const c=n.querySelector('header, [role="banner"]');if(c&&H0(c)){kf(c);return}break;default:el(`Unrecognized focus manager priority value ${s}`);break}kf(n)}}}),VN="ion-last-focus",Qde=()=>kn(()=>import("./ios.transition-ClOUcleA.js"),[]),Jde=()=>kn(()=>import("./md.transition-C3HxHAJw.js"),[]),j5=Xde(),H5=t=>new Promise((e,n)=>{Jc(()=>{ehe(t),the(t).then(r=>{r.animation&&r.animation.destroy(),WN(t),e(r)},r=>{WN(t),n(r)})})}),ehe=t=>{const e=t.enteringEl,n=t.leavingEl;j5.saveViewFocus(n),ahe(e,n,t.direction),t.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),eS(e,!1),e.style.setProperty("pointer-events","none"),n&&(eS(n,!1),n.style.setProperty("pointer-events","none"))},the=async t=>{const e=await nhe(t);return e&&Kue.isBrowser?rhe(e,t):ihe(t)},WN=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),j5.setViewFocus(e)},nhe=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await Qde()).iosTransitionAnimation:(await Jde()).mdTransitionAnimation,rhe=async(t,e)=>{await q5(e,!0);const n=t(e.baseEl,e);V5(e.enteringEl,e.leavingEl);const r=await ohe(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&W5(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},ihe=async t=>{const e=t.enteringEl,n=t.leavingEl,r=kt.get("focusManagerPriority",!1);return await q5(t,r),V5(e,n),W5(e,n),{hasCompleted:!0}},q5=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([Jx(t.enteringEl),Jx(t.leavingEl)]),await she(t.viewIsReady,t.enteringEl)},she=async(t,e)=>{t&&await t(e)},ohe=(t,e)=>{const n=e.progressCallback,r=new Promise(i=>{t.onFinish(s=>i(s===1))});return n?(t.progressStart(!0),n(t)):t.play(),r},V5=(t,e)=>{Ia(e,z5),Ia(t,Yde)},W5=(t,e)=>{Ia(t,Zde),Ia(e,F5)},Ia=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},Jx=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>wC(r));return}await Promise.all(Array.from(e.children).map(Jx))}},eS=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},ahe=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},hwe=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fg=(t,e,n,r,i)=>lhe(t[1],e[1],n[1],r[1],i).map(s=>che(t[0],e[0],n[0],r[0],s)),che=(t,e,n,r,i)=>{const s=3*e*Math.pow(i-1,2),o=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(s+i*o)-a},lhe=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,dhe(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(o=>o>=0&&o<=1)),uhe=(t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},dhe=(t,e,n,r)=>{if(t===0)return uhe(e,n,r);e/=t,n/=t,r/=t;const i=(3*n-e*e)/3,s=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const o=Math.pow(s/2,2)+Math.pow(i/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(i/3),3)),c=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(i/3),3))))),u=2*Math.pow(a,1/3);return[u*Math.cos(c/3)-e/3,u*Math.cos((c+2*Math.PI)/3)-e/3,u*Math.cos((c+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class hhe{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var n;return new fhe(this,this.newID(),e.name,(n=e.priority)!==null&&n!==void 0?n:0,!!e.disableScroll)}createBlocker(e={}){return new phe(this,this.newID(),e.disable,!!e.disableScroll)}start(e,n,r){return this.canStart(e)?(this.requestedStart.set(n,r),!0):(this.requestedStart.delete(n),!1)}capture(e,n,r){if(!this.start(e,n,r))return!1;const i=this.requestedStart;let s=-1e4;if(i.forEach(o=>{s=Math.max(s,o)}),s===r){this.capturedId=n,i.clear();const o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return i.delete(n),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,n){let r=this.disabledGestures.get(e);r===void 0&&(r=new Set,this.disabledGestures.set(e,r)),r.add(n)}enableGesture(e,n){const r=this.disabledGestures.get(e);r!==void 0&&r.delete(n)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(KN)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(KN)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const n=this.disabledGestures.get(e);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class fhe{constructor(e,n,r,i,s){this.id=n,this.name=r,this.disableScroll=s,this.priority=i*1e6+n,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class phe{constructor(e,n,r,i){this.id=n,this.disable=r,this.disableScroll=i,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const KN="backdrop-no-scroll",ghe=new hhe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mhe=t=>K5(t),Lo=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),mhe(t).includes(e)),K5=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=yhe(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},yhe=t=>{const e=kt.get("platform");return Object.keys(GN).filter(n=>{const r=e?.[n];return typeof r=="function"?r(t):GN[n](t)})},bhe=t=>jw(t)&&!Y5(t),EC=t=>!!(du(t,/iPad/i)||du(t,/Macintosh/i)&&jw(t)),whe=t=>du(t,/iPhone/i),vhe=t=>du(t,/iPhone|iPod/i)||EC(t),G5=t=>du(t,/android|sink/i),Ehe=t=>G5(t)&&!du(t,/mobile/i),_he=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},xhe=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return EC(t)||Ehe(t)||r>460&&r<820&&i>780&&i<1400},jw=t=>The(t,"(any-pointer:coarse)"),She=t=>!jw(t),Y5=t=>Z5(t)||X5(t),Z5=t=>!!(t.cordova||t.phonegap||t.PhoneGap),X5=t=>{const e=t.Capacitor;return!!(e?.isNative||e?.isNativePlatform&&e.isNativePlatform())},Ahe=t=>du(t,/electron/i),Che=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},du=(t,e)=>e.test(t.navigator.userAgent),The=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},GN={ipad:EC,iphone:whe,ios:vhe,android:G5,phablet:_he,tablet:xhe,cordova:Z5,capacitor:X5,electron:Ahe,pwa:Che,mobile:jw,mobileweb:bhe,desktop:She,hybrid:Y5};let _d;const qt=t=>t&&fde(t)||_d,Ihe=(t={})=>{if(typeof window>"u")return;const e=window.document,n=window,r=n.Ionic=n.Ionic||{},i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fde(n)),{persistConfig:!1}),r.config),Hde(n)),t);kt.reset(i),kt.getBoolean("persistConfig")&&jde(n,i),K5(n),r.config=kt,r.mode=_d=kt.get("mode",e.documentElement.getAttribute("mode")||(Lo(n,"ios")?"ios":"md")),kt.set("mode",_d),e.documentElement.setAttribute("mode",_d),e.documentElement.classList.add(_d),kt.getBoolean("_testing")&&kt.set("animated",!1);const s=a=>{var c;return(c=a.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},o=a=>["ios","md"].includes(a);hde(a=>{for(;a;){const c=a.mode||a.getAttribute("mode");if(c){if(o(c))return c;s(a)&&el('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}a=a.parentElement}return _d})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ka=(t,e)=>e.closest(t)!==null,Ya=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,Rhe=/^[a-z][a-z0-9+\-.]*:/,Q5=async(t,e,n,r)=>{if(t!=null&&t[0]!=="#"&&!Rhe.test(t)){const i=document.querySelector("ion-router");if(i)return e?.preventDefault(),i.push(t,n,r)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jg=()=>kt.get("experimentalCloseWatcher",!1)&&gr!==void 0&&"CloseWatcher"in gr,khe=()=>{document.addEventListener("backbutton",()=>{})},Nhe=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let r=0,i=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(c,u){i.push({priority:c,handler:u,id:r++})}}});t.dispatchEvent(s);const o=async c=>{try{if(c?.handler){const u=c.handler(a);u!=null&&await u}}catch(u){tl("[ion-app] - Exception in startHardwareBackButton:",u)}},a=()=>{if(i.length>0){let c={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(u=>{u.priority>=c.priority&&(c=u)}),e=!0,i=i.filter(u=>u.id!==c.id),o(c).then(()=>e=!1)}};a()};if(jg()){let r;const i=()=>{r?.destroy(),r=new gr.CloseWatcher,r.onclose=()=>{n(),i()}};i()}else t.addEventListener("backbutton",n)},Ohe=100,J5=99,Bhe=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:J5,OVERLAY_BACK_BUTTON_PRIORITY:Ohe,blockHardwareBackButton:khe,shouldUseCloseWatcher:jg,startHardwareBackButton:Nhe},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _C=t=>Hc().duration(t?400:300),Dhe=t=>{let e,n;const r=t.width+8,i=Hc(),s=Hc();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${n})`);const a=qt(t)==="ios",c=a?.2:.25;return s.addElement(t.backdropEl).fromTo("opacity",.01,c),_C(a).addAnimation([i,s])},Phe=t=>{let e,n;const r=qt(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");const s=Hc().addElement(t.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),o=Hc().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),a=Hc().addElement(t.backdropEl).fromTo("opacity",.01,.32);return _C(r==="ios").addAnimation([s,o,a])},$he=t=>{const e=qt(t),n=t.width*(t.isEndSide?-1:1)+"px",r=Hc().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return _C(e==="ios").addAnimation(r)},Mhe=()=>{const t=new Map,e=[],n=async L=>{const V=await u(L,!0);return V?V.open():!1},r=async L=>{const V=await(L!==void 0?u(L,!0):h());return V!==void 0?V.close():!1},i=async L=>{const V=await u(L,!0);return V?V.toggle():!1},s=async(L,V)=>{const q=await u(V);return q&&(q.disabled=!L),q},o=async(L,V)=>{const q=await u(V);return q&&(q.swipeGesture=L),q},a=async L=>{if(L!=null){const V=await u(L);return V!==void 0&&V.isOpen()}else return await h()!==void 0},c=async L=>{const V=await u(L);return V?!V.disabled:!1},u=async(L,V=!1)=>{if(await W(),L==="start"||L==="end"){const X=e.filter(ee=>ee.side===L&&!ee.disabled);if(X.length>=1)return X.length>1&&V&&el(`menuController queried for a menu on the "${L}" side, but ${X.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,X.map(ee=>ee.el)),X[0].el;const Y=e.filter(ee=>ee.side===L);if(Y.length>=1)return Y.length>1&&V&&el(`menuController queried for a menu on the "${L}" side, but ${Y.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Y.map(ee=>ee.el)),Y[0].el}else if(L!=null)return z(X=>X.menuId===L);const q=z(X=>!X.disabled);return q||(e.length>0?e[0].el:void 0)},h=async()=>(await W(),C()),f=async()=>(await W(),I()),g=async()=>(await W(),P()),m=(L,V)=>{t.set(L,V)},_=L=>{e.indexOf(L)<0&&e.push(L)},x=L=>{const V=e.indexOf(L);V>-1&&e.splice(V,1)},T=async(L,V,q,X)=>{if(P())return!1;if(V){const Y=await h();Y&&L.el!==Y&&await Y.setOpen(!1,!1)}return L._setOpen(V,q,X)},S=(L,V)=>{const q=t.get(L);if(!q)throw new Error("animation not registered");return q(V)},C=()=>z(L=>L._isOpen),I=()=>e.map(L=>L.el),P=()=>e.some(L=>L.isAnimating),z=L=>{const V=e.find(L);if(V!==void 0)return V.el},W=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(V=>kh(L,V))));return m("reveal",$he),m("push",Phe),m("overlay",Dhe),eh?.addEventListener("ionBackButton",L=>{const V=C();V&&L.detail.register(J5,()=>V.close())}),{registerAnimation:m,get:u,getMenus:f,getOpen:h,isEnabled:c,swipeGesture:o,isAnimating:g,isOpen:a,enable:s,toggle:i,close:r,open:n,_getOpenSync:C,_createAnimation:S,_register:_,_unregister:x,_setOpen:T}},Cl=Mhe();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xC=async(t,e,n,r,i,s)=>{var o;if(t)return t.attachViewToDom(e,n,i,r);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(n):n;return r&&r.forEach(c=>a.classList.add(c)),i&&Object.assign(a,i),e.appendChild(a),await new Promise(c=>kh(a,c)),a},Uhe=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SC='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Lhe=(t,e)=>{const n=t.querySelector(SC);e$(n,t)},zhe=(t,e)=>{const n=Array.from(t.querySelectorAll(SC)),r=n.length>0?n[n.length-1]:null;e$(r,t)},e$=(t,e)=>{let n=t;const r=t?.shadowRoot;if(r&&(n=r.querySelector(SC)||t),n){const i=n.closest("ion-radio-group");i?i.setFocus():Gde(n)}else e.focus()},Fhe=t=>t.classList.contains("overlay-hidden"),jhe=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Hhe=(t,e)=>jhe(t,e).filter(n=>!Fhe(n)),qhe=(t,e,n)=>{const r=Hhe(t,e);return r[r.length-1]},YN="backdrop",CE="gesture";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vhe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",Whe="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",ZN="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let TE;const Khe=()=>{if(typeof window>"u")return new Map;if(!TE){const t=window;t.Ionicons=t.Ionicons||{},TE=t.Ionicons.map=t.Ionicons.map||new Map}return TE},Ghe=t=>{let e=IE(t.src);return e||(e=t$(t.name,t.icon,t.mode,t.ios,t.md),e?Yhe(e,t):t.icon&&(e=IE(t.icon),e||(e=IE(t.icon[t.mode]),e))?e:null)},Yhe=(t,e)=>{const n=Khe().get(t);if(n)return n;try{return A5(`svg/${t}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},t$=(t,e,n,r,i)=>(n=(n&&q0(n))==="ios"?"ios":"md",r&&n==="ios"?t=q0(r):i&&n==="md"?t=q0(i):(!t&&e&&!n$(e)&&(t=e),Mb(t)&&(t=q0(t))),!Mb(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),IE=t=>Mb(t)&&(t=t.trim(),n$(t))?t:null,n$=t=>t.length>0&&/(\/|\.)/.test(t),Mb=t=>typeof t=="string",q0=t=>t.toLowerCase(),Zhe=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},Xhe=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl",Qhe=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),r$(n))return e.innerHTML}return""},r$=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Mb(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!r$(t.childNodes[e]))return!1}return!0},Jhe=t=>t.startsWith("data:image/svg+xml"),efe=t=>t.indexOf(";utf8,")!==-1,Dl=new Map,XN=new Map;let RE;const tfe=(t,e)=>{let n=XN.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(Jhe(t)&&efe(t)){RE||(RE=new DOMParser);const i=RE.parseFromString(t,"text/html").querySelector("svg");return i&&Dl.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=Qhe(i)),Dl.set(t,i||"")});Dl.set(t,"")}),XN.set(t,n);else return Dl.set(t,""),Promise.resolve();return n},nfe=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",rfe=nfe,ife=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=sfe(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=Zhe(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=Ghe(this);e&&(Dl.has(e)?this.svgContent=Dl.get(e):tfe(e,this.sanitize).then(()=>this.svgContent=Dl.get(e)),this.didLoadIcon=!0)}this.iconName=t$(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Ae($n,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},ofe(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&Xhe(i)})},r),this.svgContent?Ae("div",{class:"icon-inner",innerHTML:this.svgContent}):Ae("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return rfe}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),sfe=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",ofe=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function afe(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,ife);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cfe=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",lfe=cfe,ufe=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",dfe=ufe,hfe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=yn(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=qt(this);return Ae($n,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:lfe,md:dfe}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function ffe(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,hfe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pfe=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",gfe=pfe,mfe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(r=>{Ug(()=>{const i=this.el.getBoundingClientRect(),s=i.width,o=i.height,a=Math.sqrt(s*s+o*o),c=Math.max(o,s),u=this.unbounded?c:a+bfe,h=Math.floor(c*wfe),f=u/h;let g=e-i.left,m=n-i.top;this.unbounded&&(g=s*.5,m=o*.5);const _=g-h*.5,x=m-h*.5,T=s*.5-g,S=o*.5-m;Jc(()=>{const C=document.createElement("div");C.classList.add("ripple-effect");const I=C.style;I.top=x+"px",I.left=_+"px",I.width=I.height=h+"px",I.setProperty("--final-scale",`${f}`),I.setProperty("--translate-end",`${T}px, ${S}px`),(this.el.shadowRoot||this.el).appendChild(C),setTimeout(()=>{r(()=>{yfe(C)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=qt(this);return Ae($n,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return gfe}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),yfe=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},bfe=10,wfe=.5;function i$(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,mfe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const V0=typeof window<"u"?window:void 0;V0&&(V0.CSS&&V0.CSS.supports&&V0.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vfe=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Efe=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',_fe=Efe,xfe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=yn(this,"ionScrollStart",7),this.ionScroll=yn(this,"ionScroll",7),this.ionScrollEnd=yn(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=Fw(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Qx(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Qx(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=qt(this);return e===void 0?n==="ios"&&Lo("ios"):e}resize(){this.fullscreen?Ug(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,$b(this))}readDimensions(){const e=Afe(this.el),n=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||r!==this.cBottom)&&(this.cTop=n,this.cBottom=r,$b(this))}onScroll(e){const n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Ug(i=>{this.queued=!1,this.detail.event=e,Cfe(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>kh(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>kh(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),r=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,n,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r)}async scrollToPoint(e,n,r=0){const i=await this.getScrollElement();if(r<32){n!=null&&(i.scrollTop=n),e!=null&&(i.scrollLeft=e);return}let s,o=0;const a=new Promise(m=>s=m),c=i.scrollTop,u=i.scrollLeft,h=n!=null?n-c:0,f=e!=null?e-u:0,g=m=>{const _=Math.min(1,(m-o)/r)-1,x=Math.pow(_,3)+1;h!==0&&(i.scrollTop=Math.floor(x*h+c)),f!==0&&(i.scrollLeft=Math.floor(x*f+u)),x<1?requestAnimationFrame(g):s()};return requestAnimationFrame(m=>{o=m,g(m)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:r,scrollX:i,scrollY:s,el:o}=this,a=vfe(o)?"rtl":"ltr",c=qt(this),u=this.shouldForceOverscroll(),h=c==="ios";return this.resize(),Ae($n,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:Ya(this.color,{[c]:!0,"content-sizing":Ka("ion-popover",this.el),overscroll:u,[`content-${a}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},n),Ae("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:f=>this.backgroundContentEl=f,id:"background-content",part:"background"}),e==="before"?Ae("slot",{name:"fixed"}):null,Ae("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":s,overscroll:(i||s)&&u},ref:f=>this.scrollEl=f,onScroll:this.scrollEvents?f=>this.onScroll(f):void 0,part:"scroll"},Ae("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),h?Ae("div",{class:"transition-effect"},Ae("div",{class:"transition-cover"}),Ae("div",{class:"transition-shadow"})):null,e==="after"?Ae("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return _fe}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),Sfe=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},Afe=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||Sfe(t)},Cfe=(t,e,n,r)=>{const i=t.currentX,s=t.currentY,o=t.currentTime,a=e.scrollLeft,c=e.scrollTop,u=n-o;if(r&&(t.startTime=n,t.startX=a,t.startY=c,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=c,t.deltaX=a-t.startX,t.deltaY=c-t.startY,u>0&&u<100){const h=(a-i)/u,f=(c-s)/u;t.velocityX=h*.7+t.velocityX*.3,t.velocityY=f*.7+t.velocityY*.3}};function Tfe(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,xfe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ife=Tfe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Rfe=()=>{if(gr!==void 0)return gr.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kfe=()=>{let t;return{lock:async()=>{const n=t;let r;return t=new Promise(i=>r=i),n!==void 0&&await n,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Nfe="ION-CONTENT",s$="ion-content",o$=".ion-content-scroll-host",a$=`${s$}, ${o$}`,AC=t=>t.tagName===Nfe,QN=async t=>AC(t)?(await new Promise(e=>kh(t,e)),t.getScrollElement()):t,JN=t=>{const e=t.querySelector(o$);return e||t.querySelector(a$)},ywe=t=>t.closest(a$),bwe=(t,e)=>AC(t)?t.scrollToTop(e):Promise.resolve(t.scrollTo({top:0,left:0,behavior:"smooth"})),wwe=(t,e,n,r)=>AC(t)?t.scrollByPoint(e,n,r):Promise.resolve(t.scrollBy({top:n,left:e,behavior:r>0?"smooth":"auto"})),eO=t=>Vde(t,s$);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var tS;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(tS||(tS={}));var nS;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(nS||(nS={}));const Ofe={getEngine(){const t=Rfe();if(t?.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t?.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==tS.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const c$=t=>{if(eh===void 0||t===nS.None||t===void 0)return null;const e=eh.querySelector("ion-app");return e??eh.body},tO=t=>{const e=c$(t);return e===null?0:e.clientHeight},Bfe=async t=>{let e,n,r,i;const s=async()=>{const h=await Ofe.getResizeMode(),f=h===void 0?void 0:h.mode;e=()=>{i===void 0&&(i=tO(f)),r=!0,o(r,f)},n=()=>{r=!1,o(r,f)},gr?.addEventListener("keyboardWillShow",e),gr?.addEventListener("keyboardWillHide",n)},o=(h,f)=>{t&&t(h,a(f))},a=h=>{if(i===0||i===tO(h))return;const f=c$(h);if(f!==null)return new Promise(g=>{const m=()=>{f.clientHeight===i&&(_.disconnect(),g())},_=new ResizeObserver(m);_.observe(f)})},c=()=>{gr?.removeEventListener("keyboardWillShow",e),gr?.removeEventListener("keyboardWillHide",n),e=n=void 0},u=()=>r;return await s(),{init:s,destroy:c,isKeyboardVisible:u}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Dfe="all 0.2s ease-in-out",nO=t=>{const e=document.querySelector(`${t}.ion-cloned-element`);if(e!==null)return e;const n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},rO=t=>{if(!t)return;const e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{const r=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:r,innerTitleEl:r?r.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},Pfe=(t,e,n)=>{Ug(()=>{const r=t.scrollTop,i=vC(1,1+-r/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&Jc(()=>{Ufe(e.toolbars,i)})})},CC=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},$fe=(t,e,n)=>{if(!t[0].isIntersecting)return;const r=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;CC(e.el,r===1?void 0:r)},Mfe=(t,e,n,r)=>{Jc(()=>{const i=r.scrollTop;$fe(t,e,i);const s=t[0],o=s.intersectionRect,a=o.width*o.height,c=s.rootBounds.width*s.rootBounds.height,u=a===0&&c===0,h=Math.abs(o.left-s.boundingClientRect.left),f=Math.abs(o.right-s.boundingClientRect.right),g=a>0&&(h>=5||f>=5);u||g||(s.isIntersecting?(Vf(e,!1),Vf(n)):(o.x===0&&o.y===0||o.width!==0&&o.height!==0)&&i>0&&(Vf(e),Vf(n,!1),CC(e.el)))})},Vf=(t,e=!0)=>{const n=t.el,i=t.toolbars.map(s=>s.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),i.forEach(s=>{s&&s.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),i.forEach(s=>{s&&s.setAttribute("aria-hidden","true")}))},Ufe=(t=[],e=1,n=!1)=>{t.forEach(r=>{const i=r.ionTitleEl,s=r.innerTitleEl;!i||i.size!=="large"||(s.style.transition=n?Dfe:"",s.style.transform=`scale3d(${e}, ${e}, 1)`)})},iO=(t,e,n)=>{Ug(()=>{const r=t.scrollTop,i=e.clientHeight,s=n?n.clientHeight:0;if(n!==null&&r<s){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path",`inset(${i}px 0px 0px 0px)`);return}const o=r-s,c=vC(0,o/10,1);Jc(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",c.toString())})})},Lfe="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",zfe=Lfe,Ffe="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",jfe=Ffe,Hfe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,n)=>{const r=this.scrollEl=await QN(e);this.contentScrollCallback=()=>{iO(this.scrollEl,this.el,n)},r.addEventListener("scroll",this.contentScrollCallback),iO(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Fw(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(qt(this)!=="ios")return;const{collapse:n}=this,r=n==="condense",i=n==="fade";if(this.destroyCollapsibleHeader(),r){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?JN(s):null;Jc(()=>{const a=nO("ion-title");a.size="large",nO("ion-back-button")}),await this.setupCondenseHeader(o,s)}else if(i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?JN(s):null;if(!o){eO(this.el);return}const a=o.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(o,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,n){if(!e||!n){eO(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await QN(e);const r=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(r).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const i=rO(this.collapsibleMainHeader),s=rO(this.el);if(!i||!s)return;Vf(i,!1),CC(i.el,0);const o=a=>{Mfe(a,i,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(o,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{Pfe(this.scrollEl,s,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Jc(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:n}=this,r=qt(this),i=this.collapse||"none",s=Ka("ion-menu",this.el)?"none":"banner";return Ae($n,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:s,class:{[r]:!0,[`header-${r}`]:!0,"header-translucent":this.translucent,[`header-collapse-${i}`]:!0,[`header-translucent-${r}`]:this.translucent}},n),r==="ios"&&e&&Ae("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),Ae("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:zfe,md:jfe}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function qfe(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,Hfe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vfe=qfe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wfe=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:var(--ion-color-step-400, var(--ion-text-color-step-600, #999999))}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",Kfe=Wfe,Gfe=".item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #0054e9)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666))}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}",Yfe=Gfe,Zfe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.ionColor=yn(this,"ionColor",7),this.ionStyle=yn(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,[`ion-color-${e}`]:e!==void 0})}emitStyle(){const{inRange:e,position:n}=this;e||this.ionStyle.emit({label:!0,[`label-${n}`]:n!==void 0})}render(){const e=this.position,n=qt(this);return Ae($n,{key:"4da84c95351a74b547f8224ecfa66924d21398c5",class:Ya(this.color,{[n]:!0,"in-item-color":Ka("ion-item.ion-color",this.el),[`label-${e}`]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})},Ae("slot",{key:"ea158ebb620275e5492965234d0ab925d391f919"}))}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:Kfe,md:Yfe}}},[38,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function Xfe(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,Zfe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qfe=Xfe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Jfe="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",epe=Jfe,tpe="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",npe=tpe,rpe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e?.closeOpened?e.closeOpened():!1}render(){const e=qt(this),{lines:n,inset:r}=this;return Ae($n,{key:"5ff2b0b3989cc99ce17abb8bcd7ec1847940d1ec",role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":r,[`list-lines-${n}`]:n!==void 0,[`list-${e}-lines-${n}`]:n!==void 0}})}get el(){return this}static get style(){return{ios:epe,md:npe}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function ipe(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,rpe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const spe=ipe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ope=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-color-step-850, var(--ion-text-color-step-150, #262626));--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);position:relative;-ms-flex-align:end;align-items:flex-end;font-size:min(1.375rem, 56.1px);font-weight:700;letter-spacing:0}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}::slotted(ion-button),::slotted(ion-label){margin-top:29px;margin-bottom:6px}::slotted(ion-button){--padding-top:0;--padding-bottom:0;-webkit-margin-start:3px;margin-inline-start:3px;-webkit-margin-end:3px;margin-inline-end:3px;min-height:1.4em}:host(.list-header-lines-full){--border-width:0 0 0.55px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 0.55px 0}",ape=ope,cpe=":host{--border-style:solid;--border-width:0;--inner-border-width:0;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:40px;border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);color:var(--color);overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}.list-header-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex:1 1 auto;flex:1 1 auto}:host(.list-header-lines-inset),:host(.list-header-lines-none){--border-width:0}:host(.list-header-lines-full),:host(.list-header-lines-none){--inner-border-width:0}:host{--background:transparent;--color:var(--ion-text-color, #000);--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));padding-right:var(--ion-safe-area-right);padding-left:calc(var(--ion-safe-area-left, 0px) + 16px);min-height:45px;font-size:0.875rem}:host-context([dir=rtl]){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}@supports selector(:dir(rtl)){:host(:dir(rtl)){padding-right:calc(var(--ion-safe-area-right, 0px) + 16px);padding-left:var(--ion-safe-area-left)}}:host(.list-header-lines-full){--border-width:0 0 1px 0}:host(.list-header-lines-inset){--inner-border-width:0 0 1px 0}",lpe=cpe,upe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.lines=void 0}render(){const{lines:e}=this,n=qt(this);return Ae($n,{key:"95ce2135e2b1ad4d7d6020b0fb9bc6e02b3c0851",class:Ya(this.color,{[n]:!0,[`list-header-lines-${e}`]:e!==void 0})},Ae("div",{key:"3065b0a094bc31a90518898a5126a813c8a33816",class:"list-header-inner"},Ae("slot",{key:"fe15c87d7867f3e5d8185645c49c0228496697b8"})))}static get style(){return{ios:ape,md:lpe}}},[33,"ion-list-header",{color:[513],lines:[1]}]);function dpe(){if(typeof customElements>"u")return;["ion-list-header"].forEach(e=>{switch(e){case"ion-list-header":customElements.get(e)||customElements.define(e,upe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const hpe=dpe,fpe=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",ppe=fpe,gpe=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",mpe=gpe,ype="cubic-bezier(0.32,0.72,0,1)",bpe="cubic-bezier(0.0,0.0,0.2,1)",wpe="cubic-bezier(1, 0, 0.68, 0.28)",vpe="cubic-bezier(0.4, 0, 0.6, 1)",Epe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=yn(this,"ionWillOpen",7),this.ionWillClose=yn(this,"ionWillClose",7),this.ionDidOpen=yn(this,"ionDidOpen",7),this.ionDidClose=yn(this,"ionDidClose",7),this.ionMenuChange=yn(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=ghe.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const n=qhe(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){const r=this.contentEl;r&&(n!==void 0&&r.classList.remove(`menu-content-${n}`),r.classList.add(`menu-content-${e}`),r.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=qN(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=kt.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){tl('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&tl(`[ion-menu] - The "contentId" should refer to the main view's ion-content, not the ion-content inside of the ion-menu.`),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Cl._register(this),this.menuChanged(),this.gesture=(await kn(()=>import("./index3-DE2QYLm2.js"),[])).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Fw(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Cl._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const n=this.el.closest("ion-split-pane");n!==null&&n===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,YN))}onKeydown(e){e.key==="Escape"&&this.close(void 0,YN)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,n){return this.setOpen(!1,e,n)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0,r){return Cl._setOpen(this,e,n,r)}trapKeyboardFocus(e,n){const r=e.target;if(r)if(this.el.contains(r))this.lastFocus=r;else{const{el:i}=this;Lhe(i),this.lastFocus===n.activeElement&&zhe(i)}}async _setOpen(e,n=!0,r){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,r),await this.loadAnimation(),await this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,r),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,n=qN(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const r=this.animation=await Cl._createAnimation(this.type,this);kt.getBoolean("animated",!0)||r.duration(0),r.fill("both")}async startAnimation(e,n){const r=!e,i=qt(this),s=i==="ios"?ype:bpe,o=i==="ios"?wpe:vpe,a=this.animation.direction(r?"reverse":"normal").easing(r?o:s);n?await a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Cl._getOpenSync()?!1:_pe(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,CE),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){xr(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){xr(!1,"isAnimating has to be true");return}const r=sO(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-r:r)}onEnd(e){if(!this.isAnimating||!this.animation){xr(!1,"isAnimating has to be true");return}const n=this._isOpen,r=this.isEndSide,i=sO(e.deltaX,n,r),s=this.width,o=i/s,a=e.velocityX,c=s/2,u=a>=0&&(a>.2||e.deltaX>c),h=a<=0&&(a<-.2||e.deltaX<-c),f=n?r?u:h:r?h:u;let g=!n&&f;n&&!f&&(g=!0),this.lastOnEnd=e.currentTime;let m=f?.001:-.001;const _=o<0?.01:o;m+=Fg([0,0],[.4,0],[.6,1],[1,1],vC(0,_,.9999))[0]||0;const x=this._isOpen?!f:f;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(g,CE),{oneTimeCallback:!0}).progressEnd(x?1:0,this._isOpen?1-m:m,300)}beforeAnimation(e,n){xr(!this.isAnimating,"_before() should not be called while animating"),Lo("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(oO),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(aO),this.contentEl&&(this.contentEl.classList.add(cO),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:n})}afterAnimation(e,n){var r;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(Lo("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((r=document.activeElement)===null||r===void 0?void 0:r.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(oO),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(cO),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(aO),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:n}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,CE))}render(){const{type:e,disabled:n,el:r,isPaneVisible:i,inheritedAttributes:s,side:o}=this,a=qt(this);return Ae($n,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:jg()?null:this.onKeydown,role:"navigation","aria-label":s["aria-label"]||"menu",class:{[a]:!0,[`menu-type-${e}`]:!0,"menu-enabled":!n,[`menu-side-${o}`]:!0,"menu-pane-visible":i,"split-pane-side":Ka("ion-split-pane",r)}},Ae("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:c=>this.menuInnerEl=c},Ae("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),Ae("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:c=>this.backdropEl=c,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:ppe,md:mpe}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),sO=(t,e,n)=>Math.max(0,e!==n?-t:t),_pe=(t,e,n,r)=>n?e>=t.innerWidth-r:e<=r,oO="show-menu",aO="show-backdrop",cO="menu-content-open";function xpe(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,Epe);break;case"ion-backdrop":customElements.get(e)||ffe();break}})}const Spe=xpe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ape=async t=>{const e=await Cl.get(t);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Cpe=":host(.menu-toggle-hidden){display:none}",Tpe=Cpe,Ipe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>Cl.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await Ape(this.menu)}render(){const e=qt(this),n=this.autoHide&&!this.visible;return Ae($n,{key:"88e88fa13ac7f10ba3acfe378bd11cda0c7e2749",onClick:this.onClick,"aria-hidden":n?"true":null,class:{[e]:!0,"menu-toggle-hidden":n}},Ae("slot",{key:"0a14c7b63eda64702d2fd1b4bc7db4809892842d"}))}static get style(){return Tpe}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function Rpe(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,Ipe);break}})}const kpe=Rpe,l$=1,u$=2,Ub=3;class rS{constructor(e,n){this.component=e,this.params=n,this.state=l$}async init(e){if(this.state=u$,!this.element){const n=this.component;this.element=await xC(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){xr(this.state!==Ub,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Ub}}const lO=(t,e,n)=>!t||t.component!==e?!1:L5(t.params,n),uO=(t,e)=>t?t instanceof rS?t:new rS(t,e):null,Npe=t=>t.map(e=>e instanceof rS?e:"component"in e?uO(e.component,e.componentProps===null?void 0:e.componentProps):uO(e,void 0)).filter(e=>e!==null),Ope=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Bpe=Ope,Dpe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=yn(this,"ionNavWillLoad",7),this.ionNavWillChange=yn(this,"ionNavWillChange",3),this.ionNavDidChange=yn(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=qt(this);this.swipeGesture=kt.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await kn(()=>import("./swipe-back-pAT_SZ5-.js"),__vite__mapDeps([41,42]))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Ia(e.element,AE),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,r,i){return this.insert(-1,e,n,r,i)}insert(e,n,r,i,s){return this.insertPages(e,[{component:n,componentProps:r}],i,s)}insertPages(e,n,r,i){return this.queueTrns({insertStart:e,insertViews:n,opts:r},i)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,r){const i={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,r,i){return this.queueTrns({removeStart:e,removeCount:n,opts:r},i)}setRoot(e,n,r,i){return this.setPages([{component:e,componentProps:n}],r,i)}setPages(e,n,r){return n??(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},r)}setRouteId(e,n,r,i){const s=this.getActiveSync();if(lO(s,e,n))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(h=>o=h);let c;const u={updateURL:!1,viewIsReady:h=>{let f;const g=new Promise(m=>f=m);return o({changed:!0,element:h,markVisible:async()=>{f(),await c}}),g}};if(r==="root")c=this.setRoot(e,n,u);else{const h=this.views.find(f=>lO(f,e,n));h?c=this.popTo(h,Object.assign(Object.assign({},u),{direction:"back",animationBuilder:i})):r==="forward"?c=this.push(e,n,Object.assign(Object.assign({},u),{animationBuilder:i})):r==="back"&&(c=this.setRoot(e,n,Object.assign(Object.assign({},u),{direction:"back",animated:!0,animationBuilder:i})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,r=n.indexOf(e);return r>0?n[r-1]:void 0}async queueTrns(e,n){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),r=this.getEnteringView(e,n);if(!n&&!r)throw new Error("no views in the stack to be removed");r&&r.state===l$&&await r.init(this.el),this.postViewInit(r,n,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n;i&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||r?.animationBuilder),n.animationBuilder=e.opts.animationBuilder);let s;i?s=await this.transition(r,n,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,r,i;const s=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){xr(e.removeStart!==void 0,"removeView needs removeStart"),xr(e.removeCount!==void 0,"removeView needs removeCount");const c=this.views.indexOf(e.removeView);if(c<0)throw new Error("removeView was not found");e.removeStart+=c}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;xr(o.length>0,"length can not be zero");const a=Npe(o);if(a.length===0)throw new Error("invalid views to insert");for(const c of a){c.delegate=e.opts.delegate;const u=c.nav;if(u&&u!==this)throw new Error("inserted view was already inserted");if(c.state===Ub)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const s=this.views,o=i+e.removeCount;for(let a=s.length-1;a>=0;a--){const c=s[a];if((a<i||a>=o)&&c!==n)return c}}}postViewInit(e,n,r){var i,s,o;xr(n||e,"Both leavingView and enteringView are null"),xr(r.resolve,"resolve must be valid"),xr(r.reject,"reject must be valid");const a=r.opts,{insertViews:c,removeStart:u,removeCount:h}=r;let f;if(u!==void 0&&h!==void 0){xr(u>=0,"removeStart can not be negative"),xr(h>=0,"removeCount can not be negative"),f=[];for(let m=u;m<u+h;m++){const _=this.views[m];_!==void 0&&_!==e&&_!==n&&f.push(_)}(i=a.direction)!==null&&i!==void 0||(a.direction="back")}const g=this.views.length+((s=c?.length)!==null&&s!==void 0?s:0)-(h??0);if(xr(g>=0,"final balance can not be negative"),g===0)throw el("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(c){let m=r.insertStart;for(const _ of c)this.insertViewAt(_,m),m++;r.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(f&&f.length>0){for(const m of f)Ia(m.element,z5),Ia(m.element,F5),Ia(m.element,AE);for(const m of f)this.destroyView(m)}}async transition(e,n,r){const i=r.opts,s=i.progressAnimation?f=>{f!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,f.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),f.progressEnd(0,0,0)):this.sbAni=f}:void 0,o=qt(this),a=e.element,c=n&&n.element,u=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&kt.getBoolean("animated",!0),enteringEl:a,leavingEl:c},i),{animationBuilder:i.animationBuilder||this.animation||kt.get("navAnimation")}),{hasCompleted:h}=await H5(u);return this.transitionFinish(h,e,n,i)}transitionFinish(e,n,r,i){const s=e?n:r;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:r,direction:i.direction}}insertViewAt(e,n){const r=this.views,i=r.indexOf(e);i>-1?(xr(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(n,0,e)):(xr(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))}removeView(e){xr(e.state===u$||e.state===Ub,"view state should be loaded or destroyed");const n=this.views,r=n.indexOf(e);xr(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,r=n.indexOf(e);for(let i=n.length-1;i>=0;i--){const s=n[i],o=s.element;o&&(i>r?(Ia(o,AE),this.destroyView(s)):i<r&&eS(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=Fg([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=Fg([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return Ae("slot",{key:"188d0abd6c047d235380f07aac81223b757010e8"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return Bpe}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function Ppe(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,Dpe);break}})}const $pe=Ppe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mpe=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-350, var(--ion-text-color-step-650, #a6a6a6));font-size:max(14px, 1rem)}",Upe=Mpe,Lpe=":host{color:var(--color);font-family:var(--ion-font-family, inherit);-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-base)}:host{--color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));font-size:0.875rem}",zpe=Lpe,Fpe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=qt(this);return Ae($n,{key:"3c3d9b2aa805c0bc1fdc6270a2bbf4dcc1b96c5b",class:Ya(this.color,{[e]:!0})},Ae("slot",{key:"39e34682009fcb705ecafe51825162734bdf14d3"}))}static get style(){return{ios:Upe,md:zpe}}},[33,"ion-note",{color:[513]}]);function jpe(){if(typeof customElements>"u")return;["ion-note"].forEach(e=>{switch(e){case"ion-note":customElements.get(e)||customElements.define(e,Fpe);break}})}const Hpe=jpe;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qpe=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',Vpe=qpe,Wpe=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',Kpe=Wpe,Gpe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=ZN,this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button"}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,r=e.detail,i={},s=this.itemStyles.get(n)||{};let o=!1;Object.keys(r).forEach(a=>{if(r[a]){const c=`item-${a}`;s[c]||(o=!0),i[c]=!0}}),!o&&Object.keys(i).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(n,i),$b(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=bC(this.el,["aria-label"])}componentDidLoad(){wC(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),r=this.el.querySelectorAll("ion-router-link, ion-button, a, button");this.multipleInputs=e.length+n.length>1||e.length+r.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:r,labelColorStyles:i,lines:s,disabled:o,href:a,rel:c,target:u,routerAnimation:h,routerDirection:f,inheritedAriaAttributes:g,multipleInputs:m}=this,_={},x=qt(this),T=this.isClickable(),S=this.canActivate(),C=T?a===void 0?"button":"a":"div",I=C==="button"?{type:this.type}:{download:r,href:a,rel:c,target:u};let P={};const z=this.getFirstInteractive();(T||z!==void 0&&!m)&&(P={onClick:X=>{if(T&&Q5(a,X,f,h),z!==void 0&&!m){const ee=X.composedPath()[0];X.isTrusted&&this.el.shadowRoot.contains(ee)&&((z.tagName==="ION-INPUT"||z.tagName==="ION-TEXTAREA")&&z.setFocus(),z.click(),X.stopImmediatePropagation())}}});const W=e!==void 0?e:x==="ios"&&T;this.itemStyles.forEach(X=>{Object.assign(_,X)});const L=o||_["item-interactive-disabled"]?"true":null,V=Ka("ion-list",this.el)&&!Ka("ion-radio-group",this.el),q=z!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(z.tagName);return Ae($n,{key:"15e7d3b674c25232bc2d51573b291c72548690e5","aria-disabled":L,class:Object.assign(Object.assign(Object.assign({},_),i),Ya(this.color,{item:!0,[x]:!0,"item-lines-default":s===void 0,[`item-lines-${s}`]:s!==void 0,"item-control-needs-pointer-cursor":q,"item-disabled":o,"in-list":V,"item-multiple-inputs":this.multipleInputs,"ion-activatable":S,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:V?"listitem":null},Ae(C,Object.assign({key:"f27ae647501e29db554efe8f12f498b165d1dbf6"},I,g,{class:"item-native",part:"native",disabled:o},P),Ae("slot",{key:"ba039a321df0e4bd5ce11e7a6e7e174c8623b112",name:"start"}),Ae("div",{key:"e67fdf4ad9086d855da8402ca04ffe292cf6ce67",class:"item-inner"},Ae("div",{key:"2434348a0b3f10052a340c57a7ac127ddc851729",class:"input-wrapper"},Ae("slot",{key:"3e27090ae4dab734541b3fd2c94de0f98c0f0030"})),Ae("slot",{key:"52dc633b60fe612d48d2efffbf2c4c62692bef85",name:"end"}),W&&Ae("ion-icon",{key:"4fb7397dc8cf4cecb82f19a6151f85112b73992b",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===ZN})),S&&x==="md"&&Ae("ion-ripple-effect",{key:"09b2413a7a484ecd8ffb00805223727da4d4e344"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:Vpe,md:Kpe}}},[33,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ype=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",Zpe=Ype,Xpe=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",Qpe=Xpe,Jpe=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=yn(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=qt(this),n=this.getSize();return Ae($n,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:Ya(this.color,{[e]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},Ae("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},Ae("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:Zpe,md:Qpe}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function ege(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,Jpe);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tge=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",nge=tge,rge=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",ige=rge,sge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(s=>s.slot==="start");n&&n.classList.add("buttons-first-slot");const r=e.reverse(),i=r.find(s=>s.slot==="end")||r.find(s=>s.slot==="primary")||r.find(s=>s.slot==="secondary");i&&i.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const n=e.target.tagName,r=e.detail,i={},s=this.childrenStyles.get(n)||{};let o=!1;Object.keys(r).forEach(a=>{const c=`toolbar-${a}`,u=r[a];u!==s[c]&&(o=!0),u&&(i[c]=!0)}),o&&(this.childrenStyles.set(n,i),$b(this))}render(){const e=qt(this),n={};return this.childrenStyles.forEach(r=>{Object.assign(n,r)}),Ae($n,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},n),Ya(this.color,{[e]:!0,"in-toolbar":Ka("ion-toolbar",this.el)}))},Ae("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),Ae("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},Ae("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),Ae("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),Ae("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},Ae("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),Ae("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),Ae("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:nge,md:ige}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function oge(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,sge);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const age=":host{--side-width:100%;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;contain:strict}:host(.split-pane-visible) ::slotted(.split-pane-main){left:0;right:0;top:0;bottom:0;position:relative;-ms-flex:1;flex:1;-webkit-box-shadow:none;box-shadow:none;overflow:hidden;z-index:0}::slotted(.split-pane-side:not(ion-menu)){display:none}:host{--border:0.55px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--side-min-width:270px;--side-max-width:28%}",cge=age,lge=":host{--side-width:100%;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;contain:strict}:host(.split-pane-visible) ::slotted(.split-pane-main){left:0;right:0;top:0;bottom:0;position:relative;-ms-flex:1;flex:1;-webkit-box-shadow:none;box-shadow:none;overflow:hidden;z-index:0}::slotted(.split-pane-side:not(ion-menu)){display:none}:host{--border:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--side-min-width:270px;--side-max-width:28%}",uge=lge,dO="split-pane-main",hO="split-pane-side",fO={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},dge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionSplitPaneVisible=yn(this,"ionSplitPaneVisible",7),this.visible=!1,this.contentId=void 0,this.disabled=!1,this.when=fO.lg}visibleChanged(e){this.ionSplitPaneVisible.emit({visible:e})}async isVisible(){return Promise.resolve(this.visible)}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-split-pane"),this.styleMainElement(),this.updateState()}disconnectedCallback(){this.rmL&&(this.rmL(),this.rmL=void 0)}updateState(){if(this.rmL&&(this.rmL(),this.rmL=void 0),this.disabled){this.visible=!1;return}const e=this.when;if(typeof e=="boolean"){this.visible=e;return}const n=fO[e]||e;if(n.length===0){this.visible=!1;return}const r=s=>{this.visible=s.matches},i=window.matchMedia(n);i.addListener(r),this.rmL=()=>i.removeListener(r),this.visible=i.matches}styleMainElement(){const e=this.contentId,n=this.el.children,r=this.el.childElementCount;let i=!1;for(let s=0;s<r;s++){const o=n[s],a=e!==void 0&&o.id===e;if(a)if(i){el("[ion-split-pane] - Cannot have more than one main node.");return}else hge(o,a),i=!0}i||el("[ion-split-pane] - Does not have a specified main node.")}render(){const e=qt(this);return Ae($n,{key:"098801b5a318e2fc6913fb0d9079b1552927b99b",class:{[e]:!0,[`split-pane-${e}`]:!0,"split-pane-visible":this.visible}},Ae("slot",{key:"8cbc6a942ecba54fc3c62027d46917db067b65c8"}))}get el(){return this}static get watchers(){return{visible:["visibleChanged"],disabled:["updateState"],when:["updateState"]}}static get style(){return{ios:cge,md:uge}}},[33,"ion-split-pane",{contentId:[513,"content-id"],disabled:[4],when:[8],visible:[32],isVisible:[64]},void 0,{visible:["visibleChanged"],disabled:["updateState"],when:["updateState"]}]),hge=(t,e)=>{let n,r;e?(n=dO,r=hO):(n=hO,r=dO);const i=t.classList;i.add(n),i.remove(r)};function fge(){if(typeof customElements>"u")return;["ion-split-pane"].forEach(e=>{switch(e){case"ion-split-pane":customElements.get(e)||customElements.define(e,dge);break}})}const pge=fge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gge=":host(.tab-hidden){display:none !important}",mge=gge,yge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1,this.delegate=void 0,this.tab=void 0,this.component=void 0}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return xC(this.delegate,this.el,this.component,["ion-page"])}catch(e){tl("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:r}=this;return Ae($n,{key:"c36c113e74e12b58459df9e3b546ad4856187e90",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":`tab-button-${e}`,class:{"ion-page":r===void 0,"tab-hidden":!n}},Ae("slot",{key:"0d7821dac70ba7a12edfb3331988f3df1566cc1a"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return mge}},[1,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function bge(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,yge);break}})}const wge=bge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vge=ege;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ege=oge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _ge=Gpe,xge="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",Sge=xge,Age=An(class extends Sn{constructor(){super(),this.__registerHost()}componentDidLoad(){Tge(async()=>{const e=Lo(window,"hybrid");if(kt.getBoolean("_testing")||kn(()=>import("./index9-Dj69IGUV.js"),[]).then(i=>i.startTapClick(kt)),kt.getBoolean("statusTap",e)&&kn(()=>import("./status-tap-DghCahqe.js"),[]).then(i=>i.startStatusTap()),kt.getBoolean("inputShims",Cge())){const i=Lo(window,"ios")?"ios":"android";kn(()=>import("./input-shims-D_XuhoxB.js"),[]).then(s=>s.startInputShims(kt,i))}const n=await kn(()=>Promise.resolve().then(()=>Bhe),void 0),r=e||jg();kt.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(jg()&&el("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&kn(()=>import("./keyboard2-ox5Hg25r.js"),[]).then(i=>i.startKeyboardAssist(window)),kn(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=qt(this);return Ae($n,{key:"03aa892f986330078d112b1e8b010df98fa7e39e",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":kt.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return Sge}},[0,"ion-app",{setFocus:[64]}]),Cge=()=>!!(Lo(window,"ios")&&Lo(window,"mobile")||Lo(window,"android")&&Lo(window,"mobileweb")),Tge=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function Ige(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,Age);break}})}const Rge=Ige;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kge=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',Nge=kge,Oge=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',Bge=Oge,Dge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const n=this.el.closest("ion-nav");return e.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Q5(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Fw(this.el),this.defaultHref===void 0&&(this.defaultHref=kt.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e??(qt(this)==="ios"?kt.get("backButtonIcon",Whe):kt.get("backButtonIcon",Vhe))}get backButtonText(){const e=qt(this)==="ios"?"Back":null;return this.text!=null?this.text:kt.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:r,type:i,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:c,inheritedAttributes:u}=this,h=n!==void 0,f=qt(this),g=u["aria-label"]||a||"back";return Ae($n,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:Ya(e,{[f]:!0,button:!0,"back-button-disabled":r,"back-button-has-icon-only":s,"in-toolbar":Ka("ion-toolbar",this.el),"in-toolbar-color":Ka("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":h})},Ae("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:i,disabled:r,class:"button-native",part:"native","aria-label":g},Ae("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},o&&Ae("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":c===void 0}),a&&Ae("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),f==="md"&&Ae("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:Nge,md:Bge}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function Pge(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Dge);break;case"ion-icon":customElements.get(e)||afe();break;case"ion-ripple-effect":customElements.get(e)||i$();break}})}const $ge=Pge,Mge=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",Uge=Mge,Lge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=yn(this,"ionNavWillLoad",7),this.ionNavWillChange=yn(this,"ionNavWillChange",3),this.ionNavDidChange=yn(this,"ionNavDidChange",3),this.lockController=kfe(),this.gestureOrAnimationInProgress=!1,this.mode=qt(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await kn(()=>import("./swipe-back-pAT_SZ5-.js"),__vite__mapDeps([41,42]))).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(n)},(n,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=Fg([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Fg([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(n?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,r){const i=await this.lockController.lock();let s=!1;try{s=await this.transition(e,n,r)}catch(o){tl("[ion-router-outlet] - Exception in commit:",o)}return i(),s}async setRouteId(e,n,r,i){return{changed:await this.setRoot(e,n,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,r){if(this.activeComponent===e&&L5(n,this.activeParams))return!1;const i=this.activeEl,s=await xC(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=s,this.activeParams=n,await this.commit(s,i,r),await Uhe(this.delegate,i),!0}async transition(e,n,r={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:s}=this,o=this.animated&&kt.getBoolean("animated",!0),a=r.animationBuilder||this.animation||kt.get("navAnimation");return await H5(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:n,baseEl:i,deepWait:Qx(i),progressCallback:r.progressAnimation?c=>{c!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,c.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),c.progressEnd(0,0,0)):this.ani=c}:void 0},r),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return Ae("slot",{key:"e34e02b5154172c8d5cdd187b6ea58119b6946eb"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return Uge}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function zge(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,Lge);break}})}const Fge=zge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jge=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",Hge=jge,qge=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",Vge=qge,Wge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=yn(this,"ionTabBarChanged",7),this.ionTabBarLoaded=yn(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await Bfe(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:e,translucent:n,keyboardVisible:r}=this,i=qt(this),s=r&&this.el.getAttribute("slot")!=="top";return Ae($n,{key:"62303a7f9d8c98ffab51a5900c144c5117b9c543",role:"tablist","aria-hidden":s?"true":null,class:Ya(e,{[i]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},Ae("slot",{key:"5771a9828f748c2bd6b5e26758b9723c6b3de5ff"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:Hge,md:Vge}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function Kge(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,Wge);break}})}const Gge=Kge;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Yge=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',Zge=Yge,Xge=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',Qge=Xge,Jge=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=yn(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const n=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||n?.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},bC(this.el,["aria-label"])),this.layout===void 0&&(this.layout=kt.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:r,href:i,rel:s,target:o,layout:a,selected:c,tab:u,inheritedAttributes:h}=this,f=qt(this),g={download:this.download,href:i,rel:s,target:o};return Ae($n,{key:"a86d441d8df350fe991f2f948fc6b6ad007728f7",onClick:this.onClick,onKeyup:this.onKeyUp,id:u!==void 0?`tab-button-${u}`:null,class:{[f]:!0,"tab-selected":c,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":n,"tab-has-label-only":r&&!n,"tab-has-icon-only":n&&!r,[`tab-layout-${a}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Ae("a",Object.assign({key:"8dfe1ccff2cf21601c5aea7f7f877c0fbe384e09"},g,{class:"button-native",part:"native",role:"tab","aria-selected":c?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},h),Ae("span",{key:"3f557cf6e96e22b9318b4aee19ede810eb7fb720",class:"button-inner"},Ae("slot",{key:"836dd090dbe3c2ea97dc263fca7d01dea6ea0eb6"})),f==="md"&&Ae("ion-ripple-effect",{key:"488a924fd04602c1b23e03d1a4c84dfa0f2ca03d",type:"unbounded"})))}get el(){return this}static get style(){return{ios:Zge,md:Qge}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function eme(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Jge);break;case"ion-ripple-effect":customElements.get(e)||i$();break}})}const tme=eme;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nme=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",rme=nme,ime=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=yn(this,"ionNavWillLoad",7),this.ionTabsWillChange=yn(this,"ionTabsWillChange",3),this.ionTabsDidChange=yn(this,"ionTabsDidChange",3),this.transitioning=!1,this.onTabClicked=e=>{const{href:n,tab:r}=e.detail;if(this.useRouter&&n!==void 0){const i=document.querySelector("ion-router");i&&i.push(n)}else this.select(r)},this.selectedTab=void 0,this.useRouter=!1}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentWillRender(){const e=this.el.querySelector("ion-tab-bar");if(e){const n=this.selectedTab?this.selectedTab.tab:void 0;e.selectedTab=n}}async select(e){const n=kE(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return kE(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=kE(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return Ae($n,{key:"20b97196d78c1b3f3faf31618a8a2347e087f06b",onIonTabButtonClick:this.onTabClicked},Ae("slot",{key:"b0823fbae6e47743cfd12c376b365ad7e32cec7c",name:"top"}),Ae("div",{key:"eaffd7e4d69ab9489a387e3bbb36e3bab72203a0",class:"tabs-inner"},Ae("slot",{key:"20bb66a2937e3ec473aa59c4075ce581b5411677"})),Ae("slot",{key:"1529dd361f050f52074f51c73b3982ba827dc3a5",name:"bottom"}))}get el(){return this}static get style(){return rme}},[1,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),kE=(t,e)=>{const n=typeof e=="string"?t.find(r=>r.tab===e):e;return n||tl(`[ion-tabs] - Tab with id: "${n}" does not exist`),n};function sme(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,ime);break}})}const ome=sme;let NE;const ame=()=>{if(typeof window>"u")return new Map;if(!NE){const t=window;t.Ionicons=t.Ionicons||{},NE=t.Ionicons.map=t.Ionicons.map||new Map}return NE},cme=t=>{let e=OE(t.src);return e||(e=d$(t.name,t.icon,t.mode,t.ios,t.md),e?lme(e,t):t.icon&&(e=OE(t.icon),e||(e=OE(t.icon[t.mode]),e))?e:null)},lme=(t,e)=>{const n=ame().get(t);if(n)return n;try{return A5(`svg/${t}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},d$=(t,e,n,r,i)=>(n=(n&&W0(n))==="ios"?"ios":"md",r&&n==="ios"?t=W0(r):i&&n==="md"?t=W0(i):(!t&&e&&!h$(e)&&(t=e),Lb(t)&&(t=W0(t))),!Lb(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),OE=t=>Lb(t)&&(t=t.trim(),h$(t))?t:null,h$=t=>t.length>0&&/(\/|\.)/.test(t),Lb=t=>typeof t=="string",W0=t=>t.toLowerCase(),ume=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},dme=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl",hme=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),f$(n))return e.innerHTML}return""},f$=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Lb(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!f$(t.childNodes[e]))return!1}return!0},fme=t=>t.startsWith("data:image/svg+xml"),pme=t=>t.indexOf(";utf8,")!==-1,Pl=new Map,pO=new Map;let BE;const gme=(t,e)=>{let n=pO.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(fme(t)&&pme(t)){BE||(BE=new DOMParser);const i=BE.parseFromString(t,"text/html").querySelector("svg");return i&&Pl.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=hme(i)),Pl.set(t,i||"")});Pl.set(t,"")}),pO.set(t,n);else return Pl.set(t,""),Promise.resolve();return n},mme=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",yme=An(class extends Sn{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=bme(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=ume(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(this.isVisible){const e=cme(this);e&&(Pl.has(e)?this.svgContent=Pl.get(e):gme(e,this.sanitize).then(()=>this.svgContent=Pl.get(e)),this.didLoadIcon=!0)}this.iconName=d$(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Ae($n,Object.assign({role:"img",class:Object.assign(Object.assign({[s]:!0},wme(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&dme(i)})},r),this.svgContent?Ae("div",{class:"icon-inner",innerHTML:this.svgContent}):Ae("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return mme}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),bme=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",wme=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function vme(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,yme);break}})}const Eme=vme,TC=ye.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),_me=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(r=>r.id===t.id);n.length!==0&&(n.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},So=ye.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),p$=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),IC=t=>t.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`),g$=(t,e,n={})=>{if(t instanceof Element){const r=xme(t.classList,e,n);r!==""&&(t.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const s=i.substring(2),o=s[0].toLowerCase()+s.substring(1);RC(o)||Ame(t,o,e[i])}else t[i]=e[i],typeof e[i]==="string"&&t.setAttribute(IC(i),e[i])})}},xme=(t,e,n)=>{const r=e.className||e.class,i=n.className||n.class,s=DE(t),o=DE(r?r.split(" "):[]),a=DE(i?i.split(" "):[]),c=[];return s.forEach(u=>{o.has(u)?(c.push(u),o.delete(u)):a.has(u)||c.push(u)}),o.forEach(u=>c.push(u)),c.join(" ")},Sme=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const RC=t=>{if(typeof document>"u")return!0;{const e="on"+Sme(t);let n=e in document;if(!n){const r=document.createElement("div");r.setAttribute(e,"return;"),n=typeof r[e]=="function"}return n}},Ame=(t,e,n)=>{const r=t.__events||(t.__events={}),i=r[e];i&&t.removeEventListener(e,i),t.addEventListener(e,r[e]=function(o){n&&n.call(this,o)})},DE=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},Cme=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},kC=(...t)=>e=>{t.forEach(n=>{Cme(n,e)})},Tme=(t,e)=>{const n=(r,i)=>be.jsx(t,{...r,forwardedRef:i});return n.displayName=e,ye.forwardRef(n)},Ime=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},dr=(t,e,n,r)=>{r!==void 0&&r();const i=p$(t),s=class extends ye.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){g$(this.componentEl,this.props,o)}render(){const{children:o,forwardedRef:a,style:c,className:u,ref:h,...f}=this.props,m={...Object.keys(f).reduce((_,x)=>{const T=f[x];if(x.indexOf("on")===0&&x[2]===x[2].toUpperCase()){const S=x.substring(2).toLowerCase();typeof document<"u"&&RC(S)&&(_[x]=T)}else{const S=typeof T;(S==="string"||S==="boolean"||S==="number")&&(_[IC(x)]=T)}return _},{}),ref:kC(a,this.setComponentElRef),style:c};return qi.createElement(t,m,o)}static get displayName(){return i}};return Tme(s,i)},Jh=dr("ion-content",void 0,void 0,Ife),Dm=dr("ion-header",void 0,void 0,Vfe),Rme=dr("ion-label",void 0,void 0,Qfe),kme=dr("ion-list",void 0,void 0,spe),Nme=dr("ion-list-header",void 0,void 0,hpe),Ome=dr("ion-menu",void 0,void 0,Spe),Bme=dr("ion-menu-toggle",void 0,void 0,kpe),Dme=dr("ion-note",void 0,void 0,Hpe),Pme=dr("ion-split-pane",void 0,void 0,pge),$me=dr("ion-tab",void 0,void 0,wge),Pm=dr("ion-title",void 0,void 0,vge),$m=dr("ion-toolbar",void 0,void 0,Ege),ef=(t,e)=>{const n=(r,i)=>be.jsx(t,{...r,forwardedRef:i});return n.displayName=e,ye.forwardRef(n)},NC=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},Mme=(t,e)=>{Ime(t,e);const n=p$(t),r=class extends ye.Component{constructor(i){super(i),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:c,routerAnimation:u}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,u,c))},this.ref=ye.createRef(),this.stableMergedRefs=kC(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(i){const s=this.ref.current;g$(s,this.props,i)}render(){const{children:i,forwardedRef:s,style:o,className:a,ref:c,...u}=this.props,f={...Object.keys(u).reduce((g,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const _=m.substring(2).toLowerCase();RC(_)&&(g[m]=u[m])}else["string","boolean","number"].includes(typeof u[m])&&(g[IC(m)]=u[m]);return g},{}),ref:this.stableMergedRefs,style:o};if(this.props.routerLink&&!this.props.href&&(f.href=this.props.routerLink),f.onClick){const g=f.onClick;f.onClick=m=>{g(m),m.defaultPrevented||this.handleClick(m)}}else f.onClick=this.handleClick;return qi.createElement(t,f,i)}static get displayName(){return n}static get contextType(){return So}};return ef(r,n)},Ume=Mme("ion-item",_ge),Lme=ye.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),zme=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,r]=qi.useState({}),i=qi.useRef({});qi.useEffect(()=>{t(s),e(o)},[]);const s=(c,u,h)=>{const f={...i.current};f[c]={component:u,containerElement:h},i.current=f,r(f)},o=c=>{const u={...i.current};delete u[c],i.current=u,r(u)},a=Object.keys(n);return be.jsx(be.Fragment,{children:a.map(c=>{const u=n[c];return gce.createPortal(u.component,u.containerElement,`overlay-${c}`)})})},Fme=dr("ion-tab-button",void 0,void 0,tme),jme=dr("ion-tab-bar",void 0,void 0,Gge),gO=dr("ion-tabs",void 0,void 0,ome),Hme=dr("ion-back-button",void 0,void 0,$ge),iS=dr("ion-router-outlet",void 0,void 0,Fge),qme=dr("ion-app",void 0,void 0,Rge),Vme=dr("ion-icon",void 0,void 0,Eme);class m$ extends ye.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,r,i)=>{this.addOverlayCallback&&this.addOverlayCallback(n,r,i)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return be.jsxs(Lme.Provider,{value:this.ionContext,children:[be.jsx(qme,{...this.props,children:this.props.children}),be.jsx(zme,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}m$.displayName="IonApp";const OC=ye.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class BC extends ye.PureComponent{constructor(e){super(e),this.ionPageElementRef=ye.createRef(),this.stableMergedRefs=kC(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:r,forwardedRef:i,...s}=this.props;return be.jsx(TC.Consumer,{children:o=>(this.ionLifeCycleContext=o,be.jsx("div",{className:e?`${e} ion-page`:"ion-page",ref:this.stableMergedRefs,...s,children:n}))})}static get contextType(){return OC}}class Wme extends ye.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?be.jsx(BC,{className:e?`${e}`:"",routeInfo:this.context.routeInfo,forwardedRef:r,...i,children:n}):be.jsx("div",{className:e?`ion-page ${e}`:"ion-page",ref:r,...i,children:n})}static get displayName(){return"IonPage"}static get contextType(){return So}}const Mm=ef(Wme,"IonPage"),mO={main:0},Hg=(t="main")=>{const e=(mO[t]??0)+1;return mO[t]=e,e.toString()},Kme=(t,e)=>{const n=new WeakMap,r=`react-delegate-${Hg()}`;let i=0;return{attachViewToDom:async(a,c,u,h)=>{const f=document.createElement("div");h&&f.classList.add(...h),a.appendChild(f);const g=c(u),m=`${r}-${i++}`,_=vA.createPortal(g,f,m);return n.set(f,_),t(_),Promise.resolve(f)},removeViewFromDom:(a,c)=>{const u=n.get(c);return u&&e(u),c.remove(),Promise.resolve()}}},Gme=dr("ion-nav",void 0,void 0,$pe),Yme=({children:t,forwardedRef:e,...n})=>{const[r,i]=qi.useState([]),s=c=>i(u=>[...u,c]),o=c=>i(u=>u.filter(h=>h!==c)),a=qi.useMemo(()=>Kme(s,o),[]);return be.jsx(Gme,{delegate:a,ref:e,...n,children:r})};ef(Yme,"IonNav");const y$=ye.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:ye.createRef()}}),Zme=typeof HTMLElement<"u"?HTMLElement:class{};class Xme extends ye.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||kh(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:r,...i}=this.props;return be.jsx(TC.Consumer,{children:s=>(this.ionLifeCycleContext=s,be.jsx(e,{routeInfo:r,children:be.jsx(iS,{setRef:o=>this.ionRouterOutlet=o,...i,children:n})}))})}static get contextType(){return OC}}class Qme extends ye.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?i.ionPage?be.jsx(Xme,{StackManager:e,routeInfo:this.context.routeInfo,...i,children:n}):be.jsx(e,{routeInfo:this.context.routeInfo,children:be.jsx(iS,{...i,forwardedRef:r,children:n})}):be.jsx(iS,{ref:r,...this.props,children:this.props.children})}static get contextType(){return So}}const Wf=ef(Qme,"IonRouterOutlet");class Jme extends Zme{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Jme));class zwe extends ye.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=ye.createRef(),this.tabBarRef=ye.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return be.jsx(gO,{...this.props,children:ye.Children.map(e,r=>ye.isValidElement(r)&&(r.type===Wf||r.type.isRouterOutlet||r.type===qi.Fragment&&r.props.children[0].type===Wf)?n:r)})}render(){let e,n=!1;const{className:r,onIonTabsDidChange:i,onIonTabsWillChange:s,...o}=this.props,a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(ye.Children.forEach(a,c=>{if(c==null||typeof c!="object"||!c.hasOwnProperty("type"))return;c.type===Wf||c.type.isRouterOutlet?e=ye.cloneElement(c):c.type===qi.Fragment&&c.props.children[0].type===Wf?e=ye.cloneElement(c.props.children[0]):c.type===$me&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let u={...this.ionTabContextState.tabBarProps};i!==void 0&&(u={...u,onIonTabsDidChange:i}),s!==void 0&&(u={...u,onIonTabsWillChange:s}),this.ionTabContextState.tabBarProps=u}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?be.jsx(gO,{...this.props}):be.jsx(y$.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?be.jsx(BC,{className:r?`${r}`:"",routeInfo:this.context.routeInfo,...o,children:this.renderTabsInner(a,e)}):this.renderTabsInner(a,e)})}static get contextType(){return So}}class PE extends ye.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return be.jsx(Fme,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}class e0e extends ye.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const n={};ye.Children.forEach(e.children,r=>{r!=null&&typeof r=="object"&&r.props&&(r.type===PE||r.type.isTabButton)&&(n[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===e.routeInfo?.pathname?e.routeInfo?.routeOptions:void 0,currentRouteOptions:r.props.href===e.routeInfo?.pathname?e.routeInfo?.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const s=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(s)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){const r={...n.tabs},s=Object.keys(n.tabs).find(a=>{const c=n.tabs[a].originalHref;return e.routeInfo.pathname.startsWith(c)});ye.Children.forEach(e.children,a=>{if(a!=null&&typeof a=="object"&&a.props&&(a.type===PE||a.type.isTabButton)){const c=r[a.props.tab];(!c||c.originalHref!==a.props.href)&&(r[a.props.tab]={originalHref:a.props.href,currentHref:a.props.href,originalRouteOptions:a.props.routeOptions,currentRouteOptions:a.props.routeOptions})}});const{activeTab:o}=n;if(s&&o){const a=n.tabs[o].currentHref,c=n.tabs[o].currentRouteOptions;(s!==o||a!==e.routeInfo?.pathname||c!==e.routeInfo?.routeOptions)&&(r[s]={originalHref:r[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:r[s].originalRouteOptions,currentRouteOptions:e.routeInfo?.routeOptions},e.routeInfo.routeAction==="pop"&&s!==o&&(r[o]={originalHref:r[o].originalHref,currentHref:r[o].originalHref,originalRouteOptions:r[o].originalRouteOptions,currentRouteOptions:r[o].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:r}}onTabButtonClick(e,n){const r=this.state.tabs[e.detail.tab],i=r.originalHref,s=this.props.tabsContext?.hasRouterOutlet,o=s?e.detail.href:"",{activeTab:a}=this.state;n&&n(e),a===e.detail.tab?i!==o&&this.context.resetTab(e.detail.tab,i,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),s&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,o,e.detail.routeOptions)))}renderTabButton(e){return n=>{if(n!=null&&n.props&&(n.type===PE||n.type.isTabButton)){const r=n.props.tab===e?this.props.routeInfo?.pathname:this.state.tabs[n.props.tab].currentHref,i=n.props.tab===e?this.props.routeInfo?.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return ye.cloneElement(n,{href:r,routeOptions:i,onClick:s=>this.onTabButtonClick(s,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return be.jsx(jme,{...this.props,selectedTab:e,children:ye.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return So}}const t0e=ye.memo(({forwardedRef:t,...e})=>{const n=qi.useContext(So),r=qi.useContext(y$),i=t||r.tabBarProps.ref,s={...r.tabBarProps,ref:i};return be.jsx(e0e,{ref:i,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...r,tabBarProps:s},children:e.children})});ef(t0e,"IonTabBar");class Fwe extends ye.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:r}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,r)):n!==void 0&&(window.location.href=n)}}render(){return be.jsx(Hme,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return So}shouldComponentUpdate(){return!0}}class n0e extends ye.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){const{icon:e,ios:n,md:r,mode:i,...s}=this.props;let o;const a=NC(),c=i||a?.get("mode");return n||r?c==="ios"?o=n??r??e:o=r??n??e:o=e,be.jsx(Vme,{ref:this.props.forwardedRef,icon:o,...s,children:this.props.children})}static get contextType(){return So}}ef(n0e,"IonIcon");class DC extends ye.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!DC?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):be.jsx(e,{...this.props})}static get contextType(){return So}}class b$ extends ye.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!b$?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):be.jsx(e,{...this.props})}static get contextType(){return So}}const r0e=ye.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class jwe extends ye.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Hc(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),yO(n,e),bO(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,r=this.props;yO(n,r,e),i0e(n,r,e),bO(n,r,e)}render(){const{children:e}=this.props;return be.jsx(be.Fragment,{children:ye.Children.map(e,(n,r)=>ye.cloneElement(n,{ref:i=>this.nodes.set(r,i)}))})}}const yO=(t,e={},n={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const c in e)e.hasOwnProperty(c)&&!r.includes(c)&&e[c]!==n[c]&&t[c](e[c]);const i=e.from;i&&i!==n.from&&(Array.isArray(i)?i:[i]).forEach(u=>t.from(u.property,u.value));const s=e.to;s&&s!==n.to&&(Array.isArray(s)?s:[s]).forEach(u=>t.to(u.property,u.value));const o=e.fromTo;o&&o!==n.fromTo&&(Array.isArray(o)?o:[o]).forEach(u=>t.fromTo(u.property,u.fromValue,u.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(u=>t.onFinish(u.callback,u.opts))},i0e=(t,e={},n={})=>{const{progressStart:r,progressStep:i,progressEnd:s}=e;r&&(n.progressStart?.forceLinearEasing!==r?.forceLinearEasing||n.progressStart?.step!==r?.step)&&t.progressStart(r.forceLinearEasing,r.step),i&&n.progressStep?.step!==i?.step&&t.progressStep(i.step),s&&(n.progressEnd?.playTo!==s?.playTo||n.progressEnd?.step!==s?.step||n?.dur!==s?.dur)&&t.progressEnd(s.playTo,s.step,s.dur)},bO=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()},s0e=(t={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),Ihe({...t})},w$=ye.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class wO extends ye.Component{constructor(e){super(e),this.ionLifeCycleContext=new _me,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return be.jsx(TC.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class o0e{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const n=this._getRouteInfosByKey(e);n&&(n.forEach(r=>{this.locationHistory=this.locationHistory.filter(i=>i.id!==r.id)}),this.tabHistory[e]=[])}update(e){const n=this.locationHistory.findIndex(i=>i.id===e.id);n>-1&&this.locationHistory.splice(n,1,e);const r=this.tabHistory[e.tab||""];if(r){const i=r.findIndex(s=>s.id===e.id);i>-1?r.splice(i,1,e):r.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const n=this._getRouteInfosByKey(e.tab);n&&(this._areRoutesEqual(n[n.length-1],e)&&n.pop(),n.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,n){return!e||!n?!1:e.pathname===n.pathname&&e.search===n.search}_pop(e){const n=this._getRouteInfosByKey(e.tab);n&&(n.pop(),n.pop(),n.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const n=this._getRouteInfosByKey(e.tab);n&&n.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let n;return e&&(n=this.tabHistory[e],n||(n=this.tabHistory[e]=[])),n}getFirstRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[0]}getCurrentRouteInfoForTab(e){const n=this._getRouteInfosByKey(e);if(n)return n[n.length-1]}findLastLocation(e){const n=this._getRouteInfosByKey(e.tab);if(n)for(let r=n.length-2;r>=0;r--){const i=n[r];if(i&&i.pathname===e.pushedByRoute)return i}for(let r=this.locationHistory.length-2;r>=0;r--){const i=this.locationHistory[r];if(i&&i.pathname===e.pushedByRoute)return i}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class a0e extends ye.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,r,i,s,o)=>{this.navigate(n,r,i,o,s)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",r="push",i,s,o){this.props.onNavigate(e,r,n,i,s,o)}getPageManager(){return BC}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return be.jsx(So.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:be.jsx(r0e.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}class c0e{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:n}=e;this.viewStacks[n]?this.viewStacks[n].push(e):this.viewStacks[n]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:n}=e,r=this.viewStacks[n];if(r){const i=r.find(s=>s.id===e.id);i&&(i.mount=!1,this.viewStacks[n]=r.filter(s=>s.id!==i.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),n=[];return e.forEach(r=>{n.push(...this.viewStacks[r])}),n}}function qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wi.apply(null,arguments)}function K0(t){return t.charAt(0)==="/"}function $E(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function l0e(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&K0(t),s=e&&K0(e),o=i||s;if(t&&K0(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var c=r[r.length-1];a=c==="."||c===".."||c===""}else a=!1;for(var u=0,h=r.length;h>=0;h--){var f=r[h];f==="."?$E(r,h):f===".."?($E(r,h),u++):u&&($E(r,h),u--)}if(!o)for(;u--;u)r.unshift("..");o&&r[0]!==""&&(!r[0]||!K0(r[0]))&&r.unshift("");var g=r.join("/");return a&&g.substr(-1)!=="/"&&(g+="/"),g}function vO(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Ey(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,s){return Ey(i,e[s])});if(typeof t=="object"||typeof e=="object"){var n=vO(t),r=vO(e);return n!==t||r!==e?Ey(n,r):Object.keys(Object.assign({},t,e)).every(function(i){return Ey(t[i],e[i])})}return!1}var u0e="Invariant failed";function Ou(t,e){throw new Error(u0e)}function xp(t){return t.charAt(0)==="/"?t:"/"+t}function EO(t){return t.charAt(0)==="/"?t.substr(1):t}function d0e(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function v$(t,e){return d0e(t,e)?t.substr(e.length):t}function E$(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function h0e(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Os(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ji(t,e,n,r){var i;typeof t=="string"?(i=h0e(t),i.state=e):(i=Wi({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=l0e(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function f0e(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Ey(t.state,e.state)}function PC(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,c,u){if(t!=null){var h=typeof t=="function"?t(o,a):t;typeof h=="string"?typeof c=="function"?c(h,u):u(!0):u(h!==!1)}else u(!0)}var r=[];function i(o){var a=!0;function c(){a&&o.apply(void 0,arguments)}return r.push(c),function(){a=!1,r=r.filter(function(u){return u!==c})}}function s(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];r.forEach(function(u){return u.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var _$=!!(typeof window<"u"&&window.document&&window.document.createElement);function x$(t,e){e(window.confirm(t))}function p0e(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function g0e(){return window.navigator.userAgent.indexOf("Trident")===-1}function m0e(){return window.navigator.userAgent.indexOf("Firefox")===-1}function y0e(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var _O="popstate",xO="hashchange";function SO(){try{return window.history.state||{}}catch{return{}}}function b0e(t){t===void 0&&(t={}),_$||Ou();var e=window.history,n=p0e(),r=!g0e(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,c=a===void 0?x$:a,u=i.keyLength,h=u===void 0?6:u,f=t.basename?E$(xp(t.basename)):"";function g(R){var M=R||{},k=M.key,E=M.state,U=window.location,Q=U.pathname,te=U.search,se=U.hash,fe=Q+te+se;return f&&(fe=v$(fe,f)),ji(fe,E,k)}function m(){return Math.random().toString(36).substr(2,h)}var _=PC();function x(R){Wi(B,R),B.length=e.length,_.notifyListeners(B.location,B.action)}function T(R){y0e(R)||I(g(R.state))}function S(){I(g(SO()))}var C=!1;function I(R){if(C)C=!1,x();else{var M="POP";_.confirmTransitionTo(R,M,c,function(k){k?x({action:M,location:R}):P(R)})}}function P(R){var M=B.location,k=W.indexOf(M.key);k===-1&&(k=0);var E=W.indexOf(R.key);E===-1&&(E=0);var U=k-E;U&&(C=!0,X(U))}var z=g(SO()),W=[z.key];function L(R){return f+Os(R)}function V(R,M){var k="PUSH",E=ji(R,M,m(),B.location);_.confirmTransitionTo(E,k,c,function(U){if(U){var Q=L(E),te=E.key,se=E.state;if(n)if(e.pushState({key:te,state:se},null,Q),o)window.location.href=Q;else{var fe=W.indexOf(B.location.key),le=W.slice(0,fe+1);le.push(E.key),W=le,x({action:k,location:E})}else window.location.href=Q}})}function q(R,M){var k="REPLACE",E=ji(R,M,m(),B.location);_.confirmTransitionTo(E,k,c,function(U){if(U){var Q=L(E),te=E.key,se=E.state;if(n)if(e.replaceState({key:te,state:se},null,Q),o)window.location.replace(Q);else{var fe=W.indexOf(B.location.key);fe!==-1&&(W[fe]=E.key),x({action:k,location:E})}else window.location.replace(Q)}})}function X(R){e.go(R)}function Y(){X(-1)}function ee(){X(1)}var j=0;function w(R){j+=R,j===1&&R===1?(window.addEventListener(_O,T),r&&window.addEventListener(xO,S)):j===0&&(window.removeEventListener(_O,T),r&&window.removeEventListener(xO,S))}var b=!1;function v(R){R===void 0&&(R=!1);var M=_.setPrompt(R);return b||(w(1),b=!0),function(){return b&&(b=!1,w(-1)),M()}}function O(R){var M=_.appendListener(R);return w(1),function(){w(-1),M()}}var B={length:e.length,action:"POP",location:z,createHref:L,push:V,replace:q,go:X,goBack:Y,goForward:ee,block:v,listen:O};return B}var AO="hashchange",w0e={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+EO(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:EO,decodePath:xp},slash:{encodePath:xp,decodePath:xp}};function S$(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Nf(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function v0e(t){window.location.hash=t}function ME(t){window.location.replace(S$(window.location.href)+"#"+t)}function E0e(t){t===void 0&&(t={}),_$||Ou();var e=window.history;m0e();var n=t,r=n.getUserConfirmation,i=r===void 0?x$:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?E$(xp(t.basename)):"",c=w0e[o],u=c.encodePath,h=c.decodePath;function f(){var M=h(Nf());return a&&(M=v$(M,a)),ji(M)}var g=PC();function m(M){Wi(R,M),R.length=e.length,g.notifyListeners(R.location,R.action)}var _=!1,x=null;function T(M,k){return M.pathname===k.pathname&&M.search===k.search&&M.hash===k.hash}function S(){var M=Nf(),k=u(M);if(M!==k)ME(k);else{var E=f(),U=R.location;if(!_&&T(U,E)||x===Os(E))return;x=null,C(E)}}function C(M){if(_)_=!1,m();else{var k="POP";g.confirmTransitionTo(M,k,i,function(E){E?m({action:k,location:M}):I(M)})}}function I(M){var k=R.location,E=L.lastIndexOf(Os(k));E===-1&&(E=0);var U=L.lastIndexOf(Os(M));U===-1&&(U=0);var Q=E-U;Q&&(_=!0,Y(Q))}var P=Nf(),z=u(P);P!==z&&ME(z);var W=f(),L=[Os(W)];function V(M){var k=document.querySelector("base"),E="";return k&&k.getAttribute("href")&&(E=S$(window.location.href)),E+"#"+u(a+Os(M))}function q(M,k){var E="PUSH",U=ji(M,void 0,void 0,R.location);g.confirmTransitionTo(U,E,i,function(Q){if(Q){var te=Os(U),se=u(a+te),fe=Nf()!==se;if(fe){x=te,v0e(se);var le=L.lastIndexOf(Os(R.location)),ge=L.slice(0,le+1);ge.push(te),L=ge,m({action:E,location:U})}else m()}})}function X(M,k){var E="REPLACE",U=ji(M,void 0,void 0,R.location);g.confirmTransitionTo(U,E,i,function(Q){if(Q){var te=Os(U),se=u(a+te),fe=Nf()!==se;fe&&(x=te,ME(se));var le=L.indexOf(Os(R.location));le!==-1&&(L[le]=te),m({action:E,location:U})}})}function Y(M){e.go(M)}function ee(){Y(-1)}function j(){Y(1)}var w=0;function b(M){w+=M,w===1&&M===1?window.addEventListener(AO,S):w===0&&window.removeEventListener(AO,S)}var v=!1;function O(M){M===void 0&&(M=!1);var k=g.setPrompt(M);return v||(b(1),v=!0),function(){return v&&(v=!1,b(-1)),k()}}function B(M){var k=g.appendListener(M);return b(1),function(){b(-1),k()}}var R={length:e.length,action:"POP",location:W,createHref:V,push:q,replace:X,go:Y,goBack:ee,goForward:j,block:O,listen:B};return R}function CO(t,e,n){return Math.min(Math.max(t,e),n)}function _0e(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,c=a===void 0?6:a,u=PC();function h(V){Wi(L,V),L.length=L.entries.length,u.notifyListeners(L.location,L.action)}function f(){return Math.random().toString(36).substr(2,c)}var g=CO(o,0,i.length-1),m=i.map(function(V){return typeof V=="string"?ji(V,void 0,f()):ji(V,void 0,V.key||f())}),_=Os;function x(V,q){var X="PUSH",Y=ji(V,q,f(),L.location);u.confirmTransitionTo(Y,X,n,function(ee){if(ee){var j=L.index,w=j+1,b=L.entries.slice(0);b.length>w?b.splice(w,b.length-w,Y):b.push(Y),h({action:X,location:Y,index:w,entries:b})}})}function T(V,q){var X="REPLACE",Y=ji(V,q,f(),L.location);u.confirmTransitionTo(Y,X,n,function(ee){ee&&(L.entries[L.index]=Y,h({action:X,location:Y}))})}function S(V){var q=CO(L.index+V,0,L.entries.length-1),X="POP",Y=L.entries[q];u.confirmTransitionTo(Y,X,n,function(ee){ee?h({action:X,location:Y,index:q}):h()})}function C(){S(-1)}function I(){S(1)}function P(V){var q=L.index+V;return q>=0&&q<L.entries.length}function z(V){return V===void 0&&(V=!1),u.setPrompt(V)}function W(V){return u.appendListener(V)}var L={length:m.length,action:"POP",location:m[g],index:g,entries:m,createHref:_,push:x,replace:T,go:S,goBack:C,goForward:I,canGo:P,block:z,listen:W};return L}function sS(t,e){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sS(t,e)}function nl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,sS(t,e)}var A$={exports:{}},x0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",S0e=x0e,A0e=S0e;function C$(){}function T$(){}T$.resetWarningCache=C$;var C0e=function(){function t(r,i,s,o,a,c){if(c!==A0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:T$,resetWarningCache:C$};return n.PropTypes=n,n};A$.exports=C0e();var T0e=A$.exports;const TO=Ks(T0e);var tf={exports:{}},I0e=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},zb=I0e;tf.exports=k$;tf.exports.parse=$C;tf.exports.compile=N0e;tf.exports.tokensToFunction=I$;tf.exports.tokensToRegExp=R$;var R0e=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function $C(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=R0e.exec(t))!=null;){var c=a[0],u=a[1],h=a.index;if(s+=t.slice(i,h),i=h+c.length,u){s+=u[1];continue}var f=t[i],g=a[2],m=a[3],_=a[4],x=a[5],T=a[6],S=a[7];s&&(n.push(s),s="");var C=g!=null&&f!=null&&f!==g,I=T==="+"||T==="*",P=T==="?"||T==="*",z=g||o,W=_||x,L=g||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:m||r++,prefix:g||"",delimiter:z,optional:P,repeat:I,partial:C,asterisk:!!S,pattern:W?D0e(W):S?".*":k0e(z,L)})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function k0e(t,e){return!e||e.indexOf(t)>-1?"[^"+$l(t)+"]+?":$l(e)+"|(?:(?!"+$l(e)+")[^"+$l(t)+"])+?"}function N0e(t,e){return I$($C(t,e),e)}function O0e(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function B0e(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function I$(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",UC(e)));return function(i,s){for(var o="",a=i||{},c=s||{},u=c.pretty?O0e:encodeURIComponent,h=0;h<t.length;h++){var f=t[h];if(typeof f=="string"){o+=f;continue}var g=a[f.name],m;if(g==null)if(f.optional){f.partial&&(o+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(zb(g)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(g)+"`");if(g.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var _=0;_<g.length;_++){if(m=u(g[_]),!n[h].test(m))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(m)+"`");o+=(_===0?f.prefix:f.delimiter)+m}continue}if(m=f.asterisk?B0e(g):u(g),!n[h].test(m))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+m+'"');o+=f.prefix+m}return o}}function $l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function D0e(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function MC(t,e){return t.keys=e,t}function UC(t){return t&&t.sensitive?"":"i"}function P0e(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return MC(t,e)}function $0e(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(k$(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",UC(n));return MC(s,e)}function M0e(t,e,n){return R$($C(t,n),e,n)}function R$(t,e,n){zb(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=$l(a);else{var c=$l(a.prefix),u="(?:"+a.pattern+")";e.push(a),a.repeat&&(u+="(?:"+c+u+")*"),a.optional?a.partial?u=c+"("+u+")?":u="(?:"+c+"("+u+"))?":u=c+"("+u+")",s+=u}}var h=$l(n.delimiter||"/"),f=s.slice(-h.length)===h;return r||(s=(f?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),i?s+="$":s+=r&&f?"":"(?="+h+"|$)",MC(new RegExp("^"+s,UC(n)),e)}function k$(t,e,n){return zb(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?P0e(t,e):zb(t)?$0e(t,e,n):M0e(t,e,n)}var U0e=tf.exports;const N$=Ks(U0e);var Qt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pr=typeof Symbol=="function"&&Symbol.for,LC=Pr?Symbol.for("react.element"):60103,zC=Pr?Symbol.for("react.portal"):60106,Hw=Pr?Symbol.for("react.fragment"):60107,qw=Pr?Symbol.for("react.strict_mode"):60108,Vw=Pr?Symbol.for("react.profiler"):60114,Ww=Pr?Symbol.for("react.provider"):60109,Kw=Pr?Symbol.for("react.context"):60110,FC=Pr?Symbol.for("react.async_mode"):60111,Gw=Pr?Symbol.for("react.concurrent_mode"):60111,Yw=Pr?Symbol.for("react.forward_ref"):60112,Zw=Pr?Symbol.for("react.suspense"):60113,L0e=Pr?Symbol.for("react.suspense_list"):60120,Xw=Pr?Symbol.for("react.memo"):60115,Qw=Pr?Symbol.for("react.lazy"):60116,z0e=Pr?Symbol.for("react.block"):60121,F0e=Pr?Symbol.for("react.fundamental"):60117,j0e=Pr?Symbol.for("react.responder"):60118,H0e=Pr?Symbol.for("react.scope"):60119;function vs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LC:switch(t=t.type,t){case FC:case Gw:case Hw:case Vw:case qw:case Zw:return t;default:switch(t=t&&t.$$typeof,t){case Kw:case Yw:case Qw:case Xw:case Ww:return t;default:return e}}case zC:return e}}}function O$(t){return vs(t)===Gw}Qt.AsyncMode=FC;Qt.ConcurrentMode=Gw;Qt.ContextConsumer=Kw;Qt.ContextProvider=Ww;Qt.Element=LC;Qt.ForwardRef=Yw;Qt.Fragment=Hw;Qt.Lazy=Qw;Qt.Memo=Xw;Qt.Portal=zC;Qt.Profiler=Vw;Qt.StrictMode=qw;Qt.Suspense=Zw;Qt.isAsyncMode=function(t){return O$(t)||vs(t)===FC};Qt.isConcurrentMode=O$;Qt.isContextConsumer=function(t){return vs(t)===Kw};Qt.isContextProvider=function(t){return vs(t)===Ww};Qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LC};Qt.isForwardRef=function(t){return vs(t)===Yw};Qt.isFragment=function(t){return vs(t)===Hw};Qt.isLazy=function(t){return vs(t)===Qw};Qt.isMemo=function(t){return vs(t)===Xw};Qt.isPortal=function(t){return vs(t)===zC};Qt.isProfiler=function(t){return vs(t)===Vw};Qt.isStrictMode=function(t){return vs(t)===qw};Qt.isSuspense=function(t){return vs(t)===Zw};Qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hw||t===Gw||t===Vw||t===qw||t===Zw||t===L0e||typeof t=="object"&&t!==null&&(t.$$typeof===Qw||t.$$typeof===Xw||t.$$typeof===Ww||t.$$typeof===Kw||t.$$typeof===Yw||t.$$typeof===F0e||t.$$typeof===j0e||t.$$typeof===H0e||t.$$typeof===z0e)};Qt.typeOf=vs;function B$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var D$={exports:{}},Wt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=typeof Symbol=="function"&&Symbol.for,jC=$r?Symbol.for("react.element"):60103,HC=$r?Symbol.for("react.portal"):60106,Jw=$r?Symbol.for("react.fragment"):60107,ev=$r?Symbol.for("react.strict_mode"):60108,tv=$r?Symbol.for("react.profiler"):60114,nv=$r?Symbol.for("react.provider"):60109,rv=$r?Symbol.for("react.context"):60110,qC=$r?Symbol.for("react.async_mode"):60111,iv=$r?Symbol.for("react.concurrent_mode"):60111,sv=$r?Symbol.for("react.forward_ref"):60112,ov=$r?Symbol.for("react.suspense"):60113,q0e=$r?Symbol.for("react.suspense_list"):60120,av=$r?Symbol.for("react.memo"):60115,cv=$r?Symbol.for("react.lazy"):60116,V0e=$r?Symbol.for("react.block"):60121,W0e=$r?Symbol.for("react.fundamental"):60117,K0e=$r?Symbol.for("react.responder"):60118,G0e=$r?Symbol.for("react.scope"):60119;function Es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jC:switch(t=t.type,t){case qC:case iv:case Jw:case tv:case ev:case ov:return t;default:switch(t=t&&t.$$typeof,t){case rv:case sv:case cv:case av:case nv:return t;default:return e}}case HC:return e}}}function P$(t){return Es(t)===iv}Wt.AsyncMode=qC;Wt.ConcurrentMode=iv;Wt.ContextConsumer=rv;Wt.ContextProvider=nv;Wt.Element=jC;Wt.ForwardRef=sv;Wt.Fragment=Jw;Wt.Lazy=cv;Wt.Memo=av;Wt.Portal=HC;Wt.Profiler=tv;Wt.StrictMode=ev;Wt.Suspense=ov;Wt.isAsyncMode=function(t){return P$(t)||Es(t)===qC};Wt.isConcurrentMode=P$;Wt.isContextConsumer=function(t){return Es(t)===rv};Wt.isContextProvider=function(t){return Es(t)===nv};Wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jC};Wt.isForwardRef=function(t){return Es(t)===sv};Wt.isFragment=function(t){return Es(t)===Jw};Wt.isLazy=function(t){return Es(t)===cv};Wt.isMemo=function(t){return Es(t)===av};Wt.isPortal=function(t){return Es(t)===HC};Wt.isProfiler=function(t){return Es(t)===tv};Wt.isStrictMode=function(t){return Es(t)===ev};Wt.isSuspense=function(t){return Es(t)===ov};Wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jw||t===iv||t===tv||t===ev||t===ov||t===q0e||typeof t=="object"&&t!==null&&(t.$$typeof===cv||t.$$typeof===av||t.$$typeof===nv||t.$$typeof===rv||t.$$typeof===sv||t.$$typeof===W0e||t.$$typeof===K0e||t.$$typeof===G0e||t.$$typeof===V0e)};Wt.typeOf=Es;D$.exports=Wt;var Y0e=D$.exports,VC=Y0e,Z0e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},X0e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Q0e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WC={};WC[VC.ForwardRef]=Q0e;WC[VC.Memo]=$$;function IO(t){return VC.isMemo(t)?$$:WC[t.$$typeof]||Z0e}var J0e=Object.defineProperty,eye=Object.getOwnPropertyNames,RO=Object.getOwnPropertySymbols,tye=Object.getOwnPropertyDescriptor,nye=Object.getPrototypeOf,kO=Object.prototype;function M$(t,e,n){if(typeof e!="string"){if(kO){var r=nye(e);r&&r!==kO&&M$(t,r,n)}var i=eye(e);RO&&(i=i.concat(RO(e)));for(var s=IO(t),o=IO(e),a=0;a<i.length;++a){var c=i[a];if(!X0e[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var u=tye(e,c);try{J0e(t,c,u)}catch{}}}}return t}var rye=M$;const iye=Ks(rye);var UE=1073741823,NO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function sye(){var t="__global_unique_id__";return NO[t]=(NO[t]||0)+1}function oye(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function aye(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function cye(t){return Array.isArray(t)?t[0]:t}function lye(t,e){var n,r,i="__create-react-context-"+sye()+"__",s=function(a){nl(c,a);function c(){for(var h,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return h=a.call.apply(a,[this].concat(g))||this,h.emitter=aye(h.props.value),h}var u=c.prototype;return u.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},u.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var g=this.props.value,m=f.value,_;oye(g,m)?_=0:(_=typeof e=="function"?e(g,m):UE,_|=0,_!==0&&this.emitter.set(f.value,_))}},u.render=function(){return this.props.children},c}(ye.Component);s.childContextTypes=(n={},n[i]=TO.object.isRequired,n);var o=function(a){nl(c,a);function c(){for(var h,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return h=a.call.apply(a,[this].concat(g))||this,h.observedBits=void 0,h.state={value:h.getValue()},h.onUpdate=function(_,x){var T=h.observedBits|0;T&x&&h.setState({value:h.getValue()})},h}var u=c.prototype;return u.componentWillReceiveProps=function(f){var g=f.observedBits;this.observedBits=g??UE},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f??UE},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():t},u.render=function(){return cye(this.props.children)(this.state.value)},c}(ye.Component);return o.contextTypes=(r={},r[i]=TO.object,r),{Provider:s,Consumer:o}}var uye=ye.createContext||lye,U$=function(e){var n=uye();return n.displayName=e,n},dye=U$("Router-History"),hu=U$("Router"),Um=function(t){nl(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return ye.createElement(hu.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ye.createElement(dye.Provider,{children:this.props.children||null,value:this.props.history}))},e}(ye.Component);ye.Component;var hye=function(t){nl(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(ye.Component),LE={},fye=1e4,OO=0;function pye(t){if(LE[t])return LE[t];var e=N$.compile(t);return OO<fye&&(LE[t]=e,OO++),e}function BO(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:pye(t)(e,{pretty:!0})}function gye(t){var e=t.computedMatch,n=t.to,r=t.push,i=r===void 0?!1:r;return ye.createElement(hu.Consumer,null,function(s){s||Ou();var o=s.history,a=s.staticContext,c=i?o.push:o.replace,u=ji(e?typeof n=="string"?BO(n,e.params):Wi({},n,{pathname:BO(n.pathname,e.params)}):n);return a?(c(u),null):ye.createElement(hye,{onMount:function(){c(u)},onUpdate:function(f,g){var m=ji(g.to);f0e(m,Wi({},u,{key:m.key}))||c(u)},to:n})})}var DO={},mye=1e4,PO=0;function yye(t,e){var n=""+e.end+e.strict+e.sensitive,r=DO[n]||(DO[n]={});if(r[t])return r[t];var i=[],s=N$(t,i,e),o={regexp:s,keys:i};return PO<mye&&(r[t]=o,PO++),o}function KC(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,c=n.sensitive,u=c===void 0?!1:c,h=[].concat(r);return h.reduce(function(f,g){if(!g&&g!=="")return null;if(f)return f;var m=yye(g,{end:s,strict:a,sensitive:u}),_=m.regexp,x=m.keys,T=_.exec(t);if(!T)return null;var S=T[0],C=T.slice(1),I=t===S;return s&&!I?null:{path:g,url:g==="/"&&S===""?"/":S,isExact:I,params:x.reduce(function(P,z,W){return P[z.name]=C[W],P},{})}},null)}function bye(t){return ye.Children.count(t)===0}var bl=function(t){nl(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return ye.createElement(hu.Consumer,null,function(s){s||Ou();var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?KC(o.pathname,i.props):s.match,c=Wi({},s,{location:o,match:a}),u=i.props,h=u.children,f=u.component,g=u.render;return Array.isArray(h)&&bye(h)&&(h=null),ye.createElement(hu.Provider,{value:c},c.match?h?typeof h=="function"?h(c):h:f?ye.createElement(f,c):g?g(c):null:typeof h=="function"?h(c):null)})},e}(ye.Component);function GC(t){return t.charAt(0)==="/"?t:"/"+t}function wye(t,e){return t?Wi({},e,{pathname:GC(t)+e.pathname}):e}function vye(t,e){if(!t)return e;var n=GC(t);return e.pathname.indexOf(n)!==0?e:Wi({},e,{pathname:e.pathname.substr(n.length)})}function $O(t){return typeof t=="string"?t:Os(t)}function zE(t){return function(){Ou()}}function MO(){}ye.Component;ye.Component;function Eye(t){var e="withRouter("+(t.displayName||t.name)+")",n=function(i){var s=i.wrappedComponentRef,o=B$(i,["wrappedComponentRef"]);return ye.createElement(hu.Consumer,null,function(a){return a||Ou(),ye.createElement(t,Wi({},o,a,{ref:s}))})};return n.displayName=e,n.WrappedComponent=t,iye(n,t)}var _ye=ye.useContext;function xye(){return _ye(hu).location}class Sye extends ye.PureComponent{render(){return ye.createElement(bl,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const Vg=({pathname:t,componentProps:e})=>{const{exact:n,component:r}=e,i=e.path||e.from,o=KC(t,{exact:n,path:i,component:r});return o||!1};class Aye extends c0e{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,n,r,i){const s={id:Hg("viewItem"),outletId:e,ionPageElement:i,reactElement:n,mount:!0,ionRoute:!1};return n.type===DC&&(s.ionRoute=!0,s.disableIonPageManagement=n.props.disableIonPageManagement),s.routeData={match:Vg({pathname:r.pathname,componentProps:n.props}),childProps:n.props},s}getChildrenToRender(e,n,r){const i=this.getViewItemsForOutlet(e);return ye.Children.forEach(n.props.children,o=>{const a=i.find(c=>UO(o,c.routeData.childProps.path||c.routeData.childProps.from));a&&(a.reactElement=o)}),i.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=ye.createElement(wO,{key:`view-${o.id}`,mount:o.mount,removeView:()=>this.remove(o)},ye.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const c=UO(o.reactElement,r.pathname);a=ye.createElement(wO,{key:`view-${o.id}`,mount:o.mount,removeView:()=>this.remove(o)},ye.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!c&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,n,r){const{viewItem:i,match:s}=this.findViewItemByPath(e.pathname,n);return(r===void 0||r===!0)&&i&&s&&(i.routeData.match=s),i}findLeavingViewItemByRouteInfo(e,n,r=!0){const{viewItem:i}=this.findViewItemByPath(e.lastPathname,n,r);return i}findViewItemByPathname(e,n){const{viewItem:r}=this.findViewItemByPath(e,n);return r}findViewItemByPath(e,n,r){let i,s,o;if(n)o=this.getViewItemsForOutlet(n),o.some(a),i||o.some(c);else{const u=this.getAllViewItems();u.some(a),i||u.some(c)}return{viewItem:i,match:s};function a(u){var h,f;if(r&&!u.ionRoute)return!1;if(s=Vg({pathname:e,componentProps:u.routeData.childProps}),s){const g=s.path.includes(":");if(!g||g&&s.url===((f=(h=u.routeData)===null||h===void 0?void 0:h.match)===null||f===void 0?void 0:f.url))return i=u,!0}return!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(s={path:e,url:e,isExact:!0,params:{}},i=u,!0):!1}}}function UO(t,e){return Vg({pathname:e,componentProps:t.props})}function Cye(t){let e;if(typeof t=="string"?e=t:e=t.outerHTML,document){const n=document.createElement("div");n.innerHTML=e,n.style.zIndex="";const r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}const LO=t=>!t.classList.contains("ion-page-invisible")&&!t.classList.contains("ion-page-hidden");class Tye extends ye.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Hg("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:n}=this.props.routeInfo,{pathname:r}=e.routeInfo;n!==r?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var n,r;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let i=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((n=e.routeOptions)===null||n===void 0)&&n.unmount&&(s.mount=!1):e.routeDirection!=="none"&&i!==s&&(s.mount=!1));const o=Iye((r=this.ionRouterOutlet)===null||r===void 0?void 0:r.props.children,e);if(i?i.reactElement=o:o&&(i=this.context.createViewItem(this.id,o,e),this.context.addViewItem(i)),i&&i.ionPageElement){if(i===s&&i.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),LO(i.ionPageElement)&&s!==void 0&&!LO(s.ionPageElement)))return;this.transitionPage(e,i,s)}else s&&!o&&!i&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,n){const r=this.context.findViewItemByRouteInfo(n,this.id);if(r){const i=r.ionPageElement;if(r.ionPageElement=e,r.ionRoute=!0,i===e)return}this.handlePageTransition(n)}async setupRouterOutlet(e){const n=()=>{const s=NC();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,c=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},u=this.context.findViewItemByRouteInfo(c,this.id,!1);return!!u&&u.mount&&u.routeData.match.path!==a.pathname},r=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),c=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&c&&await this.transitionPage(s,a,c,"back",!0),Promise.resolve()},i=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(a,this.id,!1),u=this.context.findViewItemByRouteInfo(o,this.id,!1);if(c!==u&&c?.ionPageElement!==void 0){const{ionPageElement:h}=c;h.setAttribute("aria-hidden","true"),h.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:n,onStart:r,onEnd:i}}async transitionPage(e,n,r,i,s=!1){const o=async(h,f)=>{const g=this.skipTransition;g?this.skipTransition=!1:(h.classList.add("ion-page"),h.classList.add("ion-page-invisible")),await a.commit(h,f,{duration:g||u===void 0?0:void 0,direction:u,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,c=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,u=i??c;if(n&&n.ionPageElement&&this.routerOutletElement)if(r&&r.ionPageElement&&n===r)if(Rye(r.reactElement,e.pathname,!0)){const f=Cye(r.ionPageElement.outerHTML);f&&(this.routerOutletElement.appendChild(f),await o(n.ionPageElement,f),this.routerOutletElement.removeChild(f))}else await o(n.ionPageElement,void 0);else await o(n.ionPageElement,r?.ionPageElement),r&&r.ionPageElement&&!s&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,n=ye.Children.only(e);this.ionRouterOutlet=n;const r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return ye.createElement(OC.Provider,{value:this.stackContextValue},ye.cloneElement(n,{ref:i=>{n.props.setRef&&n.props.setRef(i),n.props.forwardedRef&&(n.props.forwardedRef.current=i),this.routerOutletElement=i;const{ref:s}=n;typeof s=="function"&&s(i)}},r))}static get contextType(){return w$}}function Iye(t,e){let n;return ye.Children.forEach(t,r=>{Vg({pathname:e.pathname,componentProps:r.props})&&(n=r)}),n||(ye.Children.forEach(t,r=>{r.props.path||r.props.from||(n=r)}),n)}function Rye(t,e,n){return Vg({pathname:e,componentProps:Object.assign(Object.assign({},t.props),{exact:n})})}class kye extends ye.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new o0e,this.viewStack=new Aye,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:Hg("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(e,n,r){if(!n)return;const i=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=n.split("?");i?(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"push",routeDirection:"none"}),i.pathname===s?(this.incomingRouteParams.routeOptions=r,this.props.history.push(i.pathname+(i.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=r,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,r,e)}handleHistoryChange(e,n){var r,i,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const u=this.locationHistory.current();if(u&&u.pushedByRoute){const h=this.locationHistory.findLastLocation(u);this.incomingRouteParams=Object.assign(Object.assign({},h),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((r=e.state)===null||r===void 0?void 0:r.direction)||"forward",routeOptions:(i=e.state)===null||i===void 0?void 0:i.routerOptions,tab:this.currentTab})}let c;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)c=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(c);else{const u=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(c=Object.assign(Object.assign({id:Hg("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),u)c.tab=o.tab,c.pushedByRoute=o.pathname;else if(c.routeAction==="pop"){const h=this.locationHistory.findLastLocation(c);c.pushedByRoute=h?.pushedByRoute}else if(c.routeAction==="push"&&c.tab!==o.tab){const h=this.locationHistory.getCurrentRouteInfoForTab(c.tab);c.pushedByRoute=h?.pushedByRoute}else if(c.routeAction==="replace"){const h=this.locationHistory.current(),f=h?.pushedByRoute,g=f!==void 0&&f!==c.pathname?f:c.pushedByRoute;c.lastPathname=h?.pathname||c.lastPathname,c.prevRouteLastPathname=h?.lastPathname,c.pushedByRoute=g,c.routeDirection=c.routeDirection||h?.routeDirection,c.routeAnimation=c.routeAnimation||h?.routeAnimation}this.locationHistory.add(c)}this.setState({routeInfo:c})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,n,r,i,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:r,routeOptions:s,routeAnimation:i,tab:o}),n==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",n){const r=NC();e=e||r&&r.get("backButtonDefaultHref");const i=this.locationHistory.current();if(i&&i.pushedByRoute){const s=this.locationHistory.findLastLocation(i);if(s){const o=n||i.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:o}),i.lastPathname===i.pushedByRoute||s.pathname===i.pushedByRoute&&i.tab===""&&s.tab===""){const a=this.props.history;(a.goBack||a.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",o)}else this.handleNavigate(e,"pop","back",n)}else this.handleNavigate(e,"pop","back",n)}handleResetTab(e,n,r){const i=this.locationHistory.getFirstRouteInfoForTab(e);if(i){const s=Object.assign({},i);s.pathname=n,s.routeOptions=r,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const n=Object.assign({},this.locationHistory.current());n.tab!==e&&(n.tab=e,this.locationHistory.update(n))}render(){return ye.createElement(w$.Provider,{value:this.routeMangerContextState},ye.createElement(a0e,{ionRoute:Sye,ionRedirect:{},stackManager:Tye,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const lv=Eye(kye);lv.displayName="IonRouter";class Nye extends ye.Component{constructor(e){super(e);const{history:n}=e,r=qg(e,["history"]);this.history=n||b0e(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=qg(e,["children"]);return ye.createElement(Um,Object.assign({history:this.history},r),ye.createElement(lv,{registerHistoryListener:this.registerHistoryListener},n))}}class Hwe extends ye.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=qg(e,["children"]);return ye.createElement(Um,Object.assign({},r),ye.createElement(lv,{registerHistoryListener:this.registerHistoryListener},n))}}class qwe extends ye.Component{constructor(e){super(e);const{history:n}=e,r=qg(e,["history"]);this.history=n||E0e(r),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,n){const r=e.location||e,i=e.action||n;this.historyListenHandler&&this.historyListenHandler(r,i)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:n}=e,r=qg(e,["children"]);return ye.createElement(Um,Object.assign({history:this.history},r),ye.createElement(lv,{registerHistoryListener:this.registerHistoryListener},n))}}const Oye=[{title:"Cashier",url:"/Cashier"},{title:"Slots",url:"/Slots"},{title:"Bingo",url:"/Bingo"},{title:"Craps",url:"/Craps"},{title:"Poker",url:"/Poker"}],Bye=()=>{const t=xye();return be.jsx(Ome,{contentId:"main",type:"overlay",children:be.jsx(Jh,{children:be.jsxs(kme,{id:"inbox-list",children:[be.jsx(Nme,{children:"CashBTN"}),be.jsx(Dme,{children:"Crypto Casino"}),be.jsx("div",{style:{marginBottom:"1rem"},children:be.jsx("appkit-button",{})}),Oye.map((e,n)=>be.jsx(Bme,{autoHide:!1,children:be.jsx(Ume,{className:t.pathname===e.url?"selected":"",routerLink:e.url,routerDirection:"none",lines:"none",detail:!1,children:be.jsx(Rme,{children:e.title})})},n))]})})})},Dye=()=>be.jsxs(Mm,{children:[be.jsx(Dm,{children:be.jsx($m,{children:be.jsx(Pm,{children:"Cashier"})})}),be.jsx(Jh,{fullscreen:!0,children:be.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Crypto Cashier"})})]}),Pye=()=>be.jsxs(Mm,{children:[be.jsx(Dm,{children:be.jsx($m,{children:be.jsx(Pm,{children:"Slots"})})}),be.jsx(Jh,{fullscreen:!0,children:be.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Slots Game Coming Soon!"})})]}),$ye=()=>be.jsxs(Mm,{children:[be.jsx(Dm,{children:be.jsx($m,{children:be.jsx(Pm,{children:"Bingo"})})}),be.jsx(Jh,{fullscreen:!0,children:be.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Bingo Game Coming Soon!"})})]}),Mye=()=>be.jsxs(Mm,{children:[be.jsx(Dm,{children:be.jsx($m,{children:be.jsx(Pm,{children:"Craps"})})}),be.jsx(Jh,{fullscreen:!0,children:be.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Craps Game Coming Soon!"})})]}),Uye=()=>be.jsxs(Mm,{children:[be.jsx(Dm,{children:be.jsx($m,{children:be.jsx(Pm,{children:"Poker"})})}),be.jsx(Jh,{fullscreen:!0,children:be.jsx("h2",{style:{textAlign:"center",marginTop:"2rem"},children:"Poker Game Coming Soon!"})})]});s0e();const Lye=()=>be.jsx(m$,{children:be.jsx(Nye,{children:be.jsxs(Pme,{contentId:"main",children:[be.jsx(Bye,{}),be.jsxs(Wf,{id:"main",children:[be.jsx(bl,{path:"/",exact:!0,children:be.jsx(gye,{to:"/Cashier"})}),be.jsx(bl,{path:"/Cashier",exact:!0,children:be.jsx(Dye,{})}),be.jsx(bl,{path:"/Slots",exact:!0,children:be.jsx(Pye,{})}),be.jsx(bl,{path:"/Bingo",exact:!0,children:be.jsx($ye,{})}),be.jsx(bl,{path:"/Craps",exact:!0,children:be.jsx(Mye,{})}),be.jsx(bl,{path:"/Poker",exact:!0,children:be.jsx(Uye,{})})]})]})})}),zye="1eb834a27c25cc7627a6cf12824e1382",Fye=new uce;Dre({adapters:[Fye],networks:[bg,Ky],projectId:zye,metadata:{name:"CashBTN",description:"Crypto Casino App",url:"https://cashbtn.com",icons:[]}});const jye=document.getElementById("root"),Hye=que.createRoot(jye);Hye.render(be.jsx(ye.StrictMode,{children:be.jsx(Lye,{})}));export{Jbe as $,Ve as A,ct as B,ze as C,Vye as D,tp as E,nt as F,Wye as G,Mf as H,oo as I,cM as J,Kt as K,nwe as L,ir as M,iM as N,we as O,ma as P,F_ as Q,Tt as R,lo as S,$i as T,iy as U,Qf as V,Zr as W,Gbe as X,Ir as Y,Ks as Z,tr as _,oy as a,oD as a0,j_ as a1,yh as a2,kn as a3,vfe as a4,vC as a5,ghe as a6,eh as a7,dwe as a8,Ug as a9,ywe as aa,kh as ab,Jc as ac,bwe as ad,Ofe as ae,lwe as af,uwe as ag,nS as ah,gr as ai,wC as aj,QN as ak,wwe as al,Hc as am,hwe as an,SF as ao,Ibe as ap,G2 as aq,W3 as ar,pF as as,AF as at,Rbe as au,Tbe as av,Zb as aw,Obe as ax,kbe as ay,kr as b,Te as c,rt as d,Z as e,mn as f,Ra as g,twe as h,Fd as i,ls as j,st as k,pn as l,ire as m,Po as n,sre as o,Pe as p,ao as q,ewe as r,Ut as s,VO as t,wn as u,sR as v,Gs as w,Kbe as x,gi as y,fi as z};
